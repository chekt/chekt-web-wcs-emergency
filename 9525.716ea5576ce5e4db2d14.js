(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[9525],{5808:(u,v,g)=>{var r=g(35379);u.exports=r.Symbol},88951:(u,v,g)=>{var r=g(5808),_=g(77412),e=g(58266),l=r?r.toStringTag:void 0;u.exports=function(k){return null==k?void 0===k?"[object Undefined]":"[object Null]":l&&l in Object(k)?_(k):e(k)}},74222:(u,v,g)=>{var r=g(44505),_=/^\s+/;u.exports=function(C){return C&&C.slice(0,r(C)+1).replace(_,"")}},2576:u=>{var v="object"==typeof global&&global&&global.Object===Object&&global;u.exports=v},77412:(u,v,g)=>{var r=g(5808),_=Object.prototype,e=_.hasOwnProperty,C=_.toString,x=r?r.toStringTag:void 0;u.exports=function(h){var k=e.call(h,x),y=h[x];try{h[x]=void 0;var s=!0}catch(f){}var b=C.call(h);return s&&(k?h[x]=y:delete h[x]),b}},58266:u=>{var g=Object.prototype.toString;u.exports=function(_){return g.call(_)}},35379:(u,v,g)=>{var r=g(2576),_="object"==typeof self&&self&&self.Object===Object&&self,e=r||_||Function("return this")();u.exports=e},44505:u=>{var v=/\s/;u.exports=function(r){for(var _=r.length;_--&&v.test(r.charAt(_)););return _}},90304:(u,v,g)=>{var r=g(52166),_=g(57450),e=g(2742),x=Math.max,l=Math.min;u.exports=function(k,y,s){var b,f,I,d,m,P,E=0,D=!1,U=!1,Q=!0;if("function"!=typeof k)throw new TypeError("Expected a function");function B(O){var S=b,N=f;return b=f=void 0,E=O,d=k.apply(N,S)}function R(O){return E=O,m=setTimeout(J,y),D?B(O):d}function Y(O){var S=O-P;return void 0===P||S>=y||S<0||U&&O-E>=I}function J(){var O=_();if(Y(O))return V(O);m=setTimeout(J,function(O){var j=y-(O-P);return U?l(j,I-(O-E)):j}(O))}function V(O){return m=void 0,Q&&b?B(O):(b=f=void 0,d)}function z(){var O=_(),S=Y(O);if(b=arguments,f=this,P=O,S){if(void 0===m)return R(P);if(U)return clearTimeout(m),m=setTimeout(J,y),B(P)}return void 0===m&&(m=setTimeout(J,y)),d}return y=e(y)||0,r(s)&&(D=!!s.leading,I=(U="maxWait"in s)?x(e(s.maxWait)||0,y):I,Q="trailing"in s?!!s.trailing:Q),z.cancel=function(){void 0!==m&&clearTimeout(m),E=0,b=P=f=m=void 0},z.flush=function(){return void 0===m?d:V(_())},z}},52166:u=>{u.exports=function(g){var r=typeof g;return null!=g&&("object"==r||"function"==r)}},85727:u=>{u.exports=function(g){return null!=g&&"object"==typeof g}},37430:(u,v,g)=>{var r=g(88951),_=g(85727);u.exports=function(x){return"symbol"==typeof x||_(x)&&"[object Symbol]"==r(x)}},57450:(u,v,g)=>{var r=g(35379);u.exports=function(){return r.Date.now()}},2742:(u,v,g)=>{var r=g(74222),_=g(52166),e=g(37430),x=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,k=parseInt;u.exports=function(s){if("number"==typeof s)return s;if(e(s))return NaN;if(_(s)){var b="function"==typeof s.valueOf?s.valueOf():s;s=_(b)?b+"":b}if("string"!=typeof s)return 0===s?s:+s;s=r(s);var f=l.test(s);return f||h.test(s)?k(s.slice(2),f?2:8):x.test(s)?NaN:+s}},64009:(u,v,g)=>{"use strict";g.d(v,{A:()=>Jt});var r=g(61855),_=g(59053),e=g(42741),C=g(54414),x=g(50692),l=g(16274),h=g(56880),k=g(7611),y=g(16253),s=g(93220),b=g(35460);function f(t,a){1&t&&(e.TgZ(0,"div",4),e.TgZ(1,"div",18),e._uU(2,"Alarm Video"),e.qZA(),e.qZA())}function I(t,a){1&t&&(e.TgZ(0,"div",4),e.TgZ(1,"div",19),e._uU(2,"Automation Event"),e.qZA(),e.qZA())}function d(t,a){1&t&&(e.TgZ(0,"div",20),e._uU(1,"Video AI"),e.qZA())}function m(t,a){1&t&&(e.TgZ(0,"div",21),e._uU(1,"Verification"),e.qZA())}function P(t,a){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Entry Event"),e.qZA())}function E(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",23),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function D(t,a){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function U(t,a){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("(",n.parseVideoAIResult(n.log.meta),")")}}function Q(t,a){if(1&t&&(e.TgZ(0,"div",25),e.TgZ(1,"div"),e._uU(2,"AI Result"),e.qZA(),e.TgZ(3,"div",26),e.TgZ(4,"span",27),e._uU(5),e.qZA(),e.YNc(6,U,2,1,"span",15),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(5),e.hij("- ",n.log.videoAIResult," "),e.xp6(1),e.Q6J("ngIf","True"===n.log.videoAIResult||"False"===n.log.videoAIResult)}}function B(t,a){if(1&t&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("- ",n.log.email,"")}}function R(t,a){if(1&t&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("- ",n.IPuserName," (",n.log.ip,")")}}function H(t,a){if(1&t&&(e.TgZ(0,"div",28),e.TgZ(1,"div",29),e._uU(2,"Viewed "),e.qZA(),e.YNc(3,B,2,1,"div",30),e.YNc(4,R,2,2,"div",30),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",!n.IPuserName),e.xp6(1),e.Q6J("ngIf",n.IPuserName)}}function Y(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function J(t,a){1&t&&(e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"circle",35),e.qZA(),e.qZA(),e.qZA())}function V(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function $(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function G(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function z(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function O(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function S(t,a){1&t&&(e.TgZ(0,"div",45),e.TgZ(1,"i",46),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function N(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",47),e.TgZ(1,"img",42),e.NdJ("load",function(){return e.CHM(n),e.oxw(3).imgLoaded()})("error",function(i){return e.CHM(n),e.oxw(3).imgError(i)}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH)}}function j(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)})("mouseenter",function(i){return e.CHM(n),e.oxw(2).mouseOverImage(i)})("mouseleave",function(i){return e.CHM(n),e.oxw(2).mouseLeaveImage(i)}),e.TgZ(1,"img",42),e.NdJ("load",function(){return e.CHM(n),e.oxw(2).imgLoaded()})("error",function(i){return e.CHM(n),e.oxw(2).imgError(i)}),e.qZA(),e.YNc(2,S,3,0,"div",43),e.YNc(3,N,2,1,"div",44),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function ne(t,a){1&t&&e._UZ(0,"div",48)}function te(t,a){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,V,2,1,"div",37),e.YNc(2,$,2,1,"div",37),e.YNc(3,G,2,1,"div",37),e.YNc(4,z,2,1,"div",37),e.YNc(5,O,2,1,"div",37),e.YNc(6,j,4,4,"div",38),e.YNc(7,ne,1,0,"div",39),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function oe(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ie(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ae(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function re(t,a){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ce(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)}),e._UZ(1,"video",51),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function ge(t,a){1&t&&e._UZ(0,"div",48)}function le(t,a){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,oe,2,1,"div",37),e.YNc(2,ie,2,1,"div",37),e.YNc(3,ae,2,1,"div",37),e.YNc(4,re,2,1,"div",37),e.YNc(5,ce,2,2,"div",49),e.YNc(6,ge,1,0,"div",39),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}function se(t,a){if(1&t&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass",n.computedActionName(n.log.action)+"-background"),e.xp6(1),e.Oqu(n.capitalizeFirstLetter(n.log.action))}}function pe(t,a){if(1&t&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.capitalizeFirstLetter(n.log.action))}}function _e(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Automation Action"),e.qZA())}function me(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",17),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function ue(t,a){if(1&t&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function xe(t,a){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij("(Partition: ",n.log.partitionNumber,")")}}function fe(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.AsE("",n.log.trigger," - ",n.log.status_text,"")}}function ve(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.AsE("",n.log.email," - ",n.log.status_text,"")}}function he(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}const be=["audioControl"],Pe=["audioProgressBar"];function Oe(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Automation Action"),e.qZA())}function Me(t,a){1&t&&(e.TgZ(0,"div",17),e._uU(1,"Manual Audio Event"),e.qZA())}function ye(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",18),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function ke(t,a){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function we(t,a){1&t&&(e.TgZ(0,"div",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"circle",22),e.qZA(),e.qZA())}function Te(t,a){1&t&&(e.ynx(0),e._UZ(1,"div",23,24),e.TgZ(3,"div",25),e.TgZ(4,"i",26),e._uU(5,"mic"),e.qZA(),e.qZA(),e.BQk())}function Ae(t,a){1&t&&(e.TgZ(0,"div",11),e._uU(1,"Automation Action"),e.qZA())}function Ie(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",12),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function Fe(t,a){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function Ee(t,a){if(1&t&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.AsE("",n.log.trigger," - ",n.log.status_text,"")}}function Se(t,a){if(1&t&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&t){const n=e.oxw();let o;e.xp6(1),e.Oqu(null!==(o=n.procedureName)&&void 0!==o?o:" No Procedure Name")}}function qe(t,a){if(1&t&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function Ne(t,a){1&t&&(e.TgZ(0,"div",17),e._uU(1,"Automation Action"),e.qZA())}function Je(t,a){1&t&&(e.TgZ(0,"div",18),e._uU(1,"Verification"),e.qZA())}function Qe(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",19),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function Be(t,a){if(1&t&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function ze(t,a){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("- ",n.log.email,"")}}function Le(t,a){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("- ",n.IPuserName," (",n.log.ip,")")}}function De(t,a){if(1&t&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Viewed "),e.qZA(),e.YNc(3,ze,2,1,"div",23),e.YNc(4,Le,2,2,"div",23),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",!n.IPuserName),e.xp6(1),e.Q6J("ngIf",n.IPuserName)}}function Ye(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function Ve(t,a){1&t&&(e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.O4$(),e.TgZ(2,"svg",27),e._UZ(3,"circle",28),e.qZA(),e.qZA(),e.qZA())}function je(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Re(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function He(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function $e(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Ge(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function We(t,a){1&t&&(e.TgZ(0,"div",38),e.TgZ(1,"i",39),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function Xe(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",40),e.TgZ(1,"img",41),e.NdJ("load",function(){return e.CHM(n),e.oxw(3).imgLoaded()})("error",function(i){return e.CHM(n),e.oxw(3).imgError(i)}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH)}}function Ke(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",34),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)})("mouseenter",function(i){return e.CHM(n),e.oxw(2).mouseOverImage(i)})("mouseleave",function(i){return e.CHM(n),e.oxw(2).mouseLeaveImage(i)}),e.TgZ(1,"img",35),e.NdJ("error",function(){return e.CHM(n),e.oxw(2).isBrokenImage=!0}),e.qZA(),e.YNc(2,We,3,0,"div",36),e.YNc(3,Xe,2,1,"div",37),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function en(t,a){1&t&&e._UZ(0,"div",42)}function nn(t,a){if(1&t&&(e.TgZ(0,"div",29),e.YNc(1,je,2,1,"div",30),e.YNc(2,Re,2,1,"div",30),e.YNc(3,He,2,1,"div",30),e.YNc(4,$e,2,1,"div",30),e.YNc(5,Ge,2,1,"div",30),e.YNc(6,Ke,4,4,"div",31),e.YNc(7,en,1,0,"div",32),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function tn(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function on(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function an(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function rn(t,a){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function cn(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)}),e._UZ(1,"video",45),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function gn(t,a){1&t&&e._UZ(0,"div",42)}function ln(t,a){if(1&t&&(e.TgZ(0,"div",29),e.YNc(1,tn,2,1,"div",30),e.YNc(2,on,2,1,"div",30),e.YNc(3,an,2,1,"div",30),e.YNc(4,rn,2,1,"div",30),e.YNc(5,cn,2,2,"div",43),e.YNc(6,gn,1,0,"div",32),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}function sn(t,a){1&t&&(e.TgZ(0,"div",11),e._uU(1,"Automation Action"),e.qZA())}function pn(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",12),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function _n(t,a){if(1&t&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function un(t,a){1&t&&(e.TgZ(0,"div",15),e._uU(1,"Automation Event"),e.qZA())}function xn(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",16),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function fn(t,a){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function vn(t,a){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("- ",n.log.email,"")}}function hn(t,a){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("- ",n.IPuserName," (",n.log.ip,")")}}function Cn(t,a){if(1&t&&(e.TgZ(0,"div",18),e.TgZ(1,"div",19),e._uU(2,"Viewed "),e.qZA(),e.YNc(3,vn,2,1,"div",20),e.YNc(4,hn,2,2,"div",20),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",!n.IPuserName),e.xp6(1),e.Q6J("ngIf",n.IPuserName)}}function bn(t,a){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function Pn(t,a){1&t&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.O4$(),e.TgZ(2,"svg",24),e._UZ(3,"circle",25),e.qZA(),e.qZA(),e.qZA())}function On(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Mn(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function yn(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function kn(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function wn(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Tn(t,a){1&t&&(e.TgZ(0,"div",35),e.TgZ(1,"i",36),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function Zn(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",37),e.TgZ(1,"img",32),e.NdJ("load",function(){return e.CHM(n),e.oxw(3).imgLoaded()})("error",function(i){return e.CHM(n),e.oxw(3).imgError(i)}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH)}}function An(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)})("mouseenter",function(i){return e.CHM(n),e.oxw(2).mouseOverImage(i)})("mouseleave",function(i){return e.CHM(n),e.oxw(2).mouseLeaveImage(i)}),e.TgZ(1,"img",32),e.NdJ("load",function(){return e.CHM(n),e.oxw(2).imgLoaded()})("error",function(i){return e.CHM(n),e.oxw(2).imgError(i)}),e.qZA(),e.YNc(2,Tn,3,0,"div",33),e.YNc(3,Zn,2,1,"div",34),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function In(t,a){1&t&&e._UZ(0,"div",38)}function Fn(t,a){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,On,2,1,"div",27),e.YNc(2,Mn,2,1,"div",27),e.YNc(3,yn,2,1,"div",27),e.YNc(4,kn,2,1,"div",27),e.YNc(5,wn,2,1,"div",27),e.YNc(6,An,4,4,"div",28),e.YNc(7,In,1,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function En(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Sn(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function qn(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Un(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Nn(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",40),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)}),e._UZ(1,"video",41),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function Jn(t,a){1&t&&e._UZ(0,"div",38)}function Qn(t,a){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,En,2,1,"div",27),e.YNc(2,Sn,2,1,"div",27),e.YNc(3,qn,2,1,"div",27),e.YNc(4,Un,2,1,"div",27),e.YNc(5,Nn,2,2,"div",39),e.YNc(6,Jn,1,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}function zn(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",11),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n)}}function Ln(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"No Permission"),e.qZA())}function Dn(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA())}function Yn(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"This video is expired"),e.qZA())}function Vn(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"This camera is in privacy mode"),e.qZA())}function jn(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Broken Image"),e.qZA())}function Rn(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Broken Video"),e.qZA())}function Hn(t,a){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"img",17),e.NdJ("error",function(){return e.CHM(n),e.oxw(2).isBrokenImage=!0}),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH)}}function $n(t,a){1&t&&(e.TgZ(0,"div",18),e.TgZ(1,"i",19),e._uU(2,"verified_user"),e.qZA(),e.qZA())}function Gn(t,a){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,Ln,2,0,"div",13),e.YNc(2,Dn,2,0,"div",13),e.YNc(3,Yn,2,0,"div",13),e.YNc(4,Vn,2,0,"div",13),e.YNc(5,jn,2,0,"div",13),e.YNc(6,Rn,2,0,"div",13),e.YNc(7,Hn,2,1,"ng-container",14),e.YNc(8,$n,3,0,"div",15),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function Xn(t,a){1&t&&(e.TgZ(0,"div",15),e._uU(1,"Video AI"),e.qZA())}function Kn(t,a){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Entry Event"),e.qZA())}function et(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",17),e._uU(2),e.qZA(),e.BQk()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(n.code)}}function nt(t,a){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("(",n.parseVideoAIResult(n.log.meta),")")}}function tt(t,a){if(1&t&&(e.TgZ(0,"div",18),e.TgZ(1,"div"),e._uU(2,"AI Result"),e.qZA(),e.TgZ(3,"div",19),e.TgZ(4,"span",20),e._uU(5),e.qZA(),e.YNc(6,nt,2,1,"span",21),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(5),e.hij("- ",n.log.videoAIResult," "),e.xp6(1),e.Q6J("ngIf","True"===n.log.videoAIResult||"False"===n.log.videoAIResult)}}function ot(t,a){1&t&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.O4$(),e.TgZ(2,"svg",24),e._UZ(3,"circle",25),e.qZA(),e.qZA(),e.qZA())}function it(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function at(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function rt(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ct(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function gt(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function lt(t,a){1&t&&(e.TgZ(0,"div",35),e.TgZ(1,"i",36),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function dt(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",37),e.TgZ(1,"img",38),e.NdJ("load",function(){return e.CHM(n),e.oxw(3).imgLoaded()})("error",function(i){return e.CHM(n),e.oxw(3).imgError(i)}),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH)}}function st(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)})("mouseenter",function(i){return e.CHM(n),e.oxw(2).mouseOverImage(i)})("mouseleave",function(i){return e.CHM(n),e.oxw(2).mouseLeaveImage(i)}),e.TgZ(1,"img",32),e.NdJ("error",function(){return e.CHM(n),e.oxw(2).isBrokenImage=!0}),e.qZA(),e.YNc(2,lt,3,0,"div",33),e.YNc(3,dt,2,1,"div",34),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function pt(t,a){1&t&&e._UZ(0,"div",39)}function _t(t,a){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,it,2,1,"div",27),e.YNc(2,at,2,1,"div",27),e.YNc(3,rt,2,1,"div",27),e.YNc(4,ct,2,1,"div",27),e.YNc(5,gt,2,1,"div",27),e.YNc(6,st,4,4,"div",28),e.YNc(7,pt,1,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function mt(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ut(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function xt(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ft(t,a){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function vt(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(i){return e.CHM(n),e.oxw(2).toggleToVideo(i)}),e._UZ(1,"video",42),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function ht(t,a){1&t&&e._UZ(0,"div",39)}function Ct(t,a){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,mt,2,1,"div",27),e.YNc(2,ut,2,1,"div",27),e.YNc(3,xt,2,1,"div",27),e.YNc(4,ft,2,1,"div",27),e.YNc(5,vt,2,2,"div",40),e.YNc(6,ht,1,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}const ee={"video event":(()=>{class t{constructor(n,o,i,c,p,M,F){this.commonService=n,this.usersService=o,this.eventViewerService=i,this.eventsService=c,this.sanitizer=p,this.helper=M,this.cdr=F,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isLoadingVideo=!1,this.isShowVideo=!1,this.isShowPlayBtn=!1,this.IPuserName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){this.watch(),this.log.email&&this.log.ip&&(yield this.getIPUserName())})}ngOnDestroy(){this.unwatch()}getIPUserName(){var n,o;return(0,r.mG)(this,void 0,void 0,function*(){try{if(!this.log.email||!this.log.user_id||this.log.email!=this.log.ip)return;const i=yield this.helper.me.get_my_dealer_id(),c=this.log.user_id,p=yield this.usersService.getIpMember(i,c).toPromise();this.IPuserName=null!==(o=null===(n=p[0])||void 0===n?void 0:n.name)&&void 0!==o?o:"No Name"}catch(i){console.debug("getIPUserName:>",i)}})}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"alarm-video"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"alarm-video"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}imgLoaded(){window.URL.revokeObjectURL(this.log.imageUrl)}imgError(n){console.log("image error",n),this.isBrokenImage=!0,window.URL.revokeObjectURL(this.log.imageUrl)}getMP4Video(n,o){return(0,r.mG)(this,void 0,void 0,function*(){let i=window.URL;try{const c=yield this.eventsService.getSnapshotFromUrl(o).toPromise();n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(i.createObjectURL(c)),n.isLoading=!1,this.cdr.detectChanges()}catch(c){n.isLoading=!1}})}isAutomationRule(){return this.log.description.toLowerCase().includes("automation")||this.log.isAutomation}isVideoAI(){return!!this.log.trigger.toLowerCase().includes("videoai")}isShowEntryEventBadge(){var n,o;if(!this.isVideoAI())return!1;let i=null;try{i=null===(n=JSON.parse(this.log.meta))||void 0===n?void 0:n.req}catch(c){i={body:null}}return"entry-event"===(null===(o=i.body)||void 0===o?void 0:o.alarm_type)}parseVideoAIResult(n){var o,i,c;if(!n||"string"!=typeof n)return"Failed";const p=JSON.parse(n),M=null===(o=null==p?void 0:p.req)||void 0===o?void 0:o.body,F=null==M?void 0:M.summary_entity_ids;if(!F)return"Failed";let q="";const Z=JSON.parse(F),L=Object.values(Z);let w="",T="";const X=L.every(A=>null==A?void 0:A.includes("person")),K=L.every(A=>null==A?void 0:A.includes("vehicle"));return(null===(i=Z.static)||void 0===i?void 0:i.length)&&(Z.static.includes("person")&&(w="Stationary Person"),Z.static.includes("vehicle")&&(T="Stationary Vehicle")),(null===(c=Z.motion)||void 0===c?void 0:c.length)&&(Z.motion.includes("person")&&(w="Moving Person"),Z.motion.includes("vehicle")&&(T="Moving Vehicle")),X&&(w="Person"),K&&(T="Vehicle"),w&&T?q=`${w}, ${T}`:w||T?q=`${w||T}`:!w&&!T&&(q="Nothing Detected"),q}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v),e.Y36(k.f),e.Y36(x.w),e.Y36(y.n),e.Y36(s.H7),e.Y36(b.W),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_alarm_video"]],inputs:{log:"log"},decls:23,vars:17,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],["class","log-metadata-category",4,"ngIf"],[1,"log-metadata-category"],["class","badge video-ai-background",4,"ngIf"],["class","badge verification-background",4,"ngIf"],["class","badge entry-event",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center",4,"ngIf"],["class","flex v-center","style","justify-content: end;",4,"ngIf"],[4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","alarm-video-background"],[1,"badge","automation-background"],[1,"badge","video-ai-background"],[1,"badge","verification-background"],[1,"badge","entry-event"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"flex","v-center"],[2,"margin-left","4px"],[2,"font-weight","600"],[1,"flex","v-center",2,"justify-content","end"],[1,"badge","operator-viewed-background"],["style","margin-left: 8px",4,"ngIf"],[2,"margin-left","8px"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","load","error"],["class","play-btn",4,"ngIf"],["class","hover-img",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","32px"],[1,"hover-img"],[1,"v-center"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.YNc(5,f,3,0,"div",3),e.YNc(6,I,3,0,"div",3),e.qZA(),e.TgZ(7,"div",4),e.YNc(8,d,2,0,"div",5),e.YNc(9,m,2,0,"div",6),e.YNc(10,P,2,0,"div",7),e.YNc(11,E,3,1,"ng-container",8),e.TgZ(12,"div",9),e.YNc(13,D,2,1,"div",10),e.TgZ(14,"div",11),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",12),e.YNc(17,Q,7,2,"div",13),e.YNc(18,H,5,2,"div",14),e.YNc(19,Y,2,1,"div",15),e.qZA(),e.qZA(),e.YNc(20,J,4,0,"div",16),e.YNc(21,te,8,7,"div",17),e.YNc(22,le,7,6,"div",17),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(1),e.Q6J("ngIf",!o.isAutomationRule()),e.xp6(1),e.Q6J("ngIf",o.isAutomationRule()),e.xp6(2),e.Q6J("ngIf",o.isVideoAI()),e.xp6(1),e.Q6J("ngIf",o.log.isHasVerification),e.xp6(1),e.Q6J("ngIf",o.isShowEntryEventBadge()),e.xp6(1),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(2),e.Q6J("ngIf",o.isVideoAI()),e.xp6(1),e.Q6J("ngIf",o.log.email),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[l.O5,l.sg,l.RF,l.n9,l.ED,l.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),arming:(()=>{class t{constructor(n){this.commonService=n,this.logIcon={type:"",name:""}}ngOnInit(){this.checkLogType()}ngOnDestroy(){}computedActionName(n){return n.split(" ")[0].toLowerCase()}armingIconColor(n){const i=n.split(" ")[0].toLocaleLowerCase();return"armed"===i||"armed away"===i||"armed stay"===i||i.includes("armed stay")?"#FF7F16":"#1EA675"}capitalizeFirstLetter(n){if(n&&"string"==typeof n)return n.charAt(0).toUpperCase()+n.slice(1)}isAutomationRule(n){return n.description.toLowerCase().includes("automation")}checkLogType(){this.checkArmingStatus()||this.checkArmingDelay()||(this.logIcon={type:"material",name:"settings"})}checkArmingStatus(){const n=this.log.status_text.toLowerCase();return!("armed"!==n&&"disarmed"!==n&&"armed away"!==n&&"armed stay"!==n&&!n.includes("armed stay"))}checkArmingDelay(){const n=this.log.status_text.toLocaleLowerCase();return(n.includes("end")||!!n.includes("start"))&&(this.logIcon={type:"material",name:"sync_lock"},!0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_arming"]],inputs:{log:"log",timezone:"timezone"},decls:22,vars:13,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],["class","badge",3,"ngClass",4,"ngIf"],["class","badge default-background",4,"ngIf"],["class","badge automation","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name","v-center"],["style","font-size: 12px;margin-left: 4px;",4,"ngIf"],[1,"log-metadata-other"],[4,"ngIf"],[1,"badge",3,"ngClass"],[1,"badge","default-background"],[1,"badge","automation",2,"margin-left","4px"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[2,"font-size","12px","margin-left","4px"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,se,2,2,"div",4),e.YNc(7,pe,2,1,"div",5),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,_e,2,0,"div",6),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,me,3,1,"ng-container",7),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,ue,2,1,"div",9),e.TgZ(14,"div",10),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.YNc(17,xe,2,1,"div",11),e.qZA(),e.qZA(),e.TgZ(18,"div",12),e.YNc(19,fe,2,2,"ng-container",13),e.YNc(20,ve,2,2,"ng-container",13),e.YNc(21,he,2,1,"div",13),e.qZA(),e.qZA(),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(2),e.Q6J("ngIf",o.checkArmingStatus()),e.xp6(1),e.Q6J("ngIf",!o.checkArmingStatus()),e.xp6(2),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(2),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(1),e.Q6J("ngIf",o.log.partitionNumber),e.xp6(2),e.Q6J("ngIf",!o.log.email),e.xp6(1),e.Q6J("ngIf",o.log.email),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription)}},directives:[l.O5,l.sg,l.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),audio:(()=>{class t{constructor(n,o,i){this.commonService=n,this.sitesService=o,this.helper=i,this.TTS={},this.isAudioPlay=!1,this.isAudioLoading=!1}ngOnInit(){this.site=this.sitesService.selSite,this.TTS.signedUrl=null,this.log.signedUrl=null}formatAudioLabel(){var n,o,i,c;const p=null===(c=null===(i=null===(o=null===(n=this.log)||void 0===n?void 0:n.req)||void 0===o?void 0:o.body)||void 0===i?void 0:i.event_source)||void 0===c?void 0:c.source_key;return p&&"string"==typeof p?`(Audio ${parseInt(p,10)+1})`:null}getTtsUrl(){return(0,r.mG)(this,void 0,void 0,function*(){this.log.isAudioLog=!0;try{const n=this.site.site_id,o=this.log.id,i=yield this.helper.activity_log.load_site_tts_url(n,o);this.TTS.signedUrl=i.pre_signed_url,this.log.signedUrl=i.pre_signed_url}catch(n){console.debug("getTtsUrl :>",n)}})}toggleAudioPlay(n){return(0,r.mG)(this,void 0,void 0,function*(){n.stopPropagation(),this.isAudioLoading=!0,this.log.signedUrl||(yield this.getTtsUrl()),this.TTS.isAudioLoad?this.stopAudio():this.playAudio()})}initAudioPlay(){this.TTS.isAudioLoad=!1,this.isAudioPlay=!1}playAudio(){this.initAudioPlay(),this.TTS.isAudioLoad=!0,this.isAudioPlay=!0,this.audioControl.nativeElement.src=this.TTS.signedUrl,this.isAudioLoading=!1,this.audioControl.nativeElement.play()}stopAudio(){console.debug("stop audio"),this.isAudioLoading=!1,this.audioControl&&this.audioControl.nativeElement.pause(),this.TTS.isAudioLoad=!1,this.isAudioPlay=!1,this.audioProgressBar.nativeElement.style.transform="scaleX(0)"}loadMetadata(){console.log(`Audio duration: ${this.audioControl.nativeElement.duration} seconds`)}updateProgress(){this.audioProgressBar.nativeElement.style.transform=`scaleX(${this.audioControl.nativeElement.currentTime/this.audioControl.nativeElement.duration})`}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v),e.Y36(C.f),e.Y36(b.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_audio"]],viewQuery:function(n,o){if(1&n&&(e.Gf(be,5),e.Gf(Pe,5)),2&n){let i;e.iGM(i=e.CRH())&&(o.audioControl=i.first),e.iGM(i=e.CRH())&&(o.audioProgressBar=i.first)}},inputs:{log:"log",timezone:"timezone"},decls:22,vars:11,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],["class","badge automation-background",4,"ngIf"],["class","badge audio-background",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-name"],["class","log-metadata-other",4,"ngIf"],[1,"event-log-action-box"],[1,"audio-action-box","audio-background",3,"click"],[3,"ended","loadedmetadata","timeupdate"],["audioControl",""],["class","loader absolute log-loader",4,"ngIf"],[4,"ngIf"],[1,"badge","automation-background"],[1,"badge","audio-background"],[1,"badge","xml-code"],[1,"log-metadata-other"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"audio-action-duration-box"],["audioProgressBar",""],[1,"v-center",2,"justify-content","center","height","100%"],[1,"material-icons","audio-icons",2,"color","#C34A36","font-size","24px"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,Oe,2,0,"div",4),e.YNc(7,Me,2,0,"div",5),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,ye,3,1,"ng-container",6),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e._uU(12),e.qZA(),e.TgZ(13,"div",8),e._uU(14),e.qZA(),e.qZA(),e.YNc(15,ke,2,1,"div",9),e.qZA(),e.TgZ(16,"div",10),e.TgZ(17,"div",11),e.NdJ("click",function(c){return o.toggleAudioPlay(c)}),e.TgZ(18,"audio",12,13),e.NdJ("ended",function(){return o.stopAudio()})("loadedmetadata",function(){return o.loadMetadata()})("timeupdate",function(){return o.updateProgress()}),e.qZA(),e.YNc(20,we,3,0,"div",14),e.YNc(21,Te,6,0,"ng-container",15),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(2),e.Q6J("ngIf",null==o.log?null:o.log.isAutomation),e.xp6(1),e.Q6J("ngIf",!(null!=o.log&&o.log.isAutomation)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(2),e.Oqu(o.formatAudioLabel()),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(5),e.Q6J("ngIf",o.isAudioLoading),e.xp6(1),e.Q6J("ngIf",!o.isAudioLoading)}},directives:[l.O5,l.sg],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),default:(()=>{class t{constructor(n,o){this.commonService=n,this.eventViewerService=o,this.snapshotPermission=!1,this.logIcon={type:"",name:""},this.isBrokenImage=!1,this.procedureName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){this.setIconName(),this.setProcedureName(),this.watch()}ngOnDestroy(){this.unwatch()}capitalizeFirstLetters(n){return n?n.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):""}isAutomationRule(){return this.log.description.toLowerCase().includes("automation")||this.log.isAutomation}computedIconColor(n){return(null==n?void 0:n.isAutomation)?"#FFA07A":"#8B8B8B"}computedIconSize(){return"metabolism"===this.logIcon.name||"http"===this.logIcon.name?"40":"30"}setIconName(){this.setSensorIcon(),this.logIcon.name||this.setBridgeIcon(),this.logIcon.name||this.setOtherCategory()}setOtherCategory(){switch(this.log.category.toLowerCase()){case"alarm":return this.logIcon={type:"material",name:"notifications_active"};case"guard tour":return this.logIcon={type:"comp",name:"metabolism"};case"live video":return this.logIcon={type:"material",name:"smart_display"};case"monitoring portal":return this.logIcon={type:"material",name:"live_tv"};case"boot":return this.logIcon={type:"material",name:"power_settings_new"};case"privacy mode access":return this.logIcon={type:"material",name:"passkey"};case"share download link":return this.logIcon={type:"material",name:"download"};case"share response link":return this.logIcon={type:"material",name:"reply"};case"site procedure action":return this.logIcon={type:"material",name:"interests"};case"site procedure http request":return this.logIcon={type:"material",name:"http"};case"trouble":return this.logIcon={type:"material",name:"warning"};default:return this.logIcon={type:"",name:""}}}setSensorIcon(){const n=this.log.category.toLowerCase(),o=this.log.trigger.toLowerCase();return"sensor"!=n?{type:"",name:""}:o.includes("di")?this.logIcon={type:"material",name:"settings_input_component"}:o.includes("oe")?this.logIcon={type:"material",name:"psychology"}:o.includes("le")||o.includes("local")?this.logIcon={type:"comp",name:"bridge"}:o.includes("camera")?this.logIcon={type:"comp",name:"bypass"}:void 0}setBridgeIcon(){const n=this.log.category.toLowerCase(),o=this.log.description.toLowerCase();return"bridge"!=n?{type:"",name:""}:this.logIcon=o.includes("automation")?{type:"comp",name:"autopay"}:{type:"comp",name:"bridge"}}setProcedureName(){var n;if("procedure"!=this.log.trigger.toLowerCase())return;const o=JSON.parse(this.log.meta),i=null==o?void 0:o.additionalInfo;this.procedureName=i?null==i?void 0:i.procedure_name:null===(n=null==o?void 0:o.info)||void 0===n?void 0:n.procedure_name}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v),e.Y36(x.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_default_template"]],inputs:{log:"log"},decls:19,vars:11,consts:[[1,"log-metadata"],[1,"log-metadata-time"],[1,"v-center"],[1,"log-metadata-category"],["class","badge automation-background","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],["class","log-metadata-other",4,"ngIf"],["class","event-log-metadata-other",4,"ngIf"],[1,"badge","automation-background",2,"margin-left","4px"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"log-metadata-other"],[1,"event-log-metadata-other"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,Ae,2,0,"div",4),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,Ie,3,1,"ng-container",5),e.qZA(),e.TgZ(12,"div",6),e.YNc(13,Fe,2,1,"div",7),e.TgZ(14,"div",8),e._uU(15),e.qZA(),e.qZA(),e.YNc(16,Ee,2,2,"div",9),e.YNc(17,Se,2,1,"div",10),e.YNc(18,qe,2,1,"div",10),e.qZA(),e.BQk()),2&n){let i;e.xp6(3),e.Oqu(o.log.eventCreated),e.xp6(4),e.Oqu(o.capitalizeFirstLetters(o.log.category)),e.xp6(2),e.Q6J("ngIf",o.isAutomationRule()),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(1),e.Q6J("ngIf","procedure"!=o.log.trigger.toLowerCase()),e.xp6(1),e.Q6J("ngIf","procedure"===o.log.trigger.toLowerCase()),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription)}},directives:[l.O5,l.sg],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),"playback event":(()=>{class t{constructor(n,o,i,c,p,M,F){this.commonService=n,this.usersService=o,this.eventViewerService=i,this.eventsService=c,this.sanitizer=p,this.helper=M,this.cdr=F,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isShowPlayBtn=!1,this.isShowVideo=!1,this.IPuserName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){this.watch(),this.log.email&&this.log.ip&&(yield this.getIPUserName())})}ngOnDestroy(){this.unwatch()}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")||this.log.isAutomation}getIPUserName(){var n,o;return(0,r.mG)(this,void 0,void 0,function*(){try{if(!this.log.email||!this.log.user_id||this.log.email!=this.log.ip)return;const i=yield this.helper.me.get_my_dealer_id(),c=this.log.user_id,p=yield this.usersService.getIpMember(i,c).toPromise();this.IPuserName=null!==(o=null===(n=p[0])||void 0===n?void 0:n.name)&&void 0!==o?o:"No Name"}catch(i){console.debug("getIPUserName:>",i)}})}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"playback"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"playback"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}getMP4Video(n,o){return(0,r.mG)(this,void 0,void 0,function*(){let i=window.URL;try{const c=yield this.eventsService.getSnapshotFromUrl(o).toPromise();console.log(c,this.sanitizer.bypassSecurityTrustUrl(i.createObjectURL(c))),n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(i.createObjectURL(c)),n.isLoading=!1,this.cdr.detectChanges()}catch(c){n.isLoading=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v),e.Y36(k.f),e.Y36(x.w),e.Y36(y.n),e.Y36(s.H7),e.Y36(b.W),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_playback"]],inputs:{log:"log"},decls:25,vars:15,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","playback-background"],[1,"v-center",2,"gap","8px","flex-wrap","wrap"],["class","badge automation","style","margin-left: 4px",4,"ngIf"],["class","badge verification-background",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center","style","justify-content: end;",4,"ngIf"],[4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","automation",2,"margin-left","4px"],[1,"badge","verification-background"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"flex","v-center",2,"justify-content","end"],[1,"badge","operator-viewed-background"],["style","margin-left: 8px",4,"ngIf"],[2,"margin-left","8px"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","error"],["class","play-btn",4,"ngIf"],["class","hover-img",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","28px"],[1,"hover-img"],[3,"src","load","error"],[1,"v-center"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Playback Video"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.YNc(9,Ne,2,0,"div",6),e.YNc(10,Je,2,0,"div",7),e.qZA(),e.TgZ(11,"div",3),e.YNc(12,Qe,3,1,"ng-container",8),e.TgZ(13,"div",9),e.YNc(14,Be,2,1,"div",10),e.TgZ(15,"div",11),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.YNc(18,De,5,2,"div",13),e.TgZ(19,"div"),e._uU(20),e.qZA(),e.YNc(21,Ye,2,1,"div",14),e.qZA(),e.qZA(),e.YNc(22,Ve,4,0,"div",15),e.YNc(23,nn,8,7,"div",16),e.YNc(24,ln,7,6,"div",16),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(1),e.Q6J("ngIf",o.log.isHasVerification),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(2),e.Q6J("ngIf",o.log.email),e.xp6(2),e.AsE("",o.log.status_text," by ",o.log.trigger,""),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[l.O5,l.sg,l.RF,l.n9,l.ED,l.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),relay:(()=>{class t{constructor(n){this.commonService=n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")||this.log.isAutomation}relayIcon(n){var o,i,c;if(!n||"string"!=typeof n)return"relay";const p=JSON.parse(n);return null!==(c=null===(i=null===(o=null==p?void 0:p.info)||void 0===o?void 0:o.relay)||void 0===i?void 0:i.icon)&&void 0!==c?c:"relay"}capitalizeFirstLetter(n){if(n&&"string"==typeof n)return n.charAt(0).toUpperCase()+n.slice(1)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_relay"]],inputs:{log:"log",timezone:"timezone"},decls:18,vars:8,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","relay-background"],["class","badge automation-background","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","log-metadata-other",4,"ngIf"],[1,"badge","automation-background",2,"margin-left","4px"],[1,"badge","xml-code"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Manual Relay Event"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,sn,2,0,"div",5),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,pn,3,1,"ng-container",6),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"div",8),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e._uU(16),e.qZA(),e.YNc(17,_n,2,1,"div",10),e.qZA(),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(2),e.Oqu(o.capitalizeFirstLetter(o.log.status_text)),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription)}},directives:[l.O5,l.sg],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),"timelapse event":(()=>{class t{constructor(n,o,i,c,p,M,F){this.commonService=n,this.eventViewerService=o,this.usersService=i,this.eventsService=c,this.sanitizer=p,this.cdr=M,this.helper=F,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isShowVideo=!1,this.isShowPlayBtn=!1,this.IPuserName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){this.watch(),this.log.email&&this.log.ip&&(yield this.getIPUserName())})}ngOnDestroy(){this.unwatch()}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")}getIPUserName(){var n,o;return(0,r.mG)(this,void 0,void 0,function*(){try{if(!this.log.email||!this.log.user_id||this.log.email!=this.log.ip)return;const i=yield this.helper.me.get_my_dealer_id(),c=this.log.user_id,p=yield this.usersService.getIpMember(i,c).toPromise();this.IPuserName=null!==(o=null===(n=p[0])||void 0===n?void 0:n.name)&&void 0!==o?o:"No Name"}catch(i){console.debug("getIPUserName:>",i)}})}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"timelapse"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"timelapse"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}imgLoaded(){window.URL.revokeObjectURL(this.log.imageUrl)}imgError(n){console.log("image error",n),this.isBrokenImage=!0,window.URL.revokeObjectURL(this.log.imageUrl)}getMP4Video(n,o){return(0,r.mG)(this,void 0,void 0,function*(){let i=window.URL;try{const c=yield this.eventsService.getSnapshotFromUrl(o).toPromise();n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(i.createObjectURL(c)),n.isLoading=!1,this.cdr.detectChanges()}catch(c){n.isLoading=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v),e.Y36(x.w),e.Y36(k.f),e.Y36(y.n),e.Y36(s.H7),e.Y36(e.sBO),e.Y36(b.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_timelapse"]],inputs:{log:"log"},decls:22,vars:12,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","timelapse-background"],["class","badge automation-background","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center","style","justify-content: end;",4,"ngIf"],[4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","automation-background",2,"margin-left","4px"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"flex","v-center",2,"justify-content","end"],[1,"badge","operator-viewed-background"],["style","margin-left: 8px",4,"ngIf"],[2,"margin-left","8px"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","load","error"],["class","play-btn",4,"ngIf"],["class","hover-img",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","28px"],[1,"hover-img"],[1,"v-center"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Time-Lapse Event"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,un,2,0,"div",5),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,xn,3,1,"ng-container",6),e.TgZ(12,"div",7),e.YNc(13,fn,2,1,"div",8),e.TgZ(14,"div",9),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",10),e.YNc(17,Cn,5,2,"div",11),e.YNc(18,bn,2,1,"div",12),e.qZA(),e.qZA(),e.YNc(19,Pn,4,0,"div",13),e.YNc(20,Fn,8,7,"div",14),e.YNc(21,Qn,7,6,"div",14),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(2),e.Q6J("ngIf",o.log.email),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[l.O5,l.sg,l.RF,l.n9,l.ED,l.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),verification:(()=>{class t{constructor(n,o,i){this.commonService=n,this.eventViewerService=o,this.helper=i,this.isSelected=!1,this.snapshotPermission=!1,this.isBrokenImage=!1}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){this.watch()}ngOnDestroy(){this.unwatch()}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")}computedBackground(){return this.log.isLoading?"loading-background":this.snapshotPermission&&"need to upgrade plan"!==this.canIShowImage()&&"expired"!==this.canIShowImage()&&"privacy mode"!==this.canIShowImage()&&"broken image"!==this.canIShowImage()?"image"===this.canIShowImage()?"full-height":"broken video"===this.canIShowImage()?"no-permission":"video"===this.canIShowImage()?"full-height":"default"===this.canIShowImage()?"verification":void 0:"no-permission"}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v),e.Y36(x.w),e.Y36(b.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_verification"]],inputs:{log:"log",timezone:"timezone",toolbar:"toolbar"},decls:17,vars:9,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","verification-background"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-zone"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","xml-code"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],["class","no-permission",4,"ngSwitchCase"],[4,"ngSwitchCase"],["style","height: 168px;",4,"ngSwitchDefault"],[1,"no-permission"],[3,"src","error"],[2,"height","168px"],[1,"material-icons",2,"color","#4D96FF","font-size","32px"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Verification"),e.qZA(),e.YNc(8,zn,3,1,"ng-container",5),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e._uU(11),e.qZA(),e.TgZ(12,"div",8),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA(),e.qZA(),e.YNc(16,Gn,9,8,"div",10),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(4),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(3),e.Oqu(o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(2),e.AsE("",o.log.email," - ",o.log.status_text,""),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading)}},directives:[l.sg,l.O5,l.RF,l.n9,l.ED],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),"disarmed event":(()=>{class t{constructor(n,o,i,c,p,M){this.commonService=n,this.eventViewerService=o,this.sanitizer=i,this.eventsService=c,this.helper=p,this.cdr=M,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isShowPlayBtn=!1,this.isLoadingVideo=!1,this.isShowVideo=!1}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){this.watch(),this.log.imageUrl&&this.safeBlobUrl()})}ngOnDestroy(){this.unwatch()}safeBlobUrl(){var n;const o=null===(n=this.log.imageUrl)||void 0===n?void 0:n.changingThisBreaksApplicationSecurity;!o||(this.log.imageUrl=this.sanitizer.bypassSecurityTrustUrl(o))}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"disarmed-event"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"disarmed-event"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}getMP4Video(n,o){return(0,r.mG)(this,void 0,void 0,function*(){let i=window.URL;try{const c=yield this.eventsService.getSnapshotFromUrl(o).toPromise();console.log(c,this.sanitizer.bypassSecurityTrustUrl(i.createObjectURL(c))),n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(i.createObjectURL(c)),n.isLoading=!1,this.cdr.detectChanges()}catch(c){n.isLoading=!1}})}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isVideoAI(){return!!this.log.trigger.toLowerCase().includes("videoai")}isShowEntryEventBadge(){var n,o;if(!this.isVideoAI())return!1;let i=null;try{i=null===(n=JSON.parse(this.log.meta))||void 0===n?void 0:n.req}catch(c){i={body:null}}return"entry-event"===(null===(o=i.body)||void 0===o?void 0:o.alarm_type)}parseVideoAIResult(n){var o,i,c;if(!n||"string"!=typeof n)return"Failed";const p=JSON.parse(n),M=null===(o=null==p?void 0:p.req)||void 0===o?void 0:o.body,F=null==M?void 0:M.summary_entity_ids;if(!F)return"Failed";let q="";const Z=JSON.parse(F),L=Object.values(Z);let w="",T="";const X=L.every(A=>null==A?void 0:A.includes("person")),K=L.every(A=>null==A?void 0:A.includes("vehicle"));return(null===(i=Z.static)||void 0===i?void 0:i.length)&&(Z.static.includes("person")&&(w="Stationary Person"),Z.static.includes("vehicle")&&(T="Stationary Vehicle")),(null===(c=Z.motion)||void 0===c?void 0:c.length)&&(Z.motion.includes("person")&&(w="Moving Person"),Z.motion.includes("vehicle")&&(T="Moving Vehicle")),X&&(w="Person"),K&&(T="Vehicle"),w&&T?q=`${w}, ${T}`:w||T?q=`${w||T}`:!w&&!T&&(q="Nothing Detected"),q}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.v),e.Y36(x.w),e.Y36(s.H7),e.Y36(y.n),e.Y36(b.W),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_disarmed_event"]],inputs:{log:"log",timezone:"timezone"},decls:24,vars:13,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","disarmed-event-background"],["class","badge video-ai-background",4,"ngIf"],["class","badge entry-event",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-zone"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center",4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","video-ai-background"],[1,"badge","entry-event"],[1,"badge","xml-code"],[1,"flex","v-center"],[2,"margin-left","4px"],[2,"font-weight","600"],[4,"ngIf"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","error"],["class","play-btn",4,"ngIf"],["class","hover-img",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","28px"],[1,"hover-img"],[3,"src","load","error"],[1,"v-center"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Disarmed Event"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,Xn,2,0,"div",5),e.YNc(10,Kn,2,0,"div",6),e.YNc(11,et,3,1,"ng-container",7),e.qZA(),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e._uU(14),e.qZA(),e.TgZ(15,"div",10),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.YNc(18,tt,7,2,"div",12),e.TgZ(19,"div"),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,ot,4,0,"div",13),e.YNc(22,_t,8,7,"div",14),e.YNc(23,Ct,7,6,"div",14),e.BQk()),2&n){let i;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isVideoAI()),e.xp6(1),e.Q6J("ngIf",o.isShowEntryEventBadge()),e.xp6(1),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(3),e.Oqu(o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(i=o.log.name)&&void 0!==i?i:"No Name"),e.xp6(2),e.Q6J("ngIf",o.isVideoAI()),e.xp6(2),e.Oqu(o.log.status_text),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[l.O5,l.sg,l.RF,l.n9,l.ED,l.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})()};let bt=(()=>{class t{constructor(n,o){this.viewContainerRef=n,this.componentFactoryResolver=o}ngOnInit(){const n=this.componentFactoryResolver.resolveComponentFactory(this.getComponentForLog(this.appLogRenderer.log));this.viewContainerRef.createComponent(n).instance.log=this.appLogRenderer.log}getComponentForLog(n){let o=this.computedCategory(n);const c=Object.keys(ee).includes(o)?o:"default";return ee[c]}computedCategory(n){return(null==n?void 0:n.category)&&"string"==typeof n.category?n.category.toLowerCase():"default"}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.s_b),e.Y36(e._Vd))},t.\u0275dir=e.lG2({type:t,selectors:[["","appLogRenderer",""]],inputs:{appLogRenderer:"appLogRenderer"}}),t})();var Pt=g(88007),W=g(93324);const Ot=["memoTextArea"];function Mt(t,a){if(1&t&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("",n.noteLength," / ",n.maxLength,"")}}function yt(t,a){1&t&&(e.TgZ(0,"div",8),e._uU(1,"Text input limit reached. Please shorten your text."),e.qZA())}function kt(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"textarea",3,4),e.NdJ("ngModelChange",function(i){return e.CHM(n),e.oxw().log.notes=i})("input",function(i){return e.CHM(n),e.oxw().checkTextarea(i)}),e.qZA(),e.YNc(3,Mt,2,2,"div",5),e.YNc(4,yt,2,0,"div",6),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("rows",n.maxRows)("maxLength",n.maxLength)("ngModel",n.log.notes),e.xp6(2),e.Q6J("ngIf",!n.isShowErr),e.xp6(1),e.Q6J("ngIf",n.isShowErr)}}function wt(t,a){if(1&t&&(e.TgZ(0,"pre"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.notes)}}let Tt=(()=>{class t{constructor(n,o,i){this.cdr=n,this.eventViewerService=o,this.mpSessionsService=i,this.maxRows=3,this.maxLength=160,this.noteLength=0,this.noteList=[],this.isShowErr=!1}ngAfterViewInit(){this.adjustTextArea(),this.cdr.detectChanges()}adjustTextArea(){var n;!(null===(n=this.memoTextArea)||void 0===n?void 0:n.nativeElement)||(this.memoTextArea.nativeElement.style.height="80px",this.maxRows=3,this.maxLength=160)}checkTextarea(n){const o=n.target,i=o.value.split("\n");this.noteLength=o.value.length,this.isShowErr=!1,this.eventViewerService.isShowErrInTextArea=!1,this.mpSessionsService.isShowErrInTextArea=!1,this.memoTextArea.nativeElement.scrollHeight>80&&(o.value=o.value.substring(0,o.value.length-1),this.isShowErr=!0,this.eventViewerService.isShowErrInTextArea=!0,this.mpSessionsService.isShowErrInTextArea=!0),i.length>this.maxRows&&(o.value=i.slice(0,this.maxRows).join("\n"))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(x.w),e.Y36(Pt.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["c_card_event_viewer_time_line_input_area_component"]],viewQuery:function(n,o){if(1&n&&e.Gf(Ot,5),2&n){let i;e.iGM(i=e.CRH())&&(o.memoTextArea=i.first)}},inputs:{log:"log",isMode:"isMode"},decls:3,vars:2,consts:[["style","position: relative",4,"ngIf"],[4,"ngIf"],[2,"position","relative"],["type","text","placeholder","Enter notes here",3,"rows","maxLength","ngModel","ngModelChange","input"],["memoTextArea",""],["class","textarea-text-length",4,"ngIf"],["class","textarea-err",4,"ngIf"],[1,"textarea-text-length"],[1,"textarea-err"]],template:function(n,o){1&n&&(e.ynx(0),e.YNc(1,kt,5,5,"div",0),e.YNc(2,wt,2,1,"pre",1),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngIf","create"==o.isMode),e.xp6(1),e.Q6J("ngIf","create"!=o.isMode))},directives:[l.O5,W.Fj,W.JJ,W.On],styles:["textarea[_ngcontent-%COMP%]{width:80%;height:60px;box-sizing:border-box;padding:5px 8px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;transition:.2s;text-indent:0px;font-weight:400;font-size:.8rem;line-height:1.1rem;resize:none;overflow:hidden}pre[_ngcontent-%COMP%]{width:300px;line-height:1.1rem;margin:0;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;white-space:pre-wrap;word-wrap:break-word}.textarea-text-length[_ngcontent-%COMP%]{position:absolute;right:70px;color:#ccc;font-size:12px}.textarea-err[_ngcontent-%COMP%]{color:#cd3d64}"]}),t})();var Zt=g(95974);function At(t,a){1&t&&(e.TgZ(0,"div",4),e.O4$(),e.TgZ(1,"svg",5),e._UZ(2,"circle",6),e.qZA(),e.qZA())}function It(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"i",20),e.NdJ("click",function(){e.CHM(n);const i=e.oxw().$implicit;return e.oxw(2).deleteLog(i)}),e._uU(2,"close"),e.qZA(),e.qZA()}}function Ft(t,a){1&t&&e.GkF(0)}function Et(t,a){if(1&t&&(e.TgZ(0,"i",21),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit,o=e.oxw(2);e.Udp("color",o.computedIconColor(n))("font-size",o.computedIconSize(n)+"px"),e.xp6(1),e.Oqu(null==n.logIcon?null:n.logIcon.name)}}function St(t,a){if(1&t&&(e.TgZ(0,"div",22),e._UZ(1,"comp-icon",23),e.qZA()),2&t){const n=e.oxw().$implicit,o=e.oxw(2);e.ekj("guard-tour",o.styleClassForGuardTourIcon(n))("print-mode","print"===o.isMode),e.xp6(1),e.Q6J("icon",null==n.logIcon?null:n.logIcon.name)("color",o.computedIconColor(n))("size",o.computedIconSize(n))}}const qt=function(t){return{log:t}};function Ut(t,a){if(1&t&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.YNc(2,It,3,0,"div",11),e.YNc(3,Ft,1,0,"ng-container",12),e.qZA(),e.TgZ(4,"div",13),e.TgZ(5,"div",14),e.YNc(6,Et,2,5,"i",15),e.YNc(7,St,2,7,"div",16),e.qZA(),e.qZA(),e.TgZ(8,"div",17),e._UZ(9,"c_card_event_viewer_time_line_input_area_component",18),e.qZA(),e.qZA()),2&t){const n=a.$implicit,o=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==n?null:n.isHovered),e.xp6(1),e.Q6J("appLogRenderer",e.VKq(7,qt,n)),e.xp6(2),e.Q6J("ngClass",o.computedClassNameForBackgroundColor(n)),e.xp6(1),e.Q6J("ngIf","material"===(null==n.logIcon?null:n.logIcon.type)),e.xp6(1),e.Q6J("ngIf","comp"===(null==n.logIcon?null:n.logIcon.type)),e.xp6(2),e.Q6J("log",n)("isMode",o.isMode)}}function Nt(t,a){if(1&t&&(e.TgZ(0,"div",7),e.YNc(1,Ut,10,9,"div",8),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.selectedLogs)}}let Jt=(()=>{class t{constructor(n,o){this.sitesService=n,this.eventViewerService=o,this.snapshotPermission=!1,this.site={},this.isLoading=!1}ngOnInit(){this.site=this.sitesService.selSite,_.Z.moment.tz.setDefault(this.site.timezone)}ngOnChanges(n){var o;!n.logs||!(null===(o=n.logs.currentValue)||void 0===o?void 0:o.length)||n.logs.currentValue!==n.logs.previousValue&&(this.isLoading=!0,this.parsedSelectedLogs(this.logs))}parsedSelectedLogs(n){return(0,r.mG)(this,void 0,void 0,function*(){if(!n||!Array.isArray(n)||!(null==n?void 0:n.length))return this.isLoading=!1;this.selectedLogs=n,this.selectedLogs.forEach(o=>(0,r.mG)(this,void 0,void 0,function*(){let i=this.computedCategory(o);"sensor"===i&&this.isVideoAI(o)&&(i="videoai"),o.category=i,o.notes||(o.notes=""),o.logIcon={type:"",name:""},this.setIconName(o)})),this.isLoading=!1})}computedCategory(n){return(null==n?void 0:n.category)&&"string"==typeof n.category?n.category.toLowerCase():"default"}isVideoAI(n){return n?"video event"==this.computedCategory(n)&&"videoai"===n.trigger.toLowerCase():void 0}isAutomationRule(n){var o;return(null!==(o=null==n?void 0:n.description.toLowerCase())&&void 0!==o?o:"").includes("automation")||(null==n?void 0:n.isAutomation)}capitalizeFirstLetter(n){return 0===n.length?"":n.charAt(0).toUpperCase()+n.slice(1)}computedClassNameForBackgroundColor(n){const o=null==n?void 0:n.category;return this.isAutomationRule(n)?"automation-background":"video event"===o?"alarm-video-background":"arming"===o?this.setClassNameForArmingBackgroundColor(n):"audio"===o?`${o}-background`:"playback event"===o?"playback-background":"relay"===o?`${o}-background`:"timelapse event"===o?"timelapse-background":"verification"===o?`${o}-background`:"videoai"===o?"video-ai-background":"disarmed event"===o?"disarmed-event-background":"default-background"}setClassNameForArmingBackgroundColor(n){const o=this.computedArmingActionName(n.action);return this.checkArmingStatus(n)?`${o}-background`:"default-background"}computedIconColor(n){const o=n.category;return this.isAutomationRule(n)?"#FFA07A":"video event"===o?"#FF6B6B":"arming"===o?this.armingIconColor(n):"audio"===o?"#C34A36":"playback event"===o?"#276749":"relay"===o?"#FFC75F":"timelapse event"===o?"#276749":"verification"===o?"#4D96FF":"sensor"===o?"#8B8B8B":"videoai"===o?"#6578D8":"disarmed event"===o?"#5FC0FD":"#8B8B8B"}armingIconColor(n){const c=n.action.split(" ")[0].toLocaleLowerCase();return this.checkArmingStatus(n)?"armed"===c||"armed away"===c||"armed stay"===c||c.includes("armed stay")?"#FF7F16":"#1EA675":"#8B8B8B"}computedIconSize(n){return"metabolism"===n.logIcon.name||"http"===n.logIcon.name?"22":"16"}styleClassForGuardTourIcon(n){return"guard tour"===n.category.toLowerCase()&&"print"!=this.isMode}setIconName(n){if("bridge"===n.category)return this.setBridgeIcon(n);n.logIcon.name||this.setIconsByReportCategory(n),n.logIcon.name||this.setOtherCategory(n)}setIconsByReportCategory(n){const o=n.category;return this.isAutomationRule(n)?n.logIcon={type:"comp",name:"autopay"}:"video event"===o?n.logIcon={type:"material",name:"videocam"}:"arming"===o?this.setArmingIcon(n):"audio"===o?n.logIcon={type:"material",name:"mic"}:"playback event"===o?n.logIcon={type:"material",name:"replay"}:"relay"===o?this.setRelayIcon(n):"timelapse event"===o?n.logIcon={type:"material",name:"timelapse"}:"sensor"===o?this.setSensorIcon(n):"disarmed event"===o?n.logIcon={type:"comp",name:"disarmed_event"}:void 0}setArmingIcon(n){if(this.checkArmingStatus(n))return this.setArmingStatusIcon(n);this.checkArmingDelay(n)||(n.logIcon={type:"material",name:"settings"})}setArmingStatusIcon(n){const o=this.computedArmingActionName(n.action);n.logIcon={type:"comp",name:o}}computedArmingActionName(n){return n.split(" ")[0].toLowerCase()}checkArmingStatus(n){const o=n.status_text.toLowerCase();return!("armed"!==o&&"disarmed"!==o&&"armed away"!==o&&"armed stay"!==o&&!o.includes("armed stay"))}checkArmingDelay(n){const o=n.status_text.toLocaleLowerCase();return(o.includes("end")||!!o.includes("start"))&&(n.logIcon={type:"material",name:"sync_lock"},!0)}setRelayIcon(n){var o,i,c;const p=n.meta;if(!p||"string"!=typeof p)return"relay";const M=JSON.parse(p),F=null!==(c=null===(i=null===(o=null==M?void 0:M.info)||void 0===o?void 0:o.relay)||void 0===i?void 0:i.icon)&&void 0!==c?c:"relay_action";return n.logIcon={type:"comp",name:F}}setSensorIcon(n){const o=n.category.toLowerCase(),i=n.trigger.toLowerCase();return"sensor"!=o?{type:"",name:""}:i.includes("di")?n.logIcon={type:"material",name:"settings_input_component"}:i.includes("oe")?n.logIcon={type:"material",name:"psychology"}:i.includes("le")||i.includes("local")?n.logIcon={type:"comp",name:"bridge"}:i.includes("camera")?n.logIcon={type:"comp",name:"bypass"}:void 0}setBridgeIcon(n){return n.logIcon=n.description.toLowerCase().includes("automation")?{type:"comp",name:"autopay"}:{type:"comp",name:"bridge"}}setOtherCategory(n){switch(n.category.toLowerCase()){case"alarm":return n.logIcon={type:"material",name:"notifications_active"};case"guard tour":return n.logIcon={type:"comp",name:"metabolism"};case"live video":return n.logIcon={type:"material",name:"smart_display"};case"monitoring portal":return n.logIcon={type:"material",name:"live_tv"};case"boot":return n.logIcon={type:"material",name:"power_settings_new"};case"privacy mode access":return n.logIcon={type:"material",name:"passkey"};case"share download link":return n.logIcon={type:"material",name:"download"};case"share response link":return n.logIcon={type:"material",name:"reply"};case"site procedure action":return n.logIcon={type:"material",name:"interests"};case"site procedure http request":return n.logIcon={type:"material",name:"http"};case"trouble":return n.logIcon={type:"material",name:"warning"};case"timelapse event":return n.logIcon={type:"material",name:"timelapse"}}}isHasImage(n){return!!n&&((null==n?void 0:n.imageUrl)||(null==n?void 0:n.is_expired)||(null==n?void 0:n.isPrivacy))}hoverLog(n){"create"==this.isMode&&(n.isHovered=!0)}hoverOutLog(n){"create"==this.isMode&&(n.isHovered=!1)}deleteLog(n){this.eventViewerService.deleteSelectedLogs(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.f),e.Y36(x.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["c_card_event_viewer_time_line_component"]],inputs:{logs:"logs",isMode:"isMode"},features:[e.TTD],decls:7,vars:2,consts:[[1,"timeline-title"],[1,"title"],["class","loader",4,"ngIf"],["class","timeline-container",4,"ngIf"],[1,"loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"timeline-container"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"content-area"],["class","delete",4,"ngIf"],[4,"appLogRenderer"],[1,"timeline-point-area"],[1,"timeline-point",3,"ngClass"],["class","material-icons","style","font-size: 16px",3,"color","font-size",4,"ngIf"],["class","comp-icon-area",3,"guard-tour","print-mode",4,"ngIf"],[1,"input-area"],[3,"log","isMode"],[1,"delete"],[1,"material-icons",3,"click"],[1,"material-icons",2,"font-size","16px"],[1,"comp-icon-area"],[2,"position","absolute",3,"icon","color","size"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"EVENTS"),e.qZA(),e.TgZ(3,"div",1),e._uU(4,"NOTES"),e.qZA(),e.qZA(),e.YNc(5,At,3,0,"div",2),e.YNc(6,Nt,2,1,"div",3)),2&n&&(e.xp6(5),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},directives:[l.O5,l.sg,bt,l.mk,Tt,Zt.U],styles:['.widget[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:calc(100% - 14px);max-width:1200px;min-width:300px;max-height:calc(100% - 15px);background:white;transition:.5s;border-radius:3px;border:1px solid rgba(0,0,0,.1);margin:0 5px 10px}.widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 108px);padding:20px}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:14px}.widget-item[_ngcontent-%COMP%]{flex:none;font-size:14px;color:#000000de}.widget-item[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{padding:14px 30px}.widget[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:7px}.widget[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:200px;font-size:14px;color:#0009}.widget[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{display:flex;padding:7px 0}.widget[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-bottom[_ngcontent-%COMP%]{display:flex;padding-top:6px}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;font-size:16px;padding:12px 20px;color:#000000de}.header[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{padding:7px 16px}.header[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{color:#aaa;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{color:#1e88e5}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{color:#1e88e5}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px;height:100px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.selectitem[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer;display:flex;flex-direction:row;font-size:14px}.selectitem[_ngcontent-%COMP%]:hover{background-color:#ebebeb}.selectitem.selected[_ngcontent-%COMP%]{background-color:#e0e0e0}.selectitem.label[_ngcontent-%COMP%]{margin:2px 0;max-width:420px;font-size:14px;padding:8px 10px;justify-content:space-between}.select-list[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;font-size:14px;border-style:solid;border-width:1px;border-radius:5px;border-color:#dfdfdf;overflow-x:hidden;white-space:nowrap;z-index:500;font-weight:500}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]{font-size:14px;color:#000000de}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]{width:100%;outline:none;border:0;border-bottom:1px solid rgba(0,0,0,.1);height:30px;text-indent:16px}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]{display:flex}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#1e90ff;filter:none}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]{display:flex;margin-right:5px;justify-content:center;color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:18px}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon.checked[_ngcontent-%COMP%]{color:#1f8fff}.select-list[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{margin:14px}[sortable-column][_ngcontent-%COMP%]{cursor:pointer}','.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:100px;border-radius:5px;background-color:#000;color:#fff;position:relative;margin:10px 0 10px 100px}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item.hover-item[_ngcontent-%COMP%]{outline:1px solid #1E88E5;border-radius:5px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{position:relative;flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;cursor:pointer}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center;padding:0 10px}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.hover-img[_ngcontent-%COMP%]{position:absolute;background:white;padding:12px;left:127%;z-index:2;box-shadow:1px -1px #0000000a,0 5px 10px #00000014}.hover-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px!important}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})()},13211:(u,v,g)=>{"use strict";g.d(v,{R:()=>b});var r=g(42741),_=g(50692),e=g(88007),C=g(16274),x=g(93324);const l=["memoTextArea"];function h(f,I){if(1&f&&(r.TgZ(0,"div",7),r._uU(1),r.qZA()),2&f){const d=r.oxw(2);r.xp6(1),r.AsE("",d.noteLength," / ",d.maxLength,"")}}function k(f,I){1&f&&(r.TgZ(0,"div",8),r._uU(1,"Text input limit reached. Please shorten your text."),r.qZA())}function y(f,I){if(1&f){const d=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"textarea",3,4),r.NdJ("ngModelChange",function(P){return r.CHM(d),r.oxw().inputNote=P})("input",function(P){return r.CHM(d),r.oxw().checkTextarea(P)}),r.qZA(),r.YNc(3,h,2,2,"div",5),r.YNc(4,k,2,0,"div",6),r.qZA()}if(2&f){const d=r.oxw();r.xp6(1),r.Q6J("rows",d.maxRows)("maxLength",d.maxLength)("ngModel",d.inputNote),r.xp6(2),r.Q6J("ngIf",!d.isShowErr),r.xp6(1),r.Q6J("ngIf",d.isShowErr)}}function s(f,I){if(1&f&&(r.TgZ(0,"pre"),r._uU(1),r.qZA()),2&f){const d=r.oxw();r.xp6(1),r.Oqu(d.summaryNote)}}let b=(()=>{class f{constructor(d,m,P){this.cdr=d,this.eventViewerService=m,this.mpSessionsService=P,this.updateNote=new r.vpe,this.inputNote="",this.maxRows=4,this.maxLength=400,this.noteLength=0,this.noteList=[],this.isShowErr=!1}ngOnInit(){this.inputNote=this.summaryNote}ngOnChanges(d){!d.summaryNote||(this.inputNote=this.summaryNote)}ngAfterViewInit(){this.adjustTextArea(),this.cdr.detectChanges()}adjustTextArea(){var d;!(null===(d=this.memoTextArea)||void 0===d?void 0:d.nativeElement)||(this.memoTextArea.nativeElement.style.height="80px",this.maxRows=4,this.maxLength=400)}checkTextarea(d){const m=d.target,P=m.value.split("\n");this.updateNote.emit(m.value),this.noteLength=m.value.length,this.isShowErr=!1,this.eventViewerService.isShowErrInTextArea=!1,this.mpSessionsService.isShowErrInTextArea=!1,this.memoTextArea.nativeElement.scrollHeight>80&&(m.value=m.value.substring(0,m.value.length-1),this.isShowErr=!0,this.eventViewerService.isShowErrInTextArea=!0,this.mpSessionsService.isShowErrInTextArea=!0),P.length>this.maxRows&&(m.value=P.slice(0,this.maxRows).join("\n"))}}return f.\u0275fac=function(d){return new(d||f)(r.Y36(r.sBO),r.Y36(_.w),r.Y36(e.w))},f.\u0275cmp=r.Xpm({type:f,selectors:[["c_card_event_viewer_time_line_summary_input_area_component"]],viewQuery:function(d,m){if(1&d&&r.Gf(l,5),2&d){let P;r.iGM(P=r.CRH())&&(m.memoTextArea=P.first)}},inputs:{summaryNote:"summaryNote",isMode:"isMode"},outputs:{updateNote:"updateNote"},features:[r.TTD],decls:3,vars:2,consts:[["style","position: relative",4,"ngIf"],[4,"ngIf"],[2,"position","relative"],["type","text","placeholder","Enter notes here",3,"rows","maxLength","ngModel","ngModelChange","input"],["memoTextArea",""],["class","textarea-text-length",4,"ngIf"],["class","textarea-err",4,"ngIf"],[1,"textarea-text-length"],[1,"textarea-err"]],template:function(d,m){1&d&&(r.ynx(0),r.YNc(1,y,5,5,"div",0),r.YNc(2,s,2,1,"pre",1),r.BQk()),2&d&&(r.xp6(1),r.Q6J("ngIf","create"==m.isMode),r.xp6(1),r.Q6J("ngIf","create"!=m.isMode))},directives:[C.O5,x.Fj,x.JJ,x.On],styles:["textarea[_ngcontent-%COMP%]{width:100%;height:60px;box-sizing:border-box;padding:5px 8px;color:#55647b;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;transition:.2s;text-indent:0px;font-weight:400;font-size:.8rem;line-height:1.1rem;resize:none;overflow:hidden}pre[_ngcontent-%COMP%]{width:725px;line-height:1.1rem;color:#55647b;padding:8px;font-size:12px;border:1px solid rgba(0,0,0,.2);border-radius:5px;margin:0;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;white-space:pre-wrap;word-wrap:break-word}.textarea-text-length[_ngcontent-%COMP%]{position:absolute;right:6px;color:#ccc;font-size:12px}.textarea-err[_ngcontent-%COMP%]{color:#cd3d64}"]}),f})()},25229:(u,v,g)=>{"use strict";g.d(v,{Z:()=>l});var r=g(46243),e=g(76052),C=g.n(e),x=g(34146);const l={_:r,moment:C(),tool:x.Z}}}]);