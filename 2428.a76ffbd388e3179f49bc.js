"use strict";(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[2428],{39014:(I,y,u)=>{u.d(y,{a:()=>z});var c=u(42741),O=u(98753),S=u(16274);const g=["sortable-column",""];function P(m,M){1&m&&(c.O4$(),c.TgZ(0,"svg",3),c.TgZ(1,"g",4),c.TgZ(2,"g",5),c._UZ(3,"polygon",6),c.qZA(),c.qZA(),c.qZA())}function t(m,M){1&m&&(c.O4$(),c.TgZ(0,"svg",3),c.TgZ(1,"g"),c.TgZ(2,"g",7),c._UZ(3,"polygon",8),c.qZA(),c.TgZ(4,"g",7),c._UZ(5,"polygon",6),c.qZA(),c.qZA(),c.qZA())}function E(m,M){1&m&&(c.O4$(),c.TgZ(0,"svg",3),c.TgZ(1,"g",4),c.TgZ(2,"g",5),c._UZ(3,"polygon",8),c.qZA(),c.qZA(),c.qZA())}function k(m,M){if(1&m&&(c.YNc(0,P,4,0,"svg",2),c.YNc(1,t,6,0,"svg",2),c.YNc(2,E,4,0,"svg",2)),2&m){const v=c.oxw();c.Q6J("ngIf","asc"===v.sortDirection),c.xp6(1),c.Q6J("ngIf",""===v.sortDirection),c.xp6(1),c.Q6J("ngIf","desc"===v.sortDirection)}}function T(m,M){1&m&&(c.O4$(),c.TgZ(0,"svg",3),c.TgZ(1,"g",4),c.TgZ(2,"g",5),c._UZ(3,"polygon",6),c.qZA(),c.qZA(),c.qZA())}function A(m,M){1&m&&(c.O4$(),c.TgZ(0,"svg",3),c.TgZ(1,"g"),c.TgZ(2,"g",7),c._UZ(3,"polygon",8),c.qZA(),c.TgZ(4,"g",7),c._UZ(5,"polygon",6),c.qZA(),c.qZA(),c.qZA())}function N(m,M){1&m&&(c.O4$(),c.TgZ(0,"svg",3),c.TgZ(1,"g",4),c.TgZ(2,"g",5),c._UZ(3,"polygon",8),c.qZA(),c.qZA(),c.qZA())}function q(m,M){if(1&m&&(c.YNc(0,T,4,0,"svg",2),c.YNc(1,A,6,0,"svg",2),c.YNc(2,N,4,0,"svg",2)),2&m){const v=c.oxw();c.Q6J("ngIf","asc"===v.sortDirection),c.xp6(1),c.Q6J("ngIf",""===v.sortDirection),c.xp6(1),c.Q6J("ngIf","desc"===v.sortDirection)}}const Z=["*"];let z=(()=>{class m{constructor(v){this.sortService=v,this.sortDirection="",this.iconPosition="right"}sort(){this.sortDirection="asc"===this.sortDirection?"desc":"asc",this.sortService.columnSorted({sortColumn:this.columnName,sortDirection:this.sortDirection})}ngOnInit(){this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(v=>{this.columnName!=v.sortColumn&&(this.sortDirection="")})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return m.\u0275fac=function(v){return new(v||m)(c.Y36(O.K))},m.\u0275cmp=c.Xpm({type:m,selectors:[["","sortable-column",""]],hostBindings:function(v,D){1&v&&c.NdJ("click",function(){return D.sort()})},inputs:{columnName:["sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"],iconPosition:["sort-icon","iconPosition"]},attrs:g,ngContentSelectors:Z,decls:4,vars:2,consts:[[2,"display","flex","align-items","center"],[3,"ngIf"],["width","12","height","8px","viewBox","0 0 200 200",4,"ngIf"],["width","12","height","8px","viewBox","0 0 200 200"],["fill","#5A6574"],["id","arrow-drop-down"],["points","0,120 100,200 200,120"],["id","arrow-drop-down","fill","#5A6574"],["points","0,80 100,0 200,80"]],template:function(v,D){1&v&&(c.F$t(),c.TgZ(0,"div",0),c.YNc(1,k,3,3,"ng-template",1),c.Hsn(2),c.YNc(3,q,3,3,"ng-template",1),c.qZA()),2&v&&(c.xp6(1),c.Q6J("ngIf","left"===D.iconPosition&&D.columnName),c.xp6(2),c.Q6J("ngIf","right"===D.iconPosition&&D.columnName))},directives:[S.O5],encapsulation:2}),m})()},28522:(I,y,u)=>{u.d(y,{Q:()=>S});var c=u(42741),O=u(98753);let S=(()=>{class g{constructor(t){this.sortService=t,this.sorted=new c.vpe}ngOnInit(){this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(t=>{this.sorted.emit(t)})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return g.\u0275fac=function(t){return new(t||g)(c.Y36(O.K))},g.\u0275dir=c.lG2({type:g,selectors:[["","sortable-table",""]],outputs:{sorted:"sorted"}}),g})()},32428:(I,y,u)=>{u.r(y),u.d(y,{VideoEventStatModule:()=>ye});var c=u(16274),O=u(93324),S=u(29535),g=u(61855),P=u(25229),t=u(42741),E=u(1906),k=u(7611),T=u(56880),A=u(35460),N=u(85481),q=u(47588),Z=u(95974);const z=["monthSelectDropdown"];function m(a,s){1&a&&(t.TgZ(0,"div",6),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"circle",8),t.qZA(),t.qZA())}function M(a,s){if(1&a&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("(Exceeded by ",e.excessAmount," events)")}}function v(a,s){if(1&a&&(t.TgZ(0,"dev"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("(",e.availableAmount," events still Available)")}}function D(a,s){1&a&&t._UZ(0,"comp-icon",25),2&a&&t.Q6J("icon","warning")("size",16)("color","orange")}function J(a,s){if(1&a&&(t.TgZ(0,"div",21),t.YNc(1,D,1,3,"comp-icon",24),t._uU(2),t.qZA()),2&a){const e=t.oxw(2);t.ekj("alert",e.excessAmount),t.xp6(1),t.Q6J("ngIf",e.excessAmount),t.xp6(1),t.lnq("*Exceeding this limit incurs ",e.usersService.me.currency_symbol,"",e.reservedEvents.eventCostPerEventBoundary," / ",e.reservedEvents.eventEventBoundary," events")}}function Q(a,s){if(1&a&&(t.TgZ(0,"div",26),t.TgZ(1,"div",11),t._uU(2,"Total Cloud AI Events - True alarm | False alarm"),t.qZA(),t.TgZ(3,"div",27),t.TgZ(4,"div",28),t._uU(5),t.qZA(),t.TgZ(6,"div",29),t._uU(7,"|"),t.qZA(),t.TgZ(8,"div",30),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",31),t._uU(11),t.qZA(),t.TgZ(12,"div",32),t._UZ(13,"div",33),t._UZ(14,"div",34),t.qZA(),t.TgZ(15,"div",35),t.TgZ(16,"div",36),t._uU(17),t.qZA(),t.TgZ(18,"div",37),t._uU(19),t.qZA(),t.qZA(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(5),t.Oqu(e.statisticsData.trueSignals),t.xp6(4),t.Oqu(e.statisticsData.falseSignals),t.xp6(2),t.hij(" Total AI request: ",e.statisticsData.totalVideoEvents," events"),t.xp6(2),t.Udp("width",e.statisticsData.trueSignalRatio+"%"),t.xp6(1),t.Udp("width",e.statisticsData.falseSignalRatio+"%"),t.xp6(3),t.hij("True ",e.statisticsData.trueSignalRatio,"%"),t.xp6(2),t.hij("False ",e.statisticsData.falseSignalRatio,"%")}}function H(a,s){if(1&a&&(t.TgZ(0,"div",9),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t._uU(3,"Cloud AI Usage"),t.qZA(),t.TgZ(4,"div",12),t.TgZ(5,"div",13),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.YNc(8,M,2,1,"div",14),t.YNc(9,v,2,1,"dev",15),t.qZA(),t.TgZ(10,"div",13),t._UZ(11,"div",16),t.TgZ(12,"div"),t._uU(13),t.qZA(),t.TgZ(14,"div"),t._uU(15,"|"),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",17),t._UZ(19,"div",18),t.qZA(),t.TgZ(20,"div",19),t.TgZ(21,"div"),t._uU(22,"0"),t.qZA(),t.TgZ(23,"div"),t._uU(24),t.qZA(),t.qZA(),t.YNc(25,J,3,6,"div",20),t.TgZ(26,"div",21),t._uU(27,"*This feature is billed regardless of the activation period."),t.qZA(),t.qZA(),t.YNc(28,Q,20,9,"div",22),t.qZA()),2&a){const e=t.oxw();t.xp6(6),t.ekj("gray-text",e.excessAmount),t.xp6(1),t.hij("",e.reservedEvents.freeEvent," Allocated Events"),t.xp6(1),t.Q6J("ngIf",e.excessAmount),t.xp6(1),t.Q6J("ngIf",e.availableAmount),t.xp6(2),t.Q6J("ngClass",e.comptedUsageChartColor()),t.xp6(2),t.Oqu(e.reservedEvents.totalUsedEvents),t.xp6(4),t.hij("",e.reservedEvents.totalUsedEventsRatio,"%"),t.xp6(2),t.Udp("width",e.reservedEvents.totalUsedEventsRatio+"%"),t.Q6J("ngClass",e.comptedUsageChartColor()),t.xp6(4),t.ekj("gray-text",e.excessAmount),t.xp6(1),t.hij("",e.reservedEvents.freeEvent," events"),t.xp6(1),t.Q6J("ngIf",!e.isSubDealer&&e.isHasViewPricePermission),t.xp6(3),t.Q6J("ngIf",e.isShowTrueFalseAlarmChart())}}function j(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"div",39),t._UZ(2,"comp-icon",40),t.TgZ(3,"div",41),t.TgZ(4,"div",42),t._uU(5,"Unlock More with an Upgrade! \u{1f680}"),t.qZA(),t.TgZ(6,"div",43),t._uU(7,"Cloud AI features are available exclusively with our Professional or Premium plans."),t._UZ(8,"br"),t._uU(9,"\nUpgrade for enhanced video event analysis and filtering, reducing operational time and costs. Consider upgrading for more benefits."),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"div",44),t.TgZ(12,"div",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().onClickGoToDealerPlan()}),t.TgZ(13,"div",46),t._uU(14,"Go to upgrade plan"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("icon","person_play")("size",42)("color","#87909f"),t.xp6(11),t.ekj("disabled",e.isLoading)}}const R=u(76052);let W=(()=>{class a{constructor(e,n,i,o,r){this.dealerPlanService=e,this.usersService=n,this.videoAIService=i,this.commonService=o,this.helper=r,this.selectMonthForTable=new t.vpe,this.setInitSelectedMonth=new t.vpe,this.isLoading=!1,this.isSubDealer=!1,this.isHasViewPricePermission=!1,this.dealers=[],this.isUnfoldMonthList=!1,this.monthList=[{name:"2023-06",value:"2023-06"}],this.selectedMonth=this.monthList[0],this.reservedEvents={freeEvent:null,eventCostPerEventBoundary:null,eventEventBoundary:null,totalUsedEvents:null,totalUsedEventsRatio:null},this.availableAmount=null,this.excessAmount=null,this.statisticsData={totalVideoEvents:null,trueSignals:null,falseSignals:null,trueSignalRatio:null,falseSignalRatio:null}}onGlobalClick(e){this.monthSelectDropdown&&(this.monthSelectDropdown.nativeElement.contains(e.target)||(this.isUnfoldMonthList=!1))}watch(){this.dealer_partners$w=this.helper.partner.partners$w().subscribe(e=>this.on_partners_change(e))}unwatch(){var e;null===(e=this.dealer_partners$w)||void 0===e||e.unsubscribe()}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){if(this.isLoading=!0,this.amIStandardPlan)return this.isLoading=!1;this.init(),this.watch(),this.setMonthList(),yield this.load_data(),this.isLoading=!1})}ngOnDestroy(){this.unwatch()}init(){this.reservedEvents={freeEvent:"0",eventCostPerEventBoundary:"0",eventEventBoundary:"0",totalUsedEvents:"0",totalUsedEventsRatio:"0"},this.availableAmount="0",this.excessAmount="0",this.statisticsData={totalVideoEvents:"0",trueSignals:"0",falseSignals:"0",trueSignalRatio:"50",falseSignalRatio:"50"}}setMonthList(){const e=new Date,n=new Date(2023,5),i=[];for(;n<=e;){const l=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;i.unshift({name:l,value:l}),n.setMonth(n.getMonth()+1)}this.selectedMonth=i[0],this.setInitSelectedMonth.emit(this.selectedMonth),this.monthList=i}calcCurrentMonth(e){const n=e?new Date(e):new Date;return R(n).utc().startOf("month").format()}selectMonth(e){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.isUnfoldMonthList=!1,this.selectedMonth=e,this.selectMonthForTable.emit(e);const n=this.calcCurrentMonth(e.value);yield this.getDealerStatisticByRank(n),this.isLoading=!1})}load_data(){return(0,g.mG)(this,void 0,void 0,function*(){yield this.setDealerInfo(),yield this.load_partners();const e=this.calcCurrentMonth(this.selectedMonth.value);yield this.getDealerStatisticByRank(e),this.isHasViewPricePermission=this.helper.permission.has("dealer_invoice_read")})}setDealerInfo(){return(0,g.mG)(this,void 0,void 0,function*(){const e=yield this.helper.dealer.get_dealer_info();this.isSubDealer=3===e[0].type})}load_partners(){return(0,g.mG)(this,void 0,void 0,function*(){!(yield this.helper.me.isMainDealer())||(yield this.helper.partner.load_partners(!0))})}on_partners_change(e){!Array.isArray(e)||!(null==e?void 0:e.length)||(this.dealers=e)}getDealerStatisticByRank(e){return(0,g.mG)(this,void 0,void 0,function*(){try{const n=yield this.helper.me.get_my_dealer_id(),i="ai_filter_matched",o=yield this.helper.me.isSubDealer(),{data:r}=yield this.videoAIService.getDealerStatisticByRank(n,o,e,null,null,"month",i).toPromise();console.debug("getDealerStatisticByRank:>>",r),yield Promise.all([this.calcCloudAIUsage(r),this.calcCloudAITrueFalseAlarmChart(r)])}catch(n){return this.isLoading=!1,console.debug("Get Statistic :>>",n),[]}})}calcCloudAIUsage(e){var n,i,o,r,l,_,p,d;return(0,g.mG)(this,void 0,void 0,function*(){(!e||!(e instanceof Object)||!(null===(n=Object.keys(e))||void 0===n?void 0:n.length)||this.amIStandardPlan)&&(e={true:0,false:0}),(null==e?void 0:e.true)||(e.true=0),(null==e?void 0:e.false)||(e.false=0);const x=this.selectedMonth.name.split("-")[0],b=this.selectedMonth.name.split("-")[1];try{const f=yield this.helper.dealer_plan.get_dealer_plan_cloudAI_usage(x,b),h=null!==(i=null==f?void 0:f.videoai)&&void 0!==i?i:0,C=null!==(o=(null==e?void 0:e.true)+(null==e?void 0:e.false))&&void 0!==o?o:0;console.log("allCloudAIEvents:>",C);const w=null!==(r=null==h?void 0:h.conditional_price)&&void 0!==r?r:0,De=null!==(l=null==w?void 0:w.free_package_amount)&&void 0!==l?l:0,F=this.calcFreeCloudAIEventsNumber(De);console.debug(f,h),this.reservedEvents={freeEvent:this.formatNumberToK(F),eventCostPerEventBoundary:null!==(_=this.formatNumbersWithComma(null==w?void 0:w.fee_per_paid_package_amount))&&void 0!==_?_:0,eventEventBoundary:null!==(p=this.formatNumbersWithComma(null==w?void 0:w.paid_package_amount))&&void 0!==p?p:0,totalUsedEvents:null!==(d=this.formatNumbersWithComma(C))&&void 0!==d?d:0,totalUsedEventsRatio:F?(C/F*100).toFixed(1):0},this.setAvailableCloudAIEvent(C,F),this.setExcessCloudAIEvent(C,F)}catch(f){this.isLoading=!1,console.debug(f)}})}calcCloudAITrueFalseAlarmChart(e){var n,i;return(0,g.mG)(this,void 0,void 0,function*(){if(!e||!(e instanceof Object)||!(null===(n=Object.keys(e))||void 0===n?void 0:n.length)||this.amIStandardPlan)return e={true:0,false:0};try{const o=null!==(i=(null==e?void 0:e.true)+(null==e?void 0:e.false))&&void 0!==i?i:0,r=e.true,l=o?(r/o*100).toFixed(1):0,_=e.false,p=o?(_/o*100).toFixed(1):0;this.statisticsData={totalVideoEvents:this.formatNumbersWithComma(o),trueSignals:this.formatNumbersWithComma(r),falseSignals:this.formatNumbersWithComma(_),trueSignalRatio:l,falseSignalRatio:p}}catch(o){this.isLoading=!1,console.debug(o),this.commonService.showErrorToast(o,"Request Dealer Plan Info")}})}calcFreeCloudAIEventsNumber(e){var n,i;if(!this.helper.me.isMainDealer())return e;const o=this.dealers.filter(f=>2===f.current_month_service_plan_type),r=this.dealers.filter(f=>3===f.current_month_service_plan_type),l=this.findVideoAIEventsPlan(this.dealerPlanService.subDealerPlanPricingListForProfessional),_=this.findVideoAIEventsPlan(this.dealerPlanService.subDealerPlanPricingListForPremium),d=null===(n=null==l?void 0:l.conditional_price)||void 0===n?void 0:n.free_package_amount,x=null===(i=null==_?void 0:_.conditional_price)||void 0===i?void 0:i.free_package_amount;return e+o.length*d+r.length*x}findVideoAIEventsPlan(e){for(const n in e){const i=e[n];if(this.isVideoAIEventsPlan(n))return i}}setAvailableCloudAIEvent(e,n){this.availableAmount=n>e?this.formatNumbersWithComma(n-e):0}setExcessCloudAIEvent(e,n){this.excessAmount=e>n?this.formatNumbersWithComma(e-n):0}isVideoAIEventsPlan(e){return 13===parseInt(e)}onClickGoToDealerPlan(){this.helper.router.navigate_to_service_plan()}formatNumbersWithComma(e){return"string"==typeof e&&e.includes(",")?void 0:(null==e&&(e=0),parseFloat(e).toLocaleString("en-US"))}formatNumberWithCommaToNumber(e){return parseInt(e.replace(/,/g,""))}formatNumberToK(e){if(isNaN(e)||e<1e3)return e;const n=(e/1e3).toFixed(1);return n.endsWith(".0")?Math.round(e/1e3)+"K":n.replace(/\.0$/,"")+"K"}isShowTrueFalseAlarmChart(){var e,n;return!!(null===(e=this.reservedEvents)||void 0===e?void 0:e.totalUsedEvents)&&parseInt(null===(n=this.reservedEvents)||void 0===n?void 0:n.totalUsedEvents)>0}comptedUsageChartColor(){const e=parseFloat(this.reservedEvents.totalUsedEventsRatio);return e>=50&&e<100?"warning":e>=100?"danger":"primary"}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(N._),t.Y36(k.f),t.Y36(q.e),t.Y36(T.v),t.Y36(A.W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["c_card_cloud_ai_stat_component"]],viewQuery:function(e,n){if(1&e&&t.Gf(z,5),2&e){let i;t.iGM(i=t.CRH())&&(n.monthSelectDropdown=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(o){return n.onGlobalClick(o)},!1,t.evT)},inputs:{amIStandardPlan:"amIStandardPlan"},outputs:{selectMonthForTable:"selectMonthForTable",setInitSelectedMonth:"setInitSelectedMonth"},decls:7,vars:3,consts:[[1,"widget",2,"position","relative","min-height","236px","font-size","14px","flex","none","margin","0","width","100%"],[1,"header","flex","v-center"],[1,"title"],["class","loader absolute",4,"ngIf"],["class","flex","style","overflow-x: overlay; justify-content: center",4,"ngIf"],["class","widget-body",4,"ngIf"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"flex",2,"overflow-x","overlay","justify-content","center"],[1,"bar-chart-contents-box",2,"flex","2"],[1,"bar-chart-contents-box-title"],[1,"flex","between","mt-16"],[1,"flex","v-center",2,"gap","4px"],["class","alert",4,"ngIf"],[4,"ngIf"],[1,"circle",3,"ngClass"],[1,"dashboard-widget-contents-box-total-box"],[1,"dashboard-widget-contents-box-total-box-used",3,"ngClass"],[1,"flex","between",2,"margin-top","6px"],["class","excess-alert",3,"alert",4,"ngIf"],[1,"excess-alert"],["class","bar-chart-contents-box","style","flex: 1",4,"ngIf"],[1,"alert"],[3,"icon","size","color",4,"ngIf"],[3,"icon","size","color"],[1,"bar-chart-contents-box",2,"flex","1"],[1,"flex",2,"margin-top","16px"],[1,"bar-chart-contents-box-count","primary"],[1,"bar-chart-contents-box-count","divider"],[1,"bar-chart-contents-box-count","danger"],[1,"bar-chart-contents-box-sub-info"],[1,"bar-chart-contents-box-total-box"],[1,"bar-chart-contents-box-total-box-true"],[1,"bar-chart-contents-box-total-box-false"],[1,"flex",2,"justify-content","space-between"],[1,"txt-primary",2,"font-size","14px"],[1,"txt-danger",2,"font-size","14px"],[1,"widget-body"],[1,"item-row",2,"overflow-x","overlay","justify-content","center"],[1,"no-cloud-ai-icon",3,"icon","size","color"],[1,"flex-column","justify-center",2,"margin-left","16px"],[1,"no-cloud-ai-title"],[1,"no-cloud-ai-desc"],[1,"btn-area"],[1,"button","button-white",3,"click"],[1,"btn-inner"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3,"Video Event Stats Summary"),t.qZA(),t.qZA(),t.YNc(4,m,3,0,"div",3),t.YNc(5,H,29,16,"div",4),t.YNc(6,j,15,5,"div",5),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading&&!n.amIStandardPlan),t.xp6(1),t.Q6J("ngIf",!n.isLoading&&n.amIStandardPlan))},directives:[c.O5,c.mk,Z.U],styles:['.widget[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:calc(100% - 14px);max-width:1200px;min-width:300px;max-height:calc(100% - 15px);background:white;transition:.5s;border-radius:3px;border:1px solid rgba(0,0,0,.1);margin:0 5px 10px}.widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 108px);padding:20px}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:14px}.widget-item[_ngcontent-%COMP%]{flex:none;font-size:14px;color:#000000de}.widget-item[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{padding:14px 30px}.widget[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:7px}.widget[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:200px;font-size:14px;color:#0009}.widget[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{display:flex;padding:7px 0}.widget[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-bottom[_ngcontent-%COMP%]{display:flex;padding-top:6px}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;font-size:16px;padding:12px 20px;color:#000000de}.header[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{padding:7px 16px}.header[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{color:#aaa;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{color:#1e88e5}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{color:#1e88e5}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px;height:100px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.selectitem[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer;display:flex;flex-direction:row;font-size:14px}.selectitem[_ngcontent-%COMP%]:hover{background-color:#ebebeb}.selectitem.selected[_ngcontent-%COMP%]{background-color:#e0e0e0}.selectitem.label[_ngcontent-%COMP%]{margin:2px 0;max-width:420px;font-size:14px;padding:8px 10px;justify-content:space-between}.select-list[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;font-size:14px;border-style:solid;border-width:1px;border-radius:5px;border-color:#dfdfdf;overflow-x:hidden;white-space:nowrap;z-index:500;font-weight:500}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]{font-size:14px;color:#000000de}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]{width:100%;outline:none;border:0;border-bottom:1px solid rgba(0,0,0,.1);height:30px;text-indent:16px}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]{display:flex}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#1e90ff;filter:none}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]{display:flex;margin-right:5px;justify-content:center;color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:18px}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon.checked[_ngcontent-%COMP%]{color:#1f8fff}.select-list[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{margin:14px}[sortable-column][_ngcontent-%COMP%]{cursor:pointer}','@charset "UTF-8";.txt-cap[_ngcontent-%COMP%]{text-transform:capitalize}.txt-primary[_ngcontent-%COMP%]{color:#1e88e5}.txt-danger[_ngcontent-%COMP%]{color:#cd3d64}.no-info[_ngcontent-%COMP%]{color:#00000061}.txt-gray-high[_ngcontent-%COMP%]{color:#000000de}.alert[_ngcontent-%COMP%]{color:#b43658}.selected[_ngcontent-%COMP%]{color:#1e88e5;cursor:not-allowed}.widget[_ngcontent-%COMP%]   tr.bottom-no-line[_ngcontent-%COMP%]{border-bottom:none}.no-cloud-ai-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;padding-bottom:10px}.no-cloud-ai-desc[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#687385;padding-bottom:20px;line-height:20px;max-width:600px}.no-cloud-ai-icon[_ngcontent-%COMP%]{padding:7px;background-color:#fff;border-radius:10px;height:-moz-fit-content;height:fit-content}.chekt-select-option-wrapper[_ngcontent-%COMP%]{position:relative}.chekt-select-option[_ngcontent-%COMP%]{height:30px;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;z-index:1;background-color:#fff;border-radius:4px;box-shadow:#0000 0 0,#0000 0 0,#0000 0 0,#40445229 0 0 0 1px,#0000 0 0,#0000 0 0,#0000 0 0}.chekt-select-option.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.chekt-select-option[_ngcontent-%COMP%] > .chekt-select-option-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;position:relative;z-index:1;flex:0 1 auto;margin:0;text-decoration:none;vertical-align:middle;word-break:normal;background:transparent;border:0;outline:0;transition:color .24s;padding:4px 30px 4px 8px;-webkit-appearance:none;width:100%;appearance:none;-webkit-user-select:auto;user-select:auto;height:20px;cursor:pointer;font-family:Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:14px;color:#3c4257}.chekt-select-option-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;z-index:2;margin-top:-9px;transition:color .24s;pointer-events:none;color:#3c4257}.my-icon[_ngcontent-%COMP%]{width:1em;height:1em;display:flex;justify-content:center;align-items:center}.chekt-select-dropdown[_ngcontent-%COMP%]{background-color:#fff;width:100%;position:absolute;box-shadow:0 0 0 1px #8898aa1a,0 15px 35px #31315d1a,0 5px 15px #00000014;border-radius:4px;margin-top:7px;z-index:100;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(.075,.82,.165,1),opacity .3s cubic-bezier(.075,.82,.165,1)}.select-option-modal-list[_ngcontent-%COMP%]{cursor:pointer;max-height:200px;color:#55647b;font-size:14px;overflow-y:auto}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 0 8px 8px}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.loader[_ngcontent-%COMP%]{width:30px}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.bar-chart-contents[_ngcontent-%COMP%]{color:#000000de;flex-wrap:wrap}.bar-chart-contents-box[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;padding:25px 20px 26px;min-width:300px}.bar-chart-contents-box-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;font-weight:400;margin-bottom:5px}.bar-chart-contents-box-count[_ngcontent-%COMP%]{font-size:20px;font-weight:400;margin-bottom:5px}.bar-chart-contents-box-count.danger[_ngcontent-%COMP%]{color:#cd3d64}.bar-chart-contents-box-count.primary[_ngcontent-%COMP%]{color:#1e88e5}.bar-chart-contents-box-count.divider[_ngcontent-%COMP%]{margin:0 5px}.bar-chart-contents-box-sub-info[_ngcontent-%COMP%]{font-size:12px;font-weight:400;margin-bottom:5px;color:#000000de}.bar-chart-contents-box-total-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:5px;position:relative;margin:18px 0 8px;background-color:#0009}.bar-chart-contents-box-total-box-false[_ngcontent-%COMP%]{height:100%;width:0%;background-color:#cd3d64;transition:all 1s ease}.bar-chart-contents-box-total-box-true[_ngcontent-%COMP%]{height:100%;width:0%;background-color:#1e88e5;transition:all 1s ease}.excess-alert[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;justify-content:flex-end;margin-top:4px;color:gray}.dashboard-widget[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:10px}.dashboard-widget-contents[_ngcontent-%COMP%]{color:#000000de;flex-wrap:wrap}.dashboard-widget-contents-box[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-direction:column;padding:30px 20px 40px;min-width:300px}.dashboard-widget-contents-box-total-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:18px;position:relative;margin-top:18px;background-color:#f2f6f9}.dashboard-widget-contents-box-total-box-used[_ngcontent-%COMP%]{height:100%;width:0%;transition:all 1s ease}.dashboard-widget-contents-box-total-box-used.primary[_ngcontent-%COMP%]{background:#1E88E5}.dashboard-widget-contents-box-total-box-used.warning[_ngcontent-%COMP%]{background:#F5925E}.dashboard-widget-contents-box-total-box-used.danger[_ngcontent-%COMP%]{background:#CD3D64}']}),a})();var L=u(73121),Y=u(30722),U=u(28522),G=u(39014);const B=["siteActionMenus"];function $(a,s){1&a&&(t.TgZ(0,"div",2),t.O4$(),t.TgZ(1,"svg",3),t._UZ(2,"circle",4),t.qZA(),t.qZA())}function K(a,s){1&a&&t._UZ(0,"col",13),2&a&&t.Q6J("width",s.$implicit.width)}function X(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",16),t.NdJ("mouseenter",function(i){return t.CHM(e),t.oxw(3).commonService.setTooltipPosition(i,"top-center")}),t._UZ(1,"comp-icon",17),t.TgZ(2,"div",18),t._uU(3,"This feature applies only when the motion score feature is enabled. "),t._UZ(4,"br"),t._uU(5,"Additionally, this value is not included in AI request counts. Skipped events will be delivered to the Central station just like traditional video events."),t.qZA(),t.qZA()}2&a&&(t.xp6(1),t.Q6J("icon","info")("size",16)("color","#4f566b"))}function tt(a,s){if(1&a&&(t.TgZ(0,"th",14),t._uU(1),t.YNc(2,X,6,3,"div",15),t.qZA()),2&a){const e=s.$implicit;t.Q6J("sortable-column",e.value)("ngClass",null!=e&&e.tooltip?"flex v-center":""),t.xp6(1),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",null==e?null:e.tooltip)}}function et(a,s){1&a&&t._UZ(0,"col",13),2&a&&t.Q6J("width",s.$implicit.width)}function nt(a,s){if(1&a&&(t.TgZ(0,"tr",19),t.TgZ(1,"td",20),t._uU(2),t.qZA(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(0!=(null==e.searchText?null:e.searchText.length)&&(null==e.searchText?null:e.searchText.length)<3?"Please enter at least 3 characters":"No Site")}}function it(a,s){if(1&a&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.dealer_name)}}function ot(a,s){if(1&a&&(t.TgZ(0,"td"),t.TgZ(1,"div",23),t._uU(2),t.qZA(),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngClass",e.division_id?"division-name":""),t.xp6(1),t.Oqu(e.division_id?n.findDivisionName(e.division_id):"")}}function at(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",25,26),t.NdJ("mouseover",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(3).setMorePosition(i.site_id)}),t.TgZ(2,"div",27),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return i.stopPropagation(),r.toggleMenu(o)}),t._UZ(3,"comp-icon",28),t.qZA(),t.TgZ(4,"div",29),t.TgZ(5,"div",30),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return i.stopPropagation(),r.goToSite(o.site_id)}),t.TgZ(6,"div"),t._uU(7,"Go to Site"),t.qZA(),t.qZA(),t.TgZ(8,"div",30),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return i.stopPropagation(),r.moveToDetail(o)}),t.TgZ(9,"div"),t._uU(10,"Go to Detail"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit;t.Q6J("id",e.site_id),t.xp6(3),t.Q6J("icon","more_horiz")("size",20)("color","hsla(0, 0%, 0%, 0.87)"),t.xp6(1),t.ekj("show",e.isShowMenu),t.Q6J("id","more-"+e.site_id)}}function rt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"tr",22),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).moveToDetail(o)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.YNc(3,it,2,1,"td",12),t.YNc(4,ot,3,2,"td",12),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"div",23),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t.YNc(19,at,11,7,"div",24),t.qZA(),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);let i,o,r,l;t.xp6(1),t.ekj("unknown","No Name"===e.name),t.xp6(1),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",n.amIMainDealer),t.xp6(1),t.Q6J("ngIf",n.isDivisionEnable),t.xp6(2),t.Oqu(n.formatNumbersWithComma(e.device_count)),t.xp6(2),t.Q6J("ngClass",e.videoai_enabled?"cloudai-enabled":"cloudai-disabled"),t.xp6(1),t.Oqu(e.videoai_enabled?"Enabled":"Disabled"),t.xp6(2),t.Oqu(null!==(i=e.video_events)&&void 0!==i?i:0),t.xp6(2),t.Oqu(null!==(o=e.ai_true_alarm)&&void 0!==o?o:0),t.xp6(2),t.Oqu(null!==(r=e.ai_false_alarm)&&void 0!==r?r:0),t.xp6(2),t.Oqu(null!==(l=e.ai_request)&&void 0!==l?l:0),t.xp6(2),t.Q6J("ngIf","sites"===n.tab)}}function lt(a,s){if(1&a&&(t.ynx(0),t.YNc(1,rt,20,13,"tr",21),t.BQk()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.pagedItems)}}function st(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"table",7),t.NdJ("sorted",function(i){return t.CHM(e),t.oxw().sortTableByColumn(i)}),t.TgZ(3,"colgroup"),t.YNc(4,K,1,1,"col",8),t.qZA(),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.YNc(7,tt,3,4,"th",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",10),t.TgZ(9,"table"),t.TgZ(10,"colgroup"),t.YNc(11,et,1,1,"col",8),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,nt,3,1,"tr",11),t.YNc(14,lt,2,1,"ng-container",12),t.qZA(),t.qZA(),t.qZA(),t.Hsn(15),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.siteTableHeader),t.xp6(3),t.Q6J("ngForOf",e.siteTableHeader),t.xp6(4),t.Q6J("ngForOf",e.siteTableHeader),t.xp6(2),t.Q6J("ngIf",0===(null==e.pagedItems?null:e.pagedItems.length)&&!e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}const ct=["*"];let dt=(()=>{class a{constructor(e,n,i){this.commonService=e,this.divisionService=n,this.helper=i,this.setDealerFilterForSiteTab=new t.vpe,this.doFilterSite=new t.vpe,this.sumCloudAIEvents=new t.vpe,this.moveToSiteDetail=new t.vpe,this.doneCallingAllData=new t.vpe,this.updateDivisionList=new t.vpe,this.isLoading=!1,this.me=null,this.dealerId=null,this.dealers=[],this.amIStandardPlan=!1,this.isDivisionEnable=!1,this.originSites=[],this.filteredSites=[],this.siteCloudAIDataList=[],this.siteCloudAISkippedDataList=[],this.siteVideoEventsDataList=[],this.sortedColumn=null,this.isAscending=!0,this.siteTableHeader=[{name:"SITE NAME",value:"name",width:"20%",tooltip:!1},{name:"TOTAL DEVICES",value:"device_count",width:"10%",tooltip:!1},{name:"AI ENABLED",value:"videoai_enabled",width:"10%",tooltip:!1},{name:"VIDEO EVENTS",value:"video_events",width:"10%",tooltip:!1},{name:"AI TRUE",value:"ai_true_alarm",width:"10%",tooltip:!1},{name:"AI FALSE",value:"ai_false_alarm",width:"10%",tooltip:!1},{name:"AI EVENTS",value:"ai_request",width:"10%",tooltip:!1},{name:"",value:null,width:"5%",tooltip:!1}],this.divisionList=[]}onGlobalClick(e){this.siteActionMenus&&this.siteActionMenus.toArray().forEach(i=>{this.pagedItems.forEach(o=>{o.site_id===parseInt(i.nativeElement.id)&&(i.nativeElement.contains(e.target)||(o.isShowMenu=!1))})})}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield this.checkAmIMainDealer(),yield this.load_site_tab_data(),yield this.fetchDivision(),yield this.checkCanIHaveDivision()})}ngOnChanges(e){!e.prevSelectedMonth||!e.selectedMonth||!e.prevSelectedMonth.currentValue||e.prevSelectedMonth.currentValue!==e.selectedMonth.currentValue&&this.load_dealer_sites_cloudAI_data()}checkAmIMainDealer(){var e;return(0,g.mG)(this,void 0,void 0,function*(){this.me=yield this.helper.me.get_me(),this.amIMainDealer=2===(null===(e=this.me)||void 0===e?void 0:e.type),this.dealerId=this.me.dealer_id,this.amIMainDealer&&this.siteTableHeader.splice(1,0,{name:"DEALER NAME",value:"dealer_name",width:"15%",tooltip:!1})})}checkCanIHaveDivision(){this.dealerPlanData&&(this.amIStandardPlan=0===this.dealerPlanData.service_plan_type,this.isDivisionEnable=this.dealerPlanData.service_plan_type>2,this.isDivisionEnable)&&this.siteTableHeader.splice(2,0,{name:"DIVISIONS",value:"division",width:"10%",tooltip:!1})}load_site_tab_data(){return(0,g.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,yield this.load_partners(),yield this.set_sites_loaded()}catch(e){console.debug("load_site_tab_data :>",e),this.endForLoadData()}})}load_partners(){return(0,g.mG)(this,void 0,void 0,function*(){try{if(!this.amIMainDealer)return;const e=yield this.helper.partner.get_partners();this.dealers=e}catch(e){console.debug("load_partners :>",e),this.endForLoadData()}})}set_sites_loaded(){return(0,g.mG)(this,void 0,void 0,function*(){try{const e=yield this.helper.sites.sites_loaded(),n=null==e?void 0:e.filter(i=>i.dealer_id==this.dealerId||3==i.dealer_type);return n&&(null==n?void 0:n.length)?yield this.parseSiteDataAndCallStatsData(n):yield this.load_sites()}catch(e){console.debug("set_sites_loaded :>",e),this.endForLoadData()}})}load_sites(){return(0,g.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0;const e="site_id&fields=name&fields=dealer_id&fields=dealer_type",n=yield this.helper.sites.get_sites(null,e);yield this.parseSiteDataAndCallStatsData(n)}catch(e){console.debug("load_sites",e),this.endForLoadData()}})}load_searched_sites(e){return(0,g.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0;const n=yield this.helper.sites.get_searched_sites(e);this.parse_searched_sites(n)}catch(n){console.debug("load_searched_sites :>",n),this.endForLoadData()}})}parseSiteDataAndCallStatsData(e){return(0,g.mG)(this,void 0,void 0,function*(){if(!Array.isArray(e)||!(null==e?void 0:e.length))return this.endForLoadData();e.forEach(n=>{var i,o,r;n.name||(n.name="No Name");let l="";l=this.amIMainDealer?null!==(i=null==n?void 0:n.external_dealer_id_with_company_name)&&void 0!==i?i:"No Name":null!==(r=null===(o=this.me)||void 0===o?void 0:o.company_name)&&void 0!==r?r:"No Name",n.dealer_name=null!=l?l:"No Name",n.ai_request="0",n.ai_true_alarm="0",n.ai_false_alarm="0",n.ai_skipped_alarm="0",n.video_events="0"}),e=e.filter(n=>n.dealer_id==this.dealerId||3==n.dealer_type),this.originSites=[...e],this.filteredSites=[...e],this.setDealerFilterForSiteTab.emit(this.selSearchDealer),this.doFilterSite.emit({filteredSites:e,originSites:e}),yield this.checkLoadingPagedItemAndDelay()})}parse_searched_sites(e){if(!Array.isArray(e)||!(null==e?void 0:e.length))return this.endForLoadData();e.forEach(n=>{var i,o,r,l;n.name||(n.name="No Name");let _="";_=this.amIMainDealer?null!==(o=null===(i=this.dealers.find(p=>p.dealer_id==n.dealer_id))||void 0===i?void 0:i.external_dealer_id_with_company_name)&&void 0!==o?o:"No Name":null!==(l=null===(r=this.me)||void 0===r?void 0:r.company_name)&&void 0!==l?l:"No Name",n.dealer_name=null!=_?_:"No Name",n.ai_request="0",n.ai_true_alarm="0",n.ai_false_alarm="0",n.ai_skipped_alarm="0",n.video_events="0"}),e=e.filter(n=>n.dealer_id==this.dealerId||3==n.dealer_type),this.filteredSites=e,this.load_dealer_stats_by_sites_every_100_units(),this.parseSiteCloudAIData()}fetchDivision(){return(0,g.mG)(this,void 0,void 0,function*(){try{const e=this.me.dealer_id;this.divisionList=yield this.divisionService.getMyDivisions(e).toPromise(),this.updateDivisionList.emit(this.divisionList)}catch(e){console.debug(e)}})}findDivisionName(e){var n;return e&&(null===(n=this.divisionList.find(o=>o.id==e))||void 0===n?void 0:n.name)||""}checkLoadingPagedItemAndDelay(){return(0,g.mG)(this,void 0,void 0,function*(){this.pagedItemIsReady?yield this.load_dealer_sites_cloudAI_data():setTimeout(()=>this.checkLoadingPagedItemAndDelay(),500)})}load_dealer_sites_cloudAI_data(){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.initSiteStats(),yield this.load_dealer_stats_by_sites_every_100_units(),yield this.load_dealer_sites_cloudAI_events()})}initSiteStats(){this.filteredSites.forEach(e=>{e.ai_request="0",e.ai_true_alarm="0",e.ai_false_alarm="0",e.ai_skipped_alarm="0",e.video_events="0"})}load_dealer_stats_by_sites_every_100_units(){return(0,g.mG)(this,void 0,void 0,function*(){try{const e=this.filteredSites.map(i=>i.site_id);let n=[];for(let i=100;i<=e.length+100;i+=100){let o=e.slice(i-100,i);n.push(o)}for(let i=0;i<n.length;i++){const o=n[i];yield Promise.all([this.load_dealer_sites_video_events_stats(o)])}}catch(e){this.endForLoadData(),console.debug("load_dealer_stats_by_sites_every_100_units :>>",e)}})}load_dealer_sites_skipped_stats(e){return(0,g.mG)(this,void 0,void 0,function*(){try{if(!(null==e?void 0:e.length))return this.endForLoadData();const n=this.selectedMonth.value,i=this.utcDate(n).startOf("day").unix();let o;o=this.isCurrentMonth()?this.utcDate().unix():this.utcDate(n).endOf("month").endOf("day").unix();const r=yield this.helper.dealer.get_dealer_stats_by_sites(i,o,e);this.siteCloudAISkippedDataList=r,this.parseSiteCloudAISkippedData()}catch(n){console.debug("load_dealer_sites_skipped_stats :>",n),this.endForLoadData()}})}load_dealer_sites_video_events_stats(e){return(0,g.mG)(this,void 0,void 0,function*(){try{if(!(null==e?void 0:e.length))return this.endForLoadData();const n=this.selectedMonth.value,i=this.utcDate(n).startOf("day").unix();let o;o=this.isCurrentMonth()?this.utcDate().unix():this.utcDate(n).endOf("month").endOf("day").unix();const r=yield this.helper.dealer.get_dealer_stats_by_sites(i,o,e,2,11);this.siteVideoEventsDataList=r,this.parseSiteVideoEventsData()}catch(n){console.debug("load_dealer_sites_video_events_stats :>",n),this.endForLoadData()}})}load_dealer_sites_cloudAI_events(){var e,n;return(0,g.mG)(this,void 0,void 0,function*(){const i=this.selectedMonth.value;if((null===(e=this.siteCloudAIDataList)||void 0===e?void 0:e.length)&&!i)return this.endForLoadData();if(this.amIStandardPlan)return this.endForLoadData();try{const o=this.calcCurrentMonth(i),r=yield this.helper.dealer_cloud_ai.get_dealer_sites_cloudAI_events(o),l=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:[];this.siteCloudAIDataList=l,this.parseSiteCloudAIData()}catch(o){console.debug("load_dealer_sites_cloudAI_events :>",o),this.endForLoadData()}})}parseSiteCloudAISkippedData(){var e,n,i;if(!(null===(e=this.filteredSites)||void 0===e?void 0:e.length)||!this.filteredSites)return this.endForLoadData();for(let o=0;o<this.filteredSites.length;o++){const r=this.filteredSites[o],l=null!==(n=null==r?void 0:r.site_id)&&void 0!==n?n:"";if(!l)continue;const _=null===(i=this.siteCloudAISkippedDataList[l])||void 0===i?void 0:i.videoai_skipped_count;if(!_)continue;const p=parseInt(_);r.ai_skipped_alarm=this.formatNumbersWithComma(p)}}parseSiteVideoEventsData(){var e,n,i;if(!(null===(e=this.filteredSites)||void 0===e?void 0:e.length)||!this.filteredSites)return this.endForLoadData();for(let o=0;o<this.filteredSites.length;o++){const r=this.filteredSites[o],l=null!==(n=null==r?void 0:r.site_id)&&void 0!==n?n:"";if(!l)continue;const _=null===(i=this.siteVideoEventsDataList[l])||void 0===i?void 0:i.video_event_count;if(!_)continue;const p=parseInt(_);r.video_events=this.formatNumbersWithComma(p)}}parseSiteCloudAIData(){var e,n,i,o,r,l;if(!(null===(e=this.filteredSites)||void 0===e?void 0:e.length)||!this.filteredSites)return this.endForLoadData();for(let _=0;_<this.filteredSites.length;_++){const p=this.filteredSites[_],d=this.siteCloudAIDataList.filter(h=>h.site_id==p.site_id);if(!d.length)continue;const x=null!==(n=d.reduce((h,C)=>h+(null==C?void 0:C.count),0))&&void 0!==n?n:0,b=null!==(o=null===(i=d.find(h=>null==h?void 0:h.ai_filter_matched))||void 0===i?void 0:i.count)&&void 0!==o?o:0,f=null!==(l=null===(r=d.find(h=>!(null==h?void 0:h.ai_filter_matched)))||void 0===r?void 0:r.count)&&void 0!==l?l:0;p.ai_request=this.formatNumbersWithComma(x),p.ai_true_alarm=this.formatNumbersWithComma(b),p.ai_false_alarm=this.formatNumbersWithComma(f)}this.endForLoadData()}endForLoadData(){this.doFilterSite.emit({filteredSites:this.filteredSites}),this.sumCloudAIEvents.emit(),this.doneCallingAllData.emit("sites"),this.isLoading=!1}sortTableByColumn(e){if(!e.sortColumn||""===e.sortDirection)return;const i=this.filteredSites.sort((o,r)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(o.name.toLowerCase(),r.name.toLowerCase(),l);case"device_count":return this.compare(o.device_count,r.device_count,l);case"dealer_name":return this.compare(o.dealer_name.toLowerCase(),r.dealer_name.toLowerCase(),l);case"division":return this.compare(this.findDivisionName(o.division_id)||"",this.findDivisionName(r.division_id)||"",l);case"videoai_enabled":return this.compare(o.videoai_enabled,r.videoai_enabled,l);case"video_events":return this.compare(this.formatNumberWithCommaToNumber(o.video_events),this.formatNumberWithCommaToNumber(r.video_events),l);case"ai_true_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_true_alarm),this.formatNumberWithCommaToNumber(r.ai_true_alarm),l);case"ai_false_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_false_alarm),this.formatNumberWithCommaToNumber(r.ai_false_alarm),l);case"ai_skipped_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_skipped_alarm),this.formatNumberWithCommaToNumber(r.ai_skipped_alarm),l);case"ai_request":return this.compare(this.formatNumberWithCommaToNumber(o.ai_request),this.formatNumberWithCommaToNumber(r.ai_request),l);default:return 0}});this.filteredSites=i,this.doFilterSite.emit({filteredSites:i})}goToSite(e){this.helper.router.navigate_to("/customers/devices/cloud-ai",{id:e})}moveToDetail(e){this.moveToSiteDetail.emit(e),this.pagedItems.forEach(n=>n.isShowMenu=!1)}setMorePosition(e){const n=document.documentElement;let i=document.getElementById(e),o=document.getElementById("more-"+e),r=null==i?void 0:i.getBoundingClientRect();const _=r.bottom+7;o.style.right=n.clientWidth-r.right-10+"px",o.style.top=_+"px"}toggleMenu(e){e.isShowMenu=!e.isShowMenu}compare(e,n,i){return(e<n?-1:1)*(i?1:-1)}formatNumbersWithComma(e){return"string"==typeof e&&e.includes(",")?void 0:(null==e&&(e=0),parseFloat(e).toLocaleString("en-US"))}formatNumberWithCommaToNumber(e){return parseInt(e.replace(/,/g,""))}utcDate(e){const n=e?new Date(e):new Date;return L.Z.moment(n).utc()}calcCurrentMonth(e){return this.utcDate(e).startOf("month").format()}isCurrentMonth(){return this.utcDate(this.selectedMonth.value).startOf("day").month()===this.utcDate().month()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.v),t.Y36(Y.E),t.Y36(A.W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["c_dtable_cloud_ai_stat_site"]],viewQuery:function(e,n){if(1&e&&t.Gf(B,5),2&e){let i;t.iGM(i=t.CRH())&&(n.siteActionMenus=i)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(o){return n.onGlobalClick(o)},!1,t.evT)},inputs:{tab:"tab",dealerPlanData:"dealerPlanData",amIMainDealer:"amIMainDealer",pagedItemIsReady:"pagedItemIsReady",prevSelectedMonth:"prevSelectedMonth",selectedMonth:"selectedMonth",selSearchDealer:"selSearchDealer",pagedItems:"pagedItems",searchText:"searchText"},outputs:{setDealerFilterForSiteTab:"setDealerFilterForSiteTab",doFilterSite:"doFilterSite",sumCloudAIEvents:"sumCloudAIEvents",moveToSiteDetail:"moveToSiteDetail",doneCallingAllData:"doneCallingAllData",updateDivisionList:"updateDivisionList"},features:[t.TTD],ngContentSelectors:ct,decls:3,vars:2,consts:[["class","loader absolute",4,"ngIf"],["class","table-area",4,"ngIf"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"table-area"],[1,"content-body","table-container"],["sortable-table","",1,"table-header",3,"sorted"],[3,"width",4,"ngFor","ngForOf"],[3,"sortable-column","ngClass",4,"ngFor","ngForOf"],[1,"table-body"],["style","text-align: center; color: #999;",4,"ngIf"],[4,"ngIf"],[3,"width"],[3,"sortable-column","ngClass"],["class","--g-tooltip-content",3,"mouseenter",4,"ngIf"],[1,"--g-tooltip-content",3,"mouseenter"],[1,"--g-tooltip-icon",3,"icon","size","color"],[1,"--g-tooltip",2,"text-transform","none"],[2,"text-align","center","color","#999"],["colspan","11"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"ngClass"],["class","more-content v-center",3,"id","mouseover",4,"ngIf"],[1,"more-content","v-center",3,"id","mouseover"],["siteActionMenus",""],[1,"more-selector",3,"click"],[3,"icon","size","color"],[1,"more",3,"id"],[1,"more-item","pointer","row",3,"click"]],template:function(e,n){1&e&&(t.F$t(),t.ynx(0),t.YNc(1,$,3,0,"div",0),t.YNc(2,st,16,5,"div",1),t.BQk()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading))},directives:[c.O5,U.Q,c.sg,G.a,c.mk,Z.U],styles:['table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;max-width:1vw}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}','@charset "UTF-8";.txt-cap[_ngcontent-%COMP%]{text-transform:capitalize}.txt-primary[_ngcontent-%COMP%]{color:#1e88e5}.txt-danger[_ngcontent-%COMP%]{color:#cd3d64}.no-info[_ngcontent-%COMP%]{color:#00000061}.txt-gray-high[_ngcontent-%COMP%]{color:#000000de}.filters-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:20px;font-size:14px}.filters-area[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;grid-gap:8px;gap:8px;width:100%}.table-area[_ngcontent-%COMP%]{height:100%}.table-container[_ngcontent-%COMP%]   .unknown[_ngcontent-%COMP%]{color:#00000061}.table-container[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{font-size:12px;padding:3px 10px;background:#E9F3FC;border-radius:20px;color:#1e88e5}.table-container[_ngcontent-%COMP%]   .offline[_ngcontent-%COMP%]{padding:3px 10px;font-size:12px;background:#FAECF0;border-radius:20px;color:#cd3d64}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);height:100%}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fff}.report-tab[_ngcontent-%COMP%]{height:48px;color:#888;display:flex;align-items:center}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.report-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.report-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.report-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.report-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-size:14px}.report-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:4px;background:#2383e2}.space[_ngcontent-%COMP%]{flex:1}.Calipsa[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:500;font-size:12px;text-align:center;color:#5469d4;border:1px solid #5469D4;border-radius:5px;padding:2px 4px}.Actuate[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:500;font-size:12px;color:#f5925e;text-align:center;border:1px solid #F5925E;border-radius:5px;padding:2px 4px}input[type=text][_ngcontent-%COMP%]{font-size:14px;transition:.2s;text-indent:0px;font-weight:400}input[type=text][_ngcontent-%COMP%]::placeholder{color:#00000061}.filter-btn[_ngcontent-%COMP%]{color:#0009}.filter-btn[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{margin-right:5px}.filter-btn[_ngcontent-%COMP%]   .exist-filter[_ngcontent-%COMP%]{font-size:14px;color:#1e88e5;border-left:solid 1px rgba(0,0,0,.1);margin-left:10px;padding-left:10px}.filter-box[_ngcontent-%COMP%]{position:absolute;visibility:hidden;opacity:0;display:flex;flex-direction:column;top:38px;transition:all .3s;z-index:2;background:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);box-shadow:0 0 10px #0000001a}.filter-box.show-filter[_ngcontent-%COMP%]{visibility:visible;opacity:1}.filter-box-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;padding:7px 10px;box-sizing:border-box;justify-content:space-between;background-color:#f7fafc;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-header-title[_ngcontent-%COMP%]{font-size:16px;color:#000000de}.filter-box-header[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{margin:6px 12px}.filter-box-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:72px;box-sizing:border-box;transition:all .2s}.filter-box-footer[_ngcontent-%COMP%]{display:flex;width:100%;padding:7px 10px;box-sizing:border-box;background-color:#f7fafc}.filter-box-category[_ngcontent-%COMP%]{min-height:44px;padding:12px;display:flex;align-items:center;box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-items[_ngcontent-%COMP%]{visibility:hidden;display:block;line-height:0;height:0;opacity:0;overflow:hidden;padding:0 24px;background:#F7FAFC;transition:all .2s}.filter-box-items-item[_ngcontent-%COMP%]{margin-bottom:16px}.filter-box-items-item[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{font-size:13px;color:#55647b}.filter-box-items-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-box-items.expend[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;line-height:normal;padding:16px 24px;opacity:1;overflow:initial}.filter-box-items.expend.show[_ngcontent-%COMP%]{visibility:visible}.more-content[_ngcontent-%COMP%]{position:relative;justify-content:flex-end;cursor:pointer}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]{padding:0 7px}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]:hover{outline:1px solid rgba(0,0,0,.1);border-radius:5px}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]{cursor:pointer;padding:0 4px;border-radius:4px;margin-right:10px;font-size:18px;color:#0009;-webkit-user-select:none;user-select:none}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]:hover, .more-content[_ngcontent-%COMP%]   .more-icon.show[_ngcontent-%COMP%]{box-shadow:0 0 4px gray}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{visibility:hidden;opacity:0;background-color:#fff;color:#000000de;box-sizing:border-box;border-radius:6px;font-size:14px;box-shadow:0 0 10px #0000001a;border:1px solid rgba(0,0,0,.1);position:fixed;z-index:100;top:25px;right:0px}.more-content[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{visibility:visible;opacity:1}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-title[_ngcontent-%COMP%]{color:#000000de;margin-bottom:5px;font-weight:500}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]{color:#0009;margin-bottom:14px;line-height:20px}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]:last-child{margin-bottom:0}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]{padding:7px 14px;box-sizing:border-box;font-size:14px;font-weight:400}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]:hover{background-color:#f7fafc;color:#000000de}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item.txt-primary[_ngcontent-%COMP%]{color:#2383e2}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:#8792a2;margin-right:8px}.widget[_ngcontent-%COMP%]   tr.bottom-no-line[_ngcontent-%COMP%]{border-bottom:none}.tooltip-content[_ngcontent-%COMP%]{position:relative}.tooltip-content[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:7px;font-size:18px;color:#0009}.tooltip-content[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{width:320px;visibility:hidden;background-color:#fff;padding:20px;box-sizing:border-box;border-radius:6px;font-size:14px;box-shadow:0 0 30px #0000004d;position:absolute;z-index:100;top:-30px;right:-343px;opacity:0;transition:opacity .3s;color:#000000de;word-spacing:1px}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:25px;left:-5px;margin-left:-19px;border-width:12px;border-style:solid;border-color:transparent #fff transparent transparent}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .font-10[_ngcontent-%COMP%]{font-size:10px}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .font-12[_ngcontent-%COMP%]{font-size:12px}.tooltip-content[_ngcontent-%COMP%]   .tooltip.test[_ngcontent-%COMP%]{visibility:visible;opacity:1}.tooltip-content[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:3px 5px;font-size:12px;background:rgba(85,100,123,.1);border:1px solid #E3E8EE;border-radius:3px;color:#56657b}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag.tag-red[_ngcontent-%COMP%]{background:rgba(205,61,100,.1);border:1px solid #E3E8EE;border-radius:3px;color:#cd3c63}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag.tag-green[_ngcontent-%COMP%]{background:rgba(30,166,117,.1);border:1px solid #E3E8EE;border-radius:3px;color:#1ea473}.tooltip[_ngcontent-%COMP%]{width:367px}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]{padding-bottom:10px}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]   .tooltip-row[_ngcontent-%COMP%]{padding-bottom:5px}.loader[_ngcontent-%COMP%]{width:30px;height:100%;top:0!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.chekt-select-option-wrapper[_ngcontent-%COMP%]{position:relative}.chekt-select-option[_ngcontent-%COMP%]{height:30px;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;z-index:1;background-color:#fff;border-radius:4px;box-shadow:#0000 0 0,#0000 0 0,#0000 0 0,#40445229 0 0 0 1px,#0000 0 0,#0000 0 0,#0000 0 0}.chekt-select-option.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.chekt-select-option[_ngcontent-%COMP%] > .chekt-select-option-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;position:relative;z-index:1;flex:0 1 auto;margin:0;text-decoration:none;vertical-align:middle;word-break:normal;background:transparent;border:0;outline:0;transition:color .24s;padding:4px 30px 4px 8px;-webkit-appearance:none;width:100%;appearance:none;-webkit-user-select:auto;user-select:auto;height:20px;cursor:pointer;font-family:Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:14px;color:#3c4257}.chekt-select-option-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;z-index:2;margin-top:-9px;transition:color .24s;pointer-events:none;color:#3c4257}.my-icon[_ngcontent-%COMP%]{width:1em;height:1em;display:flex;justify-content:center;align-items:center}.chekt-select-dropdown[_ngcontent-%COMP%]{background-color:#fff;width:100%;position:absolute;box-shadow:0 0 0 1px #8898aa1a,0 15px 35px #31315d1a,0 5px 15px #00000014;border-radius:4px;margin-top:7px;z-index:100;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(.075,.82,.165,1),opacity .3s cubic-bezier(.075,.82,.165,1)}.select-option-modal-list[_ngcontent-%COMP%]{cursor:pointer;max-height:200px;color:#55647b;font-size:14px;overflow-y:auto}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 0 8px 8px}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.cloudai-enabled[_ngcontent-%COMP%]{border-radius:5px;background:rgba(30,136,229,.2);padding:2px 8px;font-size:14px;color:#1e88e5;width:-moz-fit-content;width:fit-content}.cloudai-disabled[_ngcontent-%COMP%], .division-name[_ngcontent-%COMP%]{border-radius:5px;background:rgba(0,0,0,.15);padding:2px 8px;font-size:14px;color:#55647b;width:-moz-fit-content;width:fit-content}.division-name[_ngcontent-%COMP%]:empty{background:none;padding:0}']}),a})();const _t=["deviceActionMenus"];function gt(a,s){1&a&&(t.TgZ(0,"div",2),t.O4$(),t.TgZ(1,"svg",3),t._UZ(2,"circle",4),t.qZA(),t.qZA())}function pt(a,s){1&a&&t._UZ(0,"col",13),2&a&&t.Q6J("width",s.$implicit.width)}function ht(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",16),t.NdJ("mouseenter",function(i){return t.CHM(e),t.oxw(3).commonService.setTooltipPosition(i,"top-center")}),t._UZ(1,"comp-icon",17),t.TgZ(2,"div",18),t._uU(3,"This feature applies only when the motion score feature is enabled. "),t._UZ(4,"br"),t._uU(5,"Additionally, this value is not included in AI request counts. Skipped events will be delivered to the Central station just like traditional video events."),t.qZA(),t.qZA()}2&a&&(t.xp6(1),t.Q6J("icon","info")("size",16)("color","#4f566b"))}function ut(a,s){if(1&a&&(t.TgZ(0,"th",14),t._uU(1),t.YNc(2,ht,6,3,"div",15),t.qZA()),2&a){const e=s.$implicit;t.Q6J("sortable-column",e.value)("ngClass",null!=e&&e.tooltip?"flex v-center":""),t.xp6(1),t.hij(" ",e.name,""),t.xp6(1),t.Q6J("ngIf",null==e?null:e.tooltip)}}function mt(a,s){1&a&&t._UZ(0,"col",13),2&a&&t.Q6J("width",s.$implicit.width)}function ft(a,s){if(1&a&&(t.TgZ(0,"tr",19),t.TgZ(1,"td",20),t._uU(2),t.qZA(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(0!=e.searchText.length&&e.searchText.length<3?"Please enter at least 3 characters":"No Device")}}function xt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",24,25),t.NdJ("mouseover",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(3).setMorePosition(i.device_id)}),t.TgZ(2,"div",26),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return i.stopPropagation(),r.toggleMenu(o)}),t._UZ(3,"comp-icon",27),t.qZA(),t.TgZ(4,"div",28),t.TgZ(5,"div",29),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return i.stopPropagation(),r.goToCamera(o)}),t.TgZ(6,"div"),t._uU(7,"Go to Device"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit;t.Q6J("id",e.device_id),t.xp6(3),t.Q6J("icon","more_horiz")("size",20)("color","hsla(0, 0%, 0%, 0.87)"),t.xp6(1),t.ekj("show",e.isShowMenu),t.Q6J("id","more-"+e.device_id)}}function bt(a,s){if(1&a&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"span",22),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"td"),t.TgZ(13,"div",22),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t.YNc(24,xt,8,7,"div",23),t.qZA(),t.qZA()),2&a){const e=s.$implicit,n=t.oxw(3);let i,o,r,l;t.xp6(2),t.Oqu(e.zone_number),t.xp6(1),t.ekj("unknown","No Name"===e.dealer_name),t.xp6(1),t.Oqu(e.dealer_name),t.xp6(1),t.ekj("unknown","No Site Name"===e.site_name),t.xp6(1),t.Oqu(e.site_name),t.xp6(1),t.ekj("unknown","No Name"===e.name),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngClass",e.is_online?"online":"offline"),t.xp6(1),t.Oqu(e.is_online?"Online":"Offline"),t.xp6(2),t.Q6J("ngClass",e.videoai_enabled?e.provider_name:""),t.xp6(1),t.Oqu(e.provider_name),t.xp6(2),t.Oqu(null!==(i=e.video_events)&&void 0!==i?i:0),t.xp6(2),t.Oqu(null!==(o=e.ai_true_alarm)&&void 0!==o?o:0),t.xp6(2),t.Oqu(null!==(r=e.ai_false_alarm)&&void 0!==r?r:0),t.xp6(2),t.Oqu(null!==(l=e.ai_request)&&void 0!==l?l:0),t.xp6(2),t.Q6J("ngIf","devices"===n.tab)}}function vt(a,s){if(1&a&&(t.ynx(0),t.YNc(1,bt,25,19,"tr",21),t.BQk()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.pagedItems)}}function Ct(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"table",7),t.NdJ("sorted",function(i){return t.CHM(e),t.oxw().sortTableByColumn(i)}),t.TgZ(3,"colgroup"),t.YNc(4,pt,1,1,"col",8),t.qZA(),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.YNc(7,ut,3,4,"th",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",10),t.TgZ(9,"table"),t.TgZ(10,"colgroup"),t.YNc(11,mt,1,1,"col",8),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,ft,3,1,"tr",11),t.YNc(14,vt,2,1,"ng-container",12),t.qZA(),t.qZA(),t.qZA(),t.Hsn(15),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.deviceTableHeader),t.xp6(3),t.Q6J("ngForOf",e.deviceTableHeader),t.xp6(4),t.Q6J("ngForOf",e.deviceTableHeader),t.xp6(2),t.Q6J("ngIf",0===(null==e.pagedItems?null:e.pagedItems.length)&&!e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}const Mt=["*"];let Pt=(()=>{class a{constructor(e,n){this.commonService=e,this.helper=n,this.setSiteFilterForDeviceTab=new t.vpe,this.doFilterDevice=new t.vpe,this.sumCloudAIEvents=new t.vpe,this.doneCallingAllData=new t.vpe,this.isLoading=!1,this.dealerId=null,this.meDealerInfo=null,this.dealers=[],this.sites=[],this.providerList=[],this.filteredDevices=[],this.originDevices=[],this.deviceCloudAIDataList=[],this.deviceCloudAISkippedDataList=[],this.deviceVideoEventsDataList=[],this.sortedColumn=null,this.isAscending=!0,this.deviceTableHeader=[{name:"CH#",value:"zone_number",width:"7%",tooltip:!1},{name:"DEALER NAME",value:"dealer_name",width:"13%",tooltip:!1},{name:"SITE NAME",value:"site_name",width:"13%",tooltip:!1},{name:"DEVICE NAME",value:"name",width:"13%",tooltip:!1},{name:"NETWORK",value:"is_online",width:"8%",tooltip:!1},{name:"AI PROVIDER",value:"provider_name",width:"8%",tooltip:!1},{name:"VIDEO EVENTS",value:"video_events",width:"7%",tooltip:!1},{name:"AI TRUE",value:"ai_true_alarm",width:"7%",tooltip:!1},{name:"AI FALSE",value:"ai_false_alarm",width:"7%",tooltip:!1},{name:"AI EVENTS",value:"ai_request",width:"10%",tooltip:!1},{name:"",value:null,width:"5%",tooltip:!1}]}onGlobalClick(e){this.deviceActionMenus&&this.deviceActionMenus.toArray().forEach(i=>{this.pagedItems.forEach(o=>{o.device_id===parseInt(i.nativeElement.id)&&(i.nativeElement.contains(e.target)||(o.isShowMenu=!1))})})}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){this.dealerId=yield this.helper.me.get_my_dealer_id(),yield this.load_device_tab_data()})}ngOnChanges(e){!e.prevSelectedMonth||!e.selectedMonth||!e.prevSelectedMonth.currentValue||e.prevSelectedMonth.currentValue!==e.selectedMonth.currentValue&&this.load_dealer_devices_cloudAI_data()}load_device_tab_data(){return(0,g.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,yield this.setDealerInfo(),yield this.load_partners(),yield this.set_sites_loaded(),yield this.load_get_all_provider(),yield this.load_devices()}catch(e){this.endForLoadData()}})}setDealerInfo(){return(0,g.mG)(this,void 0,void 0,function*(){const e=yield this.helper.dealer.get_dealer_info();this.meDealerInfo=e[0],this.amIStandardPlan=this.helper.dealer_plan.isStandardPlan()})}load_partners(){return(0,g.mG)(this,void 0,void 0,function*(){try{if(!this.amIMainDealer)return;const e=yield this.helper.partner.get_partners();e.unshift(this.meDealerInfo),this.dealers=e}catch(e){console.debug(e),this.endForLoadData()}})}set_sites_loaded(){return(0,g.mG)(this,void 0,void 0,function*(){try{const e=yield this.helper.sites.sites_loaded(),n=null==e?void 0:e.filter(i=>i.dealer_id==this.dealerId||3==i.dealer_type);n&&(null==n?void 0:n.length)?this.parseSiteList(n):yield this.load_sites()}catch(e){console.debug("set_sites_loaded:>",e)}})}load_sites(){return(0,g.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0;const e="site_id&fields=name&fields=dealer_id&fields=dealer_type",n=yield this.helper.sites.get_sites(null,e);this.parseSiteList(n)}catch(e){console.debug("load_sites",e),this.endForLoadData()}})}parseSiteList(e){return(0,g.mG)(this,void 0,void 0,function*(){e.forEach(n=>{n.name||(n.name="No Name")}),e=e.filter(n=>n.dealer_id==this.dealerId||3==n.dealer_type),this.sites=e,this.setSiteFilterForDeviceTab.emit({sites:e,selSearchSite:this.selSearchSite})})}load_get_all_provider(){var e;return(0,g.mG)(this,void 0,void 0,function*(){try{this.providerList=null!==(e=yield this.helper.dealer_cloud_ai.get_cloud_ai_providers())&&void 0!==e?e:[],this.providerList.forEach(n=>n.name=this.capitalizeFirstLetter(n.name))}catch(n){console.debug("load_get_all_provider",n),this.endForLoadData()}})}load_devices(){return(0,g.mG)(this,void 0,void 0,function*(){try{let e="sort=site.name&dir=asc&filter=device.type,12,eq&filter=device.is_registered,1,eq&filter=site.is_activated,1,eq";e+="&fields=device.device_id,device.zone_number,device.name,device.is_online,",e+="device.videoai_enabled,device.videoai_area_filter_meta,device.videoai_provider_id,device.videoai_area_filter_meta,",e+="site.site_id";const n=yield this.helper.devices.get_devices(e,!0);yield this.parseDeviceDataAndCallStatsData(n)}catch(e){console.debug("load_devices :>",e),this.endForLoadData()}})}parseDeviceDataAndCallStatsData(e){return(0,g.mG)(this,void 0,void 0,function*(){if(!Array.isArray(e)||!(null==e?void 0:e.length))return this.endForLoadData();e.forEach(i=>{var o,r,l,_,p,d,x;const b=this.sites.find(f=>f.site_id==i.site_id);!b||(i.dealer_name=this.amIMainDealer?null!==(o=null==b?void 0:b.external_dealer_id_with_company_name)&&void 0!==o?o:"No Name":null!==(l=null===(r=this.meDealerInfo)||void 0===r?void 0:r.company_name)&&void 0!==l?l:"No Name",i.name=i.name?i.name:"No Name",i.site_name=null!==(_=null==b?void 0:b.name)&&void 0!==_?_:"No Site Name",i.videoai_enabled=null!==(p=!!(null==b?void 0:b.videoai_enabled)&&!!(null==i?void 0:i.videoai_enabled))&&void 0!==p&&p,i.provider_name=(null==i?void 0:i.videoai_enabled)&&null!==(x=null===(d=this.providerList.find(f=>f.id==i.videoai_provider_id))||void 0===d?void 0:d.name)&&void 0!==x?x:"None",i.ai_request="0",i.ai_true_alarm="0",i.ai_false_alarm="0",i.ai_skipped_alarm="0",i.video_events="0")});const n=e.filter(i=>Object.keys(i).includes("site_name"));this.originDevices=[...n],this.filteredDevices=[...n],this.doFilterDevice.emit({filteredDevices:this.filteredDevices,originDevices:this.originDevices}),yield this.checkLoadingPagedItemAndDelay()})}checkLoadingPagedItemAndDelay(){return(0,g.mG)(this,void 0,void 0,function*(){this.pagedItemIsReady?yield this.load_dealer_devices_cloudAI_data():setTimeout(()=>this.checkLoadingPagedItemAndDelay(),500)})}load_dealer_devices_cloudAI_data(){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.initDeviceStats(),yield this.load_dealer_stats_by_devices_every_100_units(),yield this.load_dealer_devices_cloudAI_events()})}initDeviceStats(){this.filteredDevices.forEach(e=>{e.ai_request="0",e.ai_true_alarm="0",e.ai_false_alarm="0",e.ai_skipped_alarm="0",e.video_events="0"})}load_dealer_devices_cloudAI_events(){var e,n;return(0,g.mG)(this,void 0,void 0,function*(){try{const i=this.selectedMonth.value;if((null===(e=this.deviceCloudAIDataList)||void 0===e?void 0:e.length)&&!i)return this.endForLoadData();if(this.amIStandardPlan)return this.endForLoadData();const o=this.calcCurrentMonth(i),r=yield this.helper.dealer_cloud_ai.get_dealer_devices_cloudAI_events(o),l=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:[];this.deviceCloudAIDataList=l,this.parseDeviceCloudAIdata()}catch(i){console.debug("load_dealer_devices_cloudAI_events :>",i),this.endForLoadData()}})}load_dealer_stats_by_devices_every_100_units(){return(0,g.mG)(this,void 0,void 0,function*(){try{const e=this.filteredDevices.map(i=>i.device_id);let n=[];for(let i=100;i<=e.length+100;i+=100){let o=e.slice(i-100,i);n.push(o)}for(let i=0;i<n.length;i++){const o=n[i];yield Promise.all([this.load_dealer_devices_video_events_stats(o)])}}catch(e){this.endForLoadData(),console.debug("load_dealer_stats_by_devices_every_100_units :>>",e)}})}load_dealer_devices_skipped_stats(e){return(0,g.mG)(this,void 0,void 0,function*(){try{if(!(null==e?void 0:e.length))return this.endForLoadData();const n=this.selectedMonth.value,i=this.utcDate(n).startOf("day").unix();let o;o=this.isCurrentMonth()?this.utcDate().unix():this.utcDate(n).endOf("month").endOf("day").unix();const r=yield this.helper.dealer.get_dealer_stats_by_devices(i,o,e);this.deviceCloudAISkippedDataList=r,this.parseDeviceCloudAISkippedData()}catch(n){console.debug("load_dealer_devices_skipped_stats:>",n),this.endForLoadData()}})}load_dealer_devices_video_events_stats(e){return(0,g.mG)(this,void 0,void 0,function*(){try{if(!(null==e?void 0:e.length))return this.endForLoadData();const n=this.selectedMonth.value,i=this.utcDate(n).startOf("day").unix();let o;o=this.isCurrentMonth()?this.utcDate().unix():this.utcDate(n).endOf("month").endOf("day").unix();const r=yield this.helper.dealer.get_dealer_stats_by_devices(i,o,e,2,11);this.deviceVideoEventsDataList=r,this.parseDeviceVideoEventsData()}catch(n){console.debug("load_dealer_devices_video_events_stats:>",n),this.endForLoadData()}})}parseDeviceCloudAISkippedData(){var e,n,i;if((null===(e=this.filteredDevices)||void 0===e?void 0:e.length)&&this.filteredDevices)for(let o=0;o<this.filteredDevices.length;o++){const r=this.filteredDevices[o],l=null!==(n=null==r?void 0:r.device_id)&&void 0!==n?n:"";if(!l)continue;const _=null===(i=this.deviceCloudAISkippedDataList[l])||void 0===i?void 0:i.videoai_skipped_count;if(!_)continue;const p=parseInt(_);r.ai_skipped_alarm=this.formatNumbersWithComma(p)}}parseDeviceVideoEventsData(){var e,n,i;if((null===(e=this.filteredDevices)||void 0===e?void 0:e.length)&&this.filteredDevices)for(let o=0;o<this.filteredDevices.length;o++){const r=this.filteredDevices[o],l=null!==(n=null==r?void 0:r.device_id)&&void 0!==n?n:"";if(!l)continue;const _=null===(i=this.deviceVideoEventsDataList[l])||void 0===i?void 0:i.video_event_count;if(!_)continue;const p=parseInt(_);r.video_events=this.formatNumbersWithComma(p)}}parseDeviceCloudAIdata(){var e,n,i,o,r,l;if((null===(e=this.filteredDevices)||void 0===e?void 0:e.length)&&this.filteredDevices){for(let _=0;_<this.filteredDevices.length;_++){const p=this.filteredDevices[_],d=this.deviceCloudAIDataList.filter(h=>h.device_id==p.device_id);if(!d.length)continue;const x=null!==(n=d.reduce((h,C)=>h+(null==C?void 0:C.count),0))&&void 0!==n?n:0,b=null!==(o=null===(i=d.find(h=>null==h?void 0:h.ai_filter_matched))||void 0===i?void 0:i.count)&&void 0!==o?o:0,f=null!==(l=null===(r=d.find(h=>!(null==h?void 0:h.ai_filter_matched)))||void 0===r?void 0:r.count)&&void 0!==l?l:0;p.ai_request=this.formatNumbersWithComma(x),p.ai_true_alarm=this.formatNumbersWithComma(b),p.ai_false_alarm=this.formatNumbersWithComma(f)}this.endForLoadData()}}endForLoadData(){this.doFilterDevice.emit({filteredDevices:this.filteredDevices}),this.sumCloudAIEvents.emit(),this.doneCallingAllData.emit("devices"),this.isLoading=!1}sortTableByColumn(e){if(!e.sortColumn||""===e.sortDirection)return;const i=this.filteredDevices.sort((o,r)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(o.name.toLowerCase(),r.name.toLowerCase(),l);case"videoai_enabled":return this.compare(o.videoai_enabled,r.videoai_enabled,l);case"video_events":return this.compare(this.formatNumberWithCommaToNumber(o.video_events),this.formatNumberWithCommaToNumber(r.video_events),l);case"ai_true_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_true_alarm),this.formatNumberWithCommaToNumber(r.ai_true_alarm),l);case"ai_false_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_false_alarm),this.formatNumberWithCommaToNumber(r.ai_false_alarm),l);case"ai_skipped_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_skipped_alarm),this.formatNumberWithCommaToNumber(r.ai_skipped_alarm),l);case"ai_request":return this.compare(this.formatNumberWithCommaToNumber(o.ai_request),this.formatNumberWithCommaToNumber(r.ai_request),l);case"zone_number":return this.compare(o.zone_number.toLowerCase(),r.zone_number.toLowerCase(),l);case"dealer_name":return this.compare(o.dealer_name.toLowerCase(),r.dealer_name.toLowerCase(),l);case"site_name":return this.compare(o.site_name.toLowerCase(),r.site_name.toLowerCase(),l);case"is_online":return this.compare(o.is_online,r.is_online,l);case"provider_name":return this.compare(o.provider_name.toLowerCase(),r.provider_name.toLowerCase(),l);default:return 0}});this.filteredDevices=i,this.doFilterDevice.emit({filteredDevices:i})}goToCamera(e){return(0,g.mG)(this,void 0,void 0,function*(){console.debug("click");try{console.debug("click");const n=yield this.helper.devices.get_device(e.site_id,e.device_id);console.debug("device",n),e=Object.assign({},n[0]),console.debug("???"),this.helper.router.navigate_to("/customers",{id:e.site_id,device_id:e.device_id}),this.commonService.emitSiteTab([{name:"Devices",link:"devices",targetDevice:e,targetCategory:"general"},"device-list"]),this.pagedItems.forEach(o=>o.isShowMenu=!1)}catch(n){console.debug("goToCamera L>",n)}})}setMorePosition(e){const n=document.documentElement;let i=document.getElementById(e),o=document.getElementById("more-"+e),r=null==i?void 0:i.getBoundingClientRect();const _=r.bottom+7;o.style.right=n.clientWidth-r.right-10+"px",o.style.top=_+"px"}toggleMenu(e){e.isShowMenu=!e.isShowMenu}compare(e,n,i){return(e<n?-1:1)*(i?1:-1)}formatNumbersWithComma(e){return"string"==typeof e&&e.includes(",")?void 0:(null==e&&(e=0),parseFloat(e).toLocaleString("en-US"))}formatNumberWithCommaToNumber(e){return parseInt(e.replace(/,/g,""))}capitalizeFirstLetter(e){let n=e.charAt(0),i=e.slice(1);return n.toUpperCase()+i}utcDate(e){const n=e?new Date(e):new Date;return L.Z.moment(n).utc()}calcCurrentMonth(e){return this.utcDate(e).startOf("month").format()}isCurrentMonth(){return this.utcDate(this.selectedMonth.value).startOf("day").month()===this.utcDate().month()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.v),t.Y36(A.W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["c_dtable_cloud_ai_stat_device"]],viewQuery:function(e,n){if(1&e&&t.Gf(_t,5),2&e){let i;t.iGM(i=t.CRH())&&(n.deviceActionMenus=i)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(o){return n.onGlobalClick(o)},!1,t.evT)},inputs:{tab:"tab",amIStandardPlan:"amIStandardPlan",amIMainDealer:"amIMainDealer",pagedItemIsReady:"pagedItemIsReady",prevSelectedMonth:"prevSelectedMonth",selectedMonth:"selectedMonth",selSearchSite:"selSearchSite",pagedItems:"pagedItems",searchText:"searchText"},outputs:{setSiteFilterForDeviceTab:"setSiteFilterForDeviceTab",doFilterDevice:"doFilterDevice",sumCloudAIEvents:"sumCloudAIEvents",doneCallingAllData:"doneCallingAllData"},features:[t.TTD],ngContentSelectors:Mt,decls:3,vars:2,consts:[["class","loader absolute",4,"ngIf"],["class","table-area",4,"ngIf"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"table-area"],[1,"content-body","table-container"],["sortable-table","",1,"table-header",3,"sorted"],[3,"width",4,"ngFor","ngForOf"],[3,"sortable-column","ngClass",4,"ngFor","ngForOf"],[1,"table-body"],["style","text-align: center; color: #999;",4,"ngIf"],[4,"ngIf"],[3,"width"],[3,"sortable-column","ngClass"],["class","--g-tooltip-content",3,"mouseenter",4,"ngIf"],[1,"--g-tooltip-content",3,"mouseenter"],[1,"--g-tooltip-icon",3,"icon","size","color"],[1,"--g-tooltip",2,"text-transform","none"],[2,"text-align","center","color","#999"],["colspan","11"],[4,"ngFor","ngForOf"],[3,"ngClass"],["class","more-content v-center",3,"id","mouseover",4,"ngIf"],[1,"more-content","v-center",3,"id","mouseover"],["deviceActionMenus",""],[1,"more-selector",3,"click"],[3,"icon","size","color"],[1,"more",3,"id"],[1,"more-item","pointer","row",3,"click"]],template:function(e,n){1&e&&(t.F$t(),t.ynx(0),t.YNc(1,gt,3,0,"div",0),t.YNc(2,Ct,16,5,"div",1),t.BQk()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading))},directives:[c.O5,U.Q,c.sg,G.a,c.mk,Z.U],styles:['table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;max-width:1vw}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}','@charset "UTF-8";.txt-cap[_ngcontent-%COMP%]{text-transform:capitalize}.txt-primary[_ngcontent-%COMP%]{color:#1e88e5}.txt-danger[_ngcontent-%COMP%]{color:#cd3d64}.no-info[_ngcontent-%COMP%]{color:#00000061}.txt-gray-high[_ngcontent-%COMP%]{color:#000000de}.filters-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:20px;font-size:14px}.filters-area[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;grid-gap:8px;gap:8px;width:100%}.table-area[_ngcontent-%COMP%]{height:100%}.table-container[_ngcontent-%COMP%]   .unknown[_ngcontent-%COMP%]{color:#00000061}.table-container[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{font-size:12px;padding:3px 10px;background:#E9F3FC;border-radius:20px;color:#1e88e5}.table-container[_ngcontent-%COMP%]   .offline[_ngcontent-%COMP%]{padding:3px 10px;font-size:12px;background:#FAECF0;border-radius:20px;color:#cd3d64}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);height:100%}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fff}.report-tab[_ngcontent-%COMP%]{height:48px;color:#888;display:flex;align-items:center}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.report-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.report-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.report-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.report-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-size:14px}.report-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:4px;background:#2383e2}.space[_ngcontent-%COMP%]{flex:1}.Calipsa[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:500;font-size:12px;text-align:center;color:#5469d4;border:1px solid #5469D4;border-radius:5px;padding:2px 4px}.Actuate[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:500;font-size:12px;color:#f5925e;text-align:center;border:1px solid #F5925E;border-radius:5px;padding:2px 4px}input[type=text][_ngcontent-%COMP%]{font-size:14px;transition:.2s;text-indent:0px;font-weight:400}input[type=text][_ngcontent-%COMP%]::placeholder{color:#00000061}.filter-btn[_ngcontent-%COMP%]{color:#0009}.filter-btn[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{margin-right:5px}.filter-btn[_ngcontent-%COMP%]   .exist-filter[_ngcontent-%COMP%]{font-size:14px;color:#1e88e5;border-left:solid 1px rgba(0,0,0,.1);margin-left:10px;padding-left:10px}.filter-box[_ngcontent-%COMP%]{position:absolute;visibility:hidden;opacity:0;display:flex;flex-direction:column;top:38px;transition:all .3s;z-index:2;background:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);box-shadow:0 0 10px #0000001a}.filter-box.show-filter[_ngcontent-%COMP%]{visibility:visible;opacity:1}.filter-box-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;padding:7px 10px;box-sizing:border-box;justify-content:space-between;background-color:#f7fafc;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-header-title[_ngcontent-%COMP%]{font-size:16px;color:#000000de}.filter-box-header[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{margin:6px 12px}.filter-box-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:72px;box-sizing:border-box;transition:all .2s}.filter-box-footer[_ngcontent-%COMP%]{display:flex;width:100%;padding:7px 10px;box-sizing:border-box;background-color:#f7fafc}.filter-box-category[_ngcontent-%COMP%]{min-height:44px;padding:12px;display:flex;align-items:center;box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-items[_ngcontent-%COMP%]{visibility:hidden;display:block;line-height:0;height:0;opacity:0;overflow:hidden;padding:0 24px;background:#F7FAFC;transition:all .2s}.filter-box-items-item[_ngcontent-%COMP%]{margin-bottom:16px}.filter-box-items-item[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{font-size:13px;color:#55647b}.filter-box-items-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-box-items.expend[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;line-height:normal;padding:16px 24px;opacity:1;overflow:initial}.filter-box-items.expend.show[_ngcontent-%COMP%]{visibility:visible}.more-content[_ngcontent-%COMP%]{position:relative;justify-content:flex-end;cursor:pointer}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]{padding:0 7px}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]:hover{outline:1px solid rgba(0,0,0,.1);border-radius:5px}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]{cursor:pointer;padding:0 4px;border-radius:4px;margin-right:10px;font-size:18px;color:#0009;-webkit-user-select:none;user-select:none}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]:hover, .more-content[_ngcontent-%COMP%]   .more-icon.show[_ngcontent-%COMP%]{box-shadow:0 0 4px gray}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{visibility:hidden;opacity:0;background-color:#fff;color:#000000de;box-sizing:border-box;border-radius:6px;font-size:14px;box-shadow:0 0 10px #0000001a;border:1px solid rgba(0,0,0,.1);position:fixed;z-index:100;top:25px;right:0px}.more-content[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{visibility:visible;opacity:1}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-title[_ngcontent-%COMP%]{color:#000000de;margin-bottom:5px;font-weight:500}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]{color:#0009;margin-bottom:14px;line-height:20px}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]:last-child{margin-bottom:0}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]{padding:7px 14px;box-sizing:border-box;font-size:14px;font-weight:400}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]:hover{background-color:#f7fafc;color:#000000de}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item.txt-primary[_ngcontent-%COMP%]{color:#2383e2}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:#8792a2;margin-right:8px}.widget[_ngcontent-%COMP%]   tr.bottom-no-line[_ngcontent-%COMP%]{border-bottom:none}.tooltip-content[_ngcontent-%COMP%]{position:relative}.tooltip-content[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:7px;font-size:18px;color:#0009}.tooltip-content[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{width:320px;visibility:hidden;background-color:#fff;padding:20px;box-sizing:border-box;border-radius:6px;font-size:14px;box-shadow:0 0 30px #0000004d;position:absolute;z-index:100;top:-30px;right:-343px;opacity:0;transition:opacity .3s;color:#000000de;word-spacing:1px}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:25px;left:-5px;margin-left:-19px;border-width:12px;border-style:solid;border-color:transparent #fff transparent transparent}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .font-10[_ngcontent-%COMP%]{font-size:10px}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .font-12[_ngcontent-%COMP%]{font-size:12px}.tooltip-content[_ngcontent-%COMP%]   .tooltip.test[_ngcontent-%COMP%]{visibility:visible;opacity:1}.tooltip-content[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:3px 5px;font-size:12px;background:rgba(85,100,123,.1);border:1px solid #E3E8EE;border-radius:3px;color:#56657b}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag.tag-red[_ngcontent-%COMP%]{background:rgba(205,61,100,.1);border:1px solid #E3E8EE;border-radius:3px;color:#cd3c63}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag.tag-green[_ngcontent-%COMP%]{background:rgba(30,166,117,.1);border:1px solid #E3E8EE;border-radius:3px;color:#1ea473}.tooltip[_ngcontent-%COMP%]{width:367px}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]{padding-bottom:10px}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]   .tooltip-row[_ngcontent-%COMP%]{padding-bottom:5px}.loader[_ngcontent-%COMP%]{width:30px;height:100%;top:0!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.chekt-select-option-wrapper[_ngcontent-%COMP%]{position:relative}.chekt-select-option[_ngcontent-%COMP%]{height:30px;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;z-index:1;background-color:#fff;border-radius:4px;box-shadow:#0000 0 0,#0000 0 0,#0000 0 0,#40445229 0 0 0 1px,#0000 0 0,#0000 0 0,#0000 0 0}.chekt-select-option.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.chekt-select-option[_ngcontent-%COMP%] > .chekt-select-option-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;position:relative;z-index:1;flex:0 1 auto;margin:0;text-decoration:none;vertical-align:middle;word-break:normal;background:transparent;border:0;outline:0;transition:color .24s;padding:4px 30px 4px 8px;-webkit-appearance:none;width:100%;appearance:none;-webkit-user-select:auto;user-select:auto;height:20px;cursor:pointer;font-family:Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:14px;color:#3c4257}.chekt-select-option-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;z-index:2;margin-top:-9px;transition:color .24s;pointer-events:none;color:#3c4257}.my-icon[_ngcontent-%COMP%]{width:1em;height:1em;display:flex;justify-content:center;align-items:center}.chekt-select-dropdown[_ngcontent-%COMP%]{background-color:#fff;width:100%;position:absolute;box-shadow:0 0 0 1px #8898aa1a,0 15px 35px #31315d1a,0 5px 15px #00000014;border-radius:4px;margin-top:7px;z-index:100;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(.075,.82,.165,1),opacity .3s cubic-bezier(.075,.82,.165,1)}.select-option-modal-list[_ngcontent-%COMP%]{cursor:pointer;max-height:200px;color:#55647b;font-size:14px;overflow-y:auto}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 0 8px 8px}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.cloudai-enabled[_ngcontent-%COMP%]{border-radius:5px;background:rgba(30,136,229,.2);padding:2px 8px;font-size:14px;color:#1e88e5;width:-moz-fit-content;width:fit-content}.cloudai-disabled[_ngcontent-%COMP%], .division-name[_ngcontent-%COMP%]{border-radius:5px;background:rgba(0,0,0,.15);padding:2px 8px;font-size:14px;color:#55647b;width:-moz-fit-content;width:fit-content}.division-name[_ngcontent-%COMP%]:empty{background:none;padding:0}']}),a})();var V=u(84699);const Ot=["dealerActionMenus"];function wt(a,s){1&a&&(t.TgZ(0,"div",2),t.O4$(),t.TgZ(1,"svg",3),t._UZ(2,"circle",4),t.qZA(),t.qZA())}function yt(a,s){1&a&&t._UZ(0,"col",13),2&a&&t.Q6J("width",s.$implicit.width)}function Dt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",16),t.NdJ("mouseenter",function(i){return t.CHM(e),t.oxw(3).commonService.setTooltipPosition(i,"top-center")}),t._UZ(1,"comp-icon",17),t.TgZ(2,"div",18),t._uU(3,"This feature applies only when the motion score feature is enabled. "),t._UZ(4,"br"),t._uU(5,"Additionally, this value is not included in AI request counts. Skipped events will be delivered to the Central station just like traditional video events."),t.qZA(),t.qZA()}2&a&&(t.xp6(1),t.Q6J("icon","info")("size",16)("color","#4f566b"))}function St(a,s){if(1&a&&(t.TgZ(0,"th",14),t._uU(1),t.YNc(2,Dt,6,3,"div",15),t.qZA()),2&a){const e=s.$implicit;t.Q6J("sortable-column",e.value)("ngClass",null!=e&&e.tooltip?"flex v-center":""),t.xp6(1),t.hij(" ",e.name,""),t.xp6(1),t.Q6J("ngIf",null==e?null:e.tooltip)}}function Tt(a,s){1&a&&t._UZ(0,"col",13),2&a&&t.Q6J("width",s.$implicit.width)}function At(a,s){if(1&a&&(t.TgZ(0,"tr",19),t.TgZ(1,"td",20),t._uU(2),t.qZA(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(0!=(null==e.searchText?null:e.searchText.length)&&(null==e.searchText?null:e.searchText.length)<3?"Please enter at least 3 characters":"No Dealer")}}function Zt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(2).$implicit,r=t.oxw(3);return i.stopPropagation(),r.goToDealer(o.dealer_id)}),t.TgZ(1,"div"),t._uU(2,"Go to Dealer"),t.qZA(),t.qZA()}}function Ft(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",25,26),t.NdJ("mouseover",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(3).setMorePosition(i.dealer_id)}),t.TgZ(2,"div",27),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return i.stopPropagation(),r.toggleMenu(o)}),t._UZ(3,"comp-icon",28),t.qZA(),t.TgZ(4,"div",29),t.YNc(5,Zt,3,0,"div",30),t.TgZ(6,"div",31),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return i.stopPropagation(),r.moveToDetail(o)}),t.TgZ(7,"div"),t._uU(8,"Go to Detail"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(3);t.Q6J("id",e.dealer_id),t.xp6(3),t.Q6J("icon","more_horiz")("size",20)("color","hsla(0, 0%, 0%, 0.87)"),t.xp6(1),t.ekj("show",e.isShowMenu),t.Q6J("id","more-"+e.dealer_id),t.xp6(1),t.Q6J("ngIf",n.meDealerInfo.dealer_id!=e.dealer_id)}}function kt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"tr",22),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).moveToDetail(o)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"div",23),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t.YNc(19,Ft,9,8,"div",24),t.qZA(),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);let i,o,r,l;t.xp6(2),t.Oqu(e.dealer_name),t.xp6(2),t.Oqu(n.parseServicePlanTypeToPlanName(e.current_month_service_plan_type)),t.xp6(2),t.Oqu(n.formatNumbersWithComma(e.site_count)),t.xp6(2),t.Q6J("ngClass",e.is_videoai_enabled?"cloudai-enabled":"cloudai-disabled"),t.xp6(1),t.Oqu(e.is_videoai_enabled?"Enabled":"Disabled"),t.xp6(2),t.Oqu(null!==(i=e.video_events)&&void 0!==i?i:0),t.xp6(2),t.Oqu(null!==(o=e.ai_true_alarm)&&void 0!==o?o:0),t.xp6(2),t.Oqu(null!==(r=e.ai_false_alarm)&&void 0!==r?r:0),t.xp6(2),t.Oqu(null!==(l=e.ai_request)&&void 0!==l?l:0),t.xp6(2),t.Q6J("ngIf","dealers"===n.tab)}}function It(a,s){if(1&a&&(t.ynx(0),t.YNc(1,kt,20,10,"tr",21),t.BQk()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.pagedItems)}}function Et(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div",6),t.TgZ(2,"table",7),t.NdJ("sorted",function(i){return t.CHM(e),t.oxw().sortTableByColumn(i)}),t.TgZ(3,"colgroup"),t.YNc(4,yt,1,1,"col",8),t.qZA(),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.YNc(7,St,3,4,"th",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",10),t.TgZ(9,"table"),t.TgZ(10,"colgroup"),t.YNc(11,Tt,1,1,"col",8),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,At,3,1,"tr",11),t.YNc(14,It,2,1,"ng-container",12),t.qZA(),t.qZA(),t.qZA(),t.Hsn(15),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.dealerTableHeader),t.xp6(3),t.Q6J("ngForOf",e.dealerTableHeader),t.xp6(4),t.Q6J("ngForOf",e.dealerTableHeader),t.xp6(2),t.Q6J("ngIf",0===(null==e.pagedItems?null:e.pagedItems.length)&&!e.isLoading),t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}const Nt=["*"];let qt=(()=>{class a{constructor(e,n){this.helper=e,this.commonService=n,this.doFilterDealer=new t.vpe,this.sumCloudAIEvents=new t.vpe,this.moveToDealerDetail=new t.vpe,this.doneCallingAllData=new t.vpe,this.isLoading=!1,this.meDealerInfo=null,this.originDealers=[],this.filteredDealers=[],this.CSDealerCloudAIDataList=[],this.CSDealerCloudAISkippedDataList=[],this.CSDealerVideoEventDataList=[],this.sortedColumn=null,this.isAscending=!0,this.dealerTableHeader=[{name:"DEALER NAME",value:"company_name",width:"30%",tooltip:!1},{name:"PLAN",value:"current_month_service_plan_type",width:"10%",tooltip:!1},{name:"SITES",value:"site_count",width:"5%",tooltip:!1},{name:"AI ENABLED",value:"is_videoai_enabled",width:"10%",tooltip:!1},{name:"VIDEO EVENTS",value:"video_events",width:"10%",tooltip:!1},{name:"AI TRUE",value:"ai_true_alarm",width:"10%",tooltip:!1},{name:"AI FALSE",value:"ai_false_alarm",width:"10%",tooltip:!1},{name:"AI EVENTS",value:"ai_request",width:"10%",tooltip:!1},{name:"",value:null,width:"5%",tooltip:!1}]}onGlobalClick(e){this.dealerActionMenus&&this.dealerActionMenus.toArray().forEach(i=>{this.pagedItems.forEach(o=>{o.dealer_id===parseInt(i.nativeElement.id)&&(i.nativeElement.contains(e.target)||(o.isShowMenu=!1))})})}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){this.originDealers=[],this.filteredDealers=[],this.load_dealer_tab_data()})}ngOnChanges(e){!e.prevSelectedMonth||!e.selectedMonth||!e.prevSelectedMonth.currentValue||e.prevSelectedMonth.currentValue!==e.selectedMonth.currentValue&&this.load_dealer_dealers_cloudAI_data()}load_dealer_tab_data(){return(0,g.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0,yield this.setDealerInfo(),yield this.load_partners()}catch(e){this.endForLoadData()}})}setDealerInfo(){var e;return(0,g.mG)(this,void 0,void 0,function*(){const n=yield this.helper.dealer.get_dealer_info(),i=yield this.helper.dealer_cloud_ai.get_cloud_ai_enabled(),o=yield this.helper.dealer_plan.get_dealer_plan(),r=null!==(e=null==o?void 0:o.current_month_service_plan_type)&&void 0!==e?e:1;this.meDealerInfo=n[0],this.meDealerInfo.is_videoai_enabled=i,this.meDealerInfo.current_month_service_plan_type=r,this.amIStandardPlan=this.helper.dealer_plan.isStandardPlan()})}load_partners(){var e;return(0,g.mG)(this,void 0,void 0,function*(){try{const n=null!==(e=yield this.helper.partner.get_partners(!0))&&void 0!==e?e:[];n.find(o=>o.dealer_id==this.meDealerInfo.dealer_id)||n.unshift(this.meDealerInfo),n.forEach(o=>{var r;o.dealer_name=null!==(r=null==o?void 0:o.external_dealer_id_with_company_name)&&void 0!==r?r:"No Name",o.ai_request="0",o.ai_true_alarm="0",o.ai_false_alarm="0",o.ai_skipped_alarm="0",o.video_events="0"}),this.originDealers=[...n],this.filteredDealers=[...n],this.doFilterDealer.emit({filteredDealers:this.filteredDealers,originDealers:this.originDealers}),yield this.checkLoadingPagedItemAndDelay()}catch(n){console.debug("load_partners :>",n),this.endForLoadData()}})}checkLoadingPagedItemAndDelay(){return(0,g.mG)(this,void 0,void 0,function*(){this.pagedItemIsReady?yield this.load_dealer_dealers_cloudAI_data():setTimeout(()=>this.checkLoadingPagedItemAndDelay(),500)})}load_dealer_dealers_cloudAI_data(){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.initDealerStats(),yield this.load_dealer_stats_by_dealers_every_100_units(),yield this.load_dealer_CSDealers_cloudAI_events()})}initDealerStats(){this.filteredDealers.forEach(e=>{e.ai_request="0",e.ai_true_alarm="0",e.ai_false_alarm="0",e.ai_skipped_alarm="0",e.video_events="0"})}load_dealer_stats_by_dealers_every_100_units(){return(0,g.mG)(this,void 0,void 0,function*(){try{const e=this.filteredDealers.map(i=>i.dealer_id);let n=[];for(let i=100;i<=e.length+100;i+=100){let o=e.slice(i-100,i);n.push(o)}for(let i=0;i<n.length;i++){const o=n[i];yield Promise.all([this.load_dealer_video_events_stats(o)])}}catch(e){this.endForLoadData(),console.debug("load_dealer_stats_by_dealers_every_100_units :>>",e)}})}load_dealer_skipped_stats(e){return(0,g.mG)(this,void 0,void 0,function*(){if(null==e?void 0:e.length)try{const n=this.selectedMonth.value,i=this.utcDate(n).startOf("day").unix();let o;o=this.isCurrentMonth()?this.utcDate().unix():this.utcDate(n).endOf("month").endOf("day").unix();const r=yield this.helper.dealer.get_dealer_stats_by_dealers(i,o,e);this.CSDealerCloudAISkippedDataList=r,this.parseCSDealerCloudAISkippedData()}catch(n){console.debug("load_dealer_skipped_stats :>",n),this.endForLoadData()}})}load_dealer_video_events_stats(e){return(0,g.mG)(this,void 0,void 0,function*(){if(null==e?void 0:e.length)try{const n=this.selectedMonth.value,i=this.utcDate(n).startOf("day").unix();let o;o=this.isCurrentMonth()?this.utcDate().unix():this.utcDate(n).endOf("month").endOf("day").unix(),1===(null==e?void 0:e.length)?yield this.load_dealer_video_events_stats_only_one_dealer(i,o,e):yield this.load_dealer_video_events_stats_for_dealers(i,o,e)}catch(n){console.debug("load_dealer_skipped_stats :>",n),this.endForLoadData()}})}load_dealer_video_events_stats_only_one_dealer(e,n,i){return(0,g.mG)(this,void 0,void 0,function*(){const o=yield this.helper.dealer.get_dealer_stats_by_dealer(e,n,i,2,11);this.CSDealerVideoEventDataList=o,this.parseCSDealerVideoEventsData()})}load_dealer_video_events_stats_for_dealers(e,n,i){return(0,g.mG)(this,void 0,void 0,function*(){const o=yield this.helper.dealer.get_dealer_stats_by_dealers(e,n,i,2,11);this.CSDealerVideoEventDataList=o,this.parseCSDealerVideoEventsData()})}load_dealer_CSDealers_cloudAI_events(){var e,n;return(0,g.mG)(this,void 0,void 0,function*(){const i=this.selectedMonth.value;if((null===(e=this.CSDealerCloudAIDataList)||void 0===e?void 0:e.length)&&!i)return this.endForLoadData();if(this.amIStandardPlan)return this.endForLoadData();try{const o=this.calcCurrentMonth(i),r=yield this.helper.dealer_cloud_ai.get_dealer_CSDealers_cloudAI_events(o),l=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:[];this.CSDealerCloudAIDataList=l,this.parseCSDealerCloudAIData()}catch(o){console.debug("load_dealer_CSDealers_cloudAI_events :>",o),this.endForLoadData()}})}parseCSDealerCloudAISkippedData(){var e,n,i;if((null===(e=this.filteredDealers)||void 0===e?void 0:e.length)&&this.filteredDealers)for(let o=0;o<this.filteredDealers.length;o++){const r=this.filteredDealers[o],l=null!==(n=null==r?void 0:r.dealer_id)&&void 0!==n?n:"";if(!l)continue;const _=null===(i=this.CSDealerCloudAISkippedDataList[l])||void 0===i?void 0:i.videoai_skipped_count;if(!_)continue;const p=parseInt(_);r.ai_skipped_alarm=this.formatNumbersWithComma(p)}}parseCSDealerVideoEventsData(){var e,n,i;if((null===(e=this.filteredDealers)||void 0===e?void 0:e.length)&&this.filteredDealers)for(let o=0;o<this.filteredDealers.length;o++){const r=this.filteredDealers[o],l=null!==(n=null==r?void 0:r.dealer_id)&&void 0!==n?n:"";if(!l)continue;if(!this.CSDealerVideoEventDataList)return;const _=null===(i=this.CSDealerVideoEventDataList[l])||void 0===i?void 0:i.video_event_count;if(!_)continue;const p=parseInt(_);r.video_events=this.formatNumbersWithComma(p)}}parseCSDealerCloudAIData(){var e,n,i,o,r,l;if((null===(e=this.filteredDealers)||void 0===e?void 0:e.length)&&this.filteredDealers){for(let _=0;_<this.filteredDealers.length;_++){const p=this.filteredDealers[_],d=this.CSDealerCloudAIDataList.filter(h=>h.dealer_id==p.dealer_id);if(!d.length)continue;const x=null!==(n=d.reduce((h,C)=>h+(null==C?void 0:C.count),0))&&void 0!==n?n:0,b=null!==(o=null===(i=d.find(h=>null==h?void 0:h.ai_filter_matched))||void 0===i?void 0:i.count)&&void 0!==o?o:0,f=null!==(l=null===(r=d.find(h=>!(null==h?void 0:h.ai_filter_matched)))||void 0===r?void 0:r.count)&&void 0!==l?l:0;p.ai_request=this.formatNumbersWithComma(x),p.ai_true_alarm=this.formatNumbersWithComma(b),p.ai_false_alarm=this.formatNumbersWithComma(f)}this.endForLoadData()}}endForLoadData(){return(0,g.mG)(this,void 0,void 0,function*(){this.doFilterDealer.emit({filteredDealers:this.filteredDealers,originDealers:this.originDealers}),this.sumCloudAIEvents.emit(),this.doneCallingAllData.emit("dealers"),this.isLoading=!1})}sortTableByColumn(e){if(!e.sortColumn||""===e.sortDirection)return;const i=this.filteredDealers.sort((o,r)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"company_name":return this.compare(o.dealer_name.toLowerCase(),r.dealer_name.toLowerCase(),l);case"current_month_service_plan_type":return this.compare(o.current_month_service_plan_type,r.current_month_service_plan_type,l);case"site_count":return this.compare(o.site_count,r.site_count,l);case"is_videoai_enabled":return this.compare(o.is_videoai_enabled,r.is_videoai_enabled,l);case"video_events":return this.compare(this.formatNumberWithCommaToNumber(o.video_events),this.formatNumberWithCommaToNumber(r.video_events),l);case"ai_true_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_true_alarm),this.formatNumberWithCommaToNumber(r.ai_true_alarm),l);case"ai_false_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_false_alarm),this.formatNumberWithCommaToNumber(r.ai_false_alarm),l);case"ai_skipped_alarm":return this.compare(this.formatNumberWithCommaToNumber(o.ai_skipped_alarm),this.formatNumberWithCommaToNumber(r.ai_skipped_alarm),l);case"ai_request":return this.compare(this.formatNumberWithCommaToNumber(o.ai_request),this.formatNumberWithCommaToNumber(r.ai_request),l);default:return 0}});this.filteredDealers=i,this.doFilterDealer.emit({filteredDealers:i})}parseServicePlanTypeToPlanName(e){switch(e){case 1:default:return"Basic";case 2:return"Professional";case 3:return"Premium";case 4:return"Reseller"}}goToDealer(e){this.helper.router.navigate_to("/wcs-sub-dealers/info",{retailDealerId:e})}moveToDetail(e){this.moveToDealerDetail.emit(e),this.pagedItems.forEach(n=>n.isShowMenu=!1)}setMorePosition(e){const n=document.documentElement;let i=document.getElementById(e),o=document.getElementById("more-"+e),r=null==i?void 0:i.getBoundingClientRect();const _=r.bottom+7;o.style.right=n.clientWidth-r.right-10+"px",o.style.top=_+"px"}toggleMenu(e){e.isShowMenu=!e.isShowMenu}compare(e,n,i){return(e<n?-1:1)*(i?1:-1)}formatNumbersWithComma(e){return"string"==typeof e&&e.includes(",")?void 0:(null==e&&(e=0),parseFloat(e).toLocaleString("en-US"))}formatNumberWithCommaToNumber(e){return parseInt(e.replace(/,/g,""))}utcDate(e){const n=e?new Date(e):new Date;return L.Z.moment(n).utc()}calcCurrentMonth(e){return this.utcDate(e).startOf("month").format()}isCurrentMonth(){return this.utcDate(this.selectedMonth.value).startOf("day").month()===this.utcDate().month()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(A.W),t.Y36(T.v))},a.\u0275cmp=t.Xpm({type:a,selectors:[["c_dtable_cloud_ai_stat_dealer"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ot,5),2&e){let i;t.iGM(i=t.CRH())&&(n.dealerActionMenus=i)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(o){return n.onGlobalClick(o)},!1,t.evT)},inputs:{tab:"tab",amIStandardPlan:"amIStandardPlan",pagedItemIsReady:"pagedItemIsReady",prevSelectedMonth:"prevSelectedMonth",selectedMonth:"selectedMonth",pagedItems:"pagedItems",searchText:"searchText"},outputs:{doFilterDealer:"doFilterDealer",sumCloudAIEvents:"sumCloudAIEvents",moveToDealerDetail:"moveToDealerDetail",doneCallingAllData:"doneCallingAllData"},features:[t.TTD],ngContentSelectors:Nt,decls:3,vars:2,consts:[["class","loader absolute",4,"ngIf"],["class","table-area",4,"ngIf"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"table-area"],[1,"content-body","table-container"],["sortable-table","",1,"table-header",3,"sorted"],[3,"width",4,"ngFor","ngForOf"],[3,"sortable-column","ngClass",4,"ngFor","ngForOf"],[1,"table-body"],["style","text-align: center; color: #999;",4,"ngIf"],[4,"ngIf"],[3,"width"],[3,"sortable-column","ngClass"],["class","--g-tooltip-content",3,"mouseenter",4,"ngIf"],[1,"--g-tooltip-content",3,"mouseenter"],[1,"--g-tooltip-icon",3,"icon","size","color"],[1,"--g-tooltip",2,"text-transform","none"],[2,"text-align","center","color","#999"],["colspan","11"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"ngClass"],["class","more-content v-center",3,"id","mouseover",4,"ngIf"],[1,"more-content","v-center",3,"id","mouseover"],["dealerActionMenus",""],[1,"more-selector",3,"click"],[3,"icon","size","color"],[1,"more",3,"id"],["class","more-item pointer row",3,"click",4,"ngIf"],[1,"more-item","pointer","row",3,"click"]],template:function(e,n){1&e&&(t.F$t(),t.ynx(0),t.YNc(1,wt,3,0,"div",0),t.YNc(2,Et,16,5,"div",1),t.BQk()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading))},directives:[c.O5,U.Q,c.sg,G.a,c.mk,Z.U],styles:['table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;max-width:1vw}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}','@charset "UTF-8";.txt-cap[_ngcontent-%COMP%]{text-transform:capitalize}.txt-primary[_ngcontent-%COMP%]{color:#1e88e5}.txt-danger[_ngcontent-%COMP%]{color:#cd3d64}.no-info[_ngcontent-%COMP%]{color:#00000061}.txt-gray-high[_ngcontent-%COMP%]{color:#000000de}.filters-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:20px;font-size:14px}.filters-area[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;grid-gap:8px;gap:8px;width:100%}.table-area[_ngcontent-%COMP%]{height:100%}.table-container[_ngcontent-%COMP%]   .unknown[_ngcontent-%COMP%]{color:#00000061}.table-container[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{font-size:12px;padding:3px 10px;background:#E9F3FC;border-radius:20px;color:#1e88e5}.table-container[_ngcontent-%COMP%]   .offline[_ngcontent-%COMP%]{padding:3px 10px;font-size:12px;background:#FAECF0;border-radius:20px;color:#cd3d64}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);height:100%}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fff}.report-tab[_ngcontent-%COMP%]{height:48px;color:#888;display:flex;align-items:center}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.report-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.report-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.report-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.report-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-size:14px}.report-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:4px;background:#2383e2}.space[_ngcontent-%COMP%]{flex:1}.Calipsa[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:500;font-size:12px;text-align:center;color:#5469d4;border:1px solid #5469D4;border-radius:5px;padding:2px 4px}.Actuate[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:500;font-size:12px;color:#f5925e;text-align:center;border:1px solid #F5925E;border-radius:5px;padding:2px 4px}input[type=text][_ngcontent-%COMP%]{font-size:14px;transition:.2s;text-indent:0px;font-weight:400}input[type=text][_ngcontent-%COMP%]::placeholder{color:#00000061}.filter-btn[_ngcontent-%COMP%]{color:#0009}.filter-btn[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{margin-right:5px}.filter-btn[_ngcontent-%COMP%]   .exist-filter[_ngcontent-%COMP%]{font-size:14px;color:#1e88e5;border-left:solid 1px rgba(0,0,0,.1);margin-left:10px;padding-left:10px}.filter-box[_ngcontent-%COMP%]{position:absolute;visibility:hidden;opacity:0;display:flex;flex-direction:column;top:38px;transition:all .3s;z-index:2;background:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);box-shadow:0 0 10px #0000001a}.filter-box.show-filter[_ngcontent-%COMP%]{visibility:visible;opacity:1}.filter-box-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;padding:7px 10px;box-sizing:border-box;justify-content:space-between;background-color:#f7fafc;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-header-title[_ngcontent-%COMP%]{font-size:16px;color:#000000de}.filter-box-header[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{margin:6px 12px}.filter-box-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:72px;box-sizing:border-box;transition:all .2s}.filter-box-footer[_ngcontent-%COMP%]{display:flex;width:100%;padding:7px 10px;box-sizing:border-box;background-color:#f7fafc}.filter-box-category[_ngcontent-%COMP%]{min-height:44px;padding:12px;display:flex;align-items:center;box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-items[_ngcontent-%COMP%]{visibility:hidden;display:block;line-height:0;height:0;opacity:0;overflow:hidden;padding:0 24px;background:#F7FAFC;transition:all .2s}.filter-box-items-item[_ngcontent-%COMP%]{margin-bottom:16px}.filter-box-items-item[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{font-size:13px;color:#55647b}.filter-box-items-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-box-items.expend[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;line-height:normal;padding:16px 24px;opacity:1;overflow:initial}.filter-box-items.expend.show[_ngcontent-%COMP%]{visibility:visible}.more-content[_ngcontent-%COMP%]{position:relative;justify-content:flex-end;cursor:pointer}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]{padding:0 7px}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]:hover{outline:1px solid rgba(0,0,0,.1);border-radius:5px}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]{cursor:pointer;padding:0 4px;border-radius:4px;margin-right:10px;font-size:18px;color:#0009;-webkit-user-select:none;user-select:none}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]:hover, .more-content[_ngcontent-%COMP%]   .more-icon.show[_ngcontent-%COMP%]{box-shadow:0 0 4px gray}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{visibility:hidden;opacity:0;background-color:#fff;color:#000000de;box-sizing:border-box;border-radius:6px;font-size:14px;box-shadow:0 0 10px #0000001a;border:1px solid rgba(0,0,0,.1);position:fixed;z-index:100;top:25px;right:0px}.more-content[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{visibility:visible;opacity:1}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-title[_ngcontent-%COMP%]{color:#000000de;margin-bottom:5px;font-weight:500}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]{color:#0009;margin-bottom:14px;line-height:20px}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]:last-child{margin-bottom:0}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]{padding:7px 14px;box-sizing:border-box;font-size:14px;font-weight:400}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]:hover{background-color:#f7fafc;color:#000000de}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item.txt-primary[_ngcontent-%COMP%]{color:#2383e2}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:#8792a2;margin-right:8px}.widget[_ngcontent-%COMP%]   tr.bottom-no-line[_ngcontent-%COMP%]{border-bottom:none}.tooltip-content[_ngcontent-%COMP%]{position:relative}.tooltip-content[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:7px;font-size:18px;color:#0009}.tooltip-content[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{visibility:visible;opacity:1}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{width:320px;visibility:hidden;background-color:#fff;padding:20px;box-sizing:border-box;border-radius:6px;font-size:14px;box-shadow:0 0 30px #0000004d;position:absolute;z-index:100;top:-30px;right:-343px;opacity:0;transition:opacity .3s;color:#000000de;word-spacing:1px}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:25px;left:-5px;margin-left:-19px;border-width:12px;border-style:solid;border-color:transparent #fff transparent transparent}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .font-10[_ngcontent-%COMP%]{font-size:10px}.tooltip-content[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .font-12[_ngcontent-%COMP%]{font-size:12px}.tooltip-content[_ngcontent-%COMP%]   .tooltip.test[_ngcontent-%COMP%]{visibility:visible;opacity:1}.tooltip-content[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:3px 5px;font-size:12px;background:rgba(85,100,123,.1);border:1px solid #E3E8EE;border-radius:3px;color:#56657b}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag.tag-red[_ngcontent-%COMP%]{background:rgba(205,61,100,.1);border:1px solid #E3E8EE;border-radius:3px;color:#cd3c63}.tooltip-content[_ngcontent-%COMP%]   .tooltip-tag.tag-green[_ngcontent-%COMP%]{background:rgba(30,166,117,.1);border:1px solid #E3E8EE;border-radius:3px;color:#1ea473}.tooltip[_ngcontent-%COMP%]{width:367px}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]{padding-bottom:10px}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.tooltip[_ngcontent-%COMP%]   .tooltip-item[_ngcontent-%COMP%]   .tooltip-row[_ngcontent-%COMP%]{padding-bottom:5px}.loader[_ngcontent-%COMP%]{width:30px;height:100%;top:0!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.chekt-select-option-wrapper[_ngcontent-%COMP%]{position:relative}.chekt-select-option[_ngcontent-%COMP%]{height:30px;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;z-index:1;background-color:#fff;border-radius:4px;box-shadow:#0000 0 0,#0000 0 0,#0000 0 0,#40445229 0 0 0 1px,#0000 0 0,#0000 0 0,#0000 0 0}.chekt-select-option.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.chekt-select-option[_ngcontent-%COMP%] > .chekt-select-option-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;position:relative;z-index:1;flex:0 1 auto;margin:0;text-decoration:none;vertical-align:middle;word-break:normal;background:transparent;border:0;outline:0;transition:color .24s;padding:4px 30px 4px 8px;-webkit-appearance:none;width:100%;appearance:none;-webkit-user-select:auto;user-select:auto;height:20px;cursor:pointer;font-family:Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:14px;color:#3c4257}.chekt-select-option-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;z-index:2;margin-top:-9px;transition:color .24s;pointer-events:none;color:#3c4257}.my-icon[_ngcontent-%COMP%]{width:1em;height:1em;display:flex;justify-content:center;align-items:center}.chekt-select-dropdown[_ngcontent-%COMP%]{background-color:#fff;width:100%;position:absolute;box-shadow:0 0 0 1px #8898aa1a,0 15px 35px #31315d1a,0 5px 15px #00000014;border-radius:4px;margin-top:7px;z-index:100;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(.075,.82,.165,1),opacity .3s cubic-bezier(.075,.82,.165,1)}.select-option-modal-list[_ngcontent-%COMP%]{cursor:pointer;max-height:200px;color:#55647b;font-size:14px;overflow-y:auto}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 0 8px 8px}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.cloudai-enabled[_ngcontent-%COMP%]{border-radius:5px;background:rgba(30,136,229,.2);padding:2px 8px;font-size:14px;color:#1e88e5;width:-moz-fit-content;width:fit-content}.cloudai-disabled[_ngcontent-%COMP%], .division-name[_ngcontent-%COMP%]{border-radius:5px;background:rgba(0,0,0,.15);padding:2px 8px;font-size:14px;color:#55647b;width:-moz-fit-content;width:fit-content}.division-name[_ngcontent-%COMP%]:empty{background:none;padding:0}']}),a})();const zt=["searchInput"],Lt=["dealerList"],Ut=["divisionList"],Gt=["siteList"],Jt=["siteFilterBox"],Vt=["deviceFilterBox"],Qt=["dealerTable"],Ht=["siteTable"],jt=["deviceTable"],Rt=["monthSelectDropdown"];function Wt(a,s){1&a&&(t.TgZ(0,"div",41),t._uU(1,"Select Month"),t.qZA())}function Yt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",45),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).selectMonth(o)}),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.ekj("selected",(null==n.selectedMonth?null:n.selectedMonth.name)==(null==e?null:e.name)),t.xp6(1),t.Oqu(null==e?null:e.name)}}function Bt(a,s){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",42),t.TgZ(1,"div",43),t.YNc(2,Yt,3,3,"div",44),t.qZA(),t.qZA()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.monthList)}}function $t(a,s){1&a&&t._UZ(0,"div",49)}function Kt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",46),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().moveToTab(o)}),t.TgZ(1,"div",47),t._uU(2),t.qZA(),t.YNc(3,$t,1,0,"div",48),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw();t.ekj("btn-selected",n.tab==e)("disabled",n.isLoading),t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",n.tab==e)}}function Xt(a,s){if(1&a&&(t.TgZ(0,"span",76),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Oqu(e.totalFilter)}}function te(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",60),t.TgZ(1,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).filterGroup.isDealerFilter=i}),t.TgZ(2,"span",62),t._uU(3,"Dealers"),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.filterGroup.isDealerFilter)("labelPosition","after")}}function ee(a,s){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.filterGroup||null==e.filterGroup.selSearchDealer?null:e.filterGroup.selSearchDealer.external_dealer_id_with_company_name)}}function ne(a,s){1&a&&(t.TgZ(0,"div",77),t._uU(1,"No selected Dealer"),t.qZA())}function ie(a,s){1&a&&(t.TgZ(0,"div",81),t._uU(1,"No Dealer"),t.qZA())}function oe(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",82),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).changeDealer(o)}),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);t.xp6(1),t.ekj("selected",(null==e?null:e.external_dealer_id_with_company_name)===(null==n.filterGroup||null==n.filterGroup.selSearchDealer?null:n.filterGroup.selSearchDealer.external_dealer_id_with_company_name)),t.xp6(1),t.Oqu(null==e?null:e.external_dealer_id_with_company_name)}}function ae(a,s){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",78),t.YNc(1,ie,2,0,"div",79),t.YNc(2,oe,3,3,"div",80),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.dealers.length),t.xp6(1),t.Q6J("ngForOf",e.dealers)}}function re(a,s){if(1&a){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",60),t.TgZ(1,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).filterGroup.isDivisionFilter=i}),t.TgZ(2,"span",62),t._uU(3,"Divisions"),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.filterGroup.isDivisionFilter)("labelPosition","after")}}function le(a,s){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(null==e.filterGroup||null==e.filterGroup.selSearchDivision?null:e.filterGroup.selSearchDivision.name)}}function se(a,s){1&a&&(t.TgZ(0,"div",81),t._uU(1,"No Division"),t.qZA())}function ce(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",82),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(4).changeDivision(o)}),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(4);t.xp6(1),t.ekj("selected",(null==e?null:e.name)===(null==n.filterGroup||null==n.filterGroup.selSearchDivision?null:n.filterGroup.selSearchDivision.name)),t.xp6(1),t.Oqu(null==e?null:e.name)}}function de(a,s){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",78),t.YNc(1,se,2,0,"div",79),t.YNc(2,ce,3,3,"div",80),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.divisions.length),t.xp6(1),t.Q6J("ngForOf",e.divisions)}}function _e(a,s){if(1&a){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",63),t.TgZ(1,"div",68,83),t.TgZ(3,"div",70),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return i.isSelectDivisionList=!i.isSelectDivisionList}),t.YNc(4,le,2,1,"div",71),t.O4$(),t.TgZ(5,"svg",73),t._UZ(6,"path",19),t.qZA(),t.qZA(),t.YNc(7,de,3,2,"div",74),t.qZA(),t.qZA()}if(2&a){const e=t.oxw(2);t.ekj("expend",e.filterGroup.isDivisionFilter)("show",e.isShowFilter),t.xp6(4),t.Q6J("ngIf",null==e.filterGroup?null:e.filterGroup.selSearchDivision),t.xp6(3),t.Q6J("ngIf",e.isSelectDivisionList)}}function ge(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",null,50),t.TgZ(2,"div",21),t.TgZ(3,"div",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleShowFilter()}),t.TgZ(4,"div",51),t._UZ(5,"comp-icon",52),t.TgZ(6,"span"),t._uU(7,"Filter"),t.qZA(),t.YNc(8,Xt,2,1,"span",53),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",54),t.TgZ(10,"div",55),t.TgZ(11,"div",21),t.TgZ(12,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearSiteFilter("clear")}),t.TgZ(13,"div",57),t._uU(14,"Clear"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div"),t._uU(16,"Filter"),t.qZA(),t.TgZ(17,"div",21),t.TgZ(18,"div",58),t.NdJ("click",function(){return t.CHM(e),t.oxw().doSiteFilter()}),t.TgZ(19,"div",57),t._uU(20,"Done"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",59),t.TgZ(22,"div",60),t.TgZ(23,"mat-checkbox",61),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filterGroup.isStatusFilter=i})("change",function(){return t.CHM(e),t.oxw().changeStatusFilter()}),t.TgZ(24,"span",62),t._uU(25,"Status"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",63),t.TgZ(27,"div",64),t.TgZ(28,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filterGroup.isNewSiteFilter=i}),t.TgZ(29,"span",66),t._uU(30,"New Sites (Last 30 days)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",64),t.TgZ(32,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filterGroup.isExistSiteFilter=i}),t.TgZ(33,"span",66),t._uU(34,"Existing Sites"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",60),t.TgZ(36,"mat-checkbox",61),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filterGroup.isActivateGroupFilter=i})("change",function(){return t.CHM(e),t.oxw().changeActivateStatusFilter()}),t.TgZ(37,"span",62),t._uU(38,"Activation Status"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",63),t.TgZ(40,"div",64),t.TgZ(41,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filterGroup.isActivateSiteFilter=i}),t.TgZ(42,"span",66),t._uU(43,"Activated Sites"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",64),t.TgZ(45,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filterGroup.isDeactivateFilter=i}),t.TgZ(46,"span",66),t._uU(47,"Deactivated Sites"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(48,te,4,2,"div",67),t.TgZ(49,"div",63),t.TgZ(50,"div",64),t.TgZ(51,"div",68,69),t.TgZ(53,"div",70),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.isSelectList=!i.isSelectList}),t.YNc(54,ee,2,1,"div",71),t.YNc(55,ne,2,0,"div",72),t.O4$(),t.TgZ(56,"svg",73),t._UZ(57,"path",19),t.qZA(),t.qZA(),t.YNc(58,ae,3,2,"div",74),t.qZA(),t.qZA(),t.qZA(),t.YNc(59,re,4,2,"div",67),t.YNc(60,_e,8,6,"div",75),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.ekj("disabled",e.isLoading),t.xp6(5),t.Q6J("icon","filter_list")("size",16)("color","hsla(0,0%,0%,0.6)"),t.xp6(3),t.Q6J("ngIf",e.isExistFilter),t.xp6(1),t.ekj("show-filter",e.isShowFilter),t.xp6(14),t.Q6J("ngModel",e.filterGroup.isStatusFilter)("labelPosition","after"),t.xp6(3),t.ekj("expend",e.filterGroup.isStatusFilter)("show",e.isShowFilter),t.xp6(2),t.Q6J("ngModel",e.filterGroup.isNewSiteFilter)("labelPosition","after"),t.xp6(4),t.Q6J("ngModel",e.filterGroup.isExistSiteFilter)("labelPosition","after"),t.xp6(4),t.Q6J("ngModel",e.filterGroup.isActivateGroupFilter)("labelPosition","after"),t.xp6(3),t.ekj("expend",e.filterGroup.isActivateGroupFilter)("show",e.isShowFilter),t.xp6(2),t.Q6J("ngModel",e.filterGroup.isActivateSiteFilter)("labelPosition","after"),t.xp6(4),t.Q6J("ngModel",e.filterGroup.isDeactivateFilter)("labelPosition","after"),t.xp6(3),t.Q6J("ngIf",e.amIMainDealer),t.xp6(1),t.ekj("expend",e.filterGroup.isDealerFilter)("show",e.isShowFilter),t.xp6(5),t.Q6J("ngIf",null==e.filterGroup?null:e.filterGroup.selSearchDealer),t.xp6(1),t.Q6J("ngIf",!(null!=e.filterGroup&&e.filterGroup.selSearchDealer)),t.xp6(3),t.Q6J("ngIf",e.isSelectList),t.xp6(1),t.Q6J("ngIf",e.isDivisionEnable),t.xp6(1),t.Q6J("ngIf",e.isDivisionEnable)}}function pe(a,s){if(1&a&&(t.TgZ(0,"span",76),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Oqu(e.totalDeviceFilter)}}function he(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",82),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).changeSite(o)}),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.qZA()}if(2&a){const e=s.$implicit,n=t.oxw(3);t.xp6(1),t.ekj("selected",(null==n.deviceFilterGroup||null==n.deviceFilterGroup.selSearchSite?null:n.deviceFilterGroup.selSearchSite.name)===e.name),t.xp6(1),t.Oqu(e.name)}}function ue(a,s){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",78),t.YNc(1,he,3,3,"div",80),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.sites)}}function me(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",null,84),t.TgZ(2,"div",21),t.TgZ(3,"div",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleShowDeviceFilter()}),t.TgZ(4,"div",51),t._UZ(5,"comp-icon",52),t.TgZ(6,"span"),t._uU(7,"Filter"),t.qZA(),t.YNc(8,pe,2,1,"span",53),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",54),t.TgZ(10,"div",55),t.TgZ(11,"div",21),t.TgZ(12,"div",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearDeviceFilter()}),t.TgZ(13,"div",57),t._uU(14,"Clear"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div"),t._uU(16,"Filter"),t.qZA(),t.TgZ(17,"div",21),t.TgZ(18,"div",58),t.NdJ("click",function(){return t.CHM(e),t.oxw().doDeviceFilter()}),t.TgZ(19,"div",57),t._uU(20,"Done"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",59),t.TgZ(22,"div",60),t.TgZ(23,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().deviceFilterGroup.isSiteFilter=i}),t.TgZ(24,"span",62),t._uU(25,"Sites"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",63),t.TgZ(27,"div",64),t.TgZ(28,"div",68,85),t.TgZ(30,"div",70),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.isSelectSiteList=!i.isSelectSiteList}),t.TgZ(31,"div"),t._uU(32),t.qZA(),t.O4$(),t.TgZ(33,"svg",73),t._UZ(34,"path",19),t.qZA(),t.qZA(),t.YNc(35,ue,2,1,"div",74),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(36,"div",60),t.TgZ(37,"mat-checkbox",61),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().deviceFilterGroup.isProviderGroupFilter=i})("change",function(){return t.CHM(e),t.oxw().changeProviderGroupFilter()}),t.TgZ(38,"span",62),t._uU(39,"AI Provider"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",63),t.TgZ(41,"div",64),t.TgZ(42,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().deviceFilterGroup.isProviderNoneFilter=i}),t.TgZ(43,"span",66),t._uU(44,"None"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",64),t.TgZ(46,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().deviceFilterGroup.isProviderActuateFilter=i}),t.TgZ(47,"span",66),t._uU(48,"Actuate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"div",64),t.TgZ(50,"mat-checkbox",65),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().deviceFilterGroup.isProviderCalipsaFilter=i}),t.TgZ(51,"span",66),t._uU(52,"Calipsa"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();let n;t.ekj("disabled",e.isLoading),t.xp6(5),t.Q6J("icon","filter_list")("size",16)("color","hsla(0,0%,0%,0.6)"),t.xp6(3),t.Q6J("ngIf",e.isExistDeviceFilter),t.xp6(1),t.ekj("show-filter",e.isShowDeviceFilter),t.xp6(14),t.Q6J("ngModel",e.deviceFilterGroup.isSiteFilter)("labelPosition","after"),t.xp6(3),t.ekj("expend",e.deviceFilterGroup.isSiteFilter)("show",e.isShowDeviceFilter),t.xp6(6),t.Oqu(null!==(n=null==e.deviceFilterGroup||null==e.deviceFilterGroup.selSearchSite?null:e.deviceFilterGroup.selSearchSite.name)&&void 0!==n?n:"No Name"),t.xp6(3),t.Q6J("ngIf",e.isSelectSiteList),t.xp6(2),t.Q6J("ngModel",e.deviceFilterGroup.isProviderGroupFilter)("labelPosition","after"),t.xp6(3),t.ekj("expend",e.deviceFilterGroup.isProviderGroupFilter)("show",e.isShowDeviceFilter),t.xp6(2),t.Q6J("ngModel",e.deviceFilterGroup.isProviderNoneFilter)("labelPosition","after"),t.xp6(4),t.Q6J("ngModel",e.deviceFilterGroup.isProviderActuateFilter)("labelPosition","after"),t.xp6(4),t.Q6J("ngModel",e.deviceFilterGroup.isProviderCalipsaFilter)("labelPosition","after")}}function fe(a,s){1&a&&t.GkF(0)}function xe(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"c_dtable_cloud_ai_stat_dealer",86,87),t.NdJ("doFilterDealer",function(i){return t.CHM(e),t.oxw().doFilterDealer(i)})("sumCloudAIEvents",function(i){return t.CHM(e),t.oxw().sumCloudAIEvents(i)})("moveToDealerDetail",function(i){return t.CHM(e),t.oxw().moveToDealerDetail(i)})("doneCallingAllData",function(i){return t.CHM(e),t.oxw().doneCallingAllData(i)}),t.YNc(2,fe,1,0,"ng-container",37),t.qZA()}if(2&a){const e=t.oxw(),n=t.MAs(54);t.Udp("display","dealers"===e.tab&&e.dealerId?"block":"none"),t.Q6J("tab",e.tab)("amIStandardPlan",e.amIStandardPlan)("pagedItemIsReady",e.pagedItemIsReady)("prevSelectedMonth",e.prevSelectedMonth)("selectedMonth",e.selectedMonth)("pagedItems",e.pagedItems)("searchText",e.searchText),t.xp6(2),t.Q6J("ngTemplateOutlet",n)}}function be(a,s){1&a&&t.GkF(0)}function ve(a,s){1&a&&t.GkF(0)}function Ce(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",88),t._UZ(1,"div",89),t._UZ(2,"div",6),t.TgZ(3,"div",90),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div"),t._uU(7,"of"),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",91),t.TgZ(11,"div",92),t.TgZ(12,"div",21),t.TgZ(13,"div",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.setPage(i.pager.currentPage-1,!0)}),t.TgZ(14,"div",57),t.TgZ(15,"i",93),t._uU(16,"arrow_back"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"Prev"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",21),t.TgZ(20,"div",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.setPage(i.pager.currentPage+1,!0)}),t.TgZ(21,"div",57),t.TgZ(22,"span"),t._uU(23,"Next"),t.qZA(),t._UZ(24,"comp-icon",94),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(5),t.AsE("",e.pageOffsetStart," - ",e.pageOffsetEnd,""),t.xp6(4),t.Oqu(e.totalItem),t.xp6(4),t.ekj("disabled",1===e.pager.currentPage||0===e.pager.currentPage),t.xp6(2),t.ekj("disabled",1===e.pager.currentPage||0===e.pager.currentPage),t.xp6(5),t.ekj("disabled",e.pager.currentPage===e.pager.totalPages),t.xp6(4),t.ekj("disabled",e.pager.currentPage===e.pager.totalPages),t.Q6J("icon","arrow_forward_n")("color","#000")("size",16)}}const Pe=S.Bz.forChild([{path:"",component:(()=>{class a{constructor(e,n,i,o){this.pagerService=e,this.usersService=n,this.commonService=i,this.helper=o,this.isLoading=!1,this.me=null,this.isReadyForDealer=!1,this.isReadyForSite=!1,this.isReadyForDevice=!1,this.pagedItemIsReady=!1,this.isDivisionEnable=!1,this.dealerPlanData=null,this.amIMainDealer=!1,this.amIStandardPlan=!1,this.dealerId=null,this.meDealerInfo=null,this.tab_list=["sites","devices"],this.tab=this.tab_list[0],this.originDealers=[],this.filteredDealers=[],this.originSites=[],this.filteredSites=[],this.originDevices=[],this.filteredDevices=[],this.pager={},this.curPage=1,this.totalItem=0,this.pageOffset=20,this.pageOffsetStart=1,this.pageOffsetEnd=1,this.lastPage=1,this.deletedSites=[],this.siteObj={},this.pagedItems=new Array,this.selSearchDealer=new Object,this.selSearchDivision=new Object,this.dealers=[],this.divisions=[],this.searchText="",this.isSearching=!1,this.isFocusSearch=!1,this.isShowFilter=!1,this.isNewSiteFilter=!1,this.isDeactivateFilter=!1,this.isSelectList=!1,this.isSelectDivisionList=!1,this.isStatusFilter=!1,this.isExistSiteFilter=!1,this.isActivateGroupFilter=!1,this.isActivateSiteFilter=!1,this.isDealerFilter=!1,this.isDivisionFilter=!1,this.isExistFilter=!1,this.totalFilter=1,this._filterGroup={isNewSiteFilter:!1,isDeactivateFilter:!1,isSelectList:!1,isSelectDivisionList:!1,isStatusFilter:!1,isExistSiteFilter:!1,isActivateGroupFilter:!1,isActivateSiteFilter:!1,isDealerFilter:!1,isDivisionFilter:!1,isExistFilter:!1,selSearchDealer:{},selSearchDivision:{}},this.filterGroup=P.Z._.cloneDeep(this._filterGroup),this.selSearchSite=new Object,this.sites=[],this.isShowDeviceFilter=!1,this.isExistDeviceFilter=!1,this.totalDeviceFilter=1,this.isShowProviderFilter=!1,this.isProviderGroupFilter=!1,this.isProviderNoneFilter=!1,this.isProviderActuateFilter=!1,this.isProviderCalipsaFilter=!1,this.isSelectSiteList=!1,this.isSiteFilter=!1,this._deviceFilterGroup={isProviderGroupFilter:!1,isProviderNoneFilter:!1,isProviderActuateFilter:!1,isProviderCalipsaFilter:!1,isSelectSiteList:!1,isSiteFilter:!1,selSearchSite:{}},this.deviceFilterGroup=P.Z._.cloneDeep(this._deviceFilterGroup),this.isUnfoldMonthList=!1,this.monthList=[{name:"2023-06",value:"2023-06"}],this.selectedMonth={name:"2023-06",value:"2023-06"},this.prevSelectedMonth=null,this.providerList=[],this.CSDealerCloudAIDataList=[],this.siteCloudAIDataList=[],this.deviceCloudAIDataList=[],this.totalCloudAIRequestEvents="0",this.totalCloudAITrueEvents="0",this.totalCloudAIFalseEvents="0"}onGlobalClick(e){var n,i,o,r,l,_;this.searchInput&&((null===(n=this.searchInput)||void 0===n?void 0:n.nativeElement.contains(e.target))||(this.isFocusSearch=!1)),this.dealerList&&((null===(i=this.dealerList)||void 0===i?void 0:i.nativeElement.contains(e.target))||(this.isSelectList=!1)),this.dealerList&&((null===(o=this.dealerList)||void 0===o?void 0:o.nativeElement.contains(e.target))||(this.isSelectList=!1)),this.siteList&&((null===(r=this.siteList)||void 0===r?void 0:r.nativeElement.contains(e.target))||(this.isSelectSiteList=!1)),this.siteFilterBox&&((null===(l=this.siteFilterBox)||void 0===l?void 0:l.nativeElement.contains(e.target))||(this.isShowFilter=!1,this.resetFilter())),this.deviceFilterBox&&((null===(_=this.deviceFilterBox)||void 0===_?void 0:_.nativeElement.contains(e.target))||(this.isShowDeviceFilter=!1,this.resetDeviceFilter())),this.monthSelectDropdown&&(this.monthSelectDropdown.nativeElement.contains(e.target)||(this.isUnfoldMonthList=!1))}ngOnInit(){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.pagedItemIsReady=!1,yield this.checkAmIMainDealer(),yield this.checkCanIHaveDivision(),yield this.getDealerPlan(),yield this.load_partners(),this.initData()})}checkAmIMainDealer(){return(0,g.mG)(this,void 0,void 0,function*(){const e=yield this.helper.me.get_me();this.me=e,this.amIMainDealer=2===(null==e?void 0:e.type),this.dealerId=e.dealer_id,this.amIMainDealer&&(this.tab_list.unshift("dealers"),this.tab=this.tab_list[0])})}checkCanIHaveDivision(){return(0,g.mG)(this,void 0,void 0,function*(){const e=yield this.helper.dealer_plan.isProfessionalPlan();!this.amIStandardPlan&&!e&&0===this.me.is_division_user&&(this.isDivisionEnable=!0)})}getDealerPlan(){return(0,g.mG)(this,void 0,void 0,function*(){const e=yield this.helper.dealer_plan.get_dealer_plan();this.dealerPlanData=e,this.amIStandardPlan=this.helper.dealer_plan.isStandardPlan()})}initData(){this.helper.devices.init_devices(),this.searchText="",this.isShowFilter=!1,this.isNewSiteFilter=!1,this.isDeactivateFilter=!1,this.isSelectList=!1,this.isSelectDivisionList=!1,this.isStatusFilter=!1,this.isExistSiteFilter=!1,this.isActivateGroupFilter=!1,this.isActivateSiteFilter=!1,this.isDealerFilter=!1,this.isDivisionFilter=!1,this.isExistFilter=!1,this.totalFilter=1,this.selSearchDealer=new Object,this.selSearchDivision=new Object,this.selSearchSite=new Object,this.isShowDeviceFilter=!1,this.isExistDeviceFilter=!1,this.totalDeviceFilter=1,this.isShowProviderFilter=!1,this.isProviderGroupFilter=!1,this.isProviderNoneFilter=!1,this.isProviderActuateFilter=!1,this.isProviderCalipsaFilter=!1,this.isSelectSiteList=!1,this.isSiteFilter=!1,this.setMonthList()}setInitSelectedMonth(e){this.selectedMonth=e,this.prevSelectedMonth=null}setMonthList(){const e=new Date,n=new Date(2023,5),i=[];for(;n<=e;){const l=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;i.unshift({name:l,value:l}),n.setMonth(n.getMonth()+1)}this.monthList=i}load_partners(){return(0,g.mG)(this,void 0,void 0,function*(){if(!this.amIMainDealer)return;const e=yield this.helper.partner.get_partners();e.sort((n,i)=>this.compare(null==n?void 0:n.external_dealer_id_with_company_name,null==i?void 0:i.external_dealer_id_with_company_name,!0)),this.dealers=e})}setSiteFilterForDeviceTab(e){console.debug("\u{1f4cc} setSiteFilterForDeviceTab",e);const{sites:n,selSearchSite:i}=e;n&&(this.sites=n);const o=i||this.sites[0];this.selSearchSite=o,this._deviceFilterGroup.selSearchSite=o,this.deviceFilterGroup.selSearchSite=o}setDealerFilterForSiteTab(e){if(console.debug("\u{1f4cc} setDealerFilterForSiteTab",e),!this.amIMainDealer)return;const n=e||this.dealers[0];this.selSearchDealer=n,this.isDivisionEnable=this.me.dealer_id===e.dealer_id,this._filterGroup.selSearchDealer=n,this.filterGroup.selSearchDealer=n,this.dealers.forEach(i=>{i.dealer_id===this.selSearchDealer.dealer_id&&(this.selSearchDealer=i)})}setDivisionFilterForSiteTab(){const e=this.divisions[0];this.selSearchDivision=e,this._filterGroup.selSearchDivision=e,this.filterGroup.selSearchDivision=e}sumCloudAIEvents(e){this.totalCloudAIRequestEvents="0",this.totalCloudAITrueEvents="0",this.totalCloudAIFalseEvents="0";const n=e||this.switchTarget();if(!n)return;const i=n.reduce((l,_)=>l+this.formatNumberWithCommaToNumber(null==_?void 0:_.ai_request),0),o=n.reduce((l,_)=>l+this.formatNumberWithCommaToNumber(null==_?void 0:_.ai_true_alarm),0),r=n.reduce((l,_)=>l+this.formatNumberWithCommaToNumber(null==_?void 0:_.ai_false_alarm),0);this.totalCloudAIRequestEvents=this.formatNumbersWithComma(i),this.totalCloudAITrueEvents=this.formatNumbersWithComma(o),this.totalCloudAIFalseEvents=this.formatNumbersWithComma(r)}moveToTab(e,n=!1){return(0,g.mG)(this,void 0,void 0,function*(){this.tab=e,this.searchText="",this.isLoading=!0,this.pagedItemIsReady=!1,console.debug("moveToTab :>",e),"dealers"===e&&this.originDealers.length&&(this.filteredDealers=this.originDealers,this.setPage(1,!1,!1),this.sumCloudAIEvents(),this.isLoading=!1),"sites"===e&&(this.selSearchDealer={},this.isDivisionEnable=!0,this.originSites.length&&(this.filteredSites=this.originSites,this.setPage(1,!1,!1),this.sumCloudAIEvents(),this.isLoading=!1),n||this.clearSiteFilter()),"devices"===e&&(this.originDevices.length&&(this.filteredDevices=this.originDevices,this.setPage(1,!1,!1),this.sumCloudAIEvents(),this.isLoading=!1),n||this.clearDeviceFilter())})}switchTarget(){switch(this.tab){case"dealers":return this.filteredDealers;case"sites":return this.filteredSites;case"devices":return this.filteredDevices}}moveToDealerDetail(e){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield this.moveToTab("sites",!0),this.setSiteTabAndFilter(e)})}setSiteTabAndFilter(e){this.isDealerFilter=!0,this.filterGroup.isDealerFilter=!0,this.setDealerFilterForSiteTab(e),this.setDivisionFilterForSiteTab(),this.checkExistFilter(),this.doFilterSite(),this.sumCloudAIEvents(this.pagedItems)}moveToSiteDetail(e){return(0,g.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.moveToTab("devices",!0),this.setDeviceTabAndFilter(e)})}setDeviceTabAndFilter(e){this.isSiteFilter=!0,this.deviceFilterGroup.isSiteFilter=!0,this.setSiteFilterForDeviceTab({sites:null,selSearchSite:e}),this.checkExistDeviceFilter(),this.doFilterDevice(),this.sumCloudAIEvents(this.pagedItems)}toggleShowFilter(){this.isShowFilter=!this.isShowFilter}toggleShowDeviceFilter(){this.isShowDeviceFilter=!this.isShowDeviceFilter}changeStatusFilter(){const e=this.filterGroup;e.isStatusFilter?e.isNewSiteFilter=!0:(e.isNewSiteFilter=!1,e.isExistSiteFilter=!1)}changeActivateStatusFilter(){const e=this.filterGroup;e.isActivateGroupFilter?e.isActivateSiteFilter=!0:(e.isActivateSiteFilter=!1,e.isDeactivateFilter=!1)}changeProviderGroupFilter(){const e=this.deviceFilterGroup;e.isProviderGroupFilter?e.isProviderNoneFilter=!0:(e.isProviderNoneFilter=!1,e.isProviderActuateFilter=!1,e.isProviderCalipsaFilter=!1)}changeDealer(e){const n=this.filterGroup;this.selSearchDealer=e,this.isSelectList=!1,n.selSearchDealer=e}changeDivision(e){const n=this.filterGroup;this.selSearchDivision=e,this.isSelectDivisionList=!1,n.selSearchDivision=e}changeSite(e){const n=this.deviceFilterGroup;this.selSearchSite=e,this.isSelectList=!1,n.selSearchSite=e}clearSiteFilter(){this.isStatusFilter=!1,this.isNewSiteFilter=!1,this.isExistSiteFilter=!1,this.isActivateGroupFilter=!1,this.isActivateSiteFilter=!1,this.isDeactivateFilter=!1,this.isDealerFilter=!1,this.isDivisionFilter=!1,this.amIMainDealer&&(this.selSearchDealer=this.dealers[0]),this.selSearchDivision=this.divisions[0],this.filterGroup=P.Z._.cloneDeep(this._filterGroup),this.filterGroup.isActivateGroupFilter=!1,this.filterGroup.isActivateSiteFilter=!1,this.amIMainDealer&&(this.filterGroup.selSearchDealer=this.dealers[0]),this.filterGroup.selSearchDivision=this.divisions[0],this.searchSiteDelay("clear"),this.checkExistFilter()}clearDeviceFilter(){this.isProviderGroupFilter=!1,this.isProviderNoneFilter=!1,this.isProviderActuateFilter=!1,this.isProviderCalipsaFilter=!1,this.isSiteFilter=!1,this.selSearchDealer=this.sites[0],this.selSearchDivision=this.divisions[0],this.deviceFilterGroup=P.Z._.cloneDeep(this._deviceFilterGroup),this.deviceFilterGroup.isProviderGroupFilter=!1,this.deviceFilterGroup.selSearchSite=this.sites[0],this.searchDeviceDelay(),this.checkExistDeviceFilter()}doSiteFilter(){this.setFilter(),this.searchSiteDelay(),this.isShowFilter=!1,this.checkExistFilter(),this.sumCloudAIEvents()}doDeviceFilter(){this.setDeviceFilter(),this.searchDeviceDelay(),this.isShowDeviceFilter=!1,this.checkExistDeviceFilter(),this.sumCloudAIEvents()}setFilter(){const e=this.filterGroup;this.isStatusFilter=e.isStatusFilter,this.isNewSiteFilter=e.isNewSiteFilter,this.isExistSiteFilter=e.isExistSiteFilter,this.isActivateGroupFilter=e.isActivateGroupFilter,this.isActivateSiteFilter=e.isActivateSiteFilter,this.isDeactivateFilter=e.isDeactivateFilter,this.isDealerFilter=e.isDealerFilter,this.selSearchDealer=e.selSearchDealer,this.isDivisionFilter=e.isDivisionFilter,this.selSearchDivision=e.selSearchDivision}setDeviceFilter(){const e=this.deviceFilterGroup;this.isProviderGroupFilter=e.isProviderGroupFilter,this.isProviderNoneFilter=e.isProviderNoneFilter,this.isProviderActuateFilter=e.isProviderActuateFilter,this.isProviderCalipsaFilter=e.isProviderCalipsaFilter,this.isSiteFilter=e.isSiteFilter,this.selSearchSite=e.selSearchSite}resetFilter(){const e=this.filterGroup;e.isStatusFilter=this.isStatusFilter,e.isNewSiteFilter=this.isNewSiteFilter,e.isExistSiteFilter=this.isExistSiteFilter,e.isActivateGroupFilter=this.isActivateGroupFilter,e.isActivateSiteFilter=this.isActivateSiteFilter,e.isDeactivateFilter=this.isDeactivateFilter,e.isDealerFilter=this.isDealerFilter,e.selSearchDealer=this.selSearchDealer,this.isDivisionFilter=e.isDivisionFilter,this.selSearchDivision=e.selSearchDivision}resetDeviceFilter(){const e=this.deviceFilterGroup;e.isProviderGroupFilter=this.isProviderGroupFilter,e.isProviderNoneFilter=this.isProviderNoneFilter,e.isProviderActuateFilter=this.isProviderActuateFilter,e.isProviderCalipsaFilter=this.isProviderCalipsaFilter,e.isSiteFilter=this.isSiteFilter,e.selSearchSite=this.selSearchSite}checkExistFilter(){let e=!1,n=0;this.isNewSiteFilter&&(e=!0,n++),this.isDeactivateFilter&&(e=!0,n++),this.isExistSiteFilter&&(e=!0,n++),this.isActivateGroupFilter&&(e=!0,n++),this.isDealerFilter&&(e=!0,n++),this.isDivisionFilter&&(e=!0,n++),this.isExistFilter=e,this.totalFilter=n}checkExistDeviceFilter(){let e=!1,n=0;this.isSiteFilter&&(e=!0,n++),this.isProviderNoneFilter&&(e=!0,n++),this.isProviderActuateFilter&&(e=!0,n++),this.isProviderCalipsaFilter&&(e=!0,n++),this.isExistDeviceFilter=e,this.totalDeviceFilter=n}search(){return"dealers"===this.tab?this.searchDealerDelay():"sites"===this.tab?this.searchSiteDelay():"devices"===this.tab?this.searchDeviceDelay():void 0}setSearchFocus(){this.isFocusSearch=!0}doFilterDealer(e){if(console.debug("\u2705 doFilterDealer",e),e&&e instanceof Object){const{filteredDealers:n,originDealers:i}=e;n&&(this.filteredDealers=n),i&&(this.originDealers=i)}this.setPage(1,!1,!0)}doFilterSite(e){if(console.debug("\u2705 doFilterSite",this.isDealerFilter,this.selSearchDealer),e&&e instanceof Object){const{filteredSites:n,originSites:i}=e;n&&(this.filteredSites=n),i&&(this.originSites=i)}this.isStatusFilter&&(this.isNewSiteFilter&&this.isExistSiteFilter?this.filteredSites=this.filteredSites.filter(n=>n.is_new||!n.is_new):(this.isNewSiteFilter&&(this.filteredSites=this.filteredSites.filter(n=>n.is_new)),this.isExistSiteFilter&&(this.filteredSites=this.filteredSites.filter(n=>!n.is_new)),!this.isNewSiteFilter&&!this.isExistSiteFilter&&this.filteredSites.filter(n=>!n.is_new&&n.is_new))),this.isActivateGroupFilter&&(this.isActivateSiteFilter&&this.isDeactivateFilter?this.filteredSites=this.filteredSites.filter(n=>1===n.is_activated||0===n.is_activated):(this.isActivateSiteFilter&&(this.filteredSites=this.filteredSites.filter(n=>1===n.is_activated)),this.isDeactivateFilter&&(this.filteredSites=this.filteredSites.filter(n=>0===n.is_activated)),!this.isActivateSiteFilter&&!this.isDeactivateFilter&&(this.filteredSites=this.filteredSites.filter(n=>0!==n.is_activated&&1!==n.is_activated)))),this.isDealerFilter&&(this.filteredSites=this.filteredSites.filter(n=>this.selSearchDealer.dealer_id==n.dealer_id)),this.isDivisionFilter&&(this.filteredSites=this.filteredSites.filter(n=>this.selSearchDivision.id==n.division_id)),this.setPage(1,!1,!0)}doFilterDevice(e){if(console.debug("\u2705 doFilterDevice",this.isSiteFilter,this.selSearchSite),e&&e instanceof Object){const{filteredDevices:n,originDevices:i}=e;n&&(this.filteredDevices=n),i&&(this.originDevices=i)}if(this.isSiteFilter&&(this.filteredDevices=this.filteredDevices.filter(n=>this.selSearchSite.site_id==n.site_id)),this.isProviderGroupFilter){const n=r=>"None"===r.provider_name,i=r=>"Actuate"===r.provider_name,o=r=>"Calipsa"===r.provider_name;this.filteredDevices=this.filteredDevices.filter(r=>(this.isProviderNoneFilter||!n(r))&&(this.isProviderActuateFilter||!i(r))&&(this.isProviderCalipsaFilter||!o(r)))}this.setPage(1,!1,!0)}searchDealerDelay(){if(this.filteredDealers=[],this.pagedItems=[],!(0!=this.searchText.length&&this.searchText.length<3)){if(0==this.searchText.length)return this.filteredDealers=this.originDealers,this.isLoading=!1,this.sumCloudAIEvents(),void this.doFilterDealer();this.isLoading=!0,this.filteredDealers=this.searchDealer(this.searchText),this.sumCloudAIEvents(),this.doFilterDealer(),this.isLoading=!1}}searchDealer(e){if(!this.originDealers)return[];let n=e.toLowerCase();return this.originDealers.filter(i=>{var o;let r=null===(o=null==i?void 0:i.external_dealer_id_with_company_name)||void 0===o?void 0:o.toLowerCase();return!!n&&r.search(n)>-1})}searchSiteDelay(e){return"clear"===e?(clearTimeout(this.timer),this.selSearchDealer={},this.selSearchDivision={},this.setPage(1,!1,!1)):(this.filteredSites=[],this.pagedItems=[],0!=this.searchText.length&&this.searchText.length<3?(this.isLoading=!1,void clearTimeout(this.timer)):0==this.searchText.length?(clearTimeout(this.timer),this.filteredSites=this.originSites,this.sumCloudAIEvents(),void this.doFilterSite()):(this.isLoading=!0,clearTimeout(this.timer),void(this.timer=setTimeout(()=>{var n;0!=this.searchText.length&&(null===(n=this.siteTable)||void 0===n||n.load_searched_sites(this.searchText))},300))))}searchDeviceDelay(){if(this.filteredDevices=[],this.pagedItems=[],!(0!=this.searchText.length&&this.searchText.length<3)){if(0==this.searchText.length)return this.filteredDevices=this.originDevices,this.isLoading=!1,this.sumCloudAIEvents(),void this.doFilterDevice();this.isLoading=!0,this.filteredDevices=this.searchDevice(this.searchText),this.sumCloudAIEvents(),this.doFilterDevice(),this.isLoading=!1}}searchDevice(e){if(!this.originDevices)return[];let n=e.toLowerCase();return this.originDevices.filter(i=>{let o=i.name.toLowerCase()+i.zone_number.toLowerCase()+i.site_name.toLowerCase()+i.provider_name.toLowerCase();return!!n&&o.search(n)>-1})}updateDivisionList(e){this.divisions=e,0===this.divisions.length&&(this.isDivisionEnable=!1)}setPage(e,n=!1,i=!1){this.pagedItems=[],console.debug("set Page");const o=this.switchTarget();if(!o)return console.debug("\u26a0\ufe0f list is lost",o),this.isLoading=!1;this.pager=this.pagerService.getPager(null==o?void 0:o.length,e,this.pageOffset),this.totalItem=null==o?void 0:o.length,this.pagedItems=o.slice(this.pager.startIndex,this.pager.endIndex+1),this.curPage=this.pager.currentPage,this.pageOffsetStart=this.curPage-1<0?0:this.curPage-1==0?1:(this.curPage-1)*this.pageOffset+1,this.pageOffsetEnd=this.curPage*this.pageOffset>this.totalItem?this.totalItem:this.curPage*this.pageOffset,i&&(this.pagedItemIsReady=!0,n&&this.getSkippedData())}getSkippedData(){var e,n,i;return(0,g.mG)(this,void 0,void 0,function*(){this.amIMainDealer&&(yield null===(e=this.dealerTable)||void 0===e?void 0:e.load_dealer_stats_by_dealers_every_100_units()),yield Promise.all([null===(n=this.siteTable)||void 0===n?void 0:n.load_dealer_stats_by_sites_every_100_units(),null===(i=this.deviceTable)||void 0===i?void 0:i.load_dealer_stats_by_devices_every_100_units()])})}createCSV(){let e=[],n=[];const i=this.switchTarget();"dealers"===this.tab&&(e=["Dealer Name","Plan","Sites","AI Enabled","Video Events","AI True","AI False","AI Events"],i.forEach(d=>{const x=[null==d?void 0:d.dealer_name,this.parseServicePlanTypeToPlanName(null==d?void 0:d.current_month_service_plan_type),null==d?void 0:d.site_count,this.isVideoAIEnabled(null==d?void 0:d.is_videoai_enabled),this.formatNumberWithCommaToNumber(null==d?void 0:d.video_events),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_true_alarm),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_false_alarm),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_request)];n.push(x)})),"sites"===this.tab&&(e=["Site Name","Dealer Name","Total Devices","AI Enabled","Video Events","AI True","AI False","AI Events"],i.forEach(d=>{const x=[null==d?void 0:d.name,null==d?void 0:d.dealer_name,null==d?void 0:d.device_count,this.isVideoAIEnabled(null==d?void 0:d.videoai_enabled),this.formatNumberWithCommaToNumber(null==d?void 0:d.video_events),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_true_alarm),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_false_alarm),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_request)];n.push(x)})),"devices"===this.tab&&(e=["CH#","Dealer Name","Site Name","Device Name","Network","AI Provider","Video Events","AI True","AI False","AI Events"],i.forEach(d=>{const x=[null==d?void 0:d.zone_number,null==d?void 0:d.dealer_name,null==d?void 0:d.site_name,null==d?void 0:d.name,this.isOnline(null==d?void 0:d.is_online),null==d?void 0:d.provider_name,this.formatNumberWithCommaToNumber(null==d?void 0:d.video_events),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_true_alarm),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_false_alarm),this.formatNumberWithCommaToNumber(null==d?void 0:d.ai_request)];n.push(x)}));let r=[e,...n].map(d=>d.map(x=>{var b,f;return`"${null!==(f=null===(b=null==x?void 0:x.toString())||void 0===b?void 0:b.replace(/"/g,'""'))&&void 0!==f?f:"No Data"}"`}).join(",")).join("\n");const l="data:text/csv;charset=utf-8,"+encodeURIComponent(r),_=`${this.selectedMonth.value}_${this.tab}.csv`,p=document.createElement("a");p.setAttribute("href",l),p.setAttribute("download",_),document.body.appendChild(p),p.click()}parseServicePlanTypeToPlanName(e){switch(e){case 1:default:return"Basic";case 2:return"Professional";case 3:return"Premium";case 4:return"Reseller"}}isVideoAIEnabled(e){return e?"Enabled":"Disabled"}isOnline(e){return e?"Online":"Offline"}compare(e,n,i){return(e<n?-1:1)*(i?1:-1)}formatNumbersWithComma(e){return"string"==typeof e&&e.includes(",")?void 0:(null==e&&(e=0),parseFloat(e).toLocaleString("en-US"))}formatNumberWithCommaToNumber(e){if(e)return parseInt(null==e?void 0:e.replace(/,/g,""))}selectMonth(e){var n;return(0,g.mG)(this,void 0,void 0,function*(){(null===(n=this.selectedMonth)||void 0===n?void 0:n.name)!=(null==e?void 0:e.name)&&(this.isUnfoldMonthList=!1,this.prevSelectedMonth=this.selectedMonth,this.selectedMonth=e,this.isLoading=!0,yield P.Z.tool.sleep(500),this.isLoading=!1)})}doneCallingAllData(e){console.debug("\u{1f4cc} doneCallingAllData"),"dealers"===e&&(this.isReadyForDealer=!0),"sites"===e&&(this.isReadyForSite=!0),"devices"===e&&(this.isReadyForDevice=!0),this.isLoading=!1}isReadyForCreateCSV(){return"dealers"===this.tab?this.isReadyForDealer:"sites"===this.tab?this.isReadyForSite:"devices"===this.tab?this.isReadyForDevice:void 0}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(E.e),t.Y36(k.f),t.Y36(T.v),t.Y36(A.W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-video-event-stat"]],viewQuery:function(e,n){if(1&e&&(t.Gf(zt,5),t.Gf(Lt,5),t.Gf(Ut,5),t.Gf(Gt,5),t.Gf(Jt,5),t.Gf(Vt,5),t.Gf(Qt,5),t.Gf(Ht,5),t.Gf(jt,5),t.Gf(Rt,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.searchInput=i.first),t.iGM(i=t.CRH())&&(n.dealerList=i.first),t.iGM(i=t.CRH())&&(n.divisionList=i.first),t.iGM(i=t.CRH())&&(n.siteList=i.first),t.iGM(i=t.CRH())&&(n.siteFilterBox=i.first),t.iGM(i=t.CRH())&&(n.deviceFilterBox=i.first),t.iGM(i=t.CRH())&&(n.dealerTable=i.first),t.iGM(i=t.CRH())&&(n.siteTable=i.first),t.iGM(i=t.CRH())&&(n.deviceTable=i.first),t.iGM(i=t.CRH())&&(n.monthSelectDropdown=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(o){return n.onGlobalClick(o)},!1,t.evT)},decls:55,vars:44,consts:[[1,"sub-component"],[1,"widget-area","custom-widget-area"],[2,"width","100%","max-width","1204px","min-width","300px",3,"amIStandardPlan","selectMonthForTable","setInitSelectedMonth"],[1,"widget","custom-widget",2,"width","100%","max-width","1200px"],[1,"header"],[1,"title"],[1,"space"],[1,"tag-area"],[1,"tag"],[1,"material-icons-outlined",2,"font-size","18px","margin-right","4px"],[1,"chekt-select-option-wrapper"],["monthSelectDropdown",""],[1,"chekt-select-option",2,"z-index","2"],[1,"chekt-select-option-label",3,"click"],["style","color:#a3acb9;",4,"ngIf"],[1,"chekt-select-option-icon"],[1,"my-icon",2,"font-size","18px"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000"],["d","M0 0h24v24H0V0z","fill","none"],["d","M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"],["class","chekt-select-dropdown",4,"ngIf"],[1,"btn-area"],[1,"button","button-white","dense-icon-btn",3,"click"],[1,"btn-inner","dense-icon-btn"],[1,"filters-area"],[1,"filter"],[1,"report-tab"],["class","btn",3,"btn-selected","disabled","click",4,"ngFor","ngForOf"],[1,"search-container",3,"click"],[1,"material-icons",2,"padding","6px 10px"],["autocomplete","off","type","text","placeholder","Search...",3,"ngModel","ngModelChange","keyup"],["searchInput",""],[3,"disabled",4,"ngIf"],[2,"margin-right","20px"],["class","tab-table",3,"display","tab","amIStandardPlan","pagedItemIsReady","prevSelectedMonth","selectedMonth","pagedItems","searchText","doFilterDealer","sumCloudAIEvents","moveToDealerDetail","doneCallingAllData",4,"ngIf"],[1,"tab-table",3,"tab","amIMainDealer","dealerPlanData","pagedItemIsReady","prevSelectedMonth","selectedMonth","selSearchDealer","pagedItems","searchText","setDealerFilterForSiteTab","doFilterSite","sumCloudAIEvents","moveToSiteDetail","doneCallingAllData","updateDivisionList"],["siteTable",""],[4,"ngTemplateOutlet"],[1,"tab-table",3,"tab","amIStandardPlan","amIMainDealer","pagedItemIsReady","prevSelectedMonth","selectedMonth","selSearchSite","pagedItems","searchText","setSiteFilterForDeviceTab","doFilterDevice","sumCloudAIEvents","doneCallingAllData"],["deviceTable",""],["pagination",""],[2,"color","#a3acb9"],[1,"chekt-select-dropdown"],[1,"select-option-modal-list"],["class","chekt-select-dropdown-list",3,"click",4,"ngFor","ngForOf"],[1,"chekt-select-dropdown-list",3,"click"],[1,"btn",3,"click"],[1,"tab-title"],["class","tab-selected-bar",4,"ngIf"],[1,"tab-selected-bar"],["siteFilterBox",""],[1,"btn-inner","dense-icon-btn","filter-btn"],[1,"filter-icon",3,"icon","size","color"],["class","exist-filter",4,"ngIf"],[1,"filter-box"],[1,"filter-box-header"],[1,"button","button-white",3,"click"],[1,"btn-inner"],[1,"button","button-primary",2,"margin","0",3,"click"],[1,"filter-box-content"],[1,"filter-box-category"],[3,"ngModel","labelPosition","ngModelChange","change"],[1,"default-label"],[1,"filter-box-items"],[1,"filter-box-items-item"],[3,"ngModel","labelPosition","ngModelChange"],[1,"filter-item"],["class","filter-box-category",4,"ngIf"],[2,"position","relative","width","100%"],["dealerList",""],[1,"selectbox","label",3,"click"],[4,"ngIf"],["class","disabled",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","18px","viewBox","0 0 24 24","width","18px","fill","#000000"],["class","search-list","style","max-height: 300px;",4,"ngIf"],["class","filter-box-items",3,"expend","show",4,"ngIf"],[1,"exist-filter"],[1,"disabled"],[1,"search-list",2,"max-height","300px"],["class","search-result has-child",4,"ngIf"],["class","search-result has-child",3,"click",4,"ngFor","ngForOf"],[1,"search-result","has-child"],[1,"search-result","has-child",3,"click"],["divisionList",""],["deviceFilterBox",""],["siteList",""],[1,"tab-table",3,"tab","amIStandardPlan","pagedItemIsReady","prevSelectedMonth","selectedMonth","pagedItems","searchText","doFilterDealer","sumCloudAIEvents","moveToDealerDetail","doneCallingAllData"],["dealerTable",""],[1,"pagination-area"],[2,"font-size","12px","padding-right","7px"],[1,"flex",2,"font-size","12px","padding-right","7px","gap","2px"],[1,"pagination"],[1,"page-mover"],[1,"material-icons",2,"font-size","16px"],[3,"icon","color","size"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"c_card_cloud_ai_stat_component",2),t.NdJ("selectMonthForTable",function(o){return n.selectMonth(o)})("setInitSelectedMonth",function(o){return n.setInitSelectedMonth(o)}),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._uU(6,"Video Event Stats"),t.qZA(),t._UZ(7,"div",6),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"i",9),t._uU(11,"schedule"),t.qZA(),t._uU(12," UTC"),t.qZA(),t.qZA(),t.TgZ(13,"div",10,11),t.TgZ(15,"div",12),t.TgZ(16,"div",13),t.NdJ("click",function(){return n.isUnfoldMonthList=!n.isUnfoldMonthList}),t.YNc(17,Wt,2,0,"div",14),t.TgZ(18,"div"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",15),t.TgZ(21,"div",16),t.O4$(),t.TgZ(22,"svg",17),t._UZ(23,"path",18),t._UZ(24,"path",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,Bt,3,1,"div",20),t.qZA(),t.kcU(),t.TgZ(26,"div",21),t.TgZ(27,"div",22),t.NdJ("click",function(){return n.createCSV()}),t.TgZ(28,"div",23),t._uU(29,"Create CSV"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",24),t.TgZ(31,"div",25),t.TgZ(32,"div",26),t.YNc(33,Kt,4,6,"div",27),t.qZA(),t.TgZ(34,"div",28),t.NdJ("click",function(){return n.setSearchFocus()}),t.TgZ(35,"i",29),t._uU(36,"search"),t.qZA(),t.TgZ(37,"input",30,31),t.NdJ("ngModelChange",function(o){return n.searchText=o})("keyup",function(){return n.search()}),t.qZA(),t.qZA(),t.YNc(39,ge,61,38,"div",32),t.YNc(40,me,53,28,"div",32),t._UZ(41,"div",6),t.TgZ(42,"div",33),t._uU(43,"Total Cloud AI Events ( False | True ) : "),t.TgZ(44,"b"),t._uU(45),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(46,xe,3,10,"c_dtable_cloud_ai_stat_dealer",34),t.TgZ(47,"c_dtable_cloud_ai_stat_site",35,36),t.NdJ("setDealerFilterForSiteTab",function(o){return n.setDealerFilterForSiteTab(o)})("doFilterSite",function(o){return n.doFilterSite(o)})("sumCloudAIEvents",function(o){return n.sumCloudAIEvents(o)})("moveToSiteDetail",function(o){return n.moveToSiteDetail(o)})("doneCallingAllData",function(o){return n.doneCallingAllData(o)})("updateDivisionList",function(o){return n.updateDivisionList(o)}),t.YNc(49,be,1,0,"ng-container",37),t.qZA(),t.TgZ(50,"c_dtable_cloud_ai_stat_device",38,39),t.NdJ("setSiteFilterForDeviceTab",function(o){return n.setSiteFilterForDeviceTab(o)})("doFilterDevice",function(o){return n.doFilterDevice(o)})("sumCloudAIEvents",function(o){return n.sumCloudAIEvents(o)})("doneCallingAllData",function(o){return n.doneCallingAllData(o)}),t.YNc(52,ve,1,0,"ng-container",37),t.qZA(),t.YNc(53,Ce,25,14,"ng-template",null,40,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&e){const i=t.MAs(54);t.xp6(2),t.Q6J("amIStandardPlan",n.amIStandardPlan),t.xp6(11),t.ekj("disabled",n.isLoading),t.xp6(4),t.Q6J("ngIf",!n.selectedMonth),t.xp6(2),t.Oqu(null==n.selectedMonth?null:n.selectedMonth.name),t.xp6(6),t.Q6J("ngIf",n.isUnfoldMonthList),t.xp6(2),t.ekj("disabled",!n.isReadyForCreateCSV()||n.isLoading),t.xp6(6),t.Q6J("ngForOf",n.tab_list),t.xp6(1),t.ekj("search-focus",n.isFocusSearch)("disabled",n.isLoading),t.xp6(3),t.Q6J("ngModel",n.searchText),t.xp6(2),t.Q6J("ngIf","sites"===n.tab),t.xp6(1),t.Q6J("ngIf","devices"===n.tab),t.xp6(5),t.lnq("",n.totalCloudAIRequestEvents," (",n.totalCloudAIFalseEvents," | ",n.totalCloudAITrueEvents,")"),t.xp6(1),t.Q6J("ngIf",n.amIMainDealer),t.xp6(1),t.Udp("display","sites"===n.tab&&n.dealerId?"block":"none"),t.Q6J("tab",n.tab)("amIMainDealer",n.amIMainDealer)("dealerPlanData",n.dealerPlanData)("pagedItemIsReady",n.pagedItemIsReady)("prevSelectedMonth",n.prevSelectedMonth)("selectedMonth",n.selectedMonth)("selSearchDealer",n.selSearchDealer)("pagedItems",n.pagedItems)("searchText",n.searchText),t.xp6(2),t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Udp("display","devices"===n.tab&&n.dealerId?"block":"none"),t.Q6J("tab",n.tab)("amIStandardPlan",n.amIStandardPlan)("amIMainDealer",n.amIMainDealer)("pagedItemIsReady",n.pagedItemIsReady)("prevSelectedMonth",n.prevSelectedMonth)("selectedMonth",n.selectedMonth)("selSearchSite",n.selSearchSite)("pagedItems",n.pagedItems)("searchText",n.searchText),t.xp6(2),t.Q6J("ngTemplateOutlet",i)}},directives:[W,c.O5,c.sg,O.Fj,O.JJ,O.On,dt,c.tP,Pt,Z.U,V.oG,qt],styles:['.scroll-screen[_ngcontent-%COMP%]{flex:1;flex-direction:column;overflow-y:overlay;height:100%;position:relative;padding:7px;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.row[_ngcontent-%COMP%]{flex-direction:row;display:flex;height:100%;overflow-y:overlay;transition:.5s}.col[_ngcontent-%COMP%]{flex-direction:column;display:flex;flex:1;height:100%}.customer-widget-area[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{min-width:300px}.customer-widget-area[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:only-child{min-width:600px}.customer-widget-area.deactivated[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{height:calc(100% - 43px)}.col[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]{min-width:300px}.sub-nav[_ngcontent-%COMP%]{position:relative;left:0px;transition:all ease-in-out .3s;min-width:250px;max-width:250px;flex:1;background:#fff;border-right:.5px solid #d7d7d7;display:flex;flex-direction:column;overflow-y:overlay;z-index:3}.sub-nav[_ngcontent-%COMP%]:focus{outline:none}.sub-nav[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;flex:initial;align-items:center}.sub-nav[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{overflow-y:overlay}.sub-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:6px 12px 6px 0;box-sizing:border-box;border:0;background-color:transparent;background-size:24px;background-position:4px 8px;background-repeat:no-repeat;flex:1}.sub-nav[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-right:8px;color:#777;transition:.2s}.sub-nav[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#000}.sub-nav[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:red;color:#fff;width:8px;height:14px;margin-left:8px;padding:2px 4px 2px 5px;border-radius:4px;font-size:12px}.sub-nav[_ngcontent-%COMP%]   .plan-badge[_ngcontent-%COMP%]{background-color:red;width:6px;height:6px;margin-left:4px;border-radius:10px}.sub-nav[_ngcontent-%COMP%]   .list-category[_ngcontent-%COMP%]{padding:24px 0 7px 20px;color:#2f96fb;font-size:14px;text-transform:uppercase}.sub-nav[_ngcontent-%COMP%]   .list-category[_ngcontent-%COMP%]:first-child{padding:30px 0 7px 20px;color:#2f96fb;font-size:14px}.sub-nav[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0009;cursor:pointer}.sub-nav[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}.sub-nav[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover.settings{background:transparent}.sub-nav[_ngcontent-%COMP%]   .list-item-selected[_ngcontent-%COMP%]{background:#dcf0fd!important;color:#000000de}.sub-nav[_ngcontent-%COMP%]   .list-item-selected[_ngcontent-%COMP%]:after{background-color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .list-item-selected.settings[_ngcontent-%COMP%]{background:transparent!important;color:#000000de;font-weight:500;color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{display:flex;font-size:14px;padding:7px 0 7px 15px}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings[_ngcontent-%COMP%]{padding-left:16px;width:100%;margin:0 4px;border-radius:4px}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings[_ngcontent-%COMP%]:hover{padding:8px 16px;background:#e8eaed}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings.selected-label[_ngcontent-%COMP%]{width:100%;margin:0 4px;padding:8px 12px;border-radius:4px;font-weight:500;color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings.selected-label[_ngcontent-%COMP%]:hover{padding:8px 12px;background:#dcf0fd}.sub-nav[_ngcontent-%COMP%]   .select-mark[_ngcontent-%COMP%]{background-color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .select-mark.settings[_ngcontent-%COMP%]{background-color:#2383e2;width:4px;min-height:30px;height:30px;border-radius:4px}.component-body[_ngcontent-%COMP%]{position:relative;flex:5;height:100%;flex-direction:column;display:flex;transition:all ease-in-out .3s}.component-body-no-data[_ngcontent-%COMP%]{flex:5;height:100%;flex-direction:column;align-items:center;justify-content:center;display:flex}.tab[_ngcontent-%COMP%]{height:60px;color:#888;background:#f7f7fc;box-shadow:0 4px 2px -2px #888;display:flex;align-items:center;z-index:1}.tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative}.tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.tab[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#2383e2}.tab[_ngcontent-%COMP%]   .icn-button[_ngcontent-%COMP%]{padding:0 16px}.tab[_ngcontent-%COMP%]   .icn-button-active[_ngcontent-%COMP%]{color:#000}.tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:0 32px;text-transform:capitalize;font-size:14px}.tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:-2px;width:100%;height:4px;background:#2383e2}.plan-upgrade-badge[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2A517E 17.88%,#1E88E5 69.03%);border-radius:10px;padding:2px 6px;margin-left:-8px;color:#fff;font-size:12px;font-weight:400;cursor:pointer}.customer-tab[_ngcontent-%COMP%]{color:#7a7a7a;background:#fff;border-bottom:1px solid rgba(0,0,0,.1);display:flex;align-items:center;z-index:1;font-weight:500;font-size:14px;flex-flow:wrap}.customer-tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;position:relative;cursor:pointer}.customer-tab[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#1e88e5;font-weight:500}.customer-tab[_ngcontent-%COMP%]   .icn-button[_ngcontent-%COMP%]{padding:0 16px}.customer-tab[_ngcontent-%COMP%]   .icn-button-active[_ngcontent-%COMP%]{color:#000}.customer-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:8px 20px;text-transform:capitalize;font-size:14px;font-weight:400}.customer-tab[_ngcontent-%COMP%]   .tab-title.selected[_ngcontent-%COMP%]{font-weight:500}.customer-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]:hover{background:#e8eaed;border-radius:7px}.customer-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:-2px;width:100%;height:3px;background:#2383e2}.setting-tab[_ngcontent-%COMP%]{height:41px;box-sizing:border-box;color:#7a7a7a;background:#fff;display:flex;flex-direction:row;align-items:center;z-index:1;font-size:14px;font-weight:500;justify-content:space-between;border-bottom:1px solid rgba(0,0,0,.1);background-color:#fbfbfa}.setting-tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative;cursor:pointer}.setting-tab[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.setting-tab[_ngcontent-%COMP%]   .button-selected-red[_ngcontent-%COMP%]{color:#f67474}.setting-tab[_ngcontent-%COMP%]   .icn-button[_ngcontent-%COMP%]{padding:0 16px}.setting-tab[_ngcontent-%COMP%]   .icn-button-active[_ngcontent-%COMP%]{color:#000}.setting-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:5px 20px;text-transform:capitalize;font-size:13px;font-weight:400;margin:0 1px}.setting-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]:hover{background:#e8eaed;border-radius:5px}.setting-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;height:4px;background:#2383e2;border-radius:4px}.setting-tab[_ngcontent-%COMP%]   .tab-selected-bar-red[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;height:5px;background:#f67474}.btn-icon[_ngcontent-%COMP%]{color:#7c7c7c;background-color:#f1f1f1;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{color:#7c7c7c;background-color:#efeff6}.space[_ngcontent-%COMP%]{flex:1}.sub-component[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:100%;height:100%}.widget-area[_ngcontent-%COMP%]{flex-direction:row;display:flex;height:100%;flex:1;overflow-y:overlay;padding:20px 30px;flex-wrap:wrap;justify-content:center;box-sizing:border-box}.customer-widget-area[_ngcontent-%COMP%]{position:absolute;height:auto;bottom:0;top:0;left:0;right:0;flex-direction:row;display:flex;flex:1;overflow:initial;padding:14px;box-sizing:border-box;flex-wrap:wrap;justify-content:center}.customer-widget-area.deactivated[_ngcontent-%COMP%]{padding:0 7px 7px}.wcs-widget-area[_ngcontent-%COMP%]{position:absolute;height:auto;bottom:0;top:0;left:0;right:0;flex-direction:row;display:flex;flex:1;overflow-y:overlay;padding:12px;flex-wrap:wrap;align-items:center;grid-gap:12px;gap:12px}.wcs-widget-area[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{align-items:center}.setting-widget[_ngcontent-%COMP%]{height:calc(100% - 44px)}.setting-router[_ngcontent-%COMP%]{width:100%;flex:1;position:relative;overflow:auto;overflow-y:overlay}.container[_ngcontent-%COMP%]{width:calc(100% - 14px);height:100%;display:flex;flex-direction:column;align-items:center;padding:7px}.widget[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;max-width:1400px;min-width:300px;max-height:calc(100% - 15px);background:white;transition:.5s;border-radius:3px;border:1px solid rgba(0,0,0,.1);margin:0 5px 10px}.widget[_ngcontent-%COMP%]:last-child{margin:0 5px}.widget[_ngcontent-%COMP%]:only-child{min-width:600px}.widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 108px);padding:20px}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:14px}.widget-item[_ngcontent-%COMP%]{flex:none;font-size:14px;color:#000000de}.widget-item[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{padding:14px 30px}.widget[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:7px}.widget[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:200px;font-size:14px;color:#0009}.widget[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{display:flex;padding:7px 0}.widget[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.scroll-widget[_ngcontent-%COMP%]{max-height:initial}.item[_ngcontent-%COMP%]   .w-1[_ngcontent-%COMP%]{width:10%}.item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:flex;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:80%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:12px;color:#00000080}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%;padding-left:32px}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.cell[_ngcontent-%COMP%]{padding-bottom:14px}.widget[_ngcontent-%COMP%]   .widget-bottom[_ngcontent-%COMP%]{display:flex;padding-top:6px}.table-area[_ngcontent-%COMP%]{height:100%;overflow:overlay}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;font-size:16px;padding:12px 20px;color:#000000de}.header[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{padding:7px 16px}.header[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{color:#aaa;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{color:#1e90ff}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{color:#30b0ff}.widget[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{flex:1;padding:14px 16px;overflow-y:overlay}.body-center[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.body-center[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{text-align:center}.body-center[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#2383e2}.body-center[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:14px;font-size:14px;color:#0009;text-align:center;line-height:1.5}.body-center[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:8px;font-size:18px;color:#000000de}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;color:#777}.body[_ngcontent-%COMP%] > .contents[_ngcontent-%COMP%]{font-size:15px;color:#333;margin-top:4px;padding:4px 0;display:flex;min-height:24px;align-items:center}.body[_ngcontent-%COMP%]   .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%]   .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%]   .selectbox[_ngcontent-%COMP%]{color:#777;padding:16px;box-shadow:0 0 2px #888;transition:.2s;cursor:pointer;display:flex;flex-direction:row}.body[_ngcontent-%COMP%]   .selectbox[_ngcontent-%COMP%]:hover{color:#333;box-shadow:0 0 6px #888}.widget[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin:12px;padding:12px 12px 12px 36px;box-sizing:border-box;border:0;border-bottom:2px solid #ddd;background-color:transparent;background-image:url(/assets/icons/ic_search_72pt.png);background-size:24px;background-position:4px 8px;background-repeat:no-repeat;flex:1;transition:.3s}.widget[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #777}.widget[_ngcontent-%COMP%]   .filter-area[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;flex-direction:row-reverse}.tab[_ngcontent-%COMP%]   .combo-box[_ngcontent-%COMP%]{display:flex}.filter-area[_ngcontent-%COMP%]   .combo-box[_ngcontent-%COMP%]{color:#777;font-size:14px;padding:0 8px 0 0;text-align:right;position:relative;cursor:pointer}.header[_ngcontent-%COMP%]   .combo-box[_ngcontent-%COMP%]{color:#777;font-size:14px;text-align:right;position:relative;cursor:pointer}.combo-box[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{transition:.2s}.combo-box[_ngcontent-%COMP%] > .button-active[_ngcontent-%COMP%]{color:#000}.combo-box[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{vertical-align:middle}.combo-box-contents[_ngcontent-%COMP%]{position:absolute;right:16px;z-index:101;text-align:left;box-sizing:border-box;background-color:#fff;transition:.2s;box-shadow:0 2px 4px #00000080;border:solid 1px #d9d9d9;border-radius:5px}.combo-box-contents[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:12px}.combo-box-contents[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:hover{background:#eee}.list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid rgba(0,0,0,.1);min-height:28px;transition:.1s;padding:10px 20px}.list.locked-list[_ngcontent-%COMP%]{background-color:#f7fafc}.list-group[_ngcontent-%COMP%]:hover{background-color:#fafcff}.list-bottom-clear[_ngcontent-%COMP%]{border-bottom:none}.list-bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.widget[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]:hover{background:#f5f5f5;cursor:pointer}.widget[_ngcontent-%COMP%]   .list.locked-list[_ngcontent-%COMP%]:hover{background:#F7FAFC;cursor:initial}.list[_ngcontent-%COMP%] > .contents[_ngcontent-%COMP%]{padding:12px 0;font-size:14px;color:#333;flex:1}.list[_ngcontent-%COMP%] > .stat-contents[_ngcontent-%COMP%]{padding:12px 0;float:right;font-size:13px;color:#aaa}.list[_ngcontent-%COMP%] > .button-contents[_ngcontent-%COMP%]{padding:12px 0;float:right;font-size:13px}.list[_ngcontent-%COMP%] > .button-contents[_ngcontent-%COMP%]:hover{opacity:.8}.list[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 10px 0 6px;height:40px}.list[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{width:8px;background:#aaa}.contents[_ngcontent-%COMP%] > .contents-small[_ngcontent-%COMP%]{margin-left:4px;font-size:11px;color:#555}.contents[_ngcontent-%COMP%]   .sub-contents[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-top:6px}.widget[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.widget[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.widget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.widget[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.widget[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.widget[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px}td[_ngcontent-%COMP%]   .sub-contents[_ngcontent-%COMP%]{font-size:11px;color:#888;margin-top:4px}td[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{cursor:pointer;color:#1e90ff}td[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{cursor:pointer;color:#f1556c}table[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;color:#bbb;transition:.2s;cursor:pointer}table[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#333}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}.div-table-header[_ngcontent-%COMP%]{display:flex;height:30px;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;border-collapse:separate;background-image:linear-gradient(to bottom,#f7f7f7,#ececed);font-size:14px;align-items:center}.div-table-header[_ngcontent-%COMP%]   .div-table-head[_ngcontent-%COMP%]{padding:7px 16px}.face[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;display:inline-block;margin-right:8px;vertical-align:middle}.folding-list[_ngcontent-%COMP%]{cursor:pointer}.folding-list[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}.folding-list[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{color:#555;font-size:16px;padding:12px 0;border-bottom:1px solid #aaa;transition:.1s;height:54px}.folding-list[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]:hover{background:#f5f5f5}.folding-list[_ngcontent-%COMP%]   .sub-list-title[_ngcontent-%COMP%]{margin-left:16px;padding:12px 0 4px;color:#777;font-size:12px;font-weight:bold;border-bottom:1px solid #ccc;display:flex}.folding-list[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]{margin-left:16px;padding:8px 0;color:#333;font-size:14px;border-bottom:1px solid #ccc;transition:.1s;display:flex}.folding-list[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]:hover{background:#f5f5f5}.folding-list[_ngcontent-%COMP%]   .sub-list-selected[_ngcontent-%COMP%]{background:#f5f5f5}.empty-contents[_ngcontent-%COMP%]{font-size:16px;color:#bbb;font-weight:bold;text-transform:uppercase}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;padding:4px;border:0;border-bottom:1px solid #ccc;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{padding:4px 0;border-bottom:1px solid #fff;background:rgba(0,0,0,0)}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:1px solid #777}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:38x;height:38px;min-width:38px;min-height:38px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.list[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{display:flex;width:32px;height:32px;justify-content:center;align-items:center;padding:5px;color:#777;transition:.2s;cursor:pointer;border-radius:21px}.list[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333;background:rgba(0,0,0,.05)}.btn-danger[_ngcontent-%COMP%]{color:#f1556d}.btn-danger[_ngcontent-%COMP%]:hover{color:#f47185}.svg-icon[_ngcontent-%COMP%]{font-size:24px;color:#000;width:1em;height:1em;position:relative}.svg-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentColor;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.png-icon[_ngcontent-%COMP%]{width:36px;height:36px;position:relative}.png-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.child-item[_ngcontent-%COMP%]{padding-left:24px}.title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.widget[_ngcontent-%COMP%]   .has-child[_ngcontent-%COMP%]:hover{background:#f5f5f5;cursor:pointer}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.absolute[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 25px);left:calc(50% - 25px);z-index:10}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.path.white[_ngcontent-%COMP%]{stroke:#fff}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}.list-item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.list-item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff}.content-list[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.title-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:28px}.title-row[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{flex:1;color:#777;padding-top:12px;justify-content:center}.title-row[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{flex:1;text-align:right}.disabled[_ngcontent-%COMP%]{cursor:default;filter:contrast(60%) brightness(1.2);opacity:1;pointer-events:none;-webkit-user-select:none;user-select:none}.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.page-item[_ngcontent-%COMP%]{padding-bottom:14px!important}.unselectable[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.pager[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#0009}.pager[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:80px;padding-left:16px}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 0 0 28px}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#0009}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover{color:#000000de}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn.mover-disabled[_ngcontent-%COMP%]{cursor:initial;color:#0000004d}.pager[_ngcontent-%COMP%]   .page-all[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:15px}.inner-input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:6px 8px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.top-noti[_ngcontent-%COMP%]{width:100%;min-height:36px;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:7px;background-color:#fcf9e9;font-size:14px;color:#000000de;border-bottom:rgba(0,0,0,.1)}','@charset "UTF-8";@media screen and (max-height: 750px){.custom-widget-area[_ngcontent-%COMP%]{position:relative;flex-direction:column;align-items:center;flex-wrap:nowrap;height:-moz-fit-content;height:fit-content;overflow-y:visible}.custom-widget[_ngcontent-%COMP%]{position:relative}}@media screen and (min-height: 751px){.custom-widget-area[_ngcontent-%COMP%]{position:relative;flex-direction:column;align-items:center;overflow:hidden;flex-wrap:nowrap}.custom-widget[_ngcontent-%COMP%]{position:relative;max-height:calc(100% - 238px)}}.txt-cap[_ngcontent-%COMP%]{text-transform:capitalize}.txt-primary[_ngcontent-%COMP%]{color:#1e88e5}.txt-danger[_ngcontent-%COMP%]{color:#cd3d64}.no-info[_ngcontent-%COMP%]{color:#00000061}.txt-gray-high[_ngcontent-%COMP%]{color:#000000de}.filters-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:20px;font-size:14px}.filters-area[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;grid-gap:8px;gap:8px;width:100%}.selected[_ngcontent-%COMP%]{color:#1e88e5;cursor:not-allowed}.report-tab[_ngcontent-%COMP%]{height:48px;color:#888;display:flex;align-items:center}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.report-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.report-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.report-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.report-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-size:14px}.report-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:4px;background:#2383e2}.space[_ngcontent-%COMP%]{flex:1}input[type=text][_ngcontent-%COMP%]{font-size:14px;transition:.2s;text-indent:0px;font-weight:400}input[type=text][_ngcontent-%COMP%]::placeholder{color:#00000061}.filter-btn[_ngcontent-%COMP%]{color:#0009}.filter-btn[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{margin-right:5px}.filter-btn[_ngcontent-%COMP%]   .exist-filter[_ngcontent-%COMP%]{font-size:14px;color:#1e88e5;border-left:solid 1px rgba(0,0,0,.1);margin-left:10px;padding-left:10px}.filter-box[_ngcontent-%COMP%]{position:absolute;visibility:hidden;opacity:0;display:flex;flex-direction:column;top:45px;transition:all .3s;z-index:2;background:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);box-shadow:0 0 10px #0000001a}.filter-box.show-filter[_ngcontent-%COMP%]{visibility:visible;opacity:1}.filter-box-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;padding:7px 10px;box-sizing:border-box;justify-content:space-between;background-color:#f7fafc;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-header-title[_ngcontent-%COMP%]{font-size:16px;color:#000000de}.filter-box-header[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{margin:6px 12px}.filter-box-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:72px;box-sizing:border-box;transition:all .2s}.filter-box-category[_ngcontent-%COMP%]{min-height:44px;padding:12px;display:flex;align-items:center;box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-items[_ngcontent-%COMP%]{visibility:hidden;display:block;line-height:0;height:0;opacity:0;overflow:hidden;padding:0 24px;background:#F7FAFC;transition:all .2s}.filter-box-items-item[_ngcontent-%COMP%]{margin-bottom:16px}.filter-box-items-item[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{font-size:13px;color:#55647b}.filter-box-items-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-box-items.expend[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;line-height:normal;padding:16px 24px;opacity:1;overflow:initial}.filter-box-items.expend.show[_ngcontent-%COMP%]{visibility:visible}.pagination-area[_ngcontent-%COMP%]{display:flex;padding:12px;width:calc(100% - 30px);align-items:center;height:45px}.pagination-area[_ngcontent-%COMP%]   .pagination-result[_ngcontent-%COMP%]{display:flex}.pagination-area[_ngcontent-%COMP%]   .pagination-result-value[_ngcontent-%COMP%]{margin-right:5px;font-size:14px;color:#000000de}.pagination-area[_ngcontent-%COMP%]   .pagination-result-label[_ngcontent-%COMP%]{font-size:14px;color:#0009}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:inline-block}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#0009}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover{color:#000000de}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn.mover-disabled[_ngcontent-%COMP%]{cursor:initial;color:#0000004d}.widget[_ngcontent-%COMP%]   tr.bottom-no-line[_ngcontent-%COMP%]{border-bottom:none}.tab-table[_ngcontent-%COMP%]{height:calc(100% - 116px)}.chekt-select-option-wrapper[_ngcontent-%COMP%]{position:relative}.chekt-select-option[_ngcontent-%COMP%]{height:30px;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;z-index:1;background-color:#fff;border-radius:4px;box-shadow:#0000 0 0,#0000 0 0,#0000 0 0,#40445229 0 0 0 1px,#0000 0 0,#0000 0 0,#0000 0 0}.chekt-select-option.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.chekt-select-option[_ngcontent-%COMP%] > .chekt-select-option-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;position:relative;z-index:1;flex:0 1 auto;margin:0;text-decoration:none;vertical-align:middle;word-break:normal;background:transparent;border:0;outline:0;transition:color .24s;padding:4px 30px 4px 8px;-webkit-appearance:none;width:100%;appearance:none;-webkit-user-select:auto;user-select:auto;height:20px;cursor:pointer;font-family:Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:14px;color:#3c4257}.chekt-select-option-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;z-index:2;margin-top:-9px;transition:color .24s;pointer-events:none;color:#3c4257}.my-icon[_ngcontent-%COMP%]{width:1em;height:1em;display:flex;justify-content:center;align-items:center}.chekt-select-dropdown[_ngcontent-%COMP%]{background-color:#fff;width:100%;position:absolute;box-shadow:0 0 0 1px #8898aa1a,0 15px 35px #31315d1a,0 5px 15px #00000014;border-radius:4px;margin-top:7px;z-index:100;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(.075,.82,.165,1),opacity .3s cubic-bezier(.075,.82,.165,1)}.select-option-modal-list[_ngcontent-%COMP%]{cursor:pointer;max-height:200px;color:#55647b;font-size:14px;overflow-y:auto}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 0 8px 8px}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#1e88e5;cursor:not-allowed}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.loader[_ngcontent-%COMP%]{width:30px}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.bar-chart-contents[_ngcontent-%COMP%]{color:#000000de;flex-wrap:wrap}.bar-chart-contents-box[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;padding:25px 20px 26px;min-width:300px;border-right:1px solid rgba(0,0,0,.1)}.bar-chart-contents-box-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;font-weight:400;margin-bottom:5px}.bar-chart-contents-box-count[_ngcontent-%COMP%]{font-size:20px;font-weight:400;margin-bottom:5px}.bar-chart-contents-box-count.danger[_ngcontent-%COMP%]{color:#cd3d64}.bar-chart-contents-box-count.primary[_ngcontent-%COMP%]{color:#1e88e5}.bar-chart-contents-box-count.divider[_ngcontent-%COMP%]{margin:0 5px}.bar-chart-contents-box-sub-info[_ngcontent-%COMP%]{font-size:12px;font-weight:400;margin-bottom:5px;color:#000000de}.bar-chart-contents-box-total-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:5px;position:relative;margin:18px 0 8px;background-color:#0009}.bar-chart-contents-box-total-box-false[_ngcontent-%COMP%]{height:100%;width:0%;background-color:#cd3d64;transition:all 1s ease}.bar-chart-contents-box-total-box-true[_ngcontent-%COMP%]{height:100%;width:0%;background-color:#1e88e5;transition:all 1s ease}.excess-alert[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;justify-content:flex-end;margin-top:4px;color:gray}.dashboard-widget[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:10px}.dashboard-widget-contents[_ngcontent-%COMP%]{color:#000000de;flex-wrap:wrap}.dashboard-widget-contents-box[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-direction:column;padding:30px 20px 40px;min-width:300px}.dashboard-widget-contents-box-total-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:18px;position:relative;margin-top:18px;background-color:#f2f6f9}.dashboard-widget-contents-box-total-box-used[_ngcontent-%COMP%]{height:100%;width:0%;transition:all 1s ease}.dashboard-widget-contents-box-total-box-used.primary[_ngcontent-%COMP%]{background:#1f8fff}.dashboard-widget-contents-box-total-box-used.warning[_ngcontent-%COMP%]{background:#F69D6E}.dashboard-widget-contents-box-total-box-used.danger[_ngcontent-%COMP%]{background:#B43658}.tag-area[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#55647b;padding:16px 20px;grid-gap:8px;gap:8px}.tag-area[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:flex;align-items:center;background:#F2F6F9;border-radius:5px;padding:3px 6px}']}),a})()}]);var Oe=u(688),we=u(95854);let ye=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[c.ez,O.u5,Pe,Oe.m,V.p9,we.U]]}),a})()},25229:(I,y,u)=>{u.d(y,{Z:()=>t});var c=u(46243),S=u(76052),g=u.n(S),P=u(49951);const t={_:c,moment:g(),tool:P.Z}}}]);