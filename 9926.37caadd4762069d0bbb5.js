(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[9926],{71687:(St,E)=>{var t;!function(e,f,d,p){"use strict";var c,s={URL:e.URL||e.webkitURL||e.mozURL||e.msURL,getUserMedia:(c=d.getUserMedia||d.webkitGetUserMedia||d.mozGetUserMedia||d.msGetUserMedia,c&&c.bind(d)),requestAnimFrame:e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,requestTimeout:function(r,y){if(r=r||s.noop,y=y||0,!s.requestAnimFrame)return setTimeout(r,y);var A=(new Date).getTime(),h=new Object,tt=s.requestAnimFrame;return h.value=tt(function G(){(new Date).getTime()-A>=y?r.call():h.value=tt(G)}),h},Blob:e.Blob||e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,btoa:function(){var c=e.btoa||function(r){for(var y="",A=0,h=r.length,tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",at=void 0,G=void 0,st=void 0,ct=void 0,_t=void 0,Ct=void 0,lt=void 0;A<h;)ct=(at=r.charCodeAt(A++))>>2,_t=(3&at)<<4|(G=r.charCodeAt(A++))>>4,Ct=(15&G)<<2|(st=r.charCodeAt(A++))>>6,lt=63&st,isNaN(G)?Ct=lt=64:isNaN(st)&&(lt=64),y=y+tt.charAt(ct)+tt.charAt(_t)+tt.charAt(Ct)+tt.charAt(lt);return y};return c?c.bind(e):s.noop}(),isObject:function(r){return r&&"[object Object]"===Object.prototype.toString.call(r)},isEmptyObject:function(r){return s.isObject(r)&&!Object.keys(r).length},isArray:function(r){return r&&Array.isArray(r)},isFunction:function(r){return r&&"function"==typeof r},isElement:function(r){return r&&1===r.nodeType},isString:function(r){return"string"==typeof r||"[object String]"===Object.prototype.toString.call(r)},isSupported:{canvas:function(){var r=f.createElement("canvas");return r&&r.getContext&&r.getContext("2d")},webworkers:function(){return e.Worker},blob:function(){return s.Blob},Uint8Array:function(){return e.Uint8Array},Uint32Array:function(){return e.Uint32Array},videoCodecs:function(){var c=f.createElement("video"),r={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{c&&c.canPlayType&&(r.mp4=""!==c.canPlayType('video/mp4; codecs="mp4v.20.8"'),r.h264=""!==(c.canPlayType('video/mp4; codecs="avc1.42E01E"')||c.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),r.ogv=""!==c.canPlayType('video/ogg; codecs="theora"'),r.ogg=""!==c.canPlayType('video/ogg; codecs="theora"'),r.webm=-1!==c.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(y){}return r}()},noop:function(){},each:function(r,y){var A=void 0,h=void 0;if(s.isArray(r))for(A=-1,h=r.length;++A<h&&!1!==y(A,r[A]););else if(s.isObject(r))for(A in r)if(r.hasOwnProperty(A)&&!1===y(A,r[A]))break},mergeOptions:function(r,y){if(s.isObject(r)&&s.isObject(y)&&Object.keys){var A={};return s.each(r,function(h,tt){A[h]=r[h]}),s.each(y,function(h,tt){var at=y[h];A[h]=s.isObject(at)&&r[h]?s.mergeOptions(r[h],at):at}),A}},setCSSAttr:function(r,y,A){!s.isElement(r)||(s.isString(y)&&s.isString(A)?r.style[y]=A:s.isObject(y)&&s.each(y,function(h,tt){r.style[h]=tt}))},removeElement:function(r){!s.isElement(r)||r.parentNode&&r.parentNode.removeChild(r)},createWebWorker:function(r){if(!s.isString(r))return{};try{var y=new s.Blob([r],{type:"text/javascript"}),A=s.URL.createObjectURL(y);return{objectUrl:A,worker:new Worker(A)}}catch(tt){return""+tt}},getExtension:function(r){return r.substr(r.lastIndexOf(".")+1,r.length)},getFontSize:function(){var r=arguments.length>0&&arguments[0]!==p?arguments[0]:{};if(!f.body||!1===r.resizeFont)return r.fontSize;var y=r.text,A=r.gifWidth,h=parseInt(r.fontSize,10),tt=parseInt(r.minFontSize,10),at=f.createElement("div"),G=f.createElement("span");for(at.setAttribute("width",A),at.appendChild(G),G.innerHTML=y,G.style.fontSize=h+"px",G.style.textIndent="-9999px",G.style.visibility="hidden",f.body.appendChild(G);G.offsetWidth>A&&h>=tt;)G.style.fontSize=--h+"px";return f.body.removeChild(G),h+"px"},webWorkerError:!1},L=Object.freeze({default:s}),b={validate:function(r){r=s.isObject(r)?r:{};var y={};return s.each(b.validators,function(A,h){if(!r[h.errorCode]&&!h.condition)return(y=h).error=!0,!1}),delete y.condition,y},isValid:function(r){return!0!==b.validate(r).error},validators:[{condition:s.isFunction(s.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:s.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:s.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:s.isFunction(s.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:s.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:s.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:s.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},S=Object.freeze({default:b}),g=function(){},M={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:g,completeCallback:g,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},l=Object.freeze({default:M});function u(){return b.isValid()}function V(){var Q,X,a,z,R,c=256,r=499,y=491,A=487,h=503,tt=3*h,at=c-1,G=4,st=100,ct=16,_t=1<<ct,Ct=10,n=10,H=_t>>n,j=_t<<Ct-n,v=c>>3,_=6,I=1<<_,$=v*I,et=30,F=10,Z=1<<F,i=8,D=1<<i,Y=F+i,T=1<<Y,it=[],pt=[],vt=[],Mt=[];function Et(ut,mt,wt){var xt,bt;for(X=ut,a=mt,z=wt,R=new Array(c),xt=0;xt<c;xt++)R[xt]=new Array(4),(bt=R[xt])[0]=bt[1]=bt[2]=(xt<<G+8)/c|0,vt[xt]=_t/c|0,pt[xt]=0}function At(){for(var ut=[],mt=new Array(c),wt=0;wt<c;wt++)mt[R[wt][3]]=wt;for(var xt=0,bt=0;bt<c;bt++){var ft=mt[bt];ut[xt++]=R[ft][0],ut[xt++]=R[ft][1],ut[xt++]=R[ft][2]}return ut}function Ot(){var ut,mt,wt,xt,bt,ft,ht,Pt;for(ht=0,Pt=0,ut=0;ut<c;ut++){for(wt=ut,xt=(bt=R[ut])[1],mt=ut+1;mt<c;mt++)(ft=R[mt])[1]<xt&&(wt=mt,xt=ft[1]);if(ft=R[wt],ut!=wt&&(mt=ft[0],ft[0]=bt[0],bt[0]=mt,mt=ft[1],ft[1]=bt[1],bt[1]=mt,mt=ft[2],ft[2]=bt[2],bt[2]=mt,mt=ft[3],ft[3]=bt[3],bt[3]=mt),xt!=ht){for(it[ht]=Pt+ut>>1,mt=ht+1;mt<xt;mt++)it[mt]=ut;ht=xt,Pt=ut}}for(it[ht]=Pt+at>>1,mt=ht+1;mt<256;mt++)it[mt]=at}function Tt(){var ut,mt,wt,xt,bt,ft,ht,Pt,yt,Zt,It,kt,zt,Bt;for(a<tt&&(z=1),Q=30+(z-1)/3,kt=X,zt=0,Bt=a,Zt=(It=a/(3*z))/st|0,Pt=Z,(ht=(ft=$)>>_)<=1&&(ht=0),ut=0;ut<ht;ut++)Mt[ut]=Pt*((ht*ht-ut*ut)*D/(ht*ht));for(yt=a<tt?3:a%r!=0?3*r:a%y!=0?3*y:a%A!=0?3*A:3*h,ut=0;ut<It;)if(Ft(Pt,mt=Nt(wt=(255&kt[zt+0])<<G,xt=(255&kt[zt+1])<<G,bt=(255&kt[zt+2])<<G),wt,xt,bt),0!==ht&&Rt(ht,mt,wt,xt,bt),(zt+=yt)>=Bt&&(zt-=a),0===Zt&&(Zt=1),++ut%Zt==0)for(Pt-=Pt/Q,(ht=(ft-=ft/et)>>_)<=1&&(ht=0),mt=0;mt<ht;mt++)Mt[mt]=Pt*((ht*ht-mt*mt)*D/(ht*ht))}function Ut(ut,mt,wt){var xt,bt,ft,ht,Pt,yt,Zt;for(Pt=1e3,Zt=-1,bt=(xt=it[mt])-1;xt<c||bt>=0;)xt<c&&((ft=(yt=R[xt])[1]-mt)>=Pt?xt=c:(xt++,ft<0&&(ft=-ft),(ht=yt[0]-ut)<0&&(ht=-ht),(ft+=ht)<Pt&&((ht=yt[2]-wt)<0&&(ht=-ht),(ft+=ht)<Pt&&(Pt=ft,Zt=yt[3])))),bt>=0&&((ft=mt-(yt=R[bt])[1])>=Pt?bt=-1:(bt--,ft<0&&(ft=-ft),(ht=yt[0]-ut)<0&&(ht=-ht),(ft+=ht)<Pt&&((ht=yt[2]-wt)<0&&(ht=-ht),(ft+=ht)<Pt&&(Pt=ft,Zt=yt[3]))));return Zt}function Lt(){return Tt(),Dt(),Ot(),At()}function Dt(){var ut;for(ut=0;ut<c;ut++)R[ut][0]>>=G,R[ut][1]>>=G,R[ut][2]>>=G,R[ut][3]=ut}function Rt(ut,mt,wt,xt,bt){var ft,ht,Pt,yt,Zt,It,kt;for((Pt=mt-ut)<-1&&(Pt=-1),(yt=mt+ut)>c&&(yt=c),ft=mt+1,ht=mt-1,It=1;ft<yt||ht>Pt;){if(Zt=Mt[It++],ft<yt){kt=R[ft++];try{kt[0]-=Zt*(kt[0]-wt)/T|0,kt[1]-=Zt*(kt[1]-xt)/T|0,kt[2]-=Zt*(kt[2]-bt)/T|0}catch(zt){}}if(ht>Pt){kt=R[ht--];try{kt[0]-=Zt*(kt[0]-wt)/T|0,kt[1]-=Zt*(kt[1]-xt)/T|0,kt[2]-=Zt*(kt[2]-bt)/T|0}catch(zt){}}}}function Ft(ut,mt,wt,xt,bt){var ft=R[mt],ht=ut/Z;ft[0]-=ht*(ft[0]-wt)|0,ft[1]-=ht*(ft[1]-xt)|0,ft[2]-=ht*(ft[2]-bt)|0}function Nt(ut,mt,wt){var xt,bt,ft,ht,Pt,yt,Zt,It,kt,zt;for(kt=It=~(1<<31),Zt=yt=-1,xt=0;xt<c;xt++)(bt=(zt=R[xt])[0]-ut)<0&&(bt=-bt),(ft=zt[1]-mt)<0&&(ft=-ft),bt+=ft,(ft=zt[2]-wt)<0&&(ft=-ft),(bt+=ft)<It&&(It=bt,yt=xt),(ht=bt-(pt[xt]>>ct-G))<kt&&(kt=ht,Zt=xt),vt[xt]-=Pt=vt[xt]>>n,pt[xt]+=Pt<<Ct;return vt[yt]+=H,pt[yt]-=j,Zt}Et.apply(this,arguments);var qt={};return qt.map=Ut,qt.process=Lt,qt}function N(){try{this.onmessage=function(y){var h,A=y.data||{};A.gifshot&&(h=r.run(A),postMessage(h))}}catch(y){}var r={dataToRGB:function(A,h,tt){for(var at=h*tt*4,G=0,st=[];G<at;)st.push(A[G++]),st.push(A[G++]),st.push(A[G++]),G++;return st},componentizedPaletteToArray:function(A){A=A||[];for(var h=[],tt=0;tt<A.length;tt+=3)h.push(A[tt]<<16|A[tt+1]<<8|A[tt+2]);return h},processFrameWithQuantizer:function(A,h,tt,at){for(var G=this.dataToRGB(A,h,tt),st=new V(G,G.length,at),ct=st.process(),_t=new Uint32Array(this.componentizedPaletteToArray(ct)),Ct=h*tt,lt=new Uint8Array(Ct),n=0,H=0;H<Ct;H++){var j=G[n++],v=G[n++],_=G[n++];lt[H]=st.map(j,v,_)}return{pixels:lt,palette:_t}},run:function(A){return this.processFrameWithQuantizer((A=A||{}).data,A.width,A.height,A.sampleInterval)}};return r}function nt(c,r,y,A){var h=0,tt=(A=A===p?{}:A).loop===p?null:A.loop,at=A.palette===p?null:A.palette;if(r<=0||y<=0||r>65535||y>65535)throw"Width/Height invalid.";if(c[h++]=71,c[h++]=73,c[h++]=70,c[h++]=56,c[h++]=57,c[h++]=97,c[h++]=255&r,c[h++]=r>>8&255,c[h++]=255&y,c[h++]=y>>8&255,c[h++]=0|(null!==at?128:0),c[h++]=0,c[h++]=0,null!==tt){if(tt<0||tt>65535)throw"Loop count invalid.";c[h++]=33,c[h++]=255,c[h++]=11,c[h++]=78,c[h++]=69,c[h++]=84,c[h++]=83,c[h++]=67,c[h++]=65,c[h++]=80,c[h++]=69,c[h++]=50,c[h++]=46,c[h++]=48,c[h++]=3,c[h++]=1,c[h++]=255&tt,c[h++]=tt>>8&255,c[h++]=0}var _t=!1;this.addFrame=function(lt,n,H,j,v,_){if(!0===_t&&(--h,_t=!1),lt<0||n<0||lt>65535||n>65535)throw"x/y invalid.";if(H<=0||j<=0||H>65535||j>65535)throw"Width/Height invalid.";if(v.length<H*j)throw"Not enough pixels for the frame size.";var I=!0,$=(_=_===p?{}:_).palette;if(($===p||null===$)&&(I=!1,$=at),$===p||null===$)throw"Must supply either a local or global palette.";for(var et=function(lt){var n=lt.length;if(n<2||n>256||n&n-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return n}($),F=0;et>>=1;)++F;et=1<<F;var Z=_.delay===p?0:_.delay,Q=_.disposal===p?0:_.disposal;if(Q<0||Q>3)throw"Disposal out of range.";var i=!1,D=0;if(_.transparent!==p&&null!==_.transparent&&(i=!0,(D=_.transparent)<0||D>=et))throw"Transparent color index.";if((0!==Q||i||0!==Z)&&(c[h++]=33,c[h++]=249,c[h++]=4,c[h++]=Q<<2|(!0===i?1:0),c[h++]=255&Z,c[h++]=Z>>8&255,c[h++]=D,c[h++]=0),c[h++]=44,c[h++]=255&lt,c[h++]=lt>>8&255,c[h++]=255&n,c[h++]=n>>8&255,c[h++]=255&H,c[h++]=H>>8&255,c[h++]=255&j,c[h++]=j>>8&255,c[h++]=!0===I?128|F-1:0,!0===I)for(var Y=0,T=$.length;Y<T;++Y){var X=$[Y];c[h++]=X>>16&255,c[h++]=X>>8&255,c[h++]=255&X}h=function(lt,n,H,j){lt[n++]=H;var v=n++,_=1<<H,I=_-1,$=_+1,et=$+1,F=H+1,Z=0,Q=0;function i(pt){for(;Z>=pt;)lt[n++]=255&Q,Q>>=8,Z-=8,n===v+256&&(lt[v]=255,v=n++)}function D(pt){Q|=pt<<Z,Z+=F,i(8)}var Y=j[0]&I,T={};D(_);for(var X=1,a=j.length;X<a;++X){var z=j[X]&I,R=Y<<8|z,it=T[R];if(it===p){for(Q|=Y<<Z,Z+=F;Z>=8;)lt[n++]=255&Q,Q>>=8,Z-=8,n===v+256&&(lt[v]=255,v=n++);4096===et?(D(_),et=$+1,F=H+1,T={}):(et>=1<<F&&++F,T[R]=et++),Y=z}else Y=it}return D(Y),D($),i(1),v+1===n?lt[v]=0:(lt[v]=n-v-1,lt[n++]=0),n}(c,h,F<2?2:F,v)},this.end=function(){return!1===_t&&(c[h++]=59,_t=!0),h}}var K=function(){},W=function(r){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=K,this.onRenderProgressCallback=K,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=r,this.initializeWebWorkers(r)};function q(c,r){c.getBase64GIF(function(y){r({error:!1,errorCode:"",errorMsg:"",image:y})})}W.prototype={workerMethods:N(),initializeWebWorkers:function(r){var G,A=V.toString()+"("+N.toString()+"());",h=void 0,at=void 0,st=-1,ct="";for(G=r.numWorkers;++st<G;)h=s.createWebWorker(A),s.isObject(h)?(this.workers.push({worker:at=h.worker,objectUrl:h.objectUrl}),this.availableWorkers.push(at)):(ct=h,s.webWorkerError=!!h);this.workerError=ct,this.canvas=f.createElement("canvas"),this.canvas.width=r.gifWidth,this.canvas.height=r.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(r){this.availableWorkers.push(r)},byteMap:function(){for(var c=[],r=0;r<256;r++)c[r]=String.fromCharCode(r);return c}(),bufferToString:function(r){for(var y=r.length,A="",h=-1;++h<y;)A+=this.byteMap[r[h]];return A},onFrameFinished:function(r){var y=this,A=y.frames,tt=!!(y.options.images||[]).length,at=A.every(function(G){return!G.beingProcessed&&G.done});y.numRenderedFrames++,tt&&r(y.numRenderedFrames/A.length),y.onRenderProgressCallback(.75*y.numRenderedFrames/A.length),at?y.generatingGIF||y.generateGIF(A,y.onRenderCompleteCallback):s.requestTimeout(function(){y.processNextFrame()},1)},processFrame:function(r){var y=this,h=this.options,tt=h.progressCallback,at=h.sampleInterval,st=void 0,ct=void 0,_t=function(){var lt=arguments.length>0&&arguments[0]!==p?arguments[0]:{},n=lt.data;delete st.data,st.pixels=Array.prototype.slice.call(n.pixels),st.palette=Array.prototype.slice.call(n.palette),st.done=!0,st.beingProcessed=!1,y.freeWorker(ct),y.onFrameFinished(tt)};(st=this.frames[r]).beingProcessed||st.done?this.onFrameFinished():(st.sampleInterval=at,st.beingProcessed=!0,st.gifshot=!0,(ct=this.getWorker())?(ct.onmessage=_t,ct.postMessage(st)):_t({data:y.workerMethods.run(st)}))},startRendering:function(r){this.onRenderCompleteCallback=r;for(var y=0;y<this.options.numWorkers&&y<this.frames.length;y++)this.processFrame(y)},processNextFrame:function(){for(var r=-1,y=0;y<this.frames.length;y++){var A=this.frames[y];if(!A.done&&!A.beingProcessed){r=y;break}}r>=0&&this.processFrame(r)},generateGIF:function(r,y){var A=[],tt=this.options,at=tt.interval,G=tt.frameDuration,ct=!!tt.images.length,_t=tt.gifHeight,Ct=tt.gifWidth,lt=new nt(A,Ct,_t,{loop:this.repeat}),n=this.onRenderProgressCallback,H=ct?100*at:0,j=void 0;this.generatingGIF=!0,s.each(r,function(_,I){var $=I.palette;n(.75+.25*I.position*1/r.length);for(var et=0;et<G;et++)lt.addFrame(0,0,Ct,_t,I.pixels,{palette:$,delay:H})}),lt.end(),n(1),this.frames=[],this.generatingGIF=!1,s.isFunction(y)&&(j=this.bufferToString(A),y("data:image/gif;base64,"+s.btoa(j)))},setRepeat:function(r){this.repeat=r},addFrame:function(r,y){y=s.isObject(y)?y:{};var A=this,h=A.ctx,tt=A.options,at=tt.gifWidth,G=tt.gifHeight,st=s.getFontSize(y),_t=y.filter,Ct=y.fontColor,v=y.text,_=y.textAlign,I=y.textBaseline,$=y.textXCoordinate?y.textXCoordinate:"left"===_?1:"right"===_?at:at/2,et=y.textYCoordinate?y.textYCoordinate:"top"===I?1:"center"===I?G/2:G,F=y.fontWeight+" "+st+" "+y.fontFamily,Z=void 0;try{h.filter=_t,h.drawImage(r,0,0,at,G),v&&(h.font=F,h.fillStyle=Ct,h.textAlign=_,h.textBaseline=I,h.fillText(v,$,et)),Z=h.getImageData(0,0,at,G),A.addFrameImageData(Z)}catch(Q){return""+Q}},addFrameImageData:function(){var r=arguments.length>0&&arguments[0]!==p?arguments[0]:{},y=this.frames,A=r.data;this.frames.push({data:A,width:r.width,height:r.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:y.length})},onRenderProgress:function(r){this.onRenderProgressCallback=r},isRendering:function(){return this.generatingGIF},getBase64GIF:function(r){var y=this;y.startRendering(function(tt){y.destroyWorkers(),s.requestTimeout(function(){r(tt)},0)})},destroyWorkers:function(){this.workerError||s.each(this.workers,function(y,A){var tt=A.objectUrl;A.worker.terminate(),s.URL.revokeObjectURL(tt)})}};var B=function(){},m_getGIF=function(){var r=arguments.length>0&&arguments[0]!==p?arguments[0]:{},y=arguments[1];y=s.isFunction(y)?y:B;var A=f.createElement("canvas"),h=void 0,tt=r.images,at=!!tt.length,G=r.cameraStream,st=r.crop,ct=r.filter,_t=r.fontColor,Ct=r.fontFamily,lt=r.fontWeight,n=r.keepCameraOn,j=r.progressCallback,v=r.saveRenderingContexts,_=r.savedRenderingContexts,I=r.text,$=r.textAlign,et=r.textBaseline,F=r.videoElement,Z=r.videoHeight,Q=r.videoWidth,i=r.webcamVideoElement,D=Number(r.gifWidth),Y=Number(r.gifHeight),T=Number(r.interval),a=(Number(r.sampleInterval),at?0:1e3*T),z=[],R=_.length?_.length:r.numFrames,it=R,pt=new W(r),vt=s.getFontSize(r),Mt=r.textXCoordinate?r.textXCoordinate:"left"===$?1:"right"===$?D:D/2,Et=r.textYCoordinate?r.textYCoordinate:"top"===et?1:"center"===et?Y/2:Y,At=lt+" "+vt+" "+Ct,Ot=st?Math.floor(st.scaledWidth/2):0,Tt=st?Q-st.scaledWidth:0,Ut=st?Math.floor(st.scaledHeight/2):0,Lt=st?Z-st.scaledHeight:0,Dt=function Rt(){var Ft=it-1;function qt(){var ut;v&&z.push(h.getImageData(0,0,D,Y)),I&&(h.font=At,h.fillStyle=_t,h.textAlign=$,h.textBaseline=et,h.fillText(I,Mt,Et)),ut=h.getImageData(0,0,D,Y),pt.addFrameImageData(ut),j((R-(it=Ft))/R),Ft>0&&s.requestTimeout(Rt,a),it||pt.getBase64GIF(function(mt){y({error:!1,errorCode:"",errorMsg:"",image:mt,cameraStream:G,videoElement:F,webcamVideoElement:i,savedRenderingContexts:z,keepCameraOn:n})})}_.length?(h.putImageData(_[R-it],0,0),qt()):function Nt(){try{Tt>Q&&(Tt=Q),Lt>Z&&(Lt=Z),Ot<0&&(Ot=0),Ut<0&&(Ut=0),h.filter=ct,h.drawImage(F,Ot,Ut,Tt,Lt,0,0,D,Y),qt()}catch(ut){if("NS_ERROR_NOT_AVAILABLE"!==ut.name)throw ut;s.requestTimeout(Nt,100)}}()};R=R!==p?R:10,T=T!==p?T:.1,A.width=D,A.height=Y,h=A.getContext("2d"),function Rt(){_.length||0!==F.currentTime?Dt():s.requestTimeout(Rt,100)}()},k={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function c(r){c.attempts=c.attempts||0;var y=r.cameraStream,A=r.completedCallback,h=r.videoElement;!h||(h.videoWidth>0&&h.videoHeight>0?(h.removeEventListener("loadeddata",k.findVideoSize),A({videoElement:h,cameraStream:y,videoWidth:h.videoWidth,videoHeight:h.videoHeight})):c.attempts<10?(c.attempts+=1,s.requestTimeout(function(){k.findVideoSize(r)},400)):A({videoElement:h,cameraStream:y,videoWidth:k.defaultVideoDimensions.width,videoHeight:k.defaultVideoDimensions.height}))},onStreamingTimeout:function(r){s.isFunction(r)&&r({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(r){var y=s.isArray(r.existingVideo)?r.existingVideo[0]:r.existingVideo,A=r.cameraStream,h=r.completedCallback,tt=r.streamedCallback,at=r.videoElement;if(s.isFunction(tt)&&tt(),y){if(s.isString(y))at.src=y,at.innerHTML='<source src="'+y+'" type="video/'+s.getExtension(y)+'" />';else if(y instanceof Blob){try{at.src=s.URL.createObjectURL(y)}catch(G){}at.innerHTML='<source src="'+y+'" type="'+y.type+'" />'}}else if(at.mozSrcObject)at.mozSrcObject=A;else if(s.URL)try{at.srcObject=A,at.src=s.URL.createObjectURL(A)}catch(G){at.srcObject=A}at.play(),s.requestTimeout(function G(){G.count=G.count||0,!0===k.loadedData?(k.findVideoSize({videoElement:at,cameraStream:A,completedCallback:h}),k.loadedData=!1):(G.count+=1)>10?k.findVideoSize({videoElement:at,cameraStream:A,completedCallback:h}):G()},0)},startStreaming:function(r){var y=s.isFunction(r.error)?r.error:s.noop,A=s.isFunction(r.streamed)?r.streamed:s.noop,h=s.isFunction(r.completed)?r.completed:s.noop,tt=r.crossOrigin,at=r.existingVideo,G=r.lastCameraStream,st=r.options,ct=r.webcamVideoElement,_t=s.isElement(at)?at:ct||f.createElement("video");tt&&(_t.crossOrigin=st.crossOrigin),_t.autoplay=!0,_t.loop=!0,_t.muted=!0,_t.addEventListener("loadeddata",function(lt){k.loadedData=!0,st.offset&&(_t.currentTime=st.offset)}),at?k.stream({videoElement:_t,existingVideo:at,completedCallback:h}):G?k.stream({videoElement:_t,cameraStream:G,streamedCallback:A,completedCallback:h}):s.getUserMedia({video:!0},function(lt){k.stream({videoElement:_t,cameraStream:lt,streamedCallback:A,completedCallback:h})},y)},startVideoStreaming:function(r){var y=arguments.length>1&&arguments[1]!==p?arguments[1]:{},A=y.timeout!==p?y.timeout:0,h=y.callback,tt=y.webcamVideoElement,at=void 0;A>0&&(at=s.requestTimeout(function(){k.onStreamingTimeout(h)},1e4)),k.startStreaming({error:function(){h({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(at)},completed:function(){var st=arguments.length>0&&arguments[0]!==p?arguments[0]:{},ct=st.cameraStream,_t=st.videoElement,Ct=st.videoHeight,lt=st.videoWidth;r({cameraStream:ct,videoElement:_t,videoHeight:Ct,videoWidth:lt})},lastCameraStream:y.lastCameraStream,webcamVideoElement:tt,crossOrigin:y.crossOrigin,options:y})},stopVideoStreaming:function(r){var A=(r=s.isObject(r)?r:{}).keepCameraOn,h=r.videoElement,tt=r.webcamVideoElement,at=r.cameraStream||{},G=at.getTracks&&at.getTracks()||[],ct=G[0];!A&&!!G.length&&s.isFunction(ct.stop)&&ct.stop(),s.isElement(h)&&!tt&&(h.pause(),s.isFunction(s.URL.revokeObjectURL)&&!s.webWorkerError&&h.src&&s.URL.revokeObjectURL(h.src),s.removeElement(h))}};function o(c){c=s.isObject(c)?c:{},k.stopVideoStreaming(c)}function O(c,r){var y=c.options||{},A=y.images,h=y.video,tt=Number(y.gifWidth),at=Number(y.gifHeight),st=(Number(y.numFrames),c.cameraStream),ct=c.videoElement,_t=c.videoWidth,Ct=c.videoHeight,lt=function(){var r=arguments.length>0&&arguments[0]!==p?arguments[0]:{},y=r.videoWidth,A=r.videoHeight,h=r.gifWidth,tt=r.gifHeight,at={width:0,height:0,scaledWidth:0,scaledHeight:0};return y>A?(at.width=Math.round(y*(tt/A))-h,at.scaledWidth=Math.round(at.width*(A/tt))):(at.height=Math.round(A*(h/y))-tt,at.scaledHeight=Math.round(at.height*(y/h))),at}({videoWidth:_t,videoHeight:Ct,gifHeight:at,gifWidth:tt}),n=r;y.crop=lt,y.videoElement=ct,y.videoWidth=_t,y.videoHeight=Ct,y.cameraStream=st,s.isElement(ct)&&(ct.width=tt+lt.width,ct.height=at+lt.height,y.webcamVideoElement||(s.setCSSAttr(ct,{position:"fixed",opacity:"0"}),f.body.appendChild(ct)),ct.play(),m_getGIF(y,function(H){(!A||!A.length)&&(!h||!h.length)&&o(H),n(H)}))}function dt(c,r){if(r=s.isFunction(c)?c:r,c=s.isObject(c)?c:{},s.isFunction(r)){var y=s.mergeOptions(M,c)||{},A=c.cameraStream,h=y.images,tt=h?h.length:0,at=y.video,G=y.webcamVideoElement;y=s.mergeOptions(y,{gifWidth:Math.floor(y.gifWidth),gifHeight:Math.floor(y.gifHeight)}),tt?function(){var c=arguments.length>0&&arguments[0]!==p?arguments[0]:{},y=c.callback,A=c.images,h=c.options,tt=c.imagesLength,G=b.validate({getUserMedia:!0,"window.URL":!0}),st=[],ct=0,_t=void 0,Ct=void 0;if(G.error)return y(G);function lt(){s.each(st,function(n,H){H&&(H.text?Ct.addFrame(H.img,h,H.text):Ct.addFrame(H,h))}),q(Ct,y)}Ct=new W(h),s.each(A,function(n,H){var v,j=H;H.src&&(j=j.src),s.isElement(j)?(h.crossOrigin&&(j.crossOrigin=h.crossOrigin),st[n]=j,(ct+=1)===tt&&lt()):s.isString(j)&&(_t=new Image,h.crossOrigin&&(_t.crossOrigin=h.crossOrigin),v=_t,H.text&&(v.text=H.text),v.onerror=function(_){var I=void 0;if(0==--tt)return(I={}).error="None of the requested images was capable of being retrieved",y(I)},v.onload=function(_){st[n]=H.text?{img:v,text:v.text}:v,(ct+=1)===tt&&lt(),s.removeElement(v)},v.src=j,s.setCSSAttr(_t,{position:"fixed",opacity:"0"}),f.body.appendChild(_t))})}({images:h,imagesLength:tt,callback:r,options:y}):at?function(){var c=arguments.length>0&&arguments[0]!==p?arguments[0]:{},r=c.callback,y=c.existingVideo,A=c.options,tt=b.validate({getUserMedia:!0,"window.URL":!0}),G=void 0;if(tt.error)return r(tt);if(s.isElement(y)&&y.src){if(G=s.getExtension(y.src),!s.isSupported.videoCodecs[G])return r(b.messages.videoCodecs)}else s.isArray(y)&&s.each(y,function(Ct,lt){if(G=lt instanceof Blob?lt.type.substr(lt.type.lastIndexOf("/")+1,lt.length):lt.substr(lt.lastIndexOf(".")+1,lt.length),s.isSupported.videoCodecs[G])return y=lt,!1});k.startStreaming({completed:function(lt){lt.options=A||{},O(lt,r)},existingVideo:y,crossOrigin:A.crossOrigin,options:A})}({existingVideo:at,callback:r,options:y}):function(){var c=arguments.length>0&&arguments[0]!==p?arguments[0]:{},r=c.callback,y=c.lastCameraStream,A=c.options,h=c.webcamVideoElement;if(!u())return r(b.validate());A.savedRenderingContexts.length?m_getGIF(A,function(tt){r(tt)}):k.startVideoStreaming(function(){var tt=arguments.length>0&&arguments[0]!==p?arguments[0]:{};tt.options=A||{},O(tt,r)},{lastCameraStream:y,callback:r,webcamVideoElement:h,crossOrigin:A.crossOrigin})}({lastCameraStream:A,callback:r,webcamVideoElement:G,options:y})}}var gt={utils:L,error:S,defaultOptions:l,createGIF:dt,takeSnapShot:function(c,r){if(r=s.isFunction(c)?c:r,c=s.isObject(c)?c:{},s.isFunction(r)){var y=s.mergeOptions(M,c);dt(s.mergeOptions(y,{interval:.1,numFrames:1,gifWidth:Math.floor(y.gifWidth),gifHeight:Math.floor(y.gifHeight)}),r)}},stopVideoStreaming:o,isSupported:function(){return b.isValid()},isWebCamGIFSupported:u,isExistingVideoGIFSupported:function(c){var r=!1;if(s.isArray(c)&&c.length){if(s.each(c,function(y,A){s.isSupported.videoCodecs[A]&&(r=!0)}),!r)return!1}else if(s.isString(c)&&c.length&&!s.isSupported.videoCodecs[c])return!1;return b.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return b.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(t=function(){return gt}.apply(E,[]))!==p&&(St.exports=t)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},70897:St=>{St.exports=function E(w,t,e){function f(s,L){if(!t[s]){if(!w[s]){if(d)return d(s,!0);var S=new Error("Cannot find module '"+s+"'");throw S.code="MODULE_NOT_FOUND",S}var g=t[s]={exports:{}};w[s][0].call(g.exports,function(M){return f(w[s][1][M]||M)},g,g.exports,E,w,t,e)}return t[s].exports}for(var d=void 0,p=0;p<e.length;p++)f(e[p]);return f}({1:[function(E,w,t){"use strict";var e=E("./utils"),f=E("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(p){for(var s,L,b,g,M,l,C=[],u=0,P=p.length,U=P,V="string"!==e.getTypeOf(p);u<p.length;)U=P-u,b=V?(s=p[u++],L=u<P?p[u++]:0,u<P?p[u++]:0):(s=p.charCodeAt(u++),L=u<P?p.charCodeAt(u++):0,u<P?p.charCodeAt(u++):0),g=(3&s)<<4|L>>4,M=1<U?(15&L)<<2|b>>6:64,l=2<U?63&b:64,C.push(d.charAt(s>>2)+d.charAt(g)+d.charAt(M)+d.charAt(l));return C.join("")},t.decode=function(p){var s,L,b,S,g,M,l=0,C=0,u="data:";if(p.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var P,U=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===d.charAt(64)&&U--,p.charAt(p.length-2)===d.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=f.uint8array?new Uint8Array(0|U):new Array(0|U);l<p.length;)s=d.indexOf(p.charAt(l++))<<2|(S=d.indexOf(p.charAt(l++)))>>4,L=(15&S)<<4|(g=d.indexOf(p.charAt(l++)))>>2,b=(3&g)<<6|(M=d.indexOf(p.charAt(l++))),P[C++]=s,64!==g&&(P[C++]=L),64!==M&&(P[C++]=b);return P}},{"./support":30,"./utils":32}],2:[function(E,w,t){"use strict";var e=E("./external"),f=E("./stream/DataWorker"),d=E("./stream/Crc32Probe"),p=E("./stream/DataLengthProbe");function s(L,b,S,g,M){this.compressedSize=L,this.uncompressedSize=b,this.crc32=S,this.compression=g,this.compressedContent=M}s.prototype={getContentWorker:function(){var L=new f(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),b=this;return L.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),L},getCompressedWorker:function(){return new f(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(L,b,S){return L.pipe(new d).pipe(new p("uncompressedSize")).pipe(b.compressWorker(S)).pipe(new p("compressedSize")).withStreamInfo("compression",b)},w.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(E,w,t){"use strict";var e=E("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new e("STORE compression")},uncompressWorker:function(){return new e("STORE decompression")}},t.DEFLATE=E("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(E,w,t){"use strict";var e=E("./utils"),f=function(){for(var d,p=[],s=0;s<256;s++){d=s;for(var L=0;L<8;L++)d=1&d?3988292384^d>>>1:d>>>1;p[s]=d}return p}();w.exports=function(d,p){return void 0!==d&&d.length?"string"!==e.getTypeOf(d)?function(s,L,b,S){var g=f,M=0+b;s^=-1;for(var l=0;l<M;l++)s=s>>>8^g[255&(s^L[l])];return-1^s}(0|p,d,d.length):function(s,L,b,S){var g=f,M=0+b;s^=-1;for(var l=0;l<M;l++)s=s>>>8^g[255&(s^L.charCodeAt(l))];return-1^s}(0|p,d,d.length):0}},{"./utils":32}],5:[function(E,w,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(E,w,t){"use strict";var e;e="undefined"!=typeof Promise?Promise:E("lie"),w.exports={Promise:e}},{lie:37}],7:[function(E,w,t){"use strict";var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,f=E("pako"),d=E("./utils"),p=E("./stream/GenericWorker"),s=e?"uint8array":"array";function L(b,S){p.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=S,this.meta={}}t.magic="\b\0",d.inherits(L,p),L.prototype.processChunk=function(b){this.meta=b.meta,null===this._pako&&this._createPako(),this._pako.push(d.transformTo(s,b.data),!1)},L.prototype.flush=function(){p.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},L.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},L.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(S){b.push({data:S,meta:b.meta})}},t.compressWorker=function(b){return new L("Deflate",b)},t.uncompressWorker=function(){return new L("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(E,w,t){"use strict";function e(g,M){var l,C="";for(l=0;l<M;l++)C+=String.fromCharCode(255&g),g>>>=8;return C}function f(g,M,l,C,u,P){var U,V,N=g.file,nt=g.compression,K=P!==s.utf8encode,W=d.transformTo("string",P(N.name)),q=d.transformTo("string",s.utf8encode(N.name)),x=N.comment,B=d.transformTo("string",P(x)),m=d.transformTo("string",s.utf8encode(x)),k=q.length!==N.name.length,o=m.length!==x.length,O="",ot="",J="",dt=N.dir,rt=N.date,gt={crc32:0,compressedSize:0,uncompressedSize:0};M&&!l||(gt.crc32=g.crc32,gt.compressedSize=g.compressedSize,gt.uncompressedSize=g.uncompressedSize);var c=0;M&&(c|=8),K||!k&&!o||(c|=2048);var h,at,r=0,y=0;dt&&(r|=16),"UNIX"===u?(y=798,r|=(at=h=N.unixPermissions,h||(at=dt?16893:33204),(65535&at)<<16)):(y=20,r|=function(h){return 63&(h||0)}(N.dosPermissions)),U=rt.getUTCHours(),U<<=6,U|=rt.getUTCMinutes(),U<<=5,U|=rt.getUTCSeconds()/2,V=rt.getUTCFullYear()-1980,V<<=4,V|=rt.getUTCMonth()+1,V<<=5,V|=rt.getUTCDate(),k&&(ot=e(1,1)+e(L(W),4)+q,O+="up"+e(ot.length,2)+ot),o&&(J=e(1,1)+e(L(B),4)+m,O+="uc"+e(J.length,2)+J);var A="";return A+="\n\0",A+=e(c,2),A+=nt.magic,A+=e(U,2),A+=e(V,2),A+=e(gt.crc32,4),A+=e(gt.compressedSize,4),A+=e(gt.uncompressedSize,4),A+=e(W.length,2),A+=e(O.length,2),{fileRecord:b.LOCAL_FILE_HEADER+A+W+O,dirRecord:b.CENTRAL_FILE_HEADER+e(y,2)+A+e(B.length,2)+"\0\0\0\0"+e(r,4)+e(C,4)+W+O+B}}var d=E("../utils"),p=E("../stream/GenericWorker"),s=E("../utf8"),L=E("../crc32"),b=E("../signature");function S(g,M,l,C){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=l,this.encodeFileName=C,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(S,p),S.prototype.push=function(g){var M=g.meta.percent||0,l=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,p.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:l?(M+100*(l-C-1))/l:100}}))},S.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var M=this.streamFiles&&!g.file.dir;if(M){var l=f(g,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(g){this.accumulate=!1;var C,M=this.streamFiles&&!g.file.dir,l=f(g,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),M)this.push({data:(C=g,b.DATA_DESCRIPTOR+e(C.crc32,4)+e(C.compressedSize,4)+e(C.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var g=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var u,P,U,nt,C=(u=this.dirRecords.length,P=this.bytesWritten-g,U=g,nt=d.transformTo("string",(0,this.encodeFileName)(this.zipComment)),b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+e(u,2)+e(u,2)+e(P,4)+e(U,4)+e(nt.length,2)+nt);this.push({data:C,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(g){this._sources.push(g);var M=this;return g.on("data",function(l){M.processChunk(l)}),g.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),g.on("error",function(l){M.error(l)}),this},S.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(g){var M=this._sources;if(!p.prototype.error.call(this,g))return!1;for(var l=0;l<M.length;l++)try{M[l].error(g)}catch(C){}return!0},S.prototype.lock=function(){p.prototype.lock.call(this);for(var g=this._sources,M=0;M<g.length;M++)g[M].lock()},w.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(E,w,t){"use strict";var e=E("../compressions"),f=E("./ZipFileWorker");t.generateWorker=function(d,p,s){var L=new f(p.streamFiles,s,p.platform,p.encodeFileName),b=0;try{d.forEach(function(S,g){b++;var M=function(P,U){var V=P||U,N=e[V];if(!N)throw new Error(V+" is not a valid compression method !");return N}(g.options.compression,p.compression),C=g.dir,u=g.date;g._compressWorker(M,g.options.compressionOptions||p.compressionOptions||{}).withStreamInfo("file",{name:S,dir:C,date:u,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(L)}),L.entriesCount=b}catch(S){L.error(S)}return L}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(E,w,t){"use strict";function e(){if(!(this instanceof e))return new e;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new e;for(var d in this)"function"!=typeof this[d]&&(f[d]=this[d]);return f}}(e.prototype=E("./object")).loadAsync=E("./load"),e.support=E("./support"),e.defaults=E("./defaults"),e.version="3.10.1",e.loadAsync=function(f,d){return(new e).loadAsync(f,d)},e.external=E("./external"),w.exports=e},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(E,w,t){"use strict";var e=E("./utils"),f=E("./external"),d=E("./utf8"),p=E("./zipEntries"),s=E("./stream/Crc32Probe"),L=E("./nodejsUtils");function b(S){return new f.Promise(function(g,M){var l=S.decompressed.getContentWorker().pipe(new s);l.on("error",function(C){M(C)}).on("end",function(){l.streamInfo.crc32!==S.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}w.exports=function(S,g){var M=this;return g=e.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),L.isNode&&L.isStream(S)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",S,!0,g.optimizedBinaryString,g.base64).then(function(l){var C=new p(g);return C.load(l),C}).then(function(l){var C=[f.Promise.resolve(l)],u=l.files;if(g.checkCRC32)for(var P=0;P<u.length;P++)C.push(b(u[P]));return f.Promise.all(C)}).then(function(l){for(var C=l.shift(),u=C.files,P=0;P<u.length;P++){var U=u[P],V=U.fileNameStr,N=e.resolve(U.fileNameStr);M.file(N,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:g.createFolders}),U.dir||(M.file(N).unsafeOriginalName=V)}return C.zipComment.length&&(M.comment=C.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(E,w,t){"use strict";var e=E("../utils"),f=E("../stream/GenericWorker");function d(p,s){f.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(s)}e.inherits(d,f),d.prototype._bindStream=function(p){var s=this;(this._stream=p).pause(),p.on("data",function(L){s.push({data:L,meta:{percent:0}})}).on("error",function(L){s.isPaused?this.generatedError=L:s.error(L)}).on("end",function(){s.isPaused?s._upstreamEnded=!0:s.end()})},d.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},w.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(E,w,t){"use strict";var e=E("readable-stream").Readable;function f(d,p,s){e.call(this,p),this._helper=d;var L=this;d.on("data",function(b,S){L.push(b)||L._helper.pause(),s&&s(S)}).on("error",function(b){L.emit("error",b)}).on("end",function(){L.push(null)})}E("../utils").inherits(f,e),f.prototype._read=function(){this._helper.resume()},w.exports=f},{"../utils":32,"readable-stream":16}],14:[function(E,w,t){"use strict";w.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,f);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,f)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var f=new Buffer(e);return f.fill(0),f},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(E,w,t){"use strict";function e(N,nt,K){var W,q=d.getTypeOf(nt),x=d.extend(K||{},L);x.date=x.date||new Date,null!==x.compression&&(x.compression=x.compression.toUpperCase()),"string"==typeof x.unixPermissions&&(x.unixPermissions=parseInt(x.unixPermissions,8)),x.unixPermissions&&16384&x.unixPermissions&&(x.dir=!0),x.dosPermissions&&16&x.dosPermissions&&(x.dir=!0),x.dir&&(N=u(N)),x.createFolders&&(W=C(N))&&P.call(this,W,!0),K&&void 0!==K.binary||(x.binary=!("string"===q&&!1===x.binary&&!1===x.base64)),(nt instanceof b&&0===nt.uncompressedSize||x.dir||!nt||0===nt.length)&&(x.base64=!1,x.binary=!0,nt="",x.compression="STORE",q="string");var m;m=nt instanceof b||nt instanceof p?nt:M.isNode&&M.isStream(nt)?new l(N,nt):d.prepareContent(N,nt,x.binary,x.optimizedBinaryString,x.base64);var k=new S(N,m,x);this.files[N]=k}var f=E("./utf8"),d=E("./utils"),p=E("./stream/GenericWorker"),s=E("./stream/StreamHelper"),L=E("./defaults"),b=E("./compressedObject"),S=E("./zipObject"),g=E("./generate"),M=E("./nodejsUtils"),l=E("./nodejs/NodejsStreamInputAdapter"),C=function(N){"/"===N.slice(-1)&&(N=N.substring(0,N.length-1));var nt=N.lastIndexOf("/");return 0<nt?N.substring(0,nt):""},u=function(N){return"/"!==N.slice(-1)&&(N+="/"),N},P=function(N,nt){return nt=void 0!==nt?nt:L.createFolders,N=u(N),this.files[N]||e.call(this,N,null,{dir:!0,createFolders:nt}),this.files[N]};function U(N){return"[object RegExp]"===Object.prototype.toString.call(N)}var V={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var nt,K,W;for(nt in this.files)W=this.files[nt],(K=nt.slice(this.root.length,nt.length))&&nt.slice(0,this.root.length)===this.root&&N(K,W)},filter:function(N){var nt=[];return this.forEach(function(K,W){N(K,W)&&nt.push(W)}),nt},file:function(N,nt,K){if(1!==arguments.length)return e.call(this,N=this.root+N,nt,K),this;if(U(N)){var W=N;return this.filter(function(x,B){return!B.dir&&W.test(x)})}var q=this.files[this.root+N];return q&&!q.dir?q:null},folder:function(N){if(!N)return this;if(U(N))return this.filter(function(q,x){return x.dir&&N.test(q)});var K=P.call(this,this.root+N),W=this.clone();return W.root=K.name,W},remove:function(N){var nt=this.files[N=this.root+N];if(nt||("/"!==N.slice(-1)&&(N+="/"),nt=this.files[N]),nt&&!nt.dir)delete this.files[N];else for(var K=this.filter(function(q,x){return x.name.slice(0,N.length)===N}),W=0;W<K.length;W++)delete this.files[K[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var nt,K={};try{if((K=d.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=K.type.toLowerCase(),K.compression=K.compression.toUpperCase(),"binarystring"===K.type&&(K.type="string"),!K.type)throw new Error("No output type specified.");d.checkSupport(K.type),"darwin"!==K.platform&&"freebsd"!==K.platform&&"linux"!==K.platform&&"sunos"!==K.platform||(K.platform="UNIX"),"win32"===K.platform&&(K.platform="DOS"),nt=g.generateWorker(this,K,K.comment||this.comment||"")}catch(q){(nt=new p("error")).error(q)}return new s(nt,K.type||"string",K.mimeType)},generateAsync:function(N,nt){return this.generateInternalStream(N).accumulate(nt)},generateNodeStream:function(N,nt){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(nt)}};w.exports=V},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(E,w,t){"use strict";w.exports=E("stream")},{stream:void 0}],17:[function(E,w,t){"use strict";var e=E("./DataReader");function f(d){e.call(this,d);for(var p=0;p<this.data.length;p++)d[p]=255&d[p]}E("../utils").inherits(f,e),f.prototype.byteAt=function(d){return this.data[this.zero+d]},f.prototype.lastIndexOfSignature=function(d){for(var p=d.charCodeAt(0),s=d.charCodeAt(1),L=d.charCodeAt(2),b=d.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===p&&this.data[S+1]===s&&this.data[S+2]===L&&this.data[S+3]===b)return S-this.zero;return-1},f.prototype.readAndCheckSignature=function(d){var p=d.charCodeAt(0),s=d.charCodeAt(1),L=d.charCodeAt(2),b=d.charCodeAt(3),S=this.readData(4);return p===S[0]&&s===S[1]&&L===S[2]&&b===S[3]},f.prototype.readData=function(d){if(this.checkOffset(d),0===d)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},w.exports=f},{"../utils":32,"./DataReader":18}],18:[function(E,w,t){"use strict";var e=E("../utils");function f(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var p,s=0;for(this.checkOffset(d),p=this.index+d-1;p>=this.index;p--)s=(s<<8)+this.byteAt(p);return this.index+=d,s},readString:function(d){return e.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},w.exports=f},{"../utils":32}],19:[function(E,w,t){"use strict";var e=E("./Uint8ArrayReader");function f(d){e.call(this,d)}E("../utils").inherits(f,e),f.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},w.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(E,w,t){"use strict";var e=E("./DataReader");function f(d){e.call(this,d)}E("../utils").inherits(f,e),f.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},f.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},f.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},f.prototype.readData=function(d){this.checkOffset(d);var p=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},w.exports=f},{"../utils":32,"./DataReader":18}],21:[function(E,w,t){"use strict";var e=E("./ArrayReader");function f(d){e.call(this,d)}E("../utils").inherits(f,e),f.prototype.readData=function(d){if(this.checkOffset(d),0===d)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,p},w.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(E,w,t){"use strict";var e=E("../utils"),f=E("../support"),d=E("./ArrayReader"),p=E("./StringReader"),s=E("./NodeBufferReader"),L=E("./Uint8ArrayReader");w.exports=function(b){var S=e.getTypeOf(b);return e.checkSupport(S),"string"!==S||f.uint8array?"nodebuffer"===S?new s(b):f.uint8array?new L(e.transformTo("uint8array",b)):new d(e.transformTo("array",b)):new p(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(E,w,t){"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(E,w,t){"use strict";var e=E("./GenericWorker"),f=E("../utils");function d(p){e.call(this,"ConvertWorker to "+p),this.destType=p}f.inherits(d,e),d.prototype.processChunk=function(p){this.push({data:f.transformTo(this.destType,p.data),meta:p.meta})},w.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(E,w,t){"use strict";var e=E("./GenericWorker"),f=E("../crc32");function d(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}E("../utils").inherits(d,e),d.prototype.processChunk=function(p){this.streamInfo.crc32=f(p.data,this.streamInfo.crc32||0),this.push(p)},w.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(E,w,t){"use strict";var e=E("../utils"),f=E("./GenericWorker");function d(p){f.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}e.inherits(d,f),d.prototype.processChunk=function(p){p&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+p.data.length),f.prototype.processChunk.call(this,p)},w.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(E,w,t){"use strict";var e=E("../utils"),f=E("./GenericWorker");function d(p){f.call(this,"DataWorker");var s=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(L){s.dataIsReady=!0,s.data=L,s.max=L&&L.length||0,s.type=e.getTypeOf(L),s.isPaused||s._tickAndRepeat()},function(L){s.error(L)})}e.inherits(d,f),d.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,s=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,s);break;case"uint8array":p=this.data.subarray(this.index,s);break;case"array":case"nodebuffer":p=this.data.slice(this.index,s)}return this.index=s,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},w.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(E,w,t){"use strict";function e(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}e.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,d){return this._listeners[f].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,d){if(this._listeners[f])for(var p=0;p<this._listeners[f].length;p++)this._listeners[f][p].call(this,d)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var d=this;return f.on("data",function(p){d.processChunk(p)}),f.on("end",function(){d.end()}),f.on("error",function(p){d.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,d){return this.extraStreamInfo[f]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},w.exports=e},{}],29:[function(E,w,t){"use strict";var e=E("../utils"),f=E("./ConvertWorker"),d=E("./GenericWorker"),p=E("../base64"),s=E("../support"),L=E("../external"),b=null;if(s.nodestream)try{b=E("../nodejs/NodejsStreamOutputAdapter")}catch(M){}function g(M,l,C){var u=l;switch(l){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=l,this._mimeType=C,e.checkSupport(u),this._worker=M.pipe(new f(u)),M.lock()}catch(P){this._worker=new d("error"),this._worker.error(P)}}g.prototype={accumulate:function(M){return function(M,l){return new L.Promise(function(C,u){var P=[],U=M._internalType,V=M._outputType,N=M._mimeType;M.on("data",function(nt,K){P.push(nt),l&&l(K)}).on("error",function(nt){P=[],u(nt)}).on("end",function(){try{var nt=function(K,W,q){switch(K){case"blob":return e.newBlob(e.transformTo("arraybuffer",W),q);case"base64":return p.encode(W);default:return e.transformTo(K,W)}}(V,function(K,W){var q,x=0,B=null,m=0;for(q=0;q<W.length;q++)m+=W[q].length;switch(K){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(B=new Uint8Array(m),q=0;q<W.length;q++)B.set(W[q],x),x+=W[q].length;return B;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+K+"'")}}(U,P),N);C(nt)}catch(K){u(K)}P=[]}).resume()})}(this,M)},on:function(M,l){var C=this;return this._worker.on(M,"data"===M?function(u){l.call(C,u.data,u.meta)}:function(){e.delay(l,arguments,C)}),this},resume:function(){return e.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(M){if(e.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:"nodebuffer"!==this._outputType},M)}},w.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(E,w,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var e=new ArrayBuffer(0);try{t.blob=0===new Blob([e],{type:"application/zip"}).size}catch(d){try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(e),t.blob=0===f.getBlob("application/zip").size}catch(p){t.blob=!1}}}try{t.nodestream=!!E("readable-stream").Readable}catch(d){t.nodestream=!1}},{"readable-stream":16}],31:[function(E,w,t){"use strict";for(var e=E("./utils"),f=E("./support"),d=E("./nodejsUtils"),p=E("./stream/GenericWorker"),s=new Array(256),L=0;L<256;L++)s[L]=252<=L?6:248<=L?5:240<=L?4:224<=L?3:192<=L?2:1;function b(){p.call(this,"utf-8 decode"),this.leftOver=null}function S(){p.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(g){return f.nodebuffer?d.newBufferFrom(g,"utf-8"):function(M){var l,C,u,P,U,V=M.length,N=0;for(P=0;P<V;P++)55296==(64512&(C=M.charCodeAt(P)))&&P+1<V&&56320==(64512&(u=M.charCodeAt(P+1)))&&(C=65536+(C-55296<<10)+(u-56320),P++),N+=C<128?1:C<2048?2:C<65536?3:4;for(l=f.uint8array?new Uint8Array(N):new Array(N),P=U=0;U<N;P++)55296==(64512&(C=M.charCodeAt(P)))&&P+1<V&&56320==(64512&(u=M.charCodeAt(P+1)))&&(C=65536+(C-55296<<10)+(u-56320),P++),C<128?l[U++]=C:(C<2048?l[U++]=192|C>>>6:(C<65536?l[U++]=224|C>>>12:(l[U++]=240|C>>>18,l[U++]=128|C>>>12&63),l[U++]=128|C>>>6&63),l[U++]=128|63&C);return l}(g)},t.utf8decode=function(g){return f.nodebuffer?e.transformTo("nodebuffer",g).toString("utf-8"):function(M){var l,C,u,P,U=M.length,V=new Array(2*U);for(l=C=0;l<U;)if((u=M[l++])<128)V[C++]=u;else if(4<(P=s[u]))V[C++]=65533,l+=P-1;else{for(u&=2===P?31:3===P?15:7;1<P&&l<U;)u=u<<6|63&M[l++],P--;1<P?V[C++]=65533:u<65536?V[C++]=u:(V[C++]=55296|(u-=65536)>>10&1023,V[C++]=56320|1023&u)}return V.length!==C&&(V.subarray?V=V.subarray(0,C):V.length=C),e.applyFromCharCode(V)}(g=e.transformTo(f.uint8array?"uint8array":"array",g))},e.inherits(b,p),b.prototype.processChunk=function(g){var M=e.transformTo(f.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var l=M;(M=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),M.set(l,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var C=function(P,U){var V;for((U=U||P.length)>P.length&&(U=P.length),V=U-1;0<=V&&128==(192&P[V]);)V--;return V<0||0===V?U:V+s[P[V]]>U?V:U}(M),u=M;C!==M.length&&(f.uint8array?(u=M.subarray(0,C),this.leftOver=M.subarray(C,M.length)):(u=M.slice(0,C),this.leftOver=M.slice(C,M.length))),this.push({data:t.utf8decode(u),meta:g.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=b,e.inherits(S,p),S.prototype.processChunk=function(g){this.push({data:t.utf8encode(g.data),meta:g.meta})},t.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(E,w,t){"use strict";var e=E("./support"),f=E("./base64"),d=E("./nodejsUtils"),p=E("./external");function s(l){return l}function L(l,C){for(var u=0;u<l.length;++u)C[u]=255&l.charCodeAt(u);return C}E("setimmediate"),t.newBlob=function(l,C){t.checkSupport("blob");try{return new Blob([l],{type:C})}catch(P){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(l),u.getBlob(C)}catch(U){throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(l,C,u){var P=[],U=0,V=l.length;if(V<=u)return String.fromCharCode.apply(null,l);for(;U<V;)P.push(String.fromCharCode.apply(null,"array"===C||"nodebuffer"===C?l.slice(U,Math.min(U+u,V)):l.subarray(U,Math.min(U+u,V)))),U+=u;return P.join("")},stringifyByChar:function(l){for(var C="",u=0;u<l.length;u++)C+=String.fromCharCode(l[u]);return C},applyCanBeUsed:{uint8array:function(){try{return e.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(l){return!1}}(),nodebuffer:function(){try{return e.nodebuffer&&1===String.fromCharCode.apply(null,d.allocBuffer(1)).length}catch(l){return!1}}()}};function S(l){var C=65536,u=t.getTypeOf(l),P=!0;if("uint8array"===u?P=b.applyCanBeUsed.uint8array:"nodebuffer"===u&&(P=b.applyCanBeUsed.nodebuffer),P)for(;1<C;)try{return b.stringifyByChunk(l,u,C)}catch(U){C=Math.floor(C/2)}return b.stringifyByChar(l)}function g(l,C){for(var u=0;u<l.length;u++)C[u]=l[u];return C}t.applyFromCharCode=S;var M={};M.string={string:s,array:function(l){return L(l,new Array(l.length))},arraybuffer:function(l){return M.string.uint8array(l).buffer},uint8array:function(l){return L(l,new Uint8Array(l.length))},nodebuffer:function(l){return L(l,d.allocBuffer(l.length))}},M.array={string:S,array:s,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return d.newBufferFrom(l)}},M.arraybuffer={string:function(l){return S(new Uint8Array(l))},array:function(l){return g(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:s,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return d.newBufferFrom(new Uint8Array(l))}},M.uint8array={string:S,array:function(l){return g(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:s,nodebuffer:function(l){return d.newBufferFrom(l)}},M.nodebuffer={string:S,array:function(l){return g(l,new Array(l.length))},arraybuffer:function(l){return M.nodebuffer.uint8array(l).buffer},uint8array:function(l){return g(l,new Uint8Array(l.length))},nodebuffer:s},t.transformTo=function(l,C){if(C=C||"",!l)return C;t.checkSupport(l);var u=t.getTypeOf(C);return M[u][l](C)},t.resolve=function(l){for(var C=l.split("/"),u=[],P=0;P<C.length;P++){var U=C[P];"."===U||""===U&&0!==P&&P!==C.length-1||(".."===U?u.pop():u.push(U))}return u.join("/")},t.getTypeOf=function(l){return"string"==typeof l?"string":"[object Array]"===Object.prototype.toString.call(l)?"array":e.nodebuffer&&d.isBuffer(l)?"nodebuffer":e.uint8array&&l instanceof Uint8Array?"uint8array":e.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(l){if(!e[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(l){var C,u,P="";for(u=0;u<(l||"").length;u++)P+="\\x"+((C=l.charCodeAt(u))<16?"0":"")+C.toString(16).toUpperCase();return P},t.delay=function(l,C,u){setImmediate(function(){l.apply(u||null,C||[])})},t.inherits=function(l,C){function u(){}u.prototype=C.prototype,l.prototype=new u},t.extend=function(){var l,C,u={};for(l=0;l<arguments.length;l++)for(C in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],C)&&void 0===u[C]&&(u[C]=arguments[l][C]);return u},t.prepareContent=function(l,C,u,P,U){return p.Promise.resolve(C).then(function(V){return e.blob&&(V instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(V)))&&"undefined"!=typeof FileReader?new p.Promise(function(N,nt){var K=new FileReader;K.onload=function(W){N(W.target.result)},K.onerror=function(W){nt(W.target.error)},K.readAsArrayBuffer(V)}):V}).then(function(V){var nt,N=t.getTypeOf(V);return N?("arraybuffer"===N?V=t.transformTo("uint8array",V):"string"===N&&(U?V=f.decode(V):u&&!0!==P&&(V=L(nt=V,e.uint8array?new Uint8Array(nt.length):new Array(nt.length)))),V):p.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(E,w,t){"use strict";var e=E("./reader/readerFor"),f=E("./utils"),d=E("./signature"),p=E("./zipEntry"),s=E("./support");function L(b){this.files=[],this.loadOptions=b}L.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(S)+", expected "+f.pretty(b)+")")}},isSignature:function(b,S){var g=this.reader.index;this.reader.setIndex(b);var M=this.reader.readString(4)===S;return this.reader.setIndex(g),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),g=f.transformTo(s.uint8array?"uint8array":"array",b);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,S,g,M=this.zip64EndOfCentralSize-44;0<M;)b=this.reader.readInt(2),S=this.reader.readInt(4),g=this.reader.readData(S),this.zip64ExtensibleData[b]={id:b,length:S,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,S;for(b=0;b<this.files.length;b++)this.reader.setIndex((S=this.files[b]).localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(b=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var S=b;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var M=S-g;if(0<M)this.isSignature(S,d.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(b){this.reader=e(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},w.exports=L},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(E,w,t){"use strict";var e=E("./reader/readerFor"),f=E("./utils"),d=E("./compressedObject"),p=E("./crc32"),s=E("./utf8"),L=E("./compressions"),b=E("./support");function S(g,M){this.options=g,this.loadOptions=M}S.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(g){var M,l;if(g.skip(22),this.fileNameLength=g.readInt(2),l=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(l),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(M=function(C){for(var u in L)if(Object.prototype.hasOwnProperty.call(L,u)&&L[u].magic===C)return L[u];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,M,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var M=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(M),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==g&&(this.dosPermissions=63&this.externalFileAttributes),3==g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var M,l,C,u=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<u;)M=g.readInt(2),l=g.readInt(2),C=g.readData(l),this.extraFields[M]={id:M,length:l,value:C};g.setIndex(u)},handleUTF8:function(){var g=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(null!==M)this.fileNameStr=M;else{var l=f.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var C=this.findExtraFieldUnicodeComment();if(null!==C)this.fileCommentStr=C;else{var u=f.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var M=e(g.value);return 1!==M.readInt(1)||p(this.fileName)!==M.readInt(4)?null:s.utf8decode(M.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var M=e(g.value);return 1!==M.readInt(1)||p(this.fileComment)!==M.readInt(4)?null:s.utf8decode(M.readData(g.length-5))}return null}},w.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(E,w,t){"use strict";function e(M,l,C){this.name=M,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=l,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var f=E("./stream/StreamHelper"),d=E("./stream/DataWorker"),p=E("./utf8"),s=E("./compressedObject"),L=E("./stream/GenericWorker");e.prototype={internalStream:function(M){var l=null,C="string";try{if(!M)throw new Error("No output type specified.");var u="string"===(C=M.toLowerCase())||"text"===C;"binarystring"!==C&&"text"!==C||(C="string"),l=this._decompressWorker();var P=!this._dataBinary;P&&!u&&(l=l.pipe(new p.Utf8EncodeWorker)),!P&&u&&(l=l.pipe(new p.Utf8DecodeWorker))}catch(U){(l=new L("error")).error(U)}return new f(l,C,"")},async:function(M,l){return this.internalStream(M).accumulate(l)},nodeStream:function(M,l){return this.internalStream(M||"nodebuffer").toNodejsStream(l)},_compressWorker:function(M,l){if(this._data instanceof s&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new p.Utf8EncodeWorker)),s.createWorkerFrom(C,M,l)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof L?this._data:new d(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<b.length;g++)e.prototype[b[g]]=S;w.exports=e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(E,w,t){(function(e){"use strict";var f,d,p=e.MutationObserver||e.WebKitMutationObserver;if(p){var s=0,L=new p(M),b=e.document.createTextNode("");L.observe(b,{characterData:!0}),f=function(){b.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)f="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var l=e.document.createElement("script");l.onreadystatechange=function(){M(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},e.document.documentElement.appendChild(l)}:function(){setTimeout(M,0)};else{var S=new e.MessageChannel;S.port1.onmessage=M,f=function(){S.port2.postMessage(0)}}var g=[];function M(){var l,C;d=!0;for(var u=g.length;u;){for(C=g,g=[],l=-1;++l<u;)C[l]();u=g.length}d=!1}w.exports=function(l){1!==g.push(l)||d||f()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(E,w,t){"use strict";var e=E("immediate");function f(){}var d={},p=["REJECTED"],s=["FULFILLED"],L=["PENDING"];function b(u){if("function"!=typeof u)throw new TypeError("resolver must be a function");this.state=L,this.queue=[],this.outcome=void 0,u!==f&&l(this,u)}function S(u,P,U){this.promise=u,"function"==typeof P&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),"function"==typeof U&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function g(u,P,U){e(function(){var V;try{V=P(U)}catch(N){return d.reject(u,N)}V===u?d.reject(u,new TypeError("Cannot resolve promise with itself")):d.resolve(u,V)})}function M(u){var P=u&&u.then;if(u&&("object"==typeof u||"function"==typeof u)&&"function"==typeof P)return function(){P.apply(u,arguments)}}function l(u,P){var U=!1;function V(K){U||(U=!0,d.reject(u,K))}function N(K){U||(U=!0,d.resolve(u,K))}var nt=C(function(){P(N,V)});"error"===nt.status&&V(nt.value)}function C(u,P){var U={};try{U.value=u(P),U.status="success"}catch(V){U.status="error",U.value=V}return U}(w.exports=b).prototype.finally=function(u){if("function"!=typeof u)return this;var P=this.constructor;return this.then(function(U){return P.resolve(u()).then(function(){return U})},function(U){return P.resolve(u()).then(function(){throw U})})},b.prototype.catch=function(u){return this.then(null,u)},b.prototype.then=function(u,P){if("function"!=typeof u&&this.state===s||"function"!=typeof P&&this.state===p)return this;var U=new this.constructor(f);return this.state!==L?g(U,this.state===s?u:P,this.outcome):this.queue.push(new S(U,u,P)),U},S.prototype.callFulfilled=function(u){d.resolve(this.promise,u)},S.prototype.otherCallFulfilled=function(u){g(this.promise,this.onFulfilled,u)},S.prototype.callRejected=function(u){d.reject(this.promise,u)},S.prototype.otherCallRejected=function(u){g(this.promise,this.onRejected,u)},d.resolve=function(u,P){var U=C(M,P);if("error"===U.status)return d.reject(u,U.value);var V=U.value;if(V)l(u,V);else{u.state=s,u.outcome=P;for(var N=-1,nt=u.queue.length;++N<nt;)u.queue[N].callFulfilled(P)}return u},d.reject=function(u,P){u.state=p,u.outcome=P;for(var U=-1,V=u.queue.length;++U<V;)u.queue[U].callRejected(P);return u},b.resolve=function(u){return u instanceof this?u:d.resolve(new this(f),u)},b.reject=function(u){var P=new this(f);return d.reject(P,u)},b.all=function(u){var P=this;if("[object Array]"!==Object.prototype.toString.call(u))return this.reject(new TypeError("must be an array"));var U=u.length,V=!1;if(!U)return this.resolve([]);for(var N=new Array(U),nt=0,K=-1,W=new this(f);++K<U;)q(u[K],K);return W;function q(x,B){P.resolve(x).then(function(m){N[B]=m,++nt!==U||V||(V=!0,d.resolve(W,N))},function(m){V||(V=!0,d.reject(W,m))})}},b.race=function(u){if("[object Array]"!==Object.prototype.toString.call(u))return this.reject(new TypeError("must be an array"));var U=u.length,V=!1;if(!U)return this.resolve([]);for(var N=-1,nt=new this(f);++N<U;)this.resolve(u[N]).then(function(W){V||(V=!0,d.resolve(nt,W))},function(W){V||(V=!0,d.reject(nt,W))});return nt}},{immediate:36}],38:[function(E,w,t){"use strict";var e={};(0,E("./lib/utils/common").assign)(e,E("./lib/deflate"),E("./lib/inflate"),E("./lib/zlib/constants")),w.exports=e},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(E,w,t){"use strict";var e=E("./zlib/deflate"),f=E("./utils/common"),d=E("./utils/strings"),p=E("./zlib/messages"),s=E("./zlib/zstream"),L=Object.prototype.toString;function l(u){if(!(this instanceof l))return new l(u);this.options=f.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},u||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var U=e.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(0!==U)throw new Error(p[U]);if(P.header&&e.deflateSetHeader(this.strm,P.header),P.dictionary){var V;if(V="string"==typeof P.dictionary?d.string2buf(P.dictionary):"[object ArrayBuffer]"===L.call(P.dictionary)?new Uint8Array(P.dictionary):P.dictionary,0!==(U=e.deflateSetDictionary(this.strm,V)))throw new Error(p[U]);this._dict_set=!0}}function C(u,P){var U=new l(P);if(U.push(u,!0),U.err)throw U.msg||p[U.err];return U.result}l.prototype.push=function(u,P){var U,V,N=this.strm,nt=this.options.chunkSize;if(this.ended)return!1;V=P===~~P?P:!0===P?4:0,N.input="string"==typeof u?d.string2buf(u):"[object ArrayBuffer]"===L.call(u)?new Uint8Array(u):u,N.next_in=0,N.avail_in=N.input.length;do{if(0===N.avail_out&&(N.output=new f.Buf8(nt),N.next_out=0,N.avail_out=nt),1!==(U=e.deflate(N,V))&&0!==U)return this.onEnd(U),!(this.ended=!0);0!==N.avail_out&&(0!==N.avail_in||4!==V&&2!==V)||this.onData("string"===this.options.to?d.buf2binstring(f.shrinkBuf(N.output,N.next_out)):f.shrinkBuf(N.output,N.next_out))}while((0<N.avail_in||0===N.avail_out)&&1!==U);return 4===V?(U=e.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,0===U):2!==V||(this.onEnd(0),!(N.avail_out=0))},l.prototype.onData=function(u){this.chunks.push(u)},l.prototype.onEnd=function(u){0===u&&(this.result="string"===this.options.to?this.chunks.join(""):f.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},t.Deflate=l,t.deflate=C,t.deflateRaw=function(u,P){return(P=P||{}).raw=!0,C(u,P)},t.gzip=function(u,P){return(P=P||{}).gzip=!0,C(u,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(E,w,t){"use strict";var e=E("./zlib/inflate"),f=E("./utils/common"),d=E("./utils/strings"),p=E("./zlib/constants"),s=E("./zlib/messages"),L=E("./zlib/zstream"),b=E("./zlib/gzheader"),S=Object.prototype.toString;function g(l){if(!(this instanceof g))return new g(l);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},l||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,0===C.windowBits&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||l&&l.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&0==(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new L,this.strm.avail_out=0;var u=e.inflateInit2(this.strm,C.windowBits);if(u!==p.Z_OK)throw new Error(s[u]);this.header=new b,e.inflateGetHeader(this.strm,this.header)}function M(l,C){var u=new g(C);if(u.push(l,!0),u.err)throw u.msg||s[u.err];return u.result}g.prototype.push=function(l,C){var u,P,U,V,N,nt,K=this.strm,W=this.options.chunkSize,q=this.options.dictionary,x=!1;if(this.ended)return!1;P=C===~~C?C:!0===C?p.Z_FINISH:p.Z_NO_FLUSH,K.input="string"==typeof l?d.binstring2buf(l):"[object ArrayBuffer]"===S.call(l)?new Uint8Array(l):l,K.next_in=0,K.avail_in=K.input.length;do{if(0===K.avail_out&&(K.output=new f.Buf8(W),K.next_out=0,K.avail_out=W),(u=e.inflate(K,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&q&&(nt="string"==typeof q?d.string2buf(q):"[object ArrayBuffer]"===S.call(q)?new Uint8Array(q):q,u=e.inflateSetDictionary(this.strm,nt)),u===p.Z_BUF_ERROR&&!0===x&&(u=p.Z_OK,x=!1),u!==p.Z_STREAM_END&&u!==p.Z_OK)return this.onEnd(u),!(this.ended=!0);K.next_out&&(0!==K.avail_out&&u!==p.Z_STREAM_END&&(0!==K.avail_in||P!==p.Z_FINISH&&P!==p.Z_SYNC_FLUSH)||("string"===this.options.to?(U=d.utf8border(K.output,K.next_out),V=K.next_out-U,N=d.buf2string(K.output,U),K.next_out=V,K.avail_out=W-V,V&&f.arraySet(K.output,K.output,U,V,0),this.onData(N)):this.onData(f.shrinkBuf(K.output,K.next_out)))),0===K.avail_in&&0===K.avail_out&&(x=!0)}while((0<K.avail_in||0===K.avail_out)&&u!==p.Z_STREAM_END);return u===p.Z_STREAM_END&&(P=p.Z_FINISH),P===p.Z_FINISH?(u=e.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===p.Z_OK):P!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(K.avail_out=0))},g.prototype.onData=function(l){this.chunks.push(l)},g.prototype.onEnd=function(l){l===p.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):f.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},t.Inflate=g,t.inflate=M,t.inflateRaw=function(l,C){return(C=C||{}).raw=!0,M(l,C)},t.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(E,w,t){"use strict";var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(p){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var L=s.shift();if(L){if("object"!=typeof L)throw new TypeError(L+"must be non-object");for(var b in L)L.hasOwnProperty(b)&&(p[b]=L[b])}}return p},t.shrinkBuf=function(p,s){return p.length===s?p:p.subarray?p.subarray(0,s):(p.length=s,p)};var f={arraySet:function(p,s,L,b,S){if(s.subarray&&p.subarray)p.set(s.subarray(L,L+b),S);else for(var g=0;g<b;g++)p[S+g]=s[L+g]},flattenChunks:function(p){var s,L,b,S,g,M;for(s=b=0,L=p.length;s<L;s++)b+=p[s].length;for(M=new Uint8Array(b),s=S=0,L=p.length;s<L;s++)M.set(g=p[s],S),S+=g.length;return M}},d={arraySet:function(p,s,L,b,S){for(var g=0;g<b;g++)p[S+g]=s[L+g]},flattenChunks:function(p){return[].concat.apply([],p)}};t.setTyped=function(p){p?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,f)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,d))},t.setTyped(e)},{}],42:[function(E,w,t){"use strict";var e=E("./common"),f=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch(b){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){d=!1}for(var p=new e.Buf8(256),s=0;s<256;s++)p[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function L(b,S){if(S<65537&&(b.subarray&&d||!b.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(b,S));for(var g="",M=0;M<S;M++)g+=String.fromCharCode(b[M]);return g}p[254]=p[254]=1,t.string2buf=function(b){var S,g,M,l,C,u=b.length,P=0;for(l=0;l<u;l++)55296==(64512&(g=b.charCodeAt(l)))&&l+1<u&&56320==(64512&(M=b.charCodeAt(l+1)))&&(g=65536+(g-55296<<10)+(M-56320),l++),P+=g<128?1:g<2048?2:g<65536?3:4;for(S=new e.Buf8(P),l=C=0;C<P;l++)55296==(64512&(g=b.charCodeAt(l)))&&l+1<u&&56320==(64512&(M=b.charCodeAt(l+1)))&&(g=65536+(g-55296<<10)+(M-56320),l++),g<128?S[C++]=g:(g<2048?S[C++]=192|g>>>6:(g<65536?S[C++]=224|g>>>12:(S[C++]=240|g>>>18,S[C++]=128|g>>>12&63),S[C++]=128|g>>>6&63),S[C++]=128|63&g);return S},t.buf2binstring=function(b){return L(b,b.length)},t.binstring2buf=function(b){for(var S=new e.Buf8(b.length),g=0,M=S.length;g<M;g++)S[g]=b.charCodeAt(g);return S},t.buf2string=function(b,S){var g,M,l,C,u=S||b.length,P=new Array(2*u);for(g=M=0;g<u;)if((l=b[g++])<128)P[M++]=l;else if(4<(C=p[l]))P[M++]=65533,g+=C-1;else{for(l&=2===C?31:3===C?15:7;1<C&&g<u;)l=l<<6|63&b[g++],C--;1<C?P[M++]=65533:l<65536?P[M++]=l:(P[M++]=55296|(l-=65536)>>10&1023,P[M++]=56320|1023&l)}return L(P,M)},t.utf8border=function(b,S){var g;for((S=S||b.length)>b.length&&(S=b.length),g=S-1;0<=g&&128==(192&b[g]);)g--;return g<0||0===g?S:g+p[b[g]]>S?g:S}},{"./common":41}],43:[function(E,w,t){"use strict";w.exports=function(e,f,d,p){for(var s=65535&e|0,L=e>>>16&65535|0,b=0;0!==d;){for(d-=b=2e3<d?2e3:d;L=L+(s=s+f[p++]|0)|0,--b;);s%=65521,L%=65521}return s|L<<16|0}},{}],44:[function(E,w,t){"use strict";w.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(E,w,t){"use strict";var e=function(){for(var f,d=[],p=0;p<256;p++){f=p;for(var s=0;s<8;s++)f=1&f?3988292384^f>>>1:f>>>1;d[p]=f}return d}();w.exports=function(f,d,p,s){var L=e,b=s+p;f^=-1;for(var S=s;S<b;S++)f=f>>>8^L[255&(f^d[S])];return-1^f}},{}],46:[function(E,w,t){"use strict";var e,f=E("../utils/common"),d=E("./trees"),p=E("./adler32"),s=E("./crc32"),L=E("./messages"),M=-2,x=258,B=262,k=113;function dt(n,H){return n.msg=L[H],H}function rt(n){return(n<<1)-(4<n?9:0)}function gt(n){for(var H=n.length;0<=--H;)n[H]=0}function c(n){var H=n.state,j=H.pending;j>n.avail_out&&(j=n.avail_out),0!==j&&(f.arraySet(n.output,H.pending_buf,H.pending_out,j,n.next_out),n.next_out+=j,H.pending_out+=j,n.total_out+=j,n.avail_out-=j,H.pending-=j,0===H.pending&&(H.pending_out=0))}function r(n,H){d._tr_flush_block(n,0<=n.block_start?n.block_start:-1,n.strstart-n.block_start,H),n.block_start=n.strstart,c(n.strm)}function y(n,H){n.pending_buf[n.pending++]=H}function A(n,H){n.pending_buf[n.pending++]=H>>>8&255,n.pending_buf[n.pending++]=255&H}function h(n,H){var j,v,_=n.max_chain_length,I=n.strstart,$=n.prev_length,et=n.nice_match,F=n.strstart>n.w_size-B?n.strstart-(n.w_size-B):0,Z=n.window,Q=n.w_mask,i=n.prev,D=n.strstart+x,Y=Z[I+$-1],T=Z[I+$];n.prev_length>=n.good_match&&(_>>=2),et>n.lookahead&&(et=n.lookahead);do{if(Z[(j=H)+$]===T&&Z[j+$-1]===Y&&Z[j]===Z[I]&&Z[++j]===Z[I+1]){I+=2,j++;do{}while(Z[++I]===Z[++j]&&Z[++I]===Z[++j]&&Z[++I]===Z[++j]&&Z[++I]===Z[++j]&&Z[++I]===Z[++j]&&Z[++I]===Z[++j]&&Z[++I]===Z[++j]&&Z[++I]===Z[++j]&&I<D);if(v=x-(D-I),I=D-x,$<v){if(n.match_start=H,et<=($=v))break;Y=Z[I+$-1],T=Z[I+$]}}}while((H=i[H&Q])>F&&0!=--_);return $<=n.lookahead?$:n.lookahead}function tt(n){var H,j,v,_,I,$,et,F,Z,Q,i=n.w_size;do{if(_=n.window_size-n.lookahead-n.strstart,n.strstart>=i+(i-B)){for(f.arraySet(n.window,n.window,i,i,0),n.match_start-=i,n.strstart-=i,n.block_start-=i,H=j=n.hash_size;v=n.head[--H],n.head[H]=i<=v?v-i:0,--j;);for(H=j=i;v=n.prev[--H],n.prev[H]=i<=v?v-i:0,--j;);_+=i}if(0===n.strm.avail_in)break;if(et=n.window,F=n.strstart+n.lookahead,Q=void 0,(Z=_)<(Q=($=n.strm).avail_in)&&(Q=Z),j=0===Q?0:($.avail_in-=Q,f.arraySet(et,$.input,$.next_in,Q,F),1===$.state.wrap?$.adler=p($.adler,et,Q,F):2===$.state.wrap&&($.adler=s($.adler,et,Q,F)),$.next_in+=Q,$.total_in+=Q,Q),n.lookahead+=j,n.lookahead+n.insert>=3)for(n.ins_h=n.window[I=n.strstart-n.insert],n.ins_h=(n.ins_h<<n.hash_shift^n.window[I+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[I+3-1])&n.hash_mask,n.prev[I&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=I,I++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<B&&0!==n.strm.avail_in)}function at(n,H){for(var j,v;;){if(n.lookahead<B){if(tt(n),n.lookahead<B&&0===H)return 1;if(0===n.lookahead)break}if(j=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==j&&n.strstart-j<=n.w_size-B&&(n.match_length=h(n,j)),n.match_length>=3)if(v=d._tr_tally(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){for(n.match_length--;n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart,0!=--n.match_length;);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else v=d._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(v&&(r(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,4===H?(r(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(r(n,!1),0===n.strm.avail_out)?1:2}function G(n,H){for(var j,v,_;;){if(n.lookahead<B){if(tt(n),n.lookahead<B&&0===H)return 1;if(0===n.lookahead)break}if(j=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==j&&n.prev_length<n.max_lazy_match&&n.strstart-j<=n.w_size-B&&(n.match_length=h(n,j),n.match_length<=5&&(1===n.strategy||3===n.match_length&&4096<n.strstart-n.match_start)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){for(_=n.strstart+n.lookahead-3,v=d._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;++n.strstart<=_&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!=--n.prev_length;);if(n.match_available=0,n.match_length=2,n.strstart++,v&&(r(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if((v=d._tr_tally(n,0,n.window[n.strstart-1]))&&r(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(v=d._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,4===H?(r(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(r(n,!1),0===n.strm.avail_out)?1:2}function st(n,H,j,v,_){this.good_length=n,this.max_lazy=H,this.nice_length=j,this.max_chain=v,this.func=_}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(1146),this.dyn_dtree=new f.Buf16(122),this.bl_tree=new f.Buf16(78),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(16),this.heap=new f.Buf16(573),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(573),gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _t(n){var H;return n&&n.state?(n.total_in=n.total_out=0,n.data_type=2,(H=n.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?42:k,n.adler=2===H.wrap?0:1,H.last_flush=0,d._tr_init(H),0):dt(n,M)}function Ct(n){var j,H=_t(n);return 0===H&&((j=n.state).window_size=2*j.w_size,gt(j.head),j.max_lazy_match=e[j.level].max_lazy,j.good_match=e[j.level].good_length,j.nice_match=e[j.level].nice_length,j.max_chain_length=e[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=2,j.match_available=0,j.ins_h=0),H}function lt(n,H,j,v,_,I){if(!n)return M;var $=1;if(-1===H&&(H=6),v<0?($=0,v=-v):15<v&&($=2,v-=16),_<1||9<_||8!==j||v<8||15<v||H<0||9<H||I<0||4<I)return dt(n,M);8===v&&(v=9);var et=new ct;return(n.state=et).strm=n,et.wrap=$,et.gzhead=null,et.w_bits=v,et.w_size=1<<et.w_bits,et.w_mask=et.w_size-1,et.hash_bits=_+7,et.hash_size=1<<et.hash_bits,et.hash_mask=et.hash_size-1,et.hash_shift=~~((et.hash_bits+3-1)/3),et.window=new f.Buf8(2*et.w_size),et.head=new f.Buf16(et.hash_size),et.prev=new f.Buf16(et.w_size),et.lit_bufsize=1<<_+6,et.pending_buf_size=4*et.lit_bufsize,et.pending_buf=new f.Buf8(et.pending_buf_size),et.d_buf=1*et.lit_bufsize,et.l_buf=3*et.lit_bufsize,et.level=H,et.strategy=I,et.method=j,Ct(n)}e=[new st(0,0,0,0,function(n,H){var j=65535;for(j>n.pending_buf_size-5&&(j=n.pending_buf_size-5);;){if(n.lookahead<=1){if(tt(n),0===n.lookahead&&0===H)return 1;if(0===n.lookahead)break}n.strstart+=n.lookahead,n.lookahead=0;var v=n.block_start+j;if((0===n.strstart||n.strstart>=v)&&(n.lookahead=n.strstart-v,n.strstart=v,r(n,!1),0===n.strm.avail_out)||n.strstart-n.block_start>=n.w_size-B&&(r(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,4===H?(r(n,!0),0===n.strm.avail_out?3:4):(n.strstart>n.block_start&&r(n,!1),1)}),new st(4,4,8,4,at),new st(4,5,16,8,at),new st(4,6,32,32,at),new st(4,4,16,16,G),new st(8,16,32,32,G),new st(8,16,128,128,G),new st(8,32,128,256,G),new st(32,128,258,1024,G),new st(32,258,258,4096,G)],t.deflateInit=function(n,H){return lt(n,H,8,15,8,0)},t.deflateInit2=lt,t.deflateReset=Ct,t.deflateResetKeep=_t,t.deflateSetHeader=function(n,H){return n&&n.state?2!==n.state.wrap?M:(n.state.gzhead=H,0):M},t.deflate=function(n,H){var j,v,_,I;if(!n||!n.state||5<H||H<0)return n?dt(n,M):M;if(v=n.state,!n.output||!n.input&&0!==n.avail_in||666===v.status&&4!==H)return dt(n,0===n.avail_out?-5:M);if(v.strm=n,j=v.last_flush,v.last_flush=H,42===v.status)if(2===v.wrap)n.adler=0,y(v,31),y(v,139),y(v,8),v.gzhead?(y(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),y(v,255&v.gzhead.time),y(v,v.gzhead.time>>8&255),y(v,v.gzhead.time>>16&255),y(v,v.gzhead.time>>24&255),y(v,9===v.level?2:2<=v.strategy||v.level<2?4:0),y(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(y(v,255&v.gzhead.extra.length),y(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(n.adler=s(n.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(y(v,0),y(v,0),y(v,0),y(v,0),y(v,0),y(v,9===v.level?2:2<=v.strategy||v.level<2?4:0),y(v,3),v.status=k);else{var $=8+(v.w_bits-8<<4)<<8;$|=(2<=v.strategy||v.level<2?0:v.level<6?1:6===v.level?2:3)<<6,0!==v.strstart&&($|=32),$+=31-$%31,v.status=k,A(v,$),0!==v.strstart&&(A(v,n.adler>>>16),A(v,65535&n.adler)),n.adler=1}if(69===v.status)if(v.gzhead.extra){for(_=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>_&&(n.adler=s(n.adler,v.pending_buf,v.pending-_,_)),c(n),_=v.pending,v.pending!==v.pending_buf_size));)y(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>_&&(n.adler=s(n.adler,v.pending_buf,v.pending-_,_)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(73===v.status)if(v.gzhead.name){_=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>_&&(n.adler=s(n.adler,v.pending_buf,v.pending-_,_)),c(n),_=v.pending,v.pending===v.pending_buf_size)){I=1;break}I=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,y(v,I)}while(0!==I);v.gzhead.hcrc&&v.pending>_&&(n.adler=s(n.adler,v.pending_buf,v.pending-_,_)),0===I&&(v.gzindex=0,v.status=91)}else v.status=91;if(91===v.status)if(v.gzhead.comment){_=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>_&&(n.adler=s(n.adler,v.pending_buf,v.pending-_,_)),c(n),_=v.pending,v.pending===v.pending_buf_size)){I=1;break}I=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,y(v,I)}while(0!==I);v.gzhead.hcrc&&v.pending>_&&(n.adler=s(n.adler,v.pending_buf,v.pending-_,_)),0===I&&(v.status=103)}else v.status=103;if(103===v.status&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&c(n),v.pending+2<=v.pending_buf_size&&(y(v,255&n.adler),y(v,n.adler>>8&255),n.adler=0,v.status=k)):v.status=k),0!==v.pending){if(c(n),0===n.avail_out)return v.last_flush=-1,0}else if(0===n.avail_in&&rt(H)<=rt(j)&&4!==H)return dt(n,-5);if(666===v.status&&0!==n.avail_in)return dt(n,-5);if(0!==n.avail_in||0!==v.lookahead||0!==H&&666!==v.status){var et=2===v.strategy?function(F,Z){for(var Q;;){if(0===F.lookahead&&(tt(F),0===F.lookahead)){if(0===Z)return 1;break}if(F.match_length=0,Q=d._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,Q&&(r(F,!1),0===F.strm.avail_out))return 1}return F.insert=0,4===Z?(r(F,!0),0===F.strm.avail_out?3:4):F.last_lit&&(r(F,!1),0===F.strm.avail_out)?1:2}(v,H):3===v.strategy?function(F,Z){for(var Q,i,D,Y,T=F.window;;){if(F.lookahead<=x){if(tt(F),F.lookahead<=x&&0===Z)return 1;if(0===F.lookahead)break}if(F.match_length=0,F.lookahead>=3&&0<F.strstart&&(i=T[D=F.strstart-1])===T[++D]&&i===T[++D]&&i===T[++D]){Y=F.strstart+x;do{}while(i===T[++D]&&i===T[++D]&&i===T[++D]&&i===T[++D]&&i===T[++D]&&i===T[++D]&&i===T[++D]&&i===T[++D]&&D<Y);F.match_length=x-(Y-D),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=3?(Q=d._tr_tally(F,1,F.match_length-3),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(Q=d._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),Q&&(r(F,!1),0===F.strm.avail_out))return 1}return F.insert=0,4===Z?(r(F,!0),0===F.strm.avail_out?3:4):F.last_lit&&(r(F,!1),0===F.strm.avail_out)?1:2}(v,H):e[v.level].func(v,H);if(3!==et&&4!==et||(v.status=666),1===et||3===et)return 0===n.avail_out&&(v.last_flush=-1),0;if(2===et&&(1===H?d._tr_align(v):5!==H&&(d._tr_stored_block(v,0,0,!1),3===H&&(gt(v.head),0===v.lookahead&&(v.strstart=0,v.block_start=0,v.insert=0))),c(n),0===n.avail_out))return v.last_flush=-1,0}return 4!==H?0:v.wrap<=0?1:(2===v.wrap?(y(v,255&n.adler),y(v,n.adler>>8&255),y(v,n.adler>>16&255),y(v,n.adler>>24&255),y(v,255&n.total_in),y(v,n.total_in>>8&255),y(v,n.total_in>>16&255),y(v,n.total_in>>24&255)):(A(v,n.adler>>>16),A(v,65535&n.adler)),c(n),0<v.wrap&&(v.wrap=-v.wrap),0!==v.pending?0:1)},t.deflateEnd=function(n){var H;return n&&n.state?42!==(H=n.state.status)&&69!==H&&73!==H&&91!==H&&103!==H&&H!==k&&666!==H?dt(n,M):(n.state=null,H===k?dt(n,-3):0):M},t.deflateSetDictionary=function(n,H){var j,v,_,I,$,et,F,Z,Q=H.length;if(!n||!n.state||2===(I=(j=n.state).wrap)||1===I&&42!==j.status||j.lookahead)return M;for(1===I&&(n.adler=p(n.adler,H,Q,0)),j.wrap=0,Q>=j.w_size&&(0===I&&(gt(j.head),j.strstart=0,j.block_start=0,j.insert=0),Z=new f.Buf8(j.w_size),f.arraySet(Z,H,Q-j.w_size,j.w_size,0),H=Z,Q=j.w_size),$=n.avail_in,et=n.next_in,F=n.input,n.avail_in=Q,n.next_in=0,n.input=H,tt(j);j.lookahead>=3;){for(v=j.strstart,_=j.lookahead-2;j.ins_h=(j.ins_h<<j.hash_shift^j.window[v+3-1])&j.hash_mask,j.prev[v&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=v,v++,--_;);j.strstart=v,j.lookahead=2,tt(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=2,j.match_available=0,n.next_in=et,n.input=F,n.avail_in=$,j.wrap=I,0},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(E,w,t){"use strict";w.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(E,w,t){"use strict";w.exports=function(e,f){var d,p,s,L,b,S,g,M,l,C,u,P,U,V,N,nt,K,W,q,x,B,m,k,o,O;o=e.input,s=(p=e.next_in)+(e.avail_in-5),O=e.output,b=(L=e.next_out)-(f-e.avail_out),S=L+(e.avail_out-257),g=(d=e.state).dmax,M=d.wsize,l=d.whave,C=d.wnext,u=d.window,P=d.hold,U=d.bits,V=d.lencode,N=d.distcode,nt=(1<<d.lenbits)-1,K=(1<<d.distbits)-1;t:do{U<15&&(P+=o[p++]<<U,P+=o[p++]<<(U+=8),U+=8),W=V[P&nt];e:for(;;){if(P>>>=q=W>>>24,U-=q,0==(q=W>>>16&255))O[L++]=65535&W;else{if(!(16&q)){if(0==(64&q)){W=V[(65535&W)+(P&(1<<q)-1)];continue e}if(32&q){d.mode=12;break t}e.msg="invalid literal/length code",d.mode=30;break t}x=65535&W,(q&=15)&&(U<q&&(P+=o[p++]<<U,U+=8),x+=P&(1<<q)-1,P>>>=q,U-=q),U<15&&(P+=o[p++]<<U,P+=o[p++]<<(U+=8),U+=8),W=N[P&K];n:for(;;){if(P>>>=q=W>>>24,U-=q,!(16&(q=W>>>16&255))){if(0==(64&q)){W=N[(65535&W)+(P&(1<<q)-1)];continue n}e.msg="invalid distance code",d.mode=30;break t}if(B=65535&W,U<(q&=15)&&(P+=o[p++]<<U,(U+=8)<q&&(P+=o[p++]<<U,U+=8)),g<(B+=P&(1<<q)-1)){e.msg="invalid distance too far back",d.mode=30;break t}if(P>>>=q,U-=q,(q=L-b)<B){if(l<(q=B-q)&&d.sane){e.msg="invalid distance too far back",d.mode=30;break t}if(k=u,(m=0)===C){if(m+=M-q,q<x){for(x-=q;O[L++]=u[m++],--q;);m=L-B,k=O}}else if(C<q){if(m+=M+C-q,(q-=C)<x){for(x-=q;O[L++]=u[m++],--q;);if(m=0,C<x){for(x-=q=C;O[L++]=u[m++],--q;);m=L-B,k=O}}}else if(m+=C-q,q<x){for(x-=q;O[L++]=u[m++],--q;);m=L-B,k=O}for(;2<x;)O[L++]=k[m++],O[L++]=k[m++],O[L++]=k[m++],x-=3;x&&(O[L++]=k[m++],1<x&&(O[L++]=k[m++]))}else{for(m=L-B;O[L++]=O[m++],O[L++]=O[m++],O[L++]=O[m++],2<(x-=3););x&&(O[L++]=O[m++],1<x&&(O[L++]=O[m++]))}break}}break}}while(p<s&&L<S);p-=x=U>>3,P&=(1<<(U-=x<<3))-1,e.next_in=p,e.next_out=L,e.avail_in=p<s?s-p+5:5-(p-s),e.avail_out=L<S?S-L+257:257-(L-S),d.hold=P,d.bits=U}},{}],49:[function(E,w,t){"use strict";var e=E("../utils/common"),f=E("./adler32"),d=E("./crc32"),p=E("./inffast"),s=E("./inftrees"),g=-2;function u(m){return(m>>>24&255)+(m>>>8&65280)+((65280&m)<<8)+((255&m)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function U(m){var k;return m&&m.state?(m.total_in=m.total_out=(k=m.state).total=0,m.msg="",k.wrap&&(m.adler=1&k.wrap),k.mode=1,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new e.Buf32(852),k.distcode=k.distdyn=new e.Buf32(592),k.sane=1,k.back=-1,0):g}function V(m){var k;return m&&m.state?((k=m.state).wsize=0,k.whave=0,k.wnext=0,U(m)):g}function N(m,k){var o,O;return m&&m.state?(O=m.state,k<0?(o=0,k=-k):(o=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?g:(null!==O.window&&O.wbits!==k&&(O.window=null),O.wrap=o,O.wbits=k,V(m))):g}function nt(m,k){var o,O;return m?(O=new P,(m.state=O).window=null,0!==(o=N(m,k))&&(m.state=null),o):g}var K,W,q=!0;function x(m){if(q){var k;for(K=new e.Buf32(512),W=new e.Buf32(32),k=0;k<144;)m.lens[k++]=8;for(;k<256;)m.lens[k++]=9;for(;k<280;)m.lens[k++]=7;for(;k<288;)m.lens[k++]=8;for(s(1,m.lens,0,288,K,0,m.work,{bits:9}),k=0;k<32;)m.lens[k++]=5;s(2,m.lens,0,32,W,0,m.work,{bits:5}),q=!1}m.lencode=K,m.lenbits=9,m.distcode=W,m.distbits=5}function B(m,k,o,O){var ot,J=m.state;return null===J.window&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new e.Buf8(J.wsize)),O>=J.wsize?(e.arraySet(J.window,k,o-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(O<(ot=J.wsize-J.wnext)&&(ot=O),e.arraySet(J.window,k,o-O,ot,J.wnext),(O-=ot)?(e.arraySet(J.window,k,o-O,O,0),J.wnext=O,J.whave=J.wsize):(J.wnext+=ot,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=ot))),0}t.inflateReset=V,t.inflateReset2=N,t.inflateResetKeep=U,t.inflateInit=function(m){return nt(m,15)},t.inflateInit2=nt,t.inflate=function(m,k){var o,O,ot,J,dt,rt,gt,c,r,y,A,h,tt,at,G,st,ct,_t,Ct,lt,n,H,j,v,_=0,I=new e.Buf8(4),$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!m||!m.state||!m.output||!m.input&&0!==m.avail_in)return g;12===(o=m.state).mode&&(o.mode=13),dt=m.next_out,ot=m.output,J=m.next_in,O=m.input,c=o.hold,r=o.bits,y=rt=m.avail_in,A=gt=m.avail_out,H=0;t:for(;;)switch(o.mode){case 1:if(0===o.wrap){o.mode=13;break}for(;r<16;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(2&o.wrap&&35615===c){I[o.check=0]=255&c,I[1]=c>>>8&255,o.check=d(o.check,I,2,0),r=c=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&c)<<8)+(c>>8))%31){m.msg="incorrect header check",o.mode=30;break}if(8!=(15&c)){m.msg="unknown compression method",o.mode=30;break}if(r-=4,n=8+(15&(c>>>=4)),0===o.wbits)o.wbits=n;else if(n>o.wbits){m.msg="invalid window size",o.mode=30;break}o.dmax=1<<n,m.adler=o.check=1,o.mode=512&c?10:12,r=c=0;break;case 2:for(;r<16;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(o.flags=c,8!=(255&o.flags)){m.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){m.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=c>>8&1),512&o.flags&&(I[0]=255&c,I[1]=c>>>8&255,o.check=d(o.check,I,2,0)),r=c=0,o.mode=3;case 3:for(;r<32;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}o.head&&(o.head.time=c),512&o.flags&&(I[0]=255&c,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,o.check=d(o.check,I,4,0)),r=c=0,o.mode=4;case 4:for(;r<16;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}o.head&&(o.head.xflags=255&c,o.head.os=c>>8),512&o.flags&&(I[0]=255&c,I[1]=c>>>8&255,o.check=d(o.check,I,2,0)),r=c=0,o.mode=5;case 5:if(1024&o.flags){for(;r<16;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}o.length=c,o.head&&(o.head.extra_len=c),512&o.flags&&(I[0]=255&c,I[1]=c>>>8&255,o.check=d(o.check,I,2,0)),r=c=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(rt<(h=o.length)&&(h=rt),h&&(o.head&&(n=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),e.arraySet(o.head.extra,O,J,h,n)),512&o.flags&&(o.check=d(o.check,O,h,J)),rt-=h,J+=h,o.length-=h),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(0===rt)break t;for(h=0;n=O[J+h++],o.head&&n&&o.length<65536&&(o.head.name+=String.fromCharCode(n)),n&&h<rt;);if(512&o.flags&&(o.check=d(o.check,O,h,J)),rt-=h,J+=h,n)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(0===rt)break t;for(h=0;n=O[J+h++],o.head&&n&&o.length<65536&&(o.head.comment+=String.fromCharCode(n)),n&&h<rt;);if(512&o.flags&&(o.check=d(o.check,O,h,J)),rt-=h,J+=h,n)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;r<16;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(c!==(65535&o.check)){m.msg="header crc mismatch",o.mode=30;break}r=c=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),m.adler=o.check=0,o.mode=12;break;case 10:for(;r<32;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}m.adler=o.check=u(c),r=c=0,o.mode=11;case 11:if(0===o.havedict)return m.next_out=dt,m.avail_out=gt,m.next_in=J,m.avail_in=rt,o.hold=c,o.bits=r,2;m.adler=o.check=1,o.mode=12;case 12:if(5===k||6===k)break t;case 13:if(o.last){c>>>=7&r,r-=7&r,o.mode=27;break}for(;r<3;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}switch(o.last=1&c,r-=1,3&(c>>>=1)){case 0:o.mode=14;break;case 1:if(x(o),o.mode=20,6!==k)break;c>>>=2,r-=2;break t;case 2:o.mode=17;break;case 3:m.msg="invalid block type",o.mode=30}c>>>=2,r-=2;break;case 14:for(c>>>=7&r,r-=7&r;r<32;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if((65535&c)!=(c>>>16^65535)){m.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&c,r=c=0,o.mode=15,6===k)break t;case 15:o.mode=16;case 16:if(h=o.length){if(rt<h&&(h=rt),gt<h&&(h=gt),0===h)break t;e.arraySet(ot,O,J,h,dt),rt-=h,J+=h,gt-=h,dt+=h,o.length-=h;break}o.mode=12;break;case 17:for(;r<14;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(o.nlen=257+(31&c),r-=5,o.ndist=1+(31&(c>>>=5)),r-=5,o.ncode=4+(15&(c>>>=5)),c>>>=4,r-=4,286<o.nlen||30<o.ndist){m.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;r<3;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}o.lens[$[o.have++]]=7&c,c>>>=3,r-=3}for(;o.have<19;)o.lens[$[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,H=s(0,o.lens,0,19,o.lencode,0,o.work,j={bits:o.lenbits}),o.lenbits=j.bits,H){m.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;st=(_=o.lencode[c&(1<<o.lenbits)-1])>>>16&255,ct=65535&_,!((G=_>>>24)<=r);){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(ct<16)c>>>=G,r-=G,o.lens[o.have++]=ct;else{if(16===ct){for(v=G+2;r<v;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(c>>>=G,r-=G,0===o.have){m.msg="invalid bit length repeat",o.mode=30;break}n=o.lens[o.have-1],h=3+(3&c),c>>>=2,r-=2}else if(17===ct){for(v=G+3;r<v;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}r-=G,n=0,h=3+(7&(c>>>=G)),c>>>=3,r-=3}else{for(v=G+7;r<v;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}r-=G,n=0,h=11+(127&(c>>>=G)),c>>>=7,r-=7}if(o.have+h>o.nlen+o.ndist){m.msg="invalid bit length repeat",o.mode=30;break}for(;h--;)o.lens[o.have++]=n}}if(30===o.mode)break;if(0===o.lens[256]){m.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,H=s(1,o.lens,0,o.nlen,o.lencode,0,o.work,j={bits:o.lenbits}),o.lenbits=j.bits,H){m.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,H=s(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,j={bits:o.distbits}),o.distbits=j.bits,H){m.msg="invalid distances set",o.mode=30;break}if(o.mode=20,6===k)break t;case 20:o.mode=21;case 21:if(6<=rt&&258<=gt){m.next_out=dt,m.avail_out=gt,m.next_in=J,m.avail_in=rt,o.hold=c,o.bits=r,p(m,A),dt=m.next_out,ot=m.output,gt=m.avail_out,J=m.next_in,O=m.input,rt=m.avail_in,c=o.hold,r=o.bits,12===o.mode&&(o.back=-1);break}for(o.back=0;st=(_=o.lencode[c&(1<<o.lenbits)-1])>>>16&255,ct=65535&_,!((G=_>>>24)<=r);){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(st&&0==(240&st)){for(_t=G,Ct=st,lt=ct;st=(_=o.lencode[lt+((c&(1<<_t+Ct)-1)>>_t)])>>>16&255,ct=65535&_,!(_t+(G=_>>>24)<=r);){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}c>>>=_t,r-=_t,o.back+=_t}if(c>>>=G,r-=G,o.back+=G,o.length=ct,0===st){o.mode=26;break}if(32&st){o.back=-1,o.mode=12;break}if(64&st){m.msg="invalid literal/length code",o.mode=30;break}o.extra=15&st,o.mode=22;case 22:if(o.extra){for(v=o.extra;r<v;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}o.length+=c&(1<<o.extra)-1,c>>>=o.extra,r-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;st=(_=o.distcode[c&(1<<o.distbits)-1])>>>16&255,ct=65535&_,!((G=_>>>24)<=r);){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(0==(240&st)){for(_t=G,Ct=st,lt=ct;st=(_=o.distcode[lt+((c&(1<<_t+Ct)-1)>>_t)])>>>16&255,ct=65535&_,!(_t+(G=_>>>24)<=r);){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}c>>>=_t,r-=_t,o.back+=_t}if(c>>>=G,r-=G,o.back+=G,64&st){m.msg="invalid distance code",o.mode=30;break}o.offset=ct,o.extra=15&st,o.mode=24;case 24:if(o.extra){for(v=o.extra;r<v;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}o.offset+=c&(1<<o.extra)-1,c>>>=o.extra,r-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){m.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(0===gt)break t;if(o.offset>(h=A-gt)){if((h=o.offset-h)>o.whave&&o.sane){m.msg="invalid distance too far back",o.mode=30;break}tt=h>o.wnext?o.wsize-(h-=o.wnext):o.wnext-h,h>o.length&&(h=o.length),at=o.window}else at=ot,tt=dt-o.offset,h=o.length;for(gt<h&&(h=gt),gt-=h,o.length-=h;ot[dt++]=at[tt++],--h;);0===o.length&&(o.mode=21);break;case 26:if(0===gt)break t;ot[dt++]=o.length,gt--,o.mode=21;break;case 27:if(o.wrap){for(;r<32;){if(0===rt)break t;rt--,c|=O[J++]<<r,r+=8}if(m.total_out+=A-=gt,o.total+=A,A&&(m.adler=o.check=o.flags?d(o.check,ot,A,dt-A):f(o.check,ot,A,dt-A)),A=gt,(o.flags?c:u(c))!==o.check){m.msg="incorrect data check",o.mode=30;break}r=c=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;r<32;){if(0===rt)break t;rt--,c+=O[J++]<<r,r+=8}if(c!==(4294967295&o.total)){m.msg="incorrect length check",o.mode=30;break}r=c=0}o.mode=29;case 29:H=1;break t;case 30:H=-3;break t;case 31:return-4;default:return g}return m.next_out=dt,m.avail_out=gt,m.next_in=J,m.avail_in=rt,o.hold=c,o.bits=r,(o.wsize||A!==m.avail_out&&o.mode<30&&(o.mode<27||4!==k))&&B(m,m.output,m.next_out,A-m.avail_out)?(o.mode=31,-4):(A-=m.avail_out,m.total_in+=y-=m.avail_in,m.total_out+=A,o.total+=A,o.wrap&&A&&(m.adler=o.check=o.flags?d(o.check,ot,A,m.next_out-A):f(o.check,ot,A,m.next_out-A)),m.data_type=o.bits+(o.last?64:0)+(12===o.mode?128:0)+(20===o.mode||15===o.mode?256:0),(0==y&&0===A||4===k)&&0===H&&(H=-5),H)},t.inflateEnd=function(m){if(!m||!m.state)return g;var k=m.state;return k.window&&(k.window=null),m.state=null,0},t.inflateGetHeader=function(m,k){var o;return m&&m.state?0==(2&(o=m.state).wrap)?g:((o.head=k).done=!1,0):g},t.inflateSetDictionary=function(m,k){var o,O=k.length;return m&&m.state?0!==(o=m.state).wrap&&11!==o.mode?g:11===o.mode&&f(1,k,O,0)!==o.check?-3:B(m,k,O,O)?(o.mode=31,-4):(o.havedict=1,0):g},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(E,w,t){"use strict";var e=E("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];w.exports=function(L,b,S,g,M,l,C,u){var P,U,V,N,nt,K,W,q,x,B=u.bits,m=0,k=0,o=0,O=0,ot=0,J=0,dt=0,rt=0,gt=0,c=0,r=null,y=0,A=new e.Buf16(16),h=new e.Buf16(16),tt=null,at=0;for(m=0;m<=15;m++)A[m]=0;for(k=0;k<g;k++)A[b[S+k]]++;for(ot=B,O=15;1<=O&&0===A[O];O--);if(O<ot&&(ot=O),0===O)return M[l++]=20971520,M[l++]=20971520,u.bits=1,0;for(o=1;o<O&&0===A[o];o++);for(ot<o&&(ot=o),m=rt=1;m<=15;m++)if(rt<<=1,(rt-=A[m])<0)return-1;if(0<rt&&(0===L||1!==O))return-1;for(h[1]=0,m=1;m<15;m++)h[m+1]=h[m]+A[m];for(k=0;k<g;k++)0!==b[S+k]&&(C[h[b[S+k]]++]=k);if(K=0===L?(r=tt=C,19):1===L?(r=f,y-=257,tt=d,at-=257,256):(r=p,tt=s,-1),m=o,nt=l,dt=k=c=0,V=-1,N=(gt=1<<(J=ot))-1,1===L&&852<gt||2===L&&592<gt)return 1;for(;;){for(W=m-dt,x=C[k]<K?(q=0,C[k]):C[k]>K?(q=tt[at+C[k]],r[y+C[k]]):(q=96,0),P=1<<m-dt,o=U=1<<J;M[nt+(c>>dt)+(U-=P)]=W<<24|q<<16|x|0,0!==U;);for(P=1<<m-1;c&P;)P>>=1;if(0!==P?(c&=P-1,c+=P):c=0,k++,0==--A[m]){if(m===O)break;m=b[S+C[k]]}if(ot<m&&(c&N)!==V){for(0===dt&&(dt=ot),nt+=o,rt=1<<(J=m-dt);J+dt<O&&!((rt-=A[J+dt])<=0);)J++,rt<<=1;if(gt+=1<<J,1===L&&852<gt||2===L&&592<gt)return 1;M[V=c&N]=ot<<24|J<<16|nt-l|0}}return 0!==c&&(M[nt+c]=m-dt<<24|64<<16|0),u.bits=ot,0}},{"../utils/common":41}],51:[function(E,w,t){"use strict";w.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(E,w,t){"use strict";var e=E("../utils/common");function p(_){for(var I=_.length;0<=--I;)_[I]=0}var b=256,S=286,g=30,C=15,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(576);p(B);var m=new Array(60);p(m);var k=new Array(512);p(k);var o=new Array(256);p(o);var O=new Array(29);p(O);var ot,J,dt,rt=new Array(g);function gt(_,I,$,et,F){this.static_tree=_,this.extra_bits=I,this.extra_base=$,this.elems=et,this.max_length=F,this.has_stree=_&&_.length}function c(_,I){this.dyn_tree=_,this.max_code=0,this.stat_desc=I}function r(_){return _<256?k[_]:k[256+(_>>>7)]}function y(_,I){_.pending_buf[_.pending++]=255&I,_.pending_buf[_.pending++]=I>>>8&255}function A(_,I,$){_.bi_valid>16-$?(_.bi_buf|=I<<_.bi_valid&65535,y(_,_.bi_buf),_.bi_buf=I>>16-_.bi_valid,_.bi_valid+=$-16):(_.bi_buf|=I<<_.bi_valid&65535,_.bi_valid+=$)}function h(_,I,$){A(_,$[2*I],$[2*I+1])}function tt(_,I){for(var $=0;$|=1&_,_>>>=1,$<<=1,0<--I;);return $>>>1}function at(_,I,$){var et,F,Z=new Array(16),Q=0;for(et=1;et<=C;et++)Z[et]=Q=Q+$[et-1]<<1;for(F=0;F<=I;F++){var i=_[2*F+1];0!==i&&(_[2*F]=tt(Z[i]++,i))}}function G(_){var I;for(I=0;I<S;I++)_.dyn_ltree[2*I]=0;for(I=0;I<g;I++)_.dyn_dtree[2*I]=0;for(I=0;I<19;I++)_.bl_tree[2*I]=0;_.dyn_ltree[512]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function st(_){8<_.bi_valid?y(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function ct(_,I,$,et){var F=2*I,Z=2*$;return _[F]<_[Z]||_[F]===_[Z]&&et[I]<=et[$]}function _t(_,I,$){for(var et=_.heap[$],F=$<<1;F<=_.heap_len&&(F<_.heap_len&&ct(I,_.heap[F+1],_.heap[F],_.depth)&&F++,!ct(I,et,_.heap[F],_.depth));)_.heap[$]=_.heap[F],$=F,F<<=1;_.heap[$]=et}function Ct(_,I,$){var et,F,Z,Q,i=0;if(0!==_.last_lit)for(;et=_.pending_buf[_.d_buf+2*i]<<8|_.pending_buf[_.d_buf+2*i+1],F=_.pending_buf[_.l_buf+i],i++,0===et?h(_,F,I):(h(_,(Z=o[F])+b+1,I),0!==(Q=K[Z])&&A(_,F-=O[Z],Q),h(_,Z=r(--et),$),0!==(Q=W[Z])&&A(_,et-=rt[Z],Q)),i<_.last_lit;);h(_,256,I)}function lt(_,I){var $,et,F,Z=I.dyn_tree,Q=I.stat_desc.static_tree,i=I.stat_desc.has_stree,D=I.stat_desc.elems,Y=-1;for(_.heap_len=0,_.heap_max=573,$=0;$<D;$++)0!==Z[2*$]?(_.heap[++_.heap_len]=Y=$,_.depth[$]=0):Z[2*$+1]=0;for(;_.heap_len<2;)Z[2*(F=_.heap[++_.heap_len]=Y<2?++Y:0)]=1,_.depth[F]=0,_.opt_len--,i&&(_.static_len-=Q[2*F+1]);for(I.max_code=Y,$=_.heap_len>>1;1<=$;$--)_t(_,Z,$);for(F=D;$=_.heap[1],_.heap[1]=_.heap[_.heap_len--],_t(_,Z,1),et=_.heap[1],_.heap[--_.heap_max]=$,_.heap[--_.heap_max]=et,Z[2*F]=Z[2*$]+Z[2*et],_.depth[F]=(_.depth[$]>=_.depth[et]?_.depth[$]:_.depth[et])+1,Z[2*$+1]=Z[2*et+1]=F,_.heap[1]=F++,_t(_,Z,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(T,X){var a,z,R,it,pt,vt,Mt=X.dyn_tree,Et=X.max_code,At=X.stat_desc.static_tree,Ot=X.stat_desc.has_stree,Tt=X.stat_desc.extra_bits,Ut=X.stat_desc.extra_base,Lt=X.stat_desc.max_length,Dt=0;for(it=0;it<=C;it++)T.bl_count[it]=0;for(Mt[2*T.heap[T.heap_max]+1]=0,a=T.heap_max+1;a<573;a++)Lt<(it=Mt[2*Mt[2*(z=T.heap[a])+1]+1]+1)&&(it=Lt,Dt++),Mt[2*z+1]=it,Et<z||(T.bl_count[it]++,pt=0,Ut<=z&&(pt=Tt[z-Ut]),T.opt_len+=(vt=Mt[2*z])*(it+pt),Ot&&(T.static_len+=vt*(At[2*z+1]+pt)));if(0!==Dt){do{for(it=Lt-1;0===T.bl_count[it];)it--;T.bl_count[it]--,T.bl_count[it+1]+=2,T.bl_count[Lt]--,Dt-=2}while(0<Dt);for(it=Lt;0!==it;it--)for(z=T.bl_count[it];0!==z;)Et<(R=T.heap[--a])||(Mt[2*R+1]!==it&&(T.opt_len+=(it-Mt[2*R+1])*Mt[2*R],Mt[2*R+1]=it),z--)}}(_,I),at(Z,Y,_.bl_count)}function n(_,I,$){var et,F,Z=-1,Q=I[1],i=0,D=7,Y=4;for(0===Q&&(D=138,Y=3),I[2*($+1)+1]=65535,et=0;et<=$;et++)F=Q,Q=I[2*(et+1)+1],++i<D&&F===Q||(i<Y?_.bl_tree[2*F]+=i:0!==F?(F!==Z&&_.bl_tree[2*F]++,_.bl_tree[32]++):i<=10?_.bl_tree[34]++:_.bl_tree[36]++,Z=F,Y=(i=0)===Q?(D=138,3):F===Q?(D=6,3):(D=7,4))}function H(_,I,$){var et,F,Z=-1,Q=I[1],i=0,D=7,Y=4;for(0===Q&&(D=138,Y=3),et=0;et<=$;et++)if(F=Q,Q=I[2*(et+1)+1],!(++i<D&&F===Q)){if(i<Y)for(;h(_,F,_.bl_tree),0!=--i;);else 0!==F?(F!==Z&&(h(_,F,_.bl_tree),i--),h(_,16,_.bl_tree),A(_,i-3,2)):i<=10?(h(_,17,_.bl_tree),A(_,i-3,3)):(h(_,18,_.bl_tree),A(_,i-11,7));Z=F,Y=(i=0)===Q?(D=138,3):F===Q?(D=6,3):(D=7,4)}}p(rt);var j=!1;function v(_,I,$,et){var F,Z,Q;A(_,0+(et?1:0),3),Z=I,Q=$,st(F=_),y(F,Q),y(F,~Q),e.arraySet(F.pending_buf,F.window,Z,Q,F.pending),F.pending+=Q}t._tr_init=function(_){j||(function(){var I,$,et,F,Z,Q=new Array(16);for(F=et=0;F<28;F++)for(O[F]=et,I=0;I<1<<K[F];I++)o[et++]=F;for(o[et-1]=F,F=Z=0;F<16;F++)for(rt[F]=Z,I=0;I<1<<W[F];I++)k[Z++]=F;for(Z>>=7;F<g;F++)for(rt[F]=Z<<7,I=0;I<1<<W[F]-7;I++)k[256+Z++]=F;for($=0;$<=C;$++)Q[$]=0;for(I=0;I<=143;)B[2*I+1]=8,I++,Q[8]++;for(;I<=255;)B[2*I+1]=9,I++,Q[9]++;for(;I<=279;)B[2*I+1]=7,I++,Q[7]++;for(;I<=287;)B[2*I+1]=8,I++,Q[8]++;for(at(B,287,Q),I=0;I<g;I++)m[2*I+1]=5,m[2*I]=tt(I,5);ot=new gt(B,K,257,S,C),J=new gt(m,W,0,g,C),dt=new gt(new Array(0),q,0,19,7)}(),j=!0),_.l_desc=new c(_.dyn_ltree,ot),_.d_desc=new c(_.dyn_dtree,J),_.bl_desc=new c(_.bl_tree,dt),_.bi_buf=0,_.bi_valid=0,G(_)},t._tr_stored_block=v,t._tr_flush_block=function(_,I,$,et){var F,Z,Q=0;0<_.level?(2===_.strm.data_type&&(_.strm.data_type=function(i){var D,Y=4093624447;for(D=0;D<=31;D++,Y>>>=1)if(1&Y&&0!==i.dyn_ltree[2*D])return 0;if(0!==i.dyn_ltree[18]||0!==i.dyn_ltree[20]||0!==i.dyn_ltree[26])return 1;for(D=32;D<b;D++)if(0!==i.dyn_ltree[2*D])return 1;return 0}(_)),lt(_,_.l_desc),lt(_,_.d_desc),Q=function(i){var D;for(n(i,i.dyn_ltree,i.l_desc.max_code),n(i,i.dyn_dtree,i.d_desc.max_code),lt(i,i.bl_desc),D=18;3<=D&&0===i.bl_tree[2*x[D]+1];D--);return i.opt_len+=3*(D+1)+5+5+4,D}(_),(Z=_.static_len+3+7>>>3)<=(F=_.opt_len+3+7>>>3)&&(F=Z)):F=Z=$+5,$+4<=F&&-1!==I?v(_,I,$,et):4===_.strategy||Z===F?(A(_,2+(et?1:0),3),Ct(_,B,m)):(A(_,4+(et?1:0),3),function(i,D,Y,T){var X;for(A(i,D-257,5),A(i,Y-1,5),A(i,T-4,4),X=0;X<T;X++)A(i,i.bl_tree[2*x[X]+1],3);H(i,i.dyn_ltree,D-1),H(i,i.dyn_dtree,Y-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,Q+1),Ct(_,_.dyn_ltree,_.dyn_dtree)),G(_),et&&st(_)},t._tr_tally=function(_,I,$){return _.pending_buf[_.d_buf+2*_.last_lit]=I>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&I,_.pending_buf[_.l_buf+_.last_lit]=255&$,_.last_lit++,0===I?_.dyn_ltree[2*$]++:(_.matches++,I--,_.dyn_ltree[2*(o[$]+b+1)]++,_.dyn_dtree[2*r(I)]++),_.last_lit===_.lit_bufsize-1},t._tr_align=function(_){var I;A(_,2,3),h(_,256,B),16===(I=_).bi_valid?(y(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)}},{"../utils/common":41}],53:[function(E,w,t){"use strict";w.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(E,w,t){(function(e){!function(f,d){"use strict";if(!f.setImmediate){var p,s,L,b,S=1,g={},M=!1,l=f.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(f);C=C&&C.setTimeout?C:f,p="[object process]"==={}.toString.call(f.process)?function(V){process.nextTick(function(){P(V)})}:function(){if(f.postMessage&&!f.importScripts){var V=!0,N=f.onmessage;return f.onmessage=function(){V=!1},f.postMessage("","*"),f.onmessage=N,V}}()?(b="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",U,!1):f.attachEvent("onmessage",U),function(V){f.postMessage(b+V,"*")}):f.MessageChannel?((L=new MessageChannel).port1.onmessage=function(V){P(V.data)},function(V){L.port2.postMessage(V)}):l&&"onreadystatechange"in l.createElement("script")?(s=l.documentElement,function(V){var N=l.createElement("script");N.onreadystatechange=function(){P(V),N.onreadystatechange=null,s.removeChild(N),N=null},s.appendChild(N)}):function(V){setTimeout(P,0,V)},C.setImmediate=function(V){"function"!=typeof V&&(V=new Function(""+V));for(var N=new Array(arguments.length-1),nt=0;nt<N.length;nt++)N[nt]=arguments[nt+1];return g[S]={callback:V,args:N},p(S),S++},C.clearImmediate=u}function u(V){delete g[V]}function P(V){if(M)setTimeout(P,0,V);else{var N=g[V];if(N){M=!0;try{!function(nt){var K=nt.callback,W=nt.args;switch(W.length){case 0:K();break;case 1:K(W[0]);break;case 2:K(W[0],W[1]);break;case 3:K(W[0],W[1],W[2]);break;default:K.apply(undefined,W)}}(N)}finally{u(V),M=!1}}}}function U(V){V.source===f&&"string"==typeof V.data&&0===V.data.indexOf(b)&&P(+V.data.slice(b.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},90803:(St,E,w)=>{"use strict";w.d(E,{Y:()=>F});var t=w(61855),e=w(42741),f=w(29026),d=w(72898),p=w(76052),s=w.n(p),L=w(46243),S=w(7611),g=w(84784),M=w(54414),l=w(50692),C=w(93220),u=w(16274),P=w(21929),U=w(95974);const V=["audioControl"];function N(Z,Q){if(1&Z){const i=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).close()}),e.qZA()}2&Z&&e.Q6J("@background",void 0)}function nt(Z,Q){1&Z&&e._UZ(0,"comp-icon",22),2&Z&&e.Q6J("icon","open_in_new")("color","#1E88E5")("size",18)}function K(Z,Q){1&Z&&e._UZ(0,"div",23)}function W(Z,Q){if(1&Z){const i=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const Y=e.CHM(i),T=Y.index,X=Y.$implicit;return e.oxw(3).selectLogTab(T,X)}),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.YNc(5,nt,1,3,"comp-icon",20),e.qZA(),e.YNc(6,K,1,0,"div",21),e.qZA(),e.qZA()}if(2&Z){const i=Q.$implicit,D=e.oxw(3);e.ekj("btn-selected",D.curLogTab==i),e.xp6(4),e.Oqu(i),e.xp6(1),e.Q6J("ngIf","VERIFICATION LOG"===i),e.xp6(1),e.Q6J("ngIf",D.curLogTab==i)}}function q(Z,Q){if(1&Z&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Z){const i=e.oxw(5);e.xp6(1),e.hij("(",i.item.code_description,")")}}function x(Z,Q){if(1&Z&&(e.TgZ(0,"td",29),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.YNc(3,q,2,1,"span",33),e.qZA()),2&Z){const i=e.oxw(4);e.xp6(1),e.ekj("disable-txt",!i.item.event_code),e.xp6(1),e.Oqu(i.item.event_code?i.item.event_code:"No Event Code"),e.xp6(1),e.Q6J("ngIf",i.item.event_code)}}function B(Z,Q){if(1&Z&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&Z){const i=Q.$implicit;e.xp6(2),e.AsE("",i.code," (",null!=i&&i.name?i.name:"No Event Code",")")}}function m(Z,Q){if(1&Z&&(e.TgZ(0,"td",36),e.YNc(1,B,3,2,"ng-container",37),e.qZA()),2&Z){const i=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",i.item.eventCodeList)}}function k(Z,Q){1&Z&&(e.TgZ(0,"div"),e._UZ(1,"comp-icon",38),e.qZA()),2&Z&&(e.xp6(1),e.Q6J("icon","open_in_new")("color","#1E88E5")("size",18))}function o(Z,Q){if(1&Z&&(e.TgZ(0,"tr"),e.TgZ(1,"td",41),e.TgZ(2,"div"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._uU(5),e._UZ(6,"br"),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Z){const i=Q.$implicit,D=Q.index,Y=e.oxw(5);e.ekj("border-botttom",Y.item.to.length!==D+1),e.xp6(3),e.Udp("color",i.labelColor),e.xp6(1),e.Oqu(i.description),e.xp6(1),e.hij(" (",i.eventTime,")"),e.xp6(3),e.Oqu(i.to)}}function O(Z,Q){if(1&Z&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"To"),e.qZA(),e.TgZ(3,"td",39),e.TgZ(4,"table"),e.TgZ(5,"tbody"),e.YNc(6,o,9,7,"tr",40),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Z){const i=e.oxw(4);e.xp6(6),e.Q6J("ngForOf",i.item.to)}}function ot(Z,Q){if(1&Z&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&Z){const i=e.oxw(4);e.xp6(1),e.Oqu(i.item.warningMsg)}}function J(Z,Q){1&Z&&(e.TgZ(0,"div"),e.TgZ(1,"div",49),e.O4$(),e.TgZ(2,"svg",50),e._UZ(3,"circle",51),e.qZA(),e.qZA(),e.qZA())}function dt(Z,Q){1&Z&&(e.TgZ(0,"div",52),e.O4$(),e.TgZ(1,"svg",53),e.TgZ(2,"defs"),e.TgZ(3,"clipPath",54),e._UZ(4,"rect",55),e.qZA(),e.qZA(),e.TgZ(5,"g",56),e._UZ(6,"circle",57),e._UZ(7,"circle",58),e._UZ(8,"circle",59),e.qZA(),e._UZ(9,"polygon",60),e.qZA(),e.qZA())}function rt(Z,Q){1&Z&&(e.TgZ(0,"div",52),e.TgZ(1,"i",61),e._uU(2,"volume_up"),e.qZA(),e.qZA())}function gt(Z,Q){if(1&Z){const i=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){e.CHM(i);const Y=e.oxw(6);return Y.toggleAudioPlay(Y.TTS)}),e.TgZ(1,"div",46),e.YNc(2,J,4,0,"div",33),e.YNc(3,dt,10,0,"div",47),e.YNc(4,rt,3,0,"div",47),e.qZA(),e.TgZ(5,"span",48),e._uU(6,"TTS"),e.qZA(),e.qZA()}if(2&Z){const i=e.oxw(6);e.ekj("audio-playing",i.TTS.isAudioLoad)("disabled",!i.TTS.isAudioLoad&&i.isAudioPlay),e.xp6(2),e.Q6J("ngIf",i.TTS.isAudioLoading),e.xp6(1),e.Q6J("ngIf",i.TTS.isAudioPlay&&i.isAudioPlay&&!i.TTS.isAudioLoading),e.xp6(1),e.Q6J("ngIf",!i.TTS.isAudioLoad&&!i.TTS.isAudioLoading)}}function c(Z,Q){if(1&Z){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",42),e.YNc(2,gt,7,7,"div",43),e.TgZ(3,"div",44),e.NdJ("click",function(){return e.CHM(i),e.oxw(5).downloadAudioFile()}),e._UZ(4,"comp-icon",38),e.qZA(),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.qZA()}if(2&Z){const i=e.oxw(5);e.xp6(2),e.Q6J("ngIf",!i.TTS.isFailed),e.xp6(2),e.Q6J("icon","file_download")("color","#55647B")("size",18),e.xp6(2),e.Oqu(i.TTS.ttsMsg)}}function r(Z,Q){1&Z&&(e.TgZ(0,"div"),e.TgZ(1,"span",62),e._uU(2,"No Audio File"),e.qZA(),e.qZA())}function y(Z,Q){if(1&Z&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"Audio File"),e.qZA(),e.TgZ(3,"td",29),e.YNc(4,c,7,5,"div",33),e.YNc(5,r,3,0,"div",33),e.qZA(),e.qZA()),2&Z){const i=e.oxw(4);e.xp6(4),e.Q6J("ngIf",i.item.signedUrl),e.xp6(1),e.Q6J("ngIf",!i.item.signedUrl)}}function A(Z,Q){if(1&Z){const i=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"View Event"),e.qZA(),e.TgZ(3,"td",29),e.TgZ(4,"div"),e.TgZ(5,"span",63),e.NdJ("click",function(){return e.CHM(i),e.oxw(4).openEventViewer()}),e._uU(6,"Open Event Viewer"),e.TgZ(7,"i",64),e._uU(8,"arrow_forward"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const i=e.oxw(4);e.xp6(5),e.ekj("disabled",!i.item.detail||!i.item.is_snapshot_upload&&!i.item.is_video_upload||i.item.isExpired)}}function h(Z,Q){if(1&Z&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Z){const i=e.oxw(6);e.xp6(1),e.Oqu(i.OE.detail)}}function tt(Z,Q){1&Z&&(e.TgZ(0,"span",69),e._uU(1,"No Data"),e.qZA())}function at(Z,Q){if(1&Z&&(e.TgZ(0,"div"),e.TgZ(1,"div",65),e.TgZ(2,"div",66),e._uU(3,"Topic"),e.qZA(),e.TgZ(4,"div",67),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",65),e.TgZ(7,"div",66),e._uU(8,"Operation"),e.qZA(),e.TgZ(9,"div",67),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"div",65),e.TgZ(12,"div",66),e._uU(13,"Source"),e.qZA(),e.TgZ(14,"div",67),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",65),e.TgZ(17,"div",66),e._uU(18,"Data"),e.qZA(),e.TgZ(19,"div",67),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",65),e.TgZ(22,"div",66),e._uU(23,"Detail"),e.qZA(),e.TgZ(24,"div",67),e.YNc(25,h,2,1,"span",33),e.YNc(26,tt,2,0,"span",68),e.qZA(),e.qZA(),e.qZA()),2&Z){const i=e.oxw(5);e.xp6(5),e.Oqu(i.OE.topic),e.xp6(5),e.Oqu(i.OE.operation),e.xp6(5),e.Oqu(i.OE.source),e.xp6(5),e.Oqu(i.OE.data),e.xp6(5),e.Q6J("ngIf",i.OE.detail),e.xp6(1),e.Q6J("ngIf",!i.OE.detail)}}function G(Z,Q){1&Z&&(e.TgZ(0,"div"),e.TgZ(1,"span",69),e._uU(2,"Not Supported. Please update bridge firmware version."),e.qZA(),e.qZA())}function st(Z,Q){if(1&Z&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"ONVIF Event"),e.qZA(),e.TgZ(3,"td",29),e.YNc(4,at,27,6,"div",33),e.YNc(5,G,3,0,"div",33),e.qZA(),e.qZA()),2&Z){const i=e.oxw(4);e.xp6(4),e.Q6J("ngIf",i.isV3),e.xp6(1),e.Q6J("ngIf",!i.isV3)}}function ct(Z,Q){if(1&Z){const i=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"audio",25,26),e.NdJ("ended",function(){return e.CHM(i),e.oxw(3).endSpeak()})("timeupdate",function(){return e.CHM(i),e.oxw(3).updateAudioTime()}),e.qZA(),e.TgZ(3,"table",27),e.TgZ(4,"tbody"),e.TgZ(5,"tr"),e.TgZ(6,"td",28),e._uU(7,"Event Time"),e.qZA(),e.TgZ(8,"td",29),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"tr"),e.TgZ(11,"td",28),e._uU(12,"Storage Time"),e.qZA(),e.TgZ(13,"td",29),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"tr"),e.TgZ(16,"td",28),e._uU(17,"Event ID"),e.qZA(),e.TgZ(18,"td",29),e.TgZ(19,"span"),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tr"),e.TgZ(22,"td",28),e._uU(23,"Category"),e.qZA(),e.TgZ(24,"td",29),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"tr"),e.TgZ(27,"td",28),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"td",29),e._uU(30),e.qZA(),e.qZA(),e.TgZ(31,"tr"),e.TgZ(32,"td",28),e._uU(33,"Trigger"),e.qZA(),e.TgZ(34,"td",29),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"tr"),e.TgZ(37,"td",28),e._uU(38,"Event Code"),e.qZA(),e.YNc(39,x,4,4,"td",30),e.YNc(40,m,2,1,"td",31),e.qZA(),e.TgZ(41,"tr"),e.TgZ(42,"td",28),e._uU(43),e.qZA(),e.TgZ(44,"td",29),e.TgZ(45,"span"),e._uU(46),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td",28),e._uU(49,"Device ID"),e.qZA(),e.TgZ(50,"td",29),e.TgZ(51,"span"),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"tr"),e.TgZ(54,"td",28),e.TgZ(55,"div",32),e.NdJ("click",function(){return e.CHM(i),e.oxw(3).openXmlLogModal()}),e.TgZ(56,"span"),e._uU(57,"XML"),e.qZA(),e.YNc(58,k,2,3,"div",33),e.qZA(),e.qZA(),e.TgZ(59,"td",29),e.TgZ(60,"div",34),e.TgZ(61,"span"),e._uU(62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"tr"),e.TgZ(64,"td",28),e._uU(65,"User"),e.qZA(),e.TgZ(66,"td",29),e.TgZ(67,"span"),e._uU(68),e.qZA(),e.qZA(),e.qZA(),e.YNc(69,O,7,1,"tr",33),e.TgZ(70,"tr"),e.TgZ(71,"td",28),e._uU(72,"Description"),e.qZA(),e.TgZ(73,"td",29),e.TgZ(74,"div",35),e._uU(75),e.qZA(),e.YNc(76,ot,2,1,"div",33),e.qZA(),e.qZA(),e.YNc(77,y,6,2,"tr",33),e.YNc(78,A,9,2,"tr",33),e.YNc(79,st,6,2,"tr",33),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const i=e.oxw(3);e.xp6(9),e.AsE("",i.item.eventCreated," (",(null==i.modal.data?null:i.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.AsE("",i.item.localCreated," (",(null==i.modal.data?null:i.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.ekj("disable-txt",!i.item.event_id),e.xp6(1),e.Oqu(i.item.event_id?i.item.event_id:"No Event ID"),e.xp6(5),e.Oqu(i.item.category),e.xp6(5),e.Oqu(i.item.action),e.xp6(5),e.Oqu(i.item.trigger),e.xp6(4),e.Q6J("ngIf",!(null!=i.item.eventCodeList&&i.item.eventCodeList.length)),e.xp6(1),e.Q6J("ngIf",i.item.eventCodeList),e.xp6(3),e.Oqu(i.item.event_id?"Device":"Site"),e.xp6(2),e.ekj("disable-txt",!i.item.name),e.xp6(1),e.Oqu(i.item.name?i.item.name:"No Name"),e.xp6(5),e.ekj("disable-txt",!i.item.device_id),e.xp6(1),e.Oqu(i.item.device_id?i.item.device_id:"No Device ID"),e.xp6(3),e.ekj("xml-link",i.item.is_send_xml_signal),e.xp6(3),e.Q6J("ngIf",i.item.is_send_xml_signal),e.xp6(3),e.ekj("enable-xml",i.item.is_send_xml_signal),e.xp6(1),e.Oqu(i.item.is_send_xml_signal?"Yes":"No"),e.xp6(5),e.ekj("disable-txt",!i.item.email),e.xp6(1),e.Oqu(i.item.email?i.item.email:"Unknown"),e.xp6(1),e.Q6J("ngIf",i.item.to),e.xp6(6),e.Oqu(i.item.eventDescription),e.xp6(1),e.Q6J("ngIf",i.item.warningMsg),e.xp6(1),e.Q6J("ngIf",i.item.isAudioLog),e.xp6(1),e.Q6J("ngIf",!i.item.signedUrl),e.xp6(1),e.Q6J("ngIf","OE trigger"===i.item.trigger)}}function _t(Z,Q){1&Z&&e._UZ(0,"div",79)}function Ct(Z,Q){if(1&Z&&(e.TgZ(0,"div"),e.TgZ(1,"div",71),e.TgZ(2,"div",72),e._UZ(3,"div",73),e.qZA(),e.TgZ(4,"div",74),e._uU(5),e.qZA(),e.TgZ(6,"div",75),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",71),e.TgZ(9,"div",72),e.YNc(10,_t,1,0,"div",76),e.qZA(),e._UZ(11,"div",77),e.TgZ(12,"div"),e.TgZ(13,"span",78),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Z){const i=Q.$implicit,D=Q.index,Y=e.oxw(4);e.xp6(3),e.ekj("target-log",i.id===Y.item.id),e.xp6(2),e.Oqu(i.siteEventTime),e.xp6(2),e.AsE("",i.description," - ",i.action,""),e.xp6(3),e.Q6J("ngIf",Y.eventLogs.length!==D+1),e.xp6(4),e.Oqu(i.subInfo)}}function lt(Z,Q){if(1&Z&&(e.TgZ(0,"div",24),e.TgZ(1,"div",70),e.YNc(2,Ct,15,7,"div",37),e.qZA(),e.qZA()),2&Z){const i=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",i.eventLogs)}}function n(Z,Q){if(1&Z&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&Z){const i=e.oxw().$implicit;e.xp6(1),e.Oqu(i.email)}}function H(Z,Q){if(1&Z&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&Z){const i=e.oxw().$implicit;e.xp6(1),e.AsE("",i.IPName," (",i.ip,")")}}function j(Z,Q){1&Z&&e._UZ(0,"div",79)}function v(Z,Q){if(1&Z&&(e.TgZ(0,"div"),e.TgZ(1,"div",71),e.TgZ(2,"div",72),e._UZ(3,"div",73),e.qZA(),e.TgZ(4,"div",74),e._uU(5),e.qZA(),e.YNc(6,n,2,1,"div",80),e.YNc(7,H,2,2,"div",80),e.qZA(),e.TgZ(8,"div",71),e.TgZ(9,"div",72),e.YNc(10,j,1,0,"div",76),e.qZA(),e._UZ(11,"div",77),e.qZA(),e.qZA()),2&Z){const i=Q.$implicit,D=Q.index,Y=e.oxw(4);e.xp6(3),e.ekj("target-log",0===D),e.xp6(2),e.Oqu(i.eventTime),e.xp6(1),e.Q6J("ngIf",!i.IPName),e.xp6(1),e.Q6J("ngIf",i.IPName),e.xp6(3),e.Q6J("ngIf",Y.viewedHistory.length!==D+1)}}function _(Z,Q){if(1&Z&&(e.TgZ(0,"div",24),e.TgZ(1,"div",70),e.YNc(2,v,12,6,"div",37),e.qZA(),e.qZA()),2&Z){const i=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",i.viewedHistory)}}function I(Z,Q){1&Z&&(e.TgZ(0,"div",81),e.O4$(),e.TgZ(1,"svg",50),e._UZ(2,"circle",51),e.qZA(),e.qZA())}function $(Z,Q){if(1&Z){const i=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e._uU(3,"Activity Log Details"),e.qZA(),e.TgZ(4,"div",9),e.TgZ(5,"div",10),e.TgZ(6,"i",11),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).close()}),e._uU(7,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",12),e.TgZ(9,"div",13),e.YNc(10,W,7,5,"div",14),e.qZA(),e.YNc(11,ct,80,34,"div",15),e.YNc(12,lt,3,1,"div",15),e.YNc(13,_,3,1,"div",15),e.qZA(),e.YNc(14,I,3,0,"div",16),e.qZA()}if(2&Z){const i=e.oxw(2);e.Q6J("@dialog",void 0),e.xp6(10),e.Q6J("ngForOf",i.logTabs),e.xp6(1),e.Q6J("ngIf",i.curLogTab===i.logTabs[0]),e.xp6(1),e.Q6J("ngIf",i.curLogTab===i.logTabs[1]),e.xp6(1),e.Q6J("ngIf",i.curLogTab===i.logTabs[2]),e.xp6(1),e.Q6J("ngIf",i.isLoading)}}function et(Z,Q){if(1&Z&&(e.TgZ(0,"div",2),e.YNc(1,N,1,1,"div",3),e.YNc(2,$,15,6,"div",4),e.qZA()),2&Z){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.modal.is_active),e.xp6(1),e.Q6J("ngIf",i.modal.is_active)}}let F=(()=>{class Z{constructor(i,D,Y,T,X){this.usersService=i,this.logsService=D,this.sitesService=Y,this.eventViewerService=T,this.sanitizer=X,this.onClose=new e.vpe,this.onOpenModal=new e.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new d.u,this.item={},this.logs=[],this.eventLogs=[],this.viewedHistory=[],this.site={},this.logTabs=["INFORMATION","HISTORY OF EVENT"],this.curLogTab=this.logTabs[0],this.TTS={},this.audioElement=new Audio,this.curCtrlTTS=null,this.isAudioPlay=!1,this.fileDuration="0:00",this.curDuration="0:00",this.OE={},this.isExistOEMeta=!1,this.isV3=!1}ngOnInit(){this.usersService.getMe().subscribe(i=>{this.me=i})}ngOnChanges(i){i.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.initLogData())}initLogData(){this.item=L.cloneDeep(this.modal.data.log),this.logTabs=["INFORMATION","HISTORY OF EVENT"],this.curLogTab=this.logTabs[0],this.logs=this.modal.data.logs,this.site=this.modal.data.site,this.eventLogs=[],this.viewedHistory=[],this.TTS={},this.audioElement=new Audio,this.OE={},this.isExistOEMeta=!1,this.isV3=!1,this.item.id&&this.getActivityLogDetail()}getActivityLogDetail(){const i=this.me.dealer_id,D=this.item.id;this.isLoading=!0,this.logsService.getActivityLogDetail(i,D).subscribe(Y=>(0,t.mG)(this,void 0,void 0,function*(){var T,X;if(this.item.detail=Y,this.item.event_type=Y.event.type,this.item.isExpired=!Y.event.has_video&&!Y.event.has_snapshots,this.item.event_code&&(null===(X=null===(T=Y.receiver)||void 0===T?void 0:T.code_description)||void 0===X||X.forEach(a=>{(this.item.event_code===a.event_code||this.item.event_code===a.restore_code)&&(this.item.code_description=a.name)}),!this.item.code_description)){const z=this.eventViewerService.getXmlEventCodeList().find(R=>R.event_code==this.item.event_code.code);this.item.code_description=z.name}this.item.eventCodeList&&this.item.eventCodeList.forEach(a=>{const R=this.eventViewerService.getXmlEventCodeList().find(it=>it.event_code==a.code);R&&(a.name=R.name)}),this.setEventDescription(),yield this.checkIsHasViewedHistory(),this.checkIsHasVerificationLog(),yield this.getXmlCode(),this.parseLogInfo(this.item),this.isLoading=!1}),Y=>{this.isLoading=!1})}setEventDescription(){var i,D;let Y,T;try{Y=null===(i=JSON.parse(this.item.meta))||void 0===i?void 0:i.req,T=null===(D=JSON.parse(this.item.meta))||void 0===D?void 0:D.res}catch(it){Y={body:null},T={}}this.isV3=this.checkIfV3(Y);const{actionType:X}=this.getActionTypeAndRes(Y);let z=this.getActionText(this.item.method),R=`${this.item.description} is ${z} '${X}' by '${this.item.trigger}'.`;R=this.handleSpecialCases(Y,T,R),R=this.setCloudAILogDescription(Y,R),this.parseRelatedEventLogs(),this.handleEventStatus(T),this.item.eventDescription=R}checkIfV3(i){var D;return!!(null===(D=i.body)||void 0===D?void 0:D.event_source)}getActionTypeAndRes(i){let D=this.item.action,Y="";return Object.keys(i.body||{}).forEach(T=>{D||(D=T.replace(/_/g," "),Y=i.body[T].toString(),"name"===T?(D="name",Y=i.body.name):("address1"===T||"address2"===T)&&(D="address",Y=`${i.body.address1} ${i.body.address2}`))}),{actionType:D,res:Y}}getActionText(i){switch(i){case"POST":return"created";case"PUT":return"changed to";case"DELETED":return"deleted";default:return""}}handleSpecialCases(i,D,Y){return"upload"===this.item.action?("Bridge"===this.item.trigger&&D&&(this.item.is_snapshot_upload=null==D?void 0:D.is_snapshot_upload,this.item.is_video_upload=null==D?void 0:D.is_video_upload),Y):(0===Object.keys(i.body||{}).length&&(Y+=` Parameters: ${JSON.stringify(null==i?void 0:i.params)}`),Y)}setCloudAILogDescription(i,D){var Y,T,X,a,z,R,it,pt,vt,Mt;if("videoai"===this.item.trigger.toLowerCase()){let Et=s()(null===(Y=i.body)||void 0===Y?void 0:Y.requested_at).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),At=s()(null===(T=i.body)||void 0===T?void 0:T.responded_at).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a");if(D+=`\n- Provider: '${null!==(a=null===(X=i.body)||void 0===X?void 0:X.brand)&&void 0!==a?a:"No Provider"}'`,D+=`\n- Reference Id: ${(null===(z=i.body)||void 0===z?void 0:z.reference_id)||"No Reference Id"}\n`,D+=`\n- Time Sent & Returned: \n    sent on ${Et}, \n    returned result on ${At}`,"success"===(null===(R=i.body)||void 0===R?void 0:R.result)){const Ot=(null===(it=i.body)||void 0===it?void 0:it.path_filters)?JSON.parse(null===(pt=i.body)||void 0===pt?void 0:pt.path_filters).join(", "):"No Filter";D+=`\n- Results of the Provider: '${this.parseCloudAIResult(null===(vt=i.body)||void 0===vt?void 0:vt.summary_entity_ids)}'`,D+=`\n- Rules for Object Classification: '${Ot}'\n`}else D+=`\n- Error: ${(null===(Mt=i.body)||void 0===Mt?void 0:Mt.error_text)||"No Error Message"}\n`}return"Audio"!==this.item.category&&(D+="\r\nSnapshot file upload: "+(this.item.is_snapshot_upload?"Yes":"No"),D+="\r\nVideo file upload: "+(this.item.is_video_upload?"Yes":"No")),D}parseCloudAIResult(i){if(!i)return"";let D="";const Y=JSON.parse(i),T=Object.values(Y);let X="",a="";const z=T.every(it=>it.includes("person")),R=T.every(it=>it.includes("vehicle"));return Y.static.length&&(Y.static.includes("person")&&(X="Stationary Person"),Y.static.includes("vehicle")&&(a="Stationary Vehicle")),Y.motion.length&&(Y.motion.includes("person")&&(X="Moving Person"),Y.motion.includes("vehicle")&&(a="Moving Vehicle")),z&&(X="Person"),R&&(a="Vehicle"),X&&a?D=`${X} and ${a}`:X||a?D=`${X||a}`:!X&&!a&&(D="Nothing Detected"),D}parseRelatedEventLogs(){let i=this.item.detail.related_logs[0]?this.item.detail.related_logs:[];i.forEach(D=>{var Y,T;let X,a;try{X=JSON.parse(null==D?void 0:D.meta),a=X.req.body}catch(z){X={res:{},req:{body:{}}},a={to:null}}D.siteEventTime=s()(D.created).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),X.res&&((null===(Y=X.res)||void 0===Y?void 0:Y.is_snapshot_upload)&&(this.item.is_snapshot_upload=!0),(null===(T=X.res)||void 0===T?void 0:T.is_video_upload)&&(this.item.is_video_upload=!0)),a&&(null==a?void 0:a.to)&&(this.item.to||(this.item.to=[]),D.subInfo=a.to,this.item.to.push({to:a.to,description:D.description,eventTime:D.siteEventTime,labelColor:"#2f96fb"}))}),this.eventLogs=i}handleEventStatus(i){this.item.status>300&&i.message&&(this.item.warningMsg=i.message)}checkIsHasViewedHistory(){var i,D,Y;const T=null===(i=this.item.detail)||void 0===i?void 0:i.related_logs;if(null===(Y=null===(D=this.item.detail)||void 0===D?void 0:D.related_logs)||void 0===Y?void 0:Y.length)return!(!T||!Array.isArray(T))&&(T.find(a=>!!a.email)&&this.logTabs.push("VIEWED HISTORY"),void this.parseViewedHistory())}parseViewedHistory(){this.item.detail.related_logs.filter(D=>D.email).forEach(D=>(0,t.mG)(this,void 0,void 0,function*(){const Y=yield this.getIPUserName(D),T={eventTime:s()(D.created).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),email:D.email,ip:D.ip,IPName:Y};this.viewedHistory.push(T)}))}getIPUserName(i){var D,Y;return(0,t.mG)(this,void 0,void 0,function*(){try{if(!i.email||!i.user_id||i.email!=i.ip)return"";const T=this.me.dealer_id,X=i.user_id;return null!==(Y=null===(D=(yield this.usersService.getIpMember(T,X).toPromise())[0])||void 0===D?void 0:D.name)&&void 0!==Y?Y:"No Name"}catch(T){console.debug("getIPUserName:>",T)}})}checkIsHasVerificationLog(){var i;(null===(i=this.item)||void 0===i?void 0:i.isHasVerification)&&this.logTabs.push("VERIFICATION LOG")}getXmlCode(){var i,D,Y,T,X,a;return(0,t.mG)(this,void 0,void 0,function*(){if(!(null===(i=this.item)||void 0===i?void 0:i.eventCodeList)||!(null===(Y=null===(D=this.item)||void 0===D?void 0:D.eventCodeList)||void 0===Y?void 0:Y.length))return;const z=this.eventViewerService.getXmlEventCodeList();if(!Array.isArray(z))return;const R=z.filter(Ot=>"di"!=Ot.event_type);if(!Array.isArray(R))return;let it=null,pt=null;for(let Ot=0;Ot<(null===(T=this.item)||void 0===T?void 0:T.eventCodeList.length);Ot++){const Tt=this.item.eventCodeList[Ot].code;if(it=null==R?void 0:R.find(Ut=>Ut.event_code==Tt),it)break}if(!it||!Array.isArray(null===(X=this.item.detail)||void 0===X?void 0:X.related_logs))return;pt=this.item.detail.related_logs.find(Ot=>Ot.event_code==it.event_code);const vt=this.me.dealer_id,Mt=pt.id,Et=yield this.logsService.getActivityLogDetail(vt,Mt).toPromise();if(this.item.receiver=Et.receiver,!this.item.receiver||!(null===(a=Object.keys(this.item.receiver))||void 0===a?void 0:a.length))return;const At=this.item.receiver.logs.find(Ot=>Ot.event_code===it.event_code);!At||!(null==At?void 0:At.id)||(this.item.receiver_log_id=At.id)})}parseLogInfo(i){var D,Y;let T=null;try{T=JSON.parse(i.meta)}catch(X){T=null}if(T){const X=null===(Y=null===(D=T.req)||void 0===D?void 0:D.body)||void 0===Y?void 0:Y.optional_info,a=null==X?void 0:X.metadata;if(i.email||(i.email=null==X?void 0:X.requested_user_email),a)if("Audio"===i.category)this.item.isAudioLog=!0,this.logsService.getSiteTtsUrl(this.me.dealer_id,this.site.site_id,i.id).subscribe(pt=>{i.signedUrl=pt.pre_signed_url,this.TTS.signedUrl=pt.pre_signed_url,this.getTTSFile(this.TTS)});else if("Sensor"===i.category&&"OE trigger"===i.trigger){a.event_topic_raw&&(this.isExistOEMeta=!0);let z={};z.topic=a.event_topic_raw,z.data=a.event_data_items,z.source=a.event_source_items,z.token=a.source_token,z.operation="Change",z.detail="",this.OE=z}else i.eventDescription+=`\nMetadata: ${JSON.stringify(a)}`}}toggleAudioPlay(i){this.curCtrlTTS=i,i.isAudioLoad?this.stopAudio(i):this.playAudio(i)}setAudioPlayer(i){if(!this.audioControl)return;const D=this.audioControl.nativeElement;var Y=URL.createObjectURL(i);D.src=Y,D.play()}parseAudioUrl(i){const T=i.audioFile,X=new FileReader;this.audioElement=this.audioControl.nativeElement;const a=new Audio;X.onload=z=>{a.src=z.target.result,a.addEventListener("loadeddata",()=>{const it=a.duration,vt=it%60;let Mt=parseInt((it/60).toString()).toString(),Et=vt.toString();vt<10&&(Et="0"+Et),i.fileDuration=`${Mt}:${Et}`,i.status="selected",this.setAudioPlayer(T)},!1),this.audioElement.addEventListener("error",()=>{console.log("err")})},X.readAsDataURL(T)}playAudio(i){this.initAudioPlay(i),i.signedUrl=this.item.signedUrl,i.isAudioLoad=!0,i.isAudioPlay=!0,this.audioElement.play(),this.isAudioPlay=!0}getTTSFile(i){const D=i.signedUrl;i.isLoadedFile?this.parseAudioUrl(i):this.sitesService.getTTSFileV2(D).subscribe(Y=>{console.log(Y);const T=Y.headers.get("x-amz-meta-tts-text");i.ttsMsg=T;let X=window.URL;i.audioFileBlob=this.sanitizer.bypassSecurityTrustUrl(X.createObjectURL(Y.body)),i.audioFile=Y.body,this.parseAudioUrl(i),i.isLoadedFile=!0})}stopAudio(i){this.audioControl&&this.audioControl.nativeElement.pause(),i.isAudioLoad=!1,i.isAudioLoading=!1,i.isAudioPlay=!1,i.isFailed=!1,this.isAudioPlay=!1}setAudioFail(i){i.isFailed=!0}initAudioPlay(i){i.isAudioLoad=!1,i.isAudioLoading=!1,i.isAudioPlay=!1,i.isFailed=!1,this.isAudioPlay=!1}updateAudioTime(){if(this.audioControl){const Y=parseInt(this.audioControl.nativeElement.currentTime),X=Y%60;let a=parseInt((Y/60).toString()).toString(),z=X.toString();X<10&&(z="0"+z),this.curDuration=`${a}:${z}`}}endSpeak(){const i=this.curCtrlTTS;i&&this.stopAudio(i)}downloadAudioFile(){let i=this.TTS;const D=i.signedUrl;i.isLoadedFile?this.doDownloadAudioFile():this.sitesService.getTTSFile(D).subscribe(Y=>{i.audioFile=Y,this.doDownloadAudioFile(),i.isLoadedFile=!0})}doDownloadAudioFile(){let Y=window.URL.createObjectURL(this.TTS.audioFile),T=document.createElement("a");T.href=Y,T.target="_blank",T.download=`${this.item.id}_ttsfile.mp3`,document.body.appendChild(T),T.click(),document.body.removeChild(T)}selectLogTab(i,D){"VERIFICATION LOG"!==D?this.curLogTab=this.logTabs[i]:this.openVerificationLogModal()}openUrl(i){window.open(i)}openXmlLogModal(){this.item.is_send_xml_signal&&this.onOpenModal.emit({modal:"xml-log",data:{receiver_log_id:this.item.receiver_log_id}})}openVerificationLogModal(){return(0,t.mG)(this,void 0,void 0,function*(){const i=this.setFirstVerificationLog();this.onOpenModal.emit({modal:"verification-log",data:i})})}openEventViewer(){this.onOpenModal.emit({modal:"event-viewer",data:this.item})}setFirstVerificationLog(){if(!Array.isArray(this.item.detail.related_logs)||0===this.item.detail.related_logs.length)return;let i=this.item.detail.related_logs.find(D=>"verification"===D.category.toLowerCase());return i?(i.event_time||(i.event_time=i.created),i.localCreated=s()(i.created).utc().tz(this.sitesService.selSite.timezone).format("MM/DD/YY hh:mm:ss a"),i.eventCreated=s()(i.event_time).utc().tz(this.sitesService.selSite.timezone).format("MM/DD/YY hh:mm:ss a"),i):void 0}confirmDialog(i="",D="",Y="done",T="#1abc9c"){this.m_warning.data={header:i,contents:`\n        <p>${D}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:Y,isConfirm:!0,color:T},this.m_warning.data.submit_func=()=>{"green"===T&&this.close()},this.m_warning.open()}errorDialog(i,D){let Y="failed.";i.error&&i.error.message&&(Y=i.error.message),i._body&&(Y=JSON.parse(i._body).message),setTimeout(()=>{this.confirmDialog(D,Y,"warning","orange")},200),this.isLoading=!1}close(i){this.onClose.next(i||{res:!1}),this.modal.close(),setTimeout(D=>{this.enable_modal=!1},200)}}return Z.\u0275fac=function(i){return new(i||Z)(e.Y36(S.f),e.Y36(g.P),e.Y36(M.f),e.Y36(l.w),e.Y36(C.H7))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-activity-log-modal"]],viewQuery:function(i,D){if(1&i&&e.Gf(V,5),2&i){let Y;e.iGM(Y=e.CRH())&&(D.audioControl=Y.first)}},inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[e.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"log-tab"],["class","btn",3,"btn-selected","click",4,"ngFor","ngForOf"],["class","item",4,"ngIf"],["class","loader absolute",4,"ngIf"],[1,"btn",3,"click"],[1,"tab-title"],[1,"v-center"],["style","margin-left: 4px",3,"icon","color","size",4,"ngIf"],["class","tab-selected-bar",4,"ngIf"],[2,"margin-left","4px",3,"icon","color","size"],[1,"tab-selected-bar"],[1,"item"],[2,"display","none",3,"ended","timeupdate"],["audioControl",""],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],["class","log-data",4,"ngIf"],["class","log-data flex","style","flex-direction: column; gap: 4px",4,"ngIf"],[3,"click"],[4,"ngIf"],[2,"display","flex","justify-content","space-between"],[2,"white-space","pre-wrap","word-break","break-word"],[1,"log-data","flex",2,"flex-direction","column","gap","4px"],[4,"ngFor","ngForOf"],[3,"icon","color","size"],[1,"log-data",2,"padding","0"],[3,"border-botttom",4,"ngFor","ngForOf"],[2,"border-bottom","none"],[1,"flex"],["class","tts-type",3,"audio-playing","disabled","click",4,"ngIf"],[1,"download-icon",3,"click"],[1,"tts-type",3,"click"],[2,"height","16px","width","16px"],["style","display:flex",4,"ngIf"],[2,"margin","0 5px","font-size","13px"],[1,"btn-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[2,"display","flex"],["width","16","height","16","viewBox","0 0 24 24"],["id","volume-clip"],["x","15","y","0","height","24","width","9"],["clip-path","url(#volume-clip)",1,"audio-waves"],["cx","12.5","cy","12","r","3.25","fill","none","stroke","white","stroke-width","1.5"],["cx","12.5","cy","12","r","6.5","fill","none","stroke","white","stroke-width","1.5"],["cx","12.5","cy","12","r","9.75","fill","none","stroke","white","stroke-width","1.5"],["points","3,9 7,9, 12,4 12,20 7,15 3,15","fill","white"],[1,"material-icons"],[2,"color","hsla(0, 0%, 0%, 0.38)"],[1,"link-txt",2,"display","flex","flex-direction","row","align-items","center",3,"click"],[1,"material-icons","md-16"],[1,"flex","inner-row"],[1,"f-2","title"],[1,"f-8"],["class","disabled",4,"ngIf"],[1,"disabled"],[2,"padding-top","7px"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventtxt"],["class","log-line",4,"ngIf"],[1,"log-sub-margin"],[1,"log-sub-info"],[1,"log-line"],["class","log-eventtxt",4,"ngIf"],[1,"loader","absolute"]],template:function(i,D){1&i&&(e.YNc(0,et,3,2,"div",0),e._UZ(1,"dealer-warning",1)),2&i&&(e.Q6J("ngIf",D.enable_modal),e.xp6(1),e.Q6J("modal",D.m_warning))},directives:[u.O5,P.a,u.sg,U.U],styles:['.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}','*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%]{min-height:490px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{background-color:#f7fafc;padding:0 20px 20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{min-height:430px;box-sizing:border-box}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .xml-link[_ngcontent-%COMP%]{display:flex;color:#1e88e5;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .enable-xml[_ngcontent-%COMP%]{padding:2px 5px;color:#1e88e5;background-color:#1f89e51a;border-radius:3px}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{font-size:14px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px;border:0}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:660px!important}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.md-16[_ngcontent-%COMP%]{font-size:16px}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventtxt[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-row[_ngcontent-%COMP%]   .log-sub-margin[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-sub-info[_ngcontent-%COMP%]{font-size:14px;color:#0009}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;min-height:14px}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.modal-ui[_ngcontent-%COMP%]{max-height:590px}.tts-type[_ngcontent-%COMP%]{width:40px;background-color:#e3e8ee;border-radius:11px;align-items:center;justify-content:center;display:flex;padding:3px 10px;margin-right:4px;cursor:pointer}.tts-type[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.tts-type.failed[_ngcontent-%COMP%]{background-color:#cd3d6426;color:#cd3d64}@keyframes pulse{0%{opacity:.25}20%{opacity:.8}40%{opacity:.25}60%{opacity:.8}80%{opacity:.25}to{opacity:.25}}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{animation-duration:1.7s;animation-iteration-count:infinite;animation-name:pulse;opacity:.25}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(2){animation-delay:.125s}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(3){animation-delay:.25s}.audio-playing[_ngcontent-%COMP%]{background-color:#1e88e5;color:#fff}.btn-loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:16px}.btn-loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 10px);left:calc(50% - 10px)}.btn-loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.btn-loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.btn-loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#fff;stroke-linecap:round}.download-icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:5px;cursor:pointer}.inner-row[_ngcontent-%COMP%]{margin-bottom:4px}.inner-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.title[_ngcontent-%COMP%]{font-weight:500}.log-tab[_ngcontent-%COMP%]{height:48px;color:#0009;display:flex;align-items:center;z-index:1}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative;padding:20px 10px 10px;box-sizing:border-box}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{padding:20px 10px 10px 16px}.log-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.log-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.log-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.log-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{position:relative;text-transform:uppercase;font-size:14px}.log-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:-10px;width:100%;height:3px;background:#2383e2}'],data:{animation:[f.ge,f.ku,f.$r,f.OP]}}),Z})()},80733:(St,E,w)=>{"use strict";w.d(E,{X:()=>s});var t=w(16274),e=w(93324),f=w(56447),d=w(688),p=w(42741);let s=(()=>{class L{}return L.\u0275fac=function(S){return new(S||L)},L.\u0275mod=p.oAB({type:L}),L.\u0275inj=p.cJS({imports:[[t.ez,e.u5,f.q,d.m]]}),L})()},7228:(St,E,w)=>{"use strict";w.d(E,{b:()=>W});var t=w(42741),e=w(29026),f=w(72898),d=w(76052),p=w.n(d),s=w(46243),b=w(7611),S=w(84784),g=w(16274),M=w(21929);function l(q,x){if(1&q){const B=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(B),t.oxw(2).close()}),t.qZA()}2&q&&t.Q6J("@background",void 0)}function C(q,x){if(1&q&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&q){const B=t.oxw(3);t.xp6(1),t.Oqu(B.item.warningMsg)}}function u(q,x){if(1&q&&(t.TgZ(0,"tr"),t.TgZ(1,"td",23),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA(),t.qZA()),2&q){const B=x.$implicit,m=x.index,k=t.oxw(3);t.ekj("border-botttom",k.contacts.length!==m+1),t.xp6(3),t.hij("(Site Time: ",B.site_time,")"),t.xp6(2),t.Oqu(B.receiverContact)}}function P(q,x){if(1&q&&(t.TgZ(0,"div",31),t._uU(1),t.qZA()),2&q){const B=t.oxw().$implicit;t.xp6(1),t.Oqu(B.dataLabel?B.dataLabel:"Unknown")}}function U(q,x){1&q&&(t.TgZ(0,"div",25),t._UZ(1,"div",32),t.qZA())}function V(q,x){if(1&q&&(t.TgZ(0,"div"),t.TgZ(1,"div",24),t.TgZ(2,"div",25),t._UZ(3,"div",26),t.qZA(),t.TgZ(4,"div",27),t._uU(5),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA(),t.YNc(8,P,2,1,"div",29),t.qZA(),t.YNc(9,U,2,0,"div",30),t.qZA()),2&q){const B=x.$implicit,m=x.index,k=t.oxw(3);t.xp6(3),t.ekj("target-log",k.item.id===B.id),t.xp6(2),t.Oqu(B.site_time),t.xp6(1),t.Udp("color",B.label_color),t.xp6(1),t.Oqu(B.share_status),t.xp6(1),t.Q6J("ngIf","Event"!==B.share_status),t.xp6(1),t.Q6J("ngIf",k.logs.length!==m+1)}}function N(q,x){1&q&&(t.TgZ(0,"div",33),t.O4$(),t.TgZ(1,"svg",34),t._UZ(2,"circle",35),t.qZA(),t.qZA())}function nt(q,x){if(1&q){const B=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(B),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"table",14),t.TgZ(11,"tbody"),t.TgZ(12,"tr"),t.TgZ(13,"td",15),t._uU(14,"Description"),t.qZA(),t.TgZ(15,"td",16),t.TgZ(16,"div"),t._uU(17),t.qZA(),t.YNc(18,C,2,1,"div",17),t.qZA(),t.qZA(),t.TgZ(19,"tr"),t.TgZ(20,"td",15),t._uU(21,"Event Time"),t.qZA(),t.TgZ(22,"td",16),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"tr"),t.TgZ(25,"td",15),t._uU(26,"Storage Time"),t.qZA(),t.TgZ(27,"td",16),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td",15),t._uU(31,"Receivers"),t.qZA(),t.TgZ(32,"td",18),t.TgZ(33,"table"),t.TgZ(34,"tbody"),t.YNc(35,u,6,4,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"tr"),t.TgZ(37,"td",15),t._uU(38,"Event Time"),t.qZA(),t.TgZ(39,"td",16),t._uU(40),t.qZA(),t.qZA(),t.TgZ(41,"tr"),t.TgZ(42,"td",15),t._uU(43,"Device Name"),t.qZA(),t.TgZ(44,"td",16),t._uU(45),t.qZA(),t.qZA(),t.TgZ(46,"tr"),t.TgZ(47,"td",15),t._uU(48,"Device ID"),t.qZA(),t.TgZ(49,"td",16),t._uU(50),t.qZA(),t.qZA(),t.TgZ(51,"tr"),t.TgZ(52,"td",15),t._uU(53,"User"),t.qZA(),t.TgZ(54,"td",16),t.TgZ(55,"span"),t._uU(56),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",13),t.TgZ(58,"div"),t._uU(59,"History of Event"),t.qZA(),t.TgZ(60,"div",20),t.YNc(61,V,10,8,"div",21),t.qZA(),t.qZA(),t.qZA(),t.YNc(62,N,3,0,"div",22),t.qZA()}if(2&q){const B=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(3),t.hij("Share Event ",B.item.localCreated,""),t.xp6(14),t.Oqu(B.item.description),t.xp6(1),t.Q6J("ngIf",B.item.warningMsg),t.xp6(5),t.AsE("",B.item.localCreated," (",(null==B.modal.data?null:B.modal.data.selectedTimezone)||"UTC",")"),t.xp6(5),t.AsE("",B.item.localCreated," (",(null==B.modal.data?null:B.modal.data.selectedTimezone)||"UTC",")"),t.xp6(7),t.Q6J("ngForOf",B.contacts),t.xp6(5),t.Oqu(B.item.site_event_time),t.xp6(5),t.Oqu(B.item.camera_name),t.xp6(5),t.Oqu(B.item.device_id),t.xp6(5),t.ekj("disable-txt",!B.item.email),t.xp6(1),t.Oqu(B.item.email?B.item.email:"No Name"),t.xp6(5),t.Q6J("ngForOf",B.logs),t.xp6(1),t.Q6J("ngIf",B.isLoading)}}function K(q,x){if(1&q&&(t.TgZ(0,"div",2),t.YNc(1,l,1,1,"div",3),t.YNc(2,nt,63,17,"div",4),t.qZA()),2&q){const B=t.oxw();t.xp6(1),t.Q6J("ngIf",B.modal.is_active),t.xp6(1),t.Q6J("ngIf",B.modal.is_active)}}let W=(()=>{class q{constructor(B,m){this.usersService=B,this.logsService=m,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.site={},this.m_warning=new f.u,this.item={},this.contacts=[],this.logs=[],this.shareTypeStr=""}ngOnInit(){this.usersService.getMe().subscribe(B=>{this.me=B})}ngOnChanges(B){B.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.site=this.modal.data.site,this.getActivityLogDetail())}initLogData(){this.item.detail&&(this.item.event_time=this.item.created,this.item.site_event_time=p()(this.item.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),this.item.camera_name=this.item.name,this.item.detail.related_logs&&(this.logs=this.item.detail.related_logs,this.contacts=this.setLogs(this.logs)))}getActivityLogDetail(){const B=this.me.dealer_id;this.item=s.cloneDeep(this.modal.data.log),this.logsService.getActivityLogDetail(B,this.item.id).subscribe(k=>{this.item.detail=k;const o=JSON.parse(this.item.detail.log.meta),ot=o.req.body,J=o.res;let dt="-",rt=null;ot&&(rt=ot.share_type),0===rt?dt="Response Link":1===rt&&(dt="Video Download Link"),this.item.shareTypeStr=dt,k.receiver.logs&&(this.item.event_code=k.receiver.logs[0].event_code),this.initLogData(),this.item.status>300&&J&&J.message&&(this.item.warningMsg=J.message)})}setLogs(B){let m=[],k=[];return B.reverse(),B.forEach(o=>{o.site_time=p()(o.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss");let O=null,ot=null;const J=JSON.parse(o.meta),rt=J.res,gt=J.req.body;let c="";rt&&(c=rt.url),gt&&(O=gt.to,ot=gt.share_type,O&&(k.includes(O)||(k.push(O),m.push(o)),o.receiverContact=O,o.dataLabel=O),0===ot?this.shareTypeStr="Response Link":1===ot&&(this.shareTypeStr="Video Download Link")),o.share_status=o.description,"created"===o.action||"create"===o.action?(o.label_color="#1abc9c",O||c?c&&(o.dataLabel=c):o.dataLabel="Created"):"viewed"===o.action?(o.share_status=o.description+" "+o.action,o.dataLabel=o.email,o.label_color="#2f96fb"):"upload"===o.action?(o.dataLabel="Upload",o.label_color="#f1556c"):"alarm"===o.action?o.dataLabel=o.trigger:"sent"===o.action?o.dataLabel=o.email:"call police"===o.action?(gt&&gt.contact&&this.getVerificationHistorys(o,gt,rt),o.dataLabel=o.email):"granted"===o.action?(o.share_status=o.description,o.dataLabel="granted"):"send"===o.action?o.share_status=o.description:"No Response"===o.action&&(o.dataLabel="No Response")}),B.reverse(),m}getVerificationHistorys(B,m,k){this.logsService.getVerificationHistorys(this.me.dealer_id,this.site.site_id,m.contact.verification_id,`?filter=history_id,${k.history_id},eq`).subscribe(rt=>{const gt=rt[0];B.dataLabel=`${gt.contact_name} (${gt.email?gt.email:gt.contact_phone})`})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(B="",m="",k="done",o="#1abc9c"){this.m_warning.data={header:B,contents:`\n        <p>${m}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:k,isConfirm:!0,color:o},this.m_warning.data.submit_func=()=>{"green"===o&&this.close()},this.m_warning.open()}errorDialog(B,m){let k="failed.";B.error&&B.error.message&&(k=B.error.message),B._body&&(k=JSON.parse(B._body).message),setTimeout(()=>{this.confirmDialog(m,k,"warning","orange")},200),this.isLoading=!1}close(B){this.onClose.next(B||{res:!1}),this.modal.close(),setTimeout(m=>{this.enable_modal=!1},200)}}return q.\u0275fac=function(B){return new(B||q)(t.Y36(b.f),t.Y36(S.P))},q.\u0275cmp=t.Xpm({type:q,selectors:[["app-activity-share-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[4,"ngIf"],[1,"log-data",2,"padding","0px"],[3,"border-botttom",4,"ngFor","ngForOf"],[2,"padding-top","7px","max-height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[2,"border-bottom","none"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],["class","log-contact",4,"ngIf"],["class","log-timeline",4,"ngIf"],[1,"log-contact"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(B,m){1&B&&(t.YNc(0,K,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&B&&(t.Q6J("ngIf",m.enable_modal),t.xp6(1),t.Q6J("modal",m.m_warning))},directives:[g.O5,M.a,g.sg],styles:['.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:800px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{width:230px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-contact[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),q})()},77343:(St,E,w)=>{"use strict";w.d(E,{b:()=>p});var t=w(16274),e=w(93324),f=w(56447),d=w(42741);let p=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,f.q]]}),s})()},68013:(St,E,w)=>{"use strict";w.d(E,{P:()=>K});var t=w(42741),e=w(29026),f=w(72898),d=w(76052),p=w.n(d),s=w(46243),b=w(7611),S=w(84784),g=w(16274),M=w(21929);function l(W,q){if(1&W){const x=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(x),t.oxw(2).close()}),t.qZA()}2&W&&t.Q6J("@background",void 0)}function C(W,q){if(1&W&&(t.TgZ(0,"tr"),t.TgZ(1,"td",23),t._uU(2),t.qZA(),t.TgZ(3,"td",24),t.TgZ(4,"div"),t._uU(5),t.TgZ(6,"span"),t._uU(7),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&W){const x=q.$implicit,B=q.index,m=t.oxw(3);t.ekj("border-botttom",m.contacts.length!==B+1),t.xp6(2),t.Oqu(x.contact_name),t.xp6(3),t.hij("",x.contact_phone," "),t.xp6(1),t.Udp("color",x.label_color),t.xp6(1),t.Oqu(x.verification_status),t.xp6(1),t.hij(" (",x.site_time,")"),t.xp6(2),t.Oqu(x.email)}}function u(W,q){if(1&W&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&W){const x=t.oxw(3);t.xp6(1),t.Oqu(x.item.warningMsg)}}function P(W,q){1&W&&(t.TgZ(0,"div",26),t._UZ(1,"div",32),t.qZA())}function U(W,q){if(1&W&&(t.TgZ(0,"div"),t.TgZ(1,"div",25),t.TgZ(2,"div",26),t._UZ(3,"div",27),t.qZA(),t.TgZ(4,"div",28),t._uU(5),t.qZA(),t.TgZ(6,"div",29),t._uU(7),t.qZA(),t.TgZ(8,"div",30),t._uU(9),t.qZA(),t.qZA(),t.YNc(10,P,2,0,"div",31),t.qZA()),2&W){const x=q.$implicit,B=q.index,m=t.oxw(3);t.xp6(3),t.ekj("target-log",x.id===m.item.id),t.xp6(2),t.Oqu(x.site_time),t.xp6(1),t.Udp("color",x.label_color),t.xp6(1),t.Oqu(x.verification_status),t.xp6(2),t.Oqu(x.dataLabel),t.xp6(1),t.Q6J("ngIf",m.logs.length!==B+1)}}function V(W,q){1&W&&(t.TgZ(0,"div",33),t.O4$(),t.TgZ(1,"svg",34),t._UZ(2,"circle",35),t.qZA(),t.qZA())}function N(W,q){if(1&W){const x=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(x),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"table",14),t.TgZ(11,"tbody"),t.TgZ(12,"tr"),t.TgZ(13,"td",15),t._uU(14,"Event Time"),t.qZA(),t.TgZ(15,"td",16),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"tr"),t.TgZ(18,"td",15),t._uU(19,"Storage Time"),t.qZA(),t.TgZ(20,"td",16),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"td",15),t._uU(24,"Contacts"),t.qZA(),t.TgZ(25,"td",17),t.TgZ(26,"table"),t.TgZ(27,"tbody"),t.YNc(28,C,11,9,"tr",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td",15),t._uU(31,"Event Time"),t.qZA(),t.TgZ(32,"td",16),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"tr"),t.TgZ(35,"td",15),t._uU(36,"Device Name"),t.qZA(),t.TgZ(37,"td",16),t._uU(38),t.qZA(),t.qZA(),t.TgZ(39,"tr"),t.TgZ(40,"td",15),t._uU(41,"Device ID"),t.qZA(),t.TgZ(42,"td",16),t._uU(43),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",15),t._uU(46,"User"),t.qZA(),t.TgZ(47,"td",16),t.TgZ(48,"span"),t._uU(49),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"tr"),t.TgZ(51,"td",15),t._uU(52,"Description"),t.qZA(),t.TgZ(53,"td",16),t.TgZ(54,"div"),t._uU(55),t.qZA(),t.YNc(56,u,2,1,"div",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",13),t.TgZ(58,"div"),t._uU(59,"History of Verifications"),t.qZA(),t.TgZ(60,"div",20),t.YNc(61,U,11,8,"div",21),t.qZA(),t.qZA(),t.qZA(),t.YNc(62,V,3,0,"div",22),t.qZA()}if(2&W){const x=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(3),t.hij("Verifications ",x.item.localCreated,""),t.xp6(13),t.AsE("",x.item.localCreated," (",(null==x.modal.data?null:x.modal.data.selectedTimezone)||"UTC",")"),t.xp6(5),t.AsE("",x.item.localCreated," (",(null==x.modal.data?null:x.modal.data.selectedTimezone)||"UTC",")"),t.xp6(7),t.Q6J("ngForOf",x.contacts),t.xp6(5),t.Oqu(x.item.site_event_time),t.xp6(5),t.Oqu(x.item.camera_name),t.xp6(5),t.Oqu(x.item.device_id),t.xp6(5),t.ekj("disable-txt",!x.item.email),t.xp6(1),t.Oqu(x.item.email?x.item.email:"No Name"),t.xp6(6),t.Oqu(x.item.description),t.xp6(1),t.Q6J("ngIf",x.item.warningMsg),t.xp6(5),t.Q6J("ngForOf",x.logs),t.xp6(1),t.Q6J("ngIf",x.isLoading)}}function nt(W,q){if(1&W&&(t.TgZ(0,"div",2),t.YNc(1,l,1,1,"div",3),t.YNc(2,N,63,17,"div",4),t.qZA()),2&W){const x=t.oxw();t.xp6(1),t.Q6J("ngIf",x.modal.is_active),t.xp6(1),t.Q6J("ngIf",x.modal.is_active)}}let K=(()=>{class W{constructor(x,B){this.usersService=x,this.logsService=B,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.site={},this.m_warning=new f.u,this.item={},this.contacts=[],this.logs=[]}ngOnInit(){this.usersService.getMe().subscribe(x=>{this.me=x})}ngOnChanges(x){x.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.site=this.modal.data.site,this.item={},this.getActivityLogDetail())}initLogData(){this.item.verification=this.item.detail.verification;const k=JSON.parse(this.item.detail.log.meta).res;if(this.item.verification){if(this.item.verification.info&&this.item.verification.info.created){const O=this.item.verification.info.created;this.item.event_time=O,this.item.site_event_time=p()(O).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),this.item.camera_name=this.item.name}this.item.verification.logs&&(this.logs=this.item.verification.logs,this.contacts=this.setContacts(this.logs))}this.item.status>300&&k&&k.message&&(this.item.warningMsg=k.message)}getActivityLogDetail(){const x=this.me.dealer_id;this.item=s.cloneDeep(this.modal.data.log),this.logsService.getActivityLogDetail(x,this.item.id).subscribe(m=>{this.item.detail=m,m.receiver.logs&&(this.item.event_code=m.receiver.logs[0].event_code),this.initLogData()})}setContacts(x){let B=[],m=[];x.reverse(),x.forEach(o=>{o.site_time=p()(o.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),o.dataLabel=`${o.contact_name} (${o.contact_phone?o.contact_phone:o.email})`,m.includes(o.contact_id)||o.contact_id&&(m.push(o.contact_id),B.push(o)),0===o.action?(0===o.type?o.verification_status="Verification Sent":4===o.type&&(o.verification_status="Verification Timeout",o.dataLabel="No Response"),o.label_color="#1abc9c"):1===o.action&&(0===o.type?(o.verification_status="Video Viewed",o.label_color="#2f96fb"):1===o.type?(o.verification_status="Dispatch",o.label_color="#f1556c"):2===o.type&&(o.verification_status="Disregard",o.label_color="hsla(0,0%,0%,0.6)")),"event"===o.verification_status&&(o.dataLabel="")});const k={created:this.item.event_time,site_time:this.item.site_event_time,verification_status:"Event",label_color:"#1abc9c"};return x.reverse(),x.unshift(k),B}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(x="",B="",m="done",k="#1abc9c"){this.m_warning.data={header:x,contents:`\n        <p>${B}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:m,isConfirm:!0,color:k},this.m_warning.data.submit_func=()=>{"green"===k&&this.close()},this.m_warning.open()}errorDialog(x,B){let m="failed.";x.error&&x.error.message&&(m=x.error.message),x._body&&(m=JSON.parse(x._body).message),setTimeout(()=>{this.confirmDialog(B,m,"warning","orange")},200),this.isLoading=!1}close(x){this.onClose.next(x||{res:!1}),this.modal.close(),setTimeout(B=>{this.enable_modal=!1},200)}}return W.\u0275fac=function(x){return new(x||W)(t.Y36(b.f),t.Y36(S.P))},W.\u0275cmp=t.Xpm({type:W,selectors:[["app-activity-verification-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[1,"log-data",2,"padding","0px"],[3,"border-botttom",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"padding-top","7px"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[2,"width","110px","text-align","right","border-bottom","none"],[2,"border-bottom","none","border-left","1px hsla(0, 0%, 0%, 0.1) solid"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],[1,"log-contact"],["class","log-timeline",4,"ngIf"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(x,B){1&x&&(t.YNc(0,nt,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&x&&(t.Q6J("ngIf",B.enable_modal),t.xp6(1),t.Q6J("modal",B.m_warning))},directives:[g.O5,M.a,g.sg],styles:['*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:800px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{width:200px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-contact[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.modal-ui[_ngcontent-%COMP%]{max-height:590px}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),W})()},95166:(St,E,w)=>{"use strict";w.d(E,{s:()=>p});var t=w(16274),e=w(93324),f=w(56447),d=w(42741);let p=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,f.q]]}),s})()},92601:(St,E,w)=>{"use strict";w.d(E,{e:()=>K});var t=w(42741),e=w(29026),f=w(72898),d=w(46243),s=w(7611),L=w(84784),b=w(91486),S=w(16274),g=w(21929);function M(W,q){if(1&W){const x=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(x),t.oxw(2).close()}),t.qZA()}2&W&&t.Q6J("@background",void 0)}function l(W,q){if(1&W&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&W){const x=t.oxw(3);t.xp6(1),t.hij("(",x.item.code_description,")")}}function C(W,q){if(1&W&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&W){const x=t.oxw(3);t.xp6(1),t.hij(" (",x.item.code_description,")")}}function u(W,q){if(1&W&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&W){const x=t.oxw(3);t.xp6(1),t.Oqu(x.item.warningMsg)}}function P(W,q){1&W&&(t.TgZ(0,"div",22),t._UZ(1,"div",28),t.qZA())}function U(W,q){if(1&W&&(t.TgZ(0,"div"),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t._UZ(3,"div",23),t.qZA(),t.TgZ(4,"div",24),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"div",25),t.TgZ(8,"span",26),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA(),t.qZA(),t.YNc(12,P,2,0,"div",27),t.qZA()),2&W){const x=q.$implicit,B=q.index,m=t.oxw(3);t.xp6(3),t.ekj("cur-log",x.curLog),t.xp6(2),t.Oqu(t.xi3(6,11,x.created,"MM/dd/yy HH:mm:ss")),t.xp6(4),t.AsE("",x.event_code," (",x.code_description,")"),t.xp6(1),t.ekj("log-status-success",!x.error_code)("log-status-failed",x.error_code),t.xp6(1),t.Oqu(x.error_code?"Failed":"Success"),t.xp6(1),t.Q6J("ngIf",m.logs.length!==B+1)}}function V(W,q){1&W&&(t.TgZ(0,"div",29),t.O4$(),t.TgZ(1,"svg",30),t._UZ(2,"circle",31),t.qZA(),t.qZA())}function N(W,q){if(1&W){const x=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(x),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"table",14),t.TgZ(11,"tbody"),t.TgZ(12,"tr"),t.TgZ(13,"td",15),t._uU(14,"Event Time"),t.qZA(),t.TgZ(15,"td",16),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"tr"),t.TgZ(18,"td",15),t._uU(19,"Storage Time"),t.qZA(),t.TgZ(20,"td",16),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"td",15),t._uU(24,"Receiver Type"),t.qZA(),t.TgZ(25,"td",16),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"tr"),t.TgZ(28,"td",15),t._uU(29,"Account Number"),t.qZA(),t.TgZ(30,"td",16),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"tr"),t.TgZ(33,"td",15),t._uU(34,"Alarm Code"),t.qZA(),t.TgZ(35,"td",16),t._uU(36),t.YNc(37,l,2,1,"span",17),t.qZA(),t.qZA(),t.TgZ(38,"tr"),t.TgZ(39,"td",15),t._uU(40,"Restoral Code"),t.qZA(),t.TgZ(41,"td",16),t._uU(42),t.YNc(43,C,2,1,"span",17),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",15),t._uU(46,"Bridge Name"),t.qZA(),t.TgZ(47,"td",16),t._uU(48),t.qZA(),t.qZA(),t.TgZ(49,"tr"),t.TgZ(50,"td",15),t._uU(51,"Camera ID"),t.qZA(),t.TgZ(52,"td",16),t._uU(53),t.qZA(),t.qZA(),t.TgZ(54,"tr"),t.TgZ(55,"td",15),t._uU(56,"Camera Name"),t.qZA(),t.TgZ(57,"td",16),t._uU(58),t.qZA(),t.qZA(),t.TgZ(59,"tr"),t.TgZ(60,"td",15),t._uU(61,"Zone Number"),t.qZA(),t.TgZ(62,"td",16),t._uU(63),t.qZA(),t.qZA(),t.TgZ(64,"tr"),t.TgZ(65,"td",15),t._uU(66,"Type"),t.qZA(),t.TgZ(67,"td",16),t._uU(68),t.qZA(),t.qZA(),t.TgZ(69,"tr"),t.TgZ(70,"td",15),t._uU(71,"Description"),t.qZA(),t.TgZ(72,"td",16),t.TgZ(73,"div"),t._uU(74),t.qZA(),t.YNc(75,u,2,1,"div",17),t.qZA(),t.qZA(),t.TgZ(76,"tr"),t.TgZ(77,"td",15),t._uU(78,"Send Packet"),t.qZA(),t.TgZ(79,"td",16),t.TgZ(80,"div"),t._uU(81),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"tr"),t.TgZ(83,"td",15),t._uU(84,"Receive Packet"),t.qZA(),t.TgZ(85,"td",16),t.TgZ(86,"div"),t._uU(87),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"div",13),t.TgZ(89,"div"),t._uU(90,"History of XML"),t.qZA(),t.TgZ(91,"div",18),t.YNc(92,U,13,14,"div",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(93,V,3,0,"div",20),t.qZA()}if(2&W){const x=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(3),t.hij("XML ",x.item.localCreated,""),t.xp6(13),t.AsE("",x.item.eventCreated," (",(null==x.item?null:x.item.selectedTimezone)||"UTC",")"),t.xp6(5),t.AsE("",x.item.localCreated," (",(null==x.item?null:x.item.selectedTimezone)||"UTC",")"),t.xp6(5),t.Oqu(x.item.receiver_name),t.xp6(5),t.Oqu(x.item.account_number),t.xp6(5),t.hij("",x.item.alarm_code," "),t.xp6(1),t.Q6J("ngIf",x.item.event_code),t.xp6(5),t.Oqu(x.item.restoral_code),t.xp6(1),t.Q6J("ngIf",x.item.event_code),t.xp6(5),t.Oqu(x.item.device_name?x.item.device_name:"-"),t.xp6(5),t.Oqu(x.item.device_id),t.xp6(5),t.Oqu(x.item.camera_name),t.xp6(5),t.Oqu(x.item.zone),t.xp6(5),t.Oqu(x.item.device_id),t.xp6(6),t.Oqu(x.item.receiver_description),t.xp6(1),t.Q6J("ngIf",x.item.warningMsg),t.xp6(6),t.Oqu(x.item.sendPacket),t.xp6(6),t.Oqu(x.item.recvPacket),t.xp6(5),t.Q6J("ngForOf",x.logs),t.xp6(1),t.Q6J("ngIf",x.isLoading)}}function nt(W,q){if(1&W&&(t.TgZ(0,"div",2),t.YNc(1,M,1,1,"div",3),t.YNc(2,N,94,23,"div",4),t.qZA()),2&W){const x=t.oxw();t.xp6(1),t.Q6J("ngIf",x.modal.is_active),t.xp6(1),t.Q6J("ngIf",x.modal.is_active)}}let K=(()=>{class W{constructor(x,B,m){this.usersService=x,this.logsService=B,this.integrationService=m,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new f.u,this.item={},this.logs=[]}ngOnInit(){this.usersService.getMe().subscribe(x=>{this.me=x})}ngOnChanges(x){this.item={},this.logs=[],x.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.item=d.cloneDeep(this.modal.data),this.getActivityLogDetail())}initLogData(){var x;if(this.item.receiver=this.item.detail.receiver,this.item.receiver&&(null===(x=Object.keys(this.item.receiver))||void 0===x?void 0:x.length)&&(this.item.info&&(this.item.receiver_name=this.item.receiver.info.name,this.item.receiver_description=this.item.receiver.info.description),this.item.receiver.logs&&(this.logs=this.item.receiver.logs,this.item.receiver.logs.forEach(B=>{"active"===B.event_state?this.item.alarm_code=B.event_code:"inactive"===B.event_state&&(this.item.restoral_code=B.event_code),this.item.account_number=B.account_number}))),this.item.detail.log){this.item.camera_name=this.item.detail.log.name;const m=JSON.parse(this.item.detail.log.meta).res;this.item.status>300&&m&&m.message&&(this.item.warningMsg=m.message)}}getActivityLogDetail(){const x=this.me.dealer_id,B=this.item.id;this.isLoading=!0,this.logsService.getActivityLogDetail(x,B).subscribe(m=>{this.item.detail=m,this.initLogData(),this.item.event_code&&m.receiver.code_description.forEach(k=>{const o=this.item.event_code.replace(/^\D+/g,"");let ot=k.restore_code?k.restore_code:"";((k.event_code?k.event_code:"").includes(o)||ot.includes(o))&&(this.item.code_description=k.name,this.item.alarm_code=k.event_code,this.item.restoral_code=k.restore_code)}),this.logs.forEach(k=>{this.item.receiver_log_id===k.id&&(k.curLog=!0,k.send_packet?(this.item.sendPacket=k.send_packet,this.item.recvPacket=k.recv_packet):this.getReceiverLog(this.item.receiver_log_id));const o=k.event_code.replace(/^\D+/g,"");m.receiver.code_description.forEach(O=>{let J=O.restore_code?O.restore_code:"";((O.event_code?O.event_code:"").includes(o)||J.includes(o))&&(k.code_description=O.name,k.alarm_code=O.event_code,k.restoral_code=O.restore_code)})}),this.isLoading=!1},m=>{this.isLoading=!1})}getReceiverLog(x){this.integrationService.getReceiverLog(this.me.dealer_id,x).subscribe(m=>{1===m.length&&(this.item.sendPacket=m[0].send_packet,this.item.recvPacket=m[0].recv_packet)})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(x="",B="",m="done",k="#1abc9c"){this.m_warning.data={header:x,contents:`\n        <p>${B}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:m,isConfirm:!0,color:k},this.m_warning.data.submit_func=()=>{"green"===k&&this.close()},this.m_warning.open()}errorDialog(x,B){let m="failed.";x.error&&x.error.message&&(m=x.error.message),x._body&&(m=JSON.parse(x._body).message),setTimeout(()=>{this.confirmDialog(B,m,"warning","orange")},200),this.isLoading=!1}close(x){this.onClose.next(x||{res:!1}),this.modal.close(),setTimeout(B=>{this.enable_modal=!1},200)}}return W.\u0275fac=function(x){return new(x||W)(t.Y36(s.f),t.Y36(L.P),t.Y36(b.V))},W.\u0275cmp=t.Xpm({type:W,selectors:[["app-activity-xml-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[4,"ngIf"],[2,"padding-top","7px"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],[1,"ellipsis"],["class","log-timeline",4,"ngIf"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(x,B){1&x&&(t.YNc(0,nt,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&x&&(t.Q6J("ngIf",B.enable_modal),t.xp6(1),t.Q6J("modal",B.m_warning))},directives:[S.O5,g.a,S.sg],pipes:[S.uU],styles:['*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:660px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{flex:2;min-width:0;display:flex;color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{flex:1;color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{flex:1;color:#f76b82}.log-row[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.cur-log[_ngcontent-%COMP%]{border:solid 1px #2383e2;background:radial-gradient(circle,#2383e2 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.modal-ui[_ngcontent-%COMP%]{max-height:590px}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),W})()},63650:(St,E,w)=>{"use strict";w.d(E,{U:()=>p});var t=w(16274),e=w(93324),f=w(56447),d=w(42741);let p=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,f.q]]}),s})()},98886:(St,E,w)=>{"use strict";w.d(E,{o:()=>Y});var t=w(42741),e=w(29026),f=w(72898),d=w(76052),p=w.n(d),s=w(70897),L=w.n(s),b=w(71687),S=w(7611),g=w(16253),M=w(56880),l=w(93220),C=w(84784),u=w(78806),P=w(16274),U=w(21929),V=w(61164),N=w(95974);const nt=["sensorsvg"],K=["snapshotbox"];function W(T,X){1&T&&t._UZ(0,"div",4)}function q(T,X){1&T&&t._UZ(0,"div",4)}const x=function(T){return{moveArea:T}};function B(T,X){if(1&T&&(t.O4$(),t._UZ(0,"line",10)),2&T){const a=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(5,x,a.selected)),t.uIk("x1",a.position[0][0])("y1",a.position[0][1])("x2",a.position[1][0])("y2",a.position[1][1])}}const m=function(T,X){return{selected:T,moveArea:X}};function k(T,X){if(1&T&&(t.O4$(),t._UZ(0,"polygon",11)),2&T){const a=t.oxw().$implicit,z=t.oxw();t.Q6J("ngClass",t.WLB(2,m,a.selected,a.selected)),t.uIk("points",z.getPoints(a))}}function o(T,X){if(1&T&&(t.O4$(),t._UZ(0,"path",11)),2&T){const a=t.oxw().$implicit,z=t.oxw();t.Q6J("ngClass",t.WLB(2,m,a.selected,a.selected)),t.uIk("d",z.getArc(a))}}function O(T,X){if(1&T&&(t.O4$(),t._UZ(0,"circle",12)),2&T){const a=X.$implicit;t.uIk("cx",a[0])("cy",a[1])}}const ot=function(T){return{selected:T}};function J(T,X){if(1&T&&(t.O4$(),t.TgZ(0,"svg",5,6),t.YNc(2,B,1,7,"line",7),t.YNc(3,k,1,5,"polygon",8),t.YNc(4,o,1,5,"path",8),t.YNc(5,O,1,2,"circle",9),t.qZA()),2&T){const a=X.$implicit,z=t.oxw();t.Q6J("ngClass",t.VKq(5,ot,a.selected)),t.xp6(2),t.Q6J("ngIf",a.type==z.shapes[0].name),t.xp6(1),t.Q6J("ngIf",a.type==z.shapes[1].name),t.xp6(1),t.Q6J("ngIf",a.type==z.shapes[2].name),t.xp6(1),t.Q6J("ngForOf",z.adj_points)}}let dt=(()=>{class T{constructor(){this.isPrivacy=!1,this.metaChange=new t.vpe,this.enableExclusionZone=!1,this.point=null,this.scaleWidth=1,this.scaleHeight=1,this.str="",this.areas=[],this.sel_area=null,this.shapes=[{name:"line",default:[[300,300],[700,700]]},{name:"polygon",default:[[300,300],[300,500],[300,700],[500,700],[700,700],[700,500],[700,300],[500,300]]},{name:"fan shape",default:[[400,800],[1400,600],[100,300]]}],this.is_adjust=!1,this.prev_point=[]}ngOnInit(){this.parseMeta()}ngAfterViewInit(){this.setSvgScale()}ngOnChanges(a){a.meta&&(this.setSvgScale(),this.parseMeta())}setSvgScale(){setTimeout(()=>{this.scaleWidth=1600/this.snapshotbox.nativeElement.clientWidth,this.scaleHeight=900/this.snapshotbox.nativeElement.clientHeight},10)}parseMeta(){if(this.meta)try{this.areas=JSON.parse(this.meta)}catch(a){this.areas=[]}else this.areas=[]}getPoints(a){let z="";return a.position.forEach(R=>{z+=(Math.floor(10*R[0])/10).toFixed(1)+","+(Math.floor(10*R[1])/10).toFixed(1)+","}),z=z.slice(0,z.length-1),z}startAdjustPoint(a,z){this.adj_point=a,this.is_adjust=!0,this.prev_point=[z.clientX,z.clientY]}movePoint(a,z){this.is_adjust&&(this.adj_point[0]+=(z.clientX-this.prev_point[0])*this.scaleWidth,this.adj_point[1]+=(z.clientY-this.prev_point[1])*this.scaleHeight,this.prev_point=[z.clientX,z.clientY])}endAdjustPoint(a,z){this.is_adjust=!1}hoverArea(a){a.selected=!0}unhoverArea(a){a.selected=null}getArc(a){let z=a.position[0],R=a.position[1],it=a.position[2],pt=Math.sqrt(Math.pow(z[0]-R[0],2)+Math.pow(z[1]-R[1],2)),vt=Math.sqrt(Math.pow(z[0]-it[0],2)+Math.pow(z[1]-it[1],2)),Mt=pt>vt?pt:vt;return`M ${R[0]} ${R[1]} A ${Mt} ${Mt}, 0, 0, 0, ${it[0]} ${it[1]} L ${z[0]} ${z[1]} Z`}}return T.\u0275fac=function(a){return new(a||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["event-sensor-area"]],viewQuery:function(a,z){if(1&a&&(t.Gf(nt,5),t.Gf(K,5)),2&a){let R;t.iGM(R=t.CRH())&&(z.svg=R.first),t.iGM(R=t.CRH())&&(z.snapshotbox=R.first)}},inputs:{snapshot:"snapshot",meta:"meta",isPrivacy:"isPrivacy",enableExclusionZone:"enableExclusionZone"},outputs:{metaChange:"metaChange"},features:[t.TTD],decls:6,vars:3,consts:[[2,"position","relative","width","100%","height","100%","user-select","none"],["snapshotbox",""],["class","thumbnail","style","padding-bottom:56.25%",4,"ngIf"],["width","100%","height","100%","viewBox","0 0 1600 900","preserveAspectRatio","none","class","area",3,"ngClass",4,"ngFor","ngForOf"],[1,"thumbnail",2,"padding-bottom","56.25%"],["width","100%","height","100%","viewBox","0 0 1600 900","preserveAspectRatio","none",1,"area",3,"ngClass"],["sensorsvg",""],["style","stroke:hsla(40, 90%, 44%, 1); stroke-width: 5;",3,"ngClass",4,"ngIf"],["class","area-polygon",3,"ngClass",4,"ngIf"],["r","21","stroke","red","stroke-width","5","fill","white","class","point",4,"ngFor","ngForOf"],[2,"stroke","hsla(40, 90%, 44%, 1)","stroke-width","5",3,"ngClass"],[1,"area-polygon",3,"ngClass"],["r","21","stroke","red","stroke-width","5","fill","white",1,"point"]],template:function(a,z){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"div",null,1),t.YNc(3,W,1,0,"div",2),t.YNc(4,q,1,0,"div",2),t.qZA(),t.YNc(5,J,6,7,"svg",3),t.qZA()),2&a&&(t.xp6(3),t.Q6J("ngIf",!z.isPrivacy),t.xp6(1),t.Q6J("ngIf",z.isPrivacy),t.xp6(1),t.Q6J("ngForOf",z.areas))},directives:[P.O5,P.sg,P.mk],styles:[".thumbnail[_ngcontent-%COMP%]{width:100%}svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0}path[_ngcontent-%COMP%]{stroke:#d6940b;stroke-width:10px;stroke-linejoin:round;stroke-linecap:round;stroke-dasharray:1px,15px;fill:#f4af20}.chips[_ngcontent-%COMP%]{min-width:32px;height:32px;border-radius:16px;background:rgba(0,0,0,.13);color:#000;font-size:16px;display:flex;align-items:center;justify-content:center;transition:.2s;cursor:pointer;position:relative;margin:8px 8px 0 0}.chips[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(0,0,0,.46)}.chips[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;background:rgba(0,0,0,0);text-align:center;padding-left:8px}.chips[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding:0 8px 0 16px;display:inline-block;font-size:14px}.chips[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.chips-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:0 8px 0 0}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;margin-right:8px;color:#777;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777;font-size:14px;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777;background:transparent;font-size:14px;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.delete[_ngcontent-%COMP%]{min-width:24px;height:24px;border-radius:12px;background:rgba(0,0,0,.46);color:#fff;font-size:16px;display:flex;align-items:center;justify-content:center;transition:.2s;cursor:pointer;position:relative;margin:0 4px}.point[_ngcontent-%COMP%]{cursor:pointer;opacity:1}.point[_ngcontent-%COMP%]:hover{opacity:1}.area-polygon[_ngcontent-%COMP%]{fill:#d5920b33;stroke:#d5920b;stroke-width:5;stroke-dasharray:none}.selected[_ngcontent-%COMP%]{fill:#ff00001a;opacity:1;z-index:1}.moveArea[_ngcontent-%COMP%]{cursor:move}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}"]}),T})();const rt=["eventvideo"],gt=["viewer"];function c(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).close()}),t.qZA()}2&T&&t.Q6J("@background",void 0)}function r(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"div",56),t.TgZ(1,"div",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).selectEvent("alarm")}),t._uU(2,"Alarm"),t.qZA(),t.TgZ(3,"div",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).selectEvent("restoral")}),t._uU(4,"Restoral"),t.qZA(),t.qZA()}if(2&T){const a=t.oxw(3);t.xp6(1),t.ekj("alarm","alarm"===a.curEventType)("no-event",!a.alarmEvent.id),t.xp6(2),t.ekj("restoral","restoral"===a.curEventType)("no-event",!a.restoralEvent.id)}}function y(T,X){1&T&&(t.TgZ(0,"span",58),t.TgZ(1,"i",59),t._uU(2,"check"),t.qZA(),t._uU(3," EVENT"),t.qZA())}function A(T,X){1&T&&(t.TgZ(0,"span",58),t.TgZ(1,"i",59),t._uU(2,"rotate_right"),t.qZA(),t._uU(3,"PLAYBACK EVENT"),t.qZA())}function h(T,X){1&T&&(t.TgZ(0,"span",58),t.TgZ(1,"i",59),t._uU(2,"theaters"),t.qZA(),t._uU(3,"Timelapse"),t.qZA())}function tt(T,X){1&T&&(t.TgZ(0,"span",58),t._uU(1,"Relay"),t.qZA())}function at(T,X){if(1&T&&t._UZ(0,"img",25),2&T){const a=t.oxw(3);t.Q6J("src",a.camera.privacy_background_image_url,t.LSH)}}function G(T,X){1&T&&(t.O4$(),t._UZ(0,"path",70),t._UZ(1,"path",71))}function st(T,X){1&T&&(t.O4$(),t._UZ(0,"path",72),t._UZ(1,"path",70))}function ct(T,X){1&T&&(t.O4$(),t._UZ(0,"circle",73),t._UZ(1,"circle",74),t._UZ(2,"circle",75),t._UZ(3,"circle",76),t._UZ(4,"path",77),t._UZ(5,"path",70))}function _t(T,X){if(1&T&&(t.O4$(),t.TgZ(0,"g",65),t._UZ(1,"rect",66),t.TgZ(2,"svg",67),t.YNc(3,G,2,0,"ng-template",68),t.YNc(4,st,2,0,"ng-template",68),t.YNc(5,ct,6,0,"ng-template",68),t.qZA(),t.TgZ(6,"text",69),t._uU(7),t.qZA(),t.qZA()),2&T){const a=X.$implicit;t.xp6(1),t.uIk("x",a.left)("y",a.top)("width",a.width)("height",a.height),t.xp6(1),t.uIk("x",a.left)("y",a.top)("width",a.width)("height",a.height),t.xp6(1),t.Q6J("ngIf","person"===a.class),t.xp6(1),t.Q6J("ngIf","car"===a.class||"bus"===a.class||"truck"===a.class),t.xp6(1),t.Q6J("ngIf","cat"===a.class||"dog"===a.class),t.xp6(1),t.uIk("x",a.left)("y",a.top),t.xp6(1),t.hij(" ",a.class," ")}}function Ct(T,X){if(1&T&&(t.TgZ(0,"div",60),t.TgZ(1,"div",61),t.TgZ(2,"div",62),t.O4$(),t.TgZ(3,"svg",63),t.YNc(4,_t,8,14,"g",64),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&T){const a=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",a.objectIdxs[a.curSnapshotIdx])}}function lt(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"div",78),t.TgZ(1,"event-sensor-area",79),t.NdJ("metaChange",function(R){return t.CHM(a),t.oxw(3).camera.sensors_meta=R}),t.qZA(),t.qZA()}if(2&T){const a=t.oxw(3);t.xp6(1),t.Q6J("snapshot",a.camera.tmpSnapshot)("meta",a.camera.sensors_meta)}}function n(T,X){1&T&&(t.TgZ(0,"div",80),t._uU(1,"This camera is in privacy mode."),t.qZA())}function H(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"span",81),t.NdJ("click",function(){const it=t.CHM(a).$implicit;return t.oxw(3).changeRotateSpeed(it)}),t._uU(1),t.qZA()}if(2&T){const a=X.$implicit,z=t.oxw(3);t.ekj("selected-speed",z.rotateSpeed===a),t.xp6(1),t.hij("",a+"","x")}}function j(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"div",78),t.TgZ(1,"event-sensor-area",79),t.NdJ("metaChange",function(R){return t.CHM(a),t.oxw(3).camera.sensors_meta=R}),t.qZA(),t.qZA()}if(2&T){const a=t.oxw(3);t.xp6(1),t.Q6J("snapshot",a.camera.tmpSnapshot)("meta",a.camera.sensors_meta)}}function v(T,X){1&T&&(t.TgZ(0,"div",80),t._uU(1,"This camera is in privacy mode."),t.qZA())}function _(T,X){1&T&&(t.TgZ(0,"div",80),t._uU(1,"Event Video Play"),t._UZ(2,"br"),t._uU(3,"Permission Denied"),t.qZA())}function I(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"span",81),t.NdJ("click",function(){const it=t.CHM(a).$implicit;return t.oxw(3).changeVideoPlayRate(it)}),t._uU(1),t.qZA()}if(2&T){const a=X.$implicit,z=t.oxw(3);t.ekj("selected-speed",z.speedRate===a),t.xp6(1),t.hij("",a+"","x")}}function $(T,X){if(1&T&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&T){const a=t.oxw(3);t.xp6(1),t.hij("ZONE ",a.event.zone,"")}}function et(T,X){1&T&&(t.TgZ(0,"span",82),t._uU(1,"NO ZONE"),t.qZA())}function F(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"div",83),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).openDownloadLinkModal()}),t.TgZ(1,"i",84),t._uU(2,"reply"),t.qZA(),t._uU(3,"Share Download Link "),t.qZA()}if(2&T){const a=t.oxw(3);t.ekj("disabled",!a.hasShareLinkPerm)}}function Z(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"div",83),t.NdJ("click",function(){return t.CHM(a),t.oxw(3).download()}),t.TgZ(1,"i",59),t._uU(2,"get_app"),t.qZA(),t._uU(3,"DOWNLOAD "),t.qZA()}if(2&T){const a=t.oxw(3);t.ekj("disabled",!a.hasDownloadPermission)}}function Q(T,X){1&T&&(t.TgZ(0,"div",85),t.O4$(),t.TgZ(1,"svg",86),t._UZ(2,"circle",87),t.qZA(),t.qZA())}function i(T,X){if(1&T){const a=t.EpF();t.TgZ(0,"div",7),t.YNc(1,r,5,8,"div",8),t.TgZ(2,"div",9),t.TgZ(3,"div",10),t.TgZ(4,"div",11),t.TgZ(5,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).close()}),t._uU(6,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",13),t._uU(8),t.qZA(),t.TgZ(9,"div",14),t.YNc(10,y,4,0,"span",15),t.YNc(11,A,4,0,"span",15),t.YNc(12,h,4,0,"span",15),t.YNc(13,tt,2,0,"span",15),t.qZA(),t.qZA(),t.TgZ(14,"div",16),t.TgZ(15,"div",17),t.TgZ(16,"div",18),t.TgZ(17,"div",19),t.TgZ(18,"div",20),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleVideoType("snapshot")}),t._uU(19,"Snapshot"),t.qZA(),t.TgZ(20,"div",20),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleVideoType("video")}),t._uU(21,"Video"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",21,22),t._UZ(24,"div",23),t.TgZ(25,"div",24),t._UZ(26,"img",25),t.YNc(27,at,1,1,"img",26),t.YNc(28,Ct,5,1,"div",27),t.YNc(29,lt,2,2,"div",28),t.YNc(30,n,2,0,"div",29),t.TgZ(31,"div",30),t.TgZ(32,"div",31),t.TgZ(33,"div",32),t.TgZ(34,"div",33),t.TgZ(35,"div",34),t.TgZ(36,"i",35),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleSnapshotPlay()}),t._uU(37),t.qZA(),t.qZA(),t.TgZ(38,"div",34),t.TgZ(39,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).prevSnapshot()}),t._uU(40,"fast_rewind"),t.qZA(),t.qZA(),t.TgZ(41,"div",34),t.TgZ(42,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).nextSnapshot()}),t._uU(43,"fast_forward"),t.qZA(),t.qZA(),t.TgZ(44,"div",34),t.TgZ(45,"i",36),t._uU(46,"volume_down"),t.qZA(),t.qZA(),t.TgZ(47,"div",34),t.TgZ(48,"span"),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"div",34),t.YNc(51,H,2,3,"span",37),t.qZA(),t.qZA(),t.TgZ(52,"div",38),t.TgZ(53,"div",34),t.TgZ(54,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleFullScreen()}),t._uU(55,"crop_free"),t.qZA(),t.qZA(),t.TgZ(56,"div",39),t.TgZ(57,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleSensorLayer()}),t._uU(58,"info"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(59,"div",40),t._UZ(60,"div",41),t._UZ(61,"div",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",43),t.TgZ(63,"video",44,45),t.NdJ("loadeddata",function(R){return t.CHM(a),t.oxw(2).loadedVideo(R)})("timeupdate",function(R){return t.CHM(a),t.oxw(2).changeVideoTime(R)}),t.qZA(),t.YNc(65,j,2,2,"div",28),t.YNc(66,v,2,0,"div",29),t.YNc(67,_,4,0,"div",29),t.TgZ(68,"div",30),t.TgZ(69,"div",31),t.TgZ(70,"div",32),t.TgZ(71,"div",33),t.TgZ(72,"div",34),t.TgZ(73,"i",35),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleVideo()}),t._uU(74),t.qZA(),t.qZA(),t.TgZ(75,"div",34),t.TgZ(76,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).prevVideo()}),t._uU(77,"fast_rewind"),t.qZA(),t.qZA(),t.TgZ(78,"div",34),t.TgZ(79,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).nextVideo()}),t._uU(80,"fast_forward"),t.qZA(),t.qZA(),t.TgZ(81,"div",46),t.NdJ("click",function(R){return t.CHM(a),t.oxw(2).toggleMute(R)}),t._UZ(82,"comp-icon",47),t.qZA(),t.TgZ(83,"div",34),t.TgZ(84,"span"),t._uU(85),t.qZA(),t.qZA(),t.TgZ(86,"div",34),t.YNc(87,I,2,3,"span",37),t.qZA(),t.qZA(),t.TgZ(88,"div",38),t.TgZ(89,"div",34),t.TgZ(90,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleFullScreen()}),t._uU(91,"crop_free"),t.qZA(),t.qZA(),t.TgZ(92,"div",39),t.TgZ(93,"i",12),t.NdJ("click",function(){return t.CHM(a),t.oxw(2).toggleSensorLayer()}),t._uU(94,"info"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",40),t._UZ(96,"div",41),t._UZ(97,"div",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(98,"div",48),t.TgZ(99,"div"),t.TgZ(100,"div",49),t._uU(101),t.qZA(),t.TgZ(102,"div",50),t.YNc(103,$,2,1,"span",51),t.YNc(104,et,2,0,"span",52),t.TgZ(105,"span"),t._uU(106,"\u2022"),t.qZA(),t.TgZ(107,"span"),t._uU(108),t.qZA(),t.qZA(),t.qZA(),t.TgZ(109,"div",53),t.YNc(110,F,4,2,"div",54),t.YNc(111,Z,4,2,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(112,Q,3,0,"div",55),t.qZA()}if(2&T){const a=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(1),t.Q6J("ngIf",!("playback"===a.event.event_type||"timelapse"===a.event.event_type||"do"===a.event.event_type)),t.xp6(1),t.ekj("alarm","active"===a.curEvent.event_status&&("di"===a.event.event_type||"onvif"===a.event.event_type))("restoral","inactive"===a.curEvent.event_status&&("di"===a.event.event_type||"onvif"===a.event.event_type))("playback","playback"===a.event.event_type)("timelapse","timelapse"===a.event.event_type),t.xp6(6),t.AsE("",a.curEvent.site_event_time," (",a.getIntuitiveTimeStamp(),")"),t.xp6(2),t.Q6J("ngIf","di"===a.event.event_type||"onvif"===a.event.event_type),t.xp6(1),t.Q6J("ngIf","playback"===a.event.event_type),t.xp6(1),t.Q6J("ngIf","timelapse"===a.event.event_type),t.xp6(1),t.Q6J("ngIf","do"===a.event.event_type&&"Relay"===a.event.category),t.xp6(5),t.ekj("disabled",!a.curEvent.is_snapshot_upload)("selected-snapshot","snapshot"===a.curVideoType),t.xp6(2),t.ekj("selected-video","video"===a.curVideoType)("disabled",!a.curEvent.is_video_upload||a.isPrivacy),t.xp6(5),t.ekj("ready-video","snapshot"===a.curVideoType),t.xp6(1),t.Q6J("src",a.safeSnapshots[a.curSnapshotIdx]?a.safeSnapshots[a.curSnapshotIdx]:a.blank,t.LSH),t.xp6(1),t.Q6J("ngIf",a.isPrivacy),t.xp6(1),t.Q6J("ngIf",a.isPrivacy&&a.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",a.camera.device_id&&a.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",a.isPrivacy),t.xp6(7),t.Oqu(a.isPlaySnapshot?"pause":"play_arrow"),t.xp6(12),t.AsE("",a.curIdx," / ",a.totalIdx,""),t.xp6(2),t.Q6J("ngForOf",a.speedList),t.xp6(5),t.Q6J("title",a.isVisibleSensorLayer?"Hide Sensor Overlay":"Show Sensor Overlay"),t.xp6(1),t.ekj("enable-sensor",a.isVisibleSensorLayer),t.xp6(4),t.Udp("width",12.5*(a.curSnapshotIdx+1)+"%"),t.xp6(1),t.ekj("ready-video",a.isReadyVideo&&"video"===a.curVideoType),t.xp6(1),t.Q6J("src",a.safeMp4Video?a.safeMp4Video:a.blank,t.LSH)("muted",a.isMuted),t.xp6(2),t.Q6J("ngIf",a.camera.device_id&&a.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",a.isPrivacy),t.xp6(1),t.Q6J("ngIf",!a.hasViewVideoPerm),t.xp6(4),t.ekj("disabled",a.isPrivacy),t.xp6(3),t.Oqu(a.isPlayVideo?"pause":"play_arrow"),t.xp6(7),t.ekj("disable-ctrl",!a.isAudioCodec),t.xp6(1),t.Q6J("icon",a.isMuted?"volume_off":"volume_up")("color","#fff")("size",24),t.xp6(3),t.AsE("",a.curVideoTimeStr," / ",a.totalVideoTimeStr,""),t.xp6(2),t.Q6J("ngForOf",a.speedList),t.xp6(5),t.Q6J("title",a.isVisibleSensorLayer?"Hide Sensor Overlay":"Show Sensor Overlay"),t.xp6(1),t.ekj("enable-sensor",a.isVisibleSensorLayer),t.xp6(4),t.Udp("width",a.curVideoTime/a.videoDuration*100+"%"),t.xp6(4),t.Oqu(a.event.name),t.xp6(2),t.Q6J("ngIf",a.event.zone),t.xp6(1),t.Q6J("ngIf",!a.event.zone),t.xp6(4),t.hij("EVENT ID ",a.curEvent.event_id,""),t.xp6(2),t.Q6J("ngIf",!a.isPrivacy),t.xp6(1),t.Q6J("ngIf",!a.isPrivacy),t.xp6(1),t.Q6J("ngIf",a.isLoading)}}function D(T,X){if(1&T&&(t.TgZ(0,"div",3),t.YNc(1,c,1,1,"div",4),t.YNc(2,i,113,70,"div",5),t.qZA()),2&T){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.modal.is_active),t.xp6(1),t.Q6J("ngIf",a.modal.is_active)}}let Y=(()=>{class T{constructor(a,z,R,it,pt,vt){this.usersService=a,this.eventsService=z,this.commonService=R,this.sanitizer=it,this.logsService=pt,this.devicesService=vt,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new f.u,this.m_downloadLink=new f.u,this.event={},this.alarmEvent={},this.restoralEvent={},this.curEvent={},this.curEventType="",this.site={},this.logs=[],this.deviceLogs=[],this.records=[],this.snapshotUrls=[],this.snapshots=[],this.blobUrlSnapshots=[],this.safeSnapshots=[],this.mp4Url="",this.mp4Video=null,this.safeMp4Video=null,this.isAudioCodec=!1,this.isMuted=!0,this.camera={},this.isVisibleSensorLayer=!0,this.isFullScreen=!1,this.curIdx="00:00",this.totalIdx="00:00",this.curVideoType="video",this.isReadyVideo=!1,this.isReadySnapshot=!1,this.curSnapshotIdx=0,this.readySnapshotCount=0,this.totalSnapshot=8,this.curSnapshot=null,this.intervalSnapshot=null,this.intervelTime=500,this.distanceSnapshotTime=.5,this.isPlaySnapshot=!1,this.rotateSpeed=1,this.speedList=[.5,1,4],this.speedRate=1,this.isLoadedVideo=!1,this.videoDuration=0,this.curVideoTime=0,this.curVideoTimeStr="00:00",this.totalVideoTimeStr="00:00",this.isPlayVideo=!1,this.videoOptions={fps:2,loop:5,transition:!0,transitionDuration:1,videoBitrate:1024,videoCodec:"libx264",size:"640x?",audioBitrate:"128k",audioChannels:2,format:"mp4",pixelFormat:"yuv420p"},this.blank="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",this.classList=[],this.objectIdxs=[[],[],[],[],[],[],[],[]],this.isPrivacy=!1,this.hasDownloadPermission=!1,this.hasShareLinkPerm=null,this.hasViewVideoPerm=null}ngOnInit(){this.usersService.getMe().subscribe(a=>{this.me=a})}ngOnChanges(a){a.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.initData(),this.parseEventData())}ngOnDestroy(){this.stopSnapshotRotate(),this.pauseSnapshotPlay(),this.initSnapshots()}initData(){this.camera={},this.event=this.modal.data.log,this.logs=this.modal.data.logs,this.site=this.modal.data.site,this.selectedTimezone=this.modal.data.selectedTimezone,this.event.event_status=this.event.detail.event.status,this.isPrivacy=this.event.detail.event.is_privacy,this.rotateSpeed=1,this.intervelTime=500,this.speedRate=1,"active"===this.event.event_status?(this.alarmEvent=this.event,this.curEventType="alarm",this.curEvent=this.alarmEvent):(this.restoralEvent=this.event,this.curEventType="restoral",this.curEvent=this.restoralEvent),this.curEvent.site_event_time=this.curEvent.detail.event?p()(this.curEvent.detail.event.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"):p()(this.curEvent.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss")}parseEventData(){this.initSnapshots(),this.getEventRecords(),this.getCoupleEvent()}initSnapshots(){this.isReadyVideo=!1,this.isReadySnapshot=!1,this.isPlaySnapshot=!1,this.hasDownloadPermission=!1,this.readySnapshotCount=0,this.curSnapshotIdx=0,this.totalSnapshot=8,this.snapshots=[],this.snapshotUrls=[],this.safeSnapshots=[],this.blobUrlSnapshots=[],this.rotateSpeed=1,this.speedList=[.5,1,4],this.speedRate=1,this.mp4Url="",this.mp4Video=null,this.safeMp4Video=null,this.isLoadedVideo=!1,this.curEvent.is_video_upload&&(this.curVideoType="video",this.isReadyVideo=!0),this.curEvent.is_snapshot_upload&&!this.curEvent.is_video_upload&&(this.curVideoType="snapshot",this.isReadyVideo=!0)}loadFfmpeg(){let a=document.createElement("script");a.type="text/javascript",a.src="/assets/scripts/ffmpeg-worker-mp4.js",document.body.appendChild(a)}getEventRecords(){this.eventsService.getSiteDeviceEventRecords(this.me.dealer_id,this.site.site_id,this.curEvent.device_id,this.curEvent.event_id).subscribe(pt=>{this.hasViewVideoPerm=!0,this.records=pt,this.hasDownloadPermission=!!pt[0].has_download_permission,this.hasShareLinkPerm=!!pt[0].has_share_download_link_permission,this.getSnapshots(pt),this.getEventVideo(pt),this.getEventClassifications(pt)},pt=>{this.hasViewVideoPerm=403!==pt.status,this.commonService.showErrorToast(pt,"Request View Event Video")})}getSnapshots(a){!this.curEvent.is_snapshot_upload||(this.isLoading=!0,this.snapshotUrls=a.filter(z=>"jpg"===z.format),this.safeSnapshots=[],this.totalSnapshot=this.snapshotUrls.length,this.totalIdx=this.toHHMMSS(this.snapshotUrls.length*this.distanceSnapshotTime),this.snapshotUrls.forEach((z,R)=>{this.getSnapshot(z.url,R)}))}getSnapshot(a,z){let R=window.URL;this.eventsService.getSnapshotFromUrl(a).subscribe(it=>{this.blobUrlSnapshots[z]=R.createObjectURL(it),this.safeSnapshots[z]=this.sanitizer.bypassSecurityTrustUrl(R.createObjectURL(it)),this.snapshots[z]=it,this.readySnapshotCount+=1,this.readySnapshotCount===this.totalSnapshot&&(this.curSnapshot=this.snapshots[0],this.isReadySnapshot=!0,this.isLoading=!1)})}getEventClassifications(a){if(!this.isPrivacy)return;const z=this.me.dealer_id,R=this.site.site_id,it=this.event.event_id;a.forEach((pt,vt)=>{this.eventsService.getEventSnapshotClassification(z,R,it,pt.record_id).subscribe(Et=>{const At=Et[0].objects;this.objectIdxs[vt]=[],At&&At.forEach(Ot=>{let Tt=Ot.probability;!Tt&&Ot.prob&&(Tt=Ot.prob),("car"===(Ot.class+"").toLocaleLowerCase()&&+Tt>.5||"truck"===(Ot.class+"").toLocaleLowerCase()&&+Tt>.5||"bus"===(Ot.class+"").toLocaleLowerCase()&&+Tt>.5||"cat"===(Ot.class+"").toLocaleLowerCase()&&+Tt>.38||"dog"===(Ot.class+"").toLocaleLowerCase()&&+Tt>.38||"person"===(Ot.class+"").toLocaleLowerCase()&&+Tt>.38)&&this.objectIdxs[vt].push({class:Ot.class,probability:Tt,top:900*Ot.top,left:1600*Ot.left,height:900*(+Ot.bottom-+Ot.top),width:1600*(+Ot.right-+Ot.left)})})})}),this.startSnapshotRotate()}toggleVideoType(a){this.curVideoType!==a&&(this.pauseSnapshotPlay(),this.pauseVideo(),this.curVideoType=a,"video"===this.curVideoType?this.isLoadedVideo?this.startVideo():this.loadVideo():"snapshot"===this.curVideoType&&this.startSnapshotPlay())}getEventVideo(a){this.isPrivacy&&(this.isLoading=!1);let z=a.filter(R=>"mp4"===R.format);z.length>0&&(this.mp4Url=z[0].url,this.getMP4Video(this.mp4Url))}getMP4Video(a){let z=window.URL;this.eventsService.getSnapshotFromUrl(a).subscribe(R=>{this.safeMp4Video=this.sanitizer.bypassSecurityTrustUrl(z.createObjectURL(R)),this.mp4Video=R,this.checkVideoAudio(z.createObjectURL(R))})}getActivityLogDetail(a){this.logsService.getActivityLogDetail(this.me.dealer_id,a.id).subscribe(it=>{a.detail=it,it.receiver.logs&&(a.event_code=it.receiver.logs[0].event_code),a.event_status=a.detail.event.status,a.site_event_time=a.detail.event?p()(a.detail.event.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"):p()(a.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"),this.setEventDescription(a)})}getCoupleEvent(){let a=[];this.logs.forEach(R=>{const it=JSON.parse(R.meta);it.req&&it.req.body&&(R.eventStatus=it.req.body.status,R.device_id===this.curEvent.device_id&&R.eventStatus&&a.push(R))}),this.deviceLogs=a;let z=[];"active"===this.curEvent.event_status?(console.log("active"),this.alarmEvent=this.curEvent,z=this.deviceLogs.filter(R=>parseInt(this.curEvent.id)<parseInt(R.id)&&"inactive"===R.eventStatus),console.log(z),z.slice(-1)[0]&&(console.log("active log",z.slice(-1)[0]),this.restoralEvent=z.slice(-1)[0],this.getActivityLogDetail(this.restoralEvent))):"inactive"===this.curEvent.event_status&&(console.log("inactive"),this.restoralEvent=this.curEvent,z=this.deviceLogs.filter(R=>parseInt(this.curEvent.id)>parseInt(R.id)&&"active"===R.eventStatus),console.log(z),z[0]&&(console.log("inactive log",z[0]),this.alarmEvent=z[0],this.getActivityLogDetail(this.alarmEvent)))}selectEvent(a){let z=!1;"alarm"===a&&this.alarmEvent.id?(this.curEventType="alarm",this.curEvent=this.alarmEvent,z=!0):"restoral"===a&&this.restoralEvent.id&&(this.curEvent=this.restoralEvent,this.curEventType="restoral",z=!0),z&&(this.initSnapshots(),this.getEventRecords())}setEventDescription(a){JSON.parse(a.meta);let R=JSON.parse(a.meta).res;"upload"===a.action&&"Bridge"===a.trigger&&R&&(a.is_snapshot_upload=R.is_snapshot_upload,a.is_video_upload=R.is_video_upload),a.detail.related_logs.forEach(pt=>{const vt=JSON.parse(pt.meta);pt.siteEventTime=p()(pt.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"),vt.res&&(vt.res.is_snapshot_upload&&(a.is_snapshot_upload=!0),vt.res.is_video_upload&&(a.is_video_upload=!0))})}getDeviceData(){this.parseEventData()}toHHMMSS(a){var z=parseInt(Math.floor(a).toString(),10);let R="",it=Math.floor(z/3600),pt=Math.floor((z-3600*it)/60),vt=z-3600*it-60*pt;return it<10&&(it="0"+it),pt<10&&(pt="0"+pt),vt<10&&(vt="0"+vt),R="00"===it?pt+":"+vt:it+":"+pt+":"+vt,R}getIntuitiveTimeStamp(){const a=p()(this.curEvent.detail.event.created).unix();return this.commonService.getIntuitiveTimeStamp(a)}downloadSnapshotToMp4(){}downloadSnapshotToGif(){b.createGIF({images:this.blobUrlSnapshots,numFrames:1,gifWidth:640,gifHeight:360},a=>{let z=window.URL;if(a.error)console.log(a.error);else{let it=this.b64toBlob(a.image,"image/gif",512),pt=z.createObjectURL(it),vt=document.createElement("a");vt.href=pt,vt.target="_blank",vt.download=`${this.curEvent.event_id}.gif`,document.body.appendChild(vt),vt.click()}})}download(){"snapshot"===this.curVideoType?this.downloadSnapshotToGif():this.downloadMP4()}downloadSnapshots(){let a=Object.keys(this.snapshots);var z=new(L());a.forEach(R=>{z.file(`${this.curEvent.event_id}_${R}.jpg`,this.snapshots[R])}),z.generateAsync({type:"blob"}).then(R=>{var it=URL.createObjectURL(R),pt=document.createElement("a");pt.href=it,pt.target="_blank",pt.download=`${this.curEvent.event_id}.zip`,document.body.appendChild(pt),pt.click()},R=>{console.log(R)})}downloadMP4(){var z=URL.createObjectURL(this.mp4Video),R=document.createElement("a");R.href=z,R.target="_blank",R.download=`${this.curEvent.event_id}.mp4`,document.body.appendChild(R),R.click()}b64toBlob(a,z,R){a=a.replace("data:image/gif;base64,",""),z=z||"",R=R||512;for(var it=window.atob(a),pt=[],vt=0;vt<it.length;vt+=R){for(var Mt=it.slice(vt,vt+R),Et=new Array(Mt.length),At=0;At<Mt.length;At++)Et[At]=Mt.charCodeAt(At);var Ot=new Uint8Array(Et);pt.push(Ot)}return new Blob(pt,{type:z})}startSnapshotRotate(){this.stopSnapshotRotate(),this.isPlaySnapshot=!0,this.totalIdx=this.toHHMMSS(this.snapshotUrls.length*this.distanceSnapshotTime),this.intervalSnapshot=setInterval(()=>{this.curSnapshotIdx+1>7?this.curSnapshotIdx=0:this.curSnapshotIdx+=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)},this.intervelTime)}stopSnapshotRotate(){this.isPlaySnapshot=!1,clearInterval(this.intervalSnapshot),this.intervalSnapshot=null}toggleSnapshotPlay(){this.isPlaySnapshot?this.pauseSnapshotPlay():this.startSnapshotPlay()}startSnapshotPlay(){this.isPlaySnapshot||(this.isPlaySnapshot=!0,this.startSnapshotRotate())}pauseSnapshotPlay(){this.stopSnapshotRotate()}prevSnapshot(){this.pauseSnapshotPlay(),this.curSnapshotIdx-1<0?this.curSnapshotIdx=0:this.curSnapshotIdx-=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)}nextSnapshot(){this.pauseSnapshotPlay(),this.curSnapshotIdx+1>7?this.curSnapshotIdx=0:this.curSnapshotIdx+=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)}changeRotateSpeed(a){this.pauseSnapshotPlay(),this.rotateSpeed=a,this.intervelTime=1/a*500,this.startSnapshotPlay()}toggleVideo(a){this.isPlayVideo?this.pauseVideo():this.startVideo()}loadVideo(){this.isLoading=!0,this.isPrivacy?this.isLoading=!1:(this.videoplayer.nativeElement.load(),this.videoplayer.nativeElement.loop=!0)}loadedVideo(a){if(this.isLoading=!1,this.isPlaySnapshot)return void this.pauseVideo();this.isLoadedVideo=!0,this.startVideo();let z=this.videoplayer.nativeElement.duration;this.videoDuration=z,z=Math.ceil(z),this.totalVideoTimeStr=this.toHHMMSS(z)}changeVideoTime(a){if(this.isPlaySnapshot)return;let z=this.videoplayer.nativeElement.currentTime;this.curVideoTime=z,z=Math.ceil(z),this.curVideoTimeStr=this.toHHMMSS(z)}startVideo(){this.isPlayVideo=!0,this.videoplayer.nativeElement.play()}pauseVideo(){this.isPlayVideo=!1,this.videoplayer.nativeElement.pause()}prevVideo(){this.pauseVideo(),this.videoplayer.nativeElement&&(this.videoplayer.nativeElement.currentTime=this.videoplayer.nativeElement.currentTime-1)}nextVideo(){this.pauseVideo(),this.videoplayer.nativeElement&&(this.videoplayer.nativeElement.currentTime=this.videoplayer.nativeElement.currentTime+1)}changeVideoPlayRate(a){this.speedRate=a,this.videoplayer.nativeElement.playbackRate=a,this.startVideo()}toggleMute(a){let z=this.videoplayer.nativeElement;!z||!this.isAudioCodec||(z.muted?(z.muted=!1,this.isMuted=!1):(z.muted=!0,this.isMuted=!0))}checkVideoAudio(a){let z=this.videoplayer.nativeElement;!z||fetch(a).then(R=>R.blob()).then(R=>this.commonService.getAudioCodecFromMP4(R)).then(R=>{null!==R&&(z.volume=.5,this.isAudioCodec=!0)})}toggleSensorLayer(){var a;if(!(null===(a=this.curEvent)||void 0===a?void 0:a.device_id))return this.isVisibleSensorLayer=!1;this.isVisibleSensorLayer=!this.isVisibleSensorLayer}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let a=this.viewer.nativeElement;if(a)if(this.isFullScreen){let z=this.viewer.nativeElement,R=z.requestFullscreen||z.webkitRequestFullScreen||z.mozRequestFullscreen||z.msRequestFullscreen;R&&R.call(z)}else a.exitFullscreen?a.exitFullscreen():a.msExitFullscreen?a.msExitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitExitFullscreen&&a.webkitExitFullscreen(),document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}openDownloadLinkModal(){this.m_downloadLink.data.site=this.site,this.m_downloadLink.data.event=this.event,this.m_downloadLink.open()}closeDownloadLinkModal(){}confirmDialog(a="",z="",R="done",it="#1abc9c"){this.m_warning.data={header:a,contents:`\n        <p>${z}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:R,isConfirm:!0,color:it},this.m_warning.data.submit_func=()=>{"green"===it&&this.close()},this.m_warning.open()}errorDialog(a,z){let R="failed.";a.error&&a.error.message&&(R=a.error.message),a._body&&(R=JSON.parse(a._body).message),setTimeout(()=>{this.confirmDialog(z,R,"warning","orange")},200),this.isLoading=!1}close(a){this.pauseSnapshotPlay(),this.pauseVideo(),this.initSnapshots(),this.onClose.next(a||{res:!1}),this.modal.close(),setTimeout(z=>{this.enable_modal=!1},200)}}return T.\u0275fac=function(a){return new(a||T)(t.Y36(S.f),t.Y36(g.n),t.Y36(M.v),t.Y36(l.H7),t.Y36(C.P),t.Y36(u.I))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-event-viewer"]],viewQuery:function(a,z){if(1&a&&(t.Gf(rt,5),t.Gf(gt,5)),2&a){let R;t.iGM(R=t.CRH())&&(z.videoplayer=R.first),t.iGM(R=t.CRH())&&(z.viewer=R.first)}},inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:3,vars:4,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[3,"modal","active","onClose"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","viewer-modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"viewer-modal"],["class","event-header",4,"ngIf"],[1,"modal-header"],[2,"position","relative","width","160px"],[1,"close-btn"],[1,"material-icons",3,"click"],[1,"modal-header-label","center"],[1,"modal-header-label",2,"position","relative","width","160px","justify-content","flex-end"],["style","display: flex;align-items: center;",4,"ngIf"],[1,"viewer-container"],[1,"snapshot-viewer-container"],[1,"video-select-container"],[1,"video-select-box"],[1,"video-select-tab",3,"click"],[1,"snapshot-viewer"],["viewer",""],[1,"snapshot-background"],[1,"snapshot-content"],[1,"snapshot-img-layer",3,"src"],["class","snapshot-img-layer",3,"src",4,"ngIf"],["class","object-locations",4,"ngIf"],["class","sensor-layer",4,"ngIf"],["class","privacy-background",4,"ngIf"],[1,"snapshot-control-layer"],[2,"width","100%"],[1,"video-ctrl-bar"],[1,"video-ctrls"],[1,"video-ctrl"],[1,"material-icons",2,"font-size","30px",3,"click"],[1,"material-icons","disable-ctrl"],["class","video-speed",3,"selected-speed","click",4,"ngFor","ngForOf"],[1,"video-ctrls",2,"justify-content","flex-end"],[1,"video-ctrl",3,"title"],[2,"position","relative"],[1,"timebar"],[1,"cur-timebar"],[1,"video-content"],["loop","",1,"video-box",3,"src","muted","loadeddata","timeupdate"],["eventvideo",""],[1,"video-ctrl",3,"click"],[3,"icon","color","size"],[1,"snapshot-viewer-tail"],[1,"device-name"],[1,"device-zone"],[4,"ngIf"],["class","no-zone",4,"ngIf"],[1,"viewer-button-area"],["class","viewer-button",3,"disabled","click",4,"ngIf"],["class","loader absolute",4,"ngIf"],[1,"event-header"],[1,"event-type",3,"click"],[2,"display","flex","align-items","center"],[1,"material-icons"],[1,"object-locations"],[1,"comp-objects-location"],[1,"objects-container"],["viewBox","0 0 1600 900","preserveAspectRatio","none",1,"objects-container-svg"],["class","object-container-svg",4,"ngFor","ngForOf"],[1,"object-container-svg"],[2,"fill","hsla(0, 0%, 0%, 0.6)"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",2,"fill","rgba(255,255,255,0.9)"],[3,"ngIf"],["fill","white","font-size","40","stroke","none"],["d","M0 0h24v24H0z","fill","none"],["d","M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],["cx","4.5","cy","9.5","r","2.5"],["cx","9","cy","5.5","r","2.5"],["cx","15","cy","5.5","r","2.5"],["cx","19.5","cy","9.5","r","2.5"],["d","M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"],[1,"sensor-layer"],[3,"snapshot","meta","metaChange"],[1,"privacy-background"],[1,"video-speed",3,"click"],[1,"no-zone"],[1,"viewer-button",3,"click"],[1,"material-icons","v-reverse"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(a,z){1&a&&(t.YNc(0,D,3,2,"div",0),t._UZ(1,"dealer-warning",1),t.TgZ(2,"app-share-download-link",2),t.NdJ("onClose",function(){return z.closeDownloadLinkModal()}),t.qZA()),2&a&&(t.Q6J("ngIf",z.enable_modal),t.xp6(1),t.Q6J("modal",z.m_warning),t.xp6(1),t.Q6J("modal",z.m_downloadLink)("active",z.m_downloadLink.is_active))},directives:[P.O5,U.a,V.c,P.sg,N.U,dt],styles:[".align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.close-btn[_ngcontent-%COMP%]{width:24px;height:45px;display:flex;align-items:center;justify-content:center;color:#ffffffde;cursor:pointer}.event-header[_ngcontent-%COMP%]{display:flex;width:210px;height:40px;background:#2d2d2d;position:absolute;top:-50px;left:calc(50% - 105px);border-radius:20px;color:#fff9;font-family:Roboto}.event-header[_ngcontent-%COMP%]   .alarm[_ngcontent-%COMP%]{background-color:#742d2d;color:#ffffffde}.event-header[_ngcontent-%COMP%]   .restoral[_ngcontent-%COMP%]{background-color:#2a68a5;color:#ffffffde}.event-header[_ngcontent-%COMP%]   .event-type[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.event-header[_ngcontent-%COMP%]   .event-type.alarm[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#742d2d}.event-header[_ngcontent-%COMP%]   .event-type.restoral[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#2a68a5}.event-header[_ngcontent-%COMP%]   .event-type.no-event[_ngcontent-%COMP%]{cursor:initial;pointer-events:none}.event-header[_ngcontent-%COMP%]   .event-type.playback[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#31465d}.event-header[_ngcontent-%COMP%]   .event-type.timelapse[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#31465d}.viewer-modal[_ngcontent-%COMP%]{width:100%;max-width:800px;z-index:2;box-shadow:0 2px 8px #00000080;border-radius:5px;color:#fff;background-color:#2d2d2d;font-family:Roboto}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;padding:0 20px;border-top-left-radius:5px;border-top-right-radius:5px}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-label[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-label.center[_ngcontent-%COMP%]{flex:1;justify-content:center}.viewer-modal[_ngcontent-%COMP%]   .modal-header.alarm[_ngcontent-%COMP%]{background-color:#742d2d}.viewer-modal[_ngcontent-%COMP%]   .modal-header.restoral[_ngcontent-%COMP%]{background-color:#2a68a5}.viewer-modal[_ngcontent-%COMP%]   .modal-header.playback[_ngcontent-%COMP%]{background-color:#31465d}.viewer-modal[_ngcontent-%COMP%]   .modal-header.timelapse[_ngcontent-%COMP%]{background-color:#31465d}.body[_ngcontent-%COMP%]{padding:16px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:45px;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]{width:430px;height:22px;border-radius:5px;background-color:#3e3e3e;display:flex;color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .video-select-tab[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;flex:1;cursor:pointer;background-color:#353535}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .selected-snapshot[_ngcontent-%COMP%]{border:solid 1px #2f96fb;border-top-left-radius:5px;border-bottom-left-radius:5px;background-color:#505050;color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .selected-video[_ngcontent-%COMP%]{border:solid 1px #2f96fb;border-top-right-radius:5px;border-bottom-right-radius:5px;background-color:#505050;color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]{position:relative;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-background[_ngcontent-%COMP%]{width:100%;padding-bottom:56.25%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;display:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content.ready-video[_ngcontent-%COMP%]{display:initial}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-img-layer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]{position:absolute;display:flex;align-content:flex-end;flex-flow:wrap;width:100%;height:100%;top:0;opacity:0;transition:.3s}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]:hover{opacity:1}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]{width:calc(100% - 40px);height:50px;padding:50px 20px 0;display:flex;justify-content:space-between;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed[_ngcontent-%COMP%]{padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed.selected-speed[_ngcontent-%COMP%]{color:#2383e2}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .enable-sensor[_ngcontent-%COMP%]{color:#d5920b}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .disable-ctrl[_ngcontent-%COMP%]{color:#ffffff4d;pointer-events:none;cursor:initial;opacity:.6}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .timebar[_ngcontent-%COMP%]{width:100%;height:3px;background:rgba(255,255,255,.5)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .cur-timebar[_ngcontent-%COMP%]{transition:.2s;position:absolute;top:0;height:3px;background:#2383e2;transition-timing-function:linear}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;display:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content.ready-video[_ngcontent-%COMP%]{display:initial}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;object-fit:fill}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]{position:absolute;display:flex;align-content:flex-end;flex-flow:wrap;width:100%;height:100%;top:0;opacity:0;transition:.3s}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]:hover{opacity:1}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]{width:calc(100% - 40px);height:50px;padding:50px 20px 0;display:flex;justify-content:space-between;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed[_ngcontent-%COMP%]{padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed.selected-speed[_ngcontent-%COMP%]{color:#2383e2}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .enable-sensor[_ngcontent-%COMP%]{color:#d5920b}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .disable-ctrl[_ngcontent-%COMP%]{color:#ffffff4d;pointer-events:none;cursor:initial;opacity:.6}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .timebar[_ngcontent-%COMP%]{width:100%;height:3px;background:rgba(255,255,255,.5)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .cur-timebar[_ngcontent-%COMP%]{transition:.2s;position:absolute;top:0;height:3px;background:#2383e2;transition-timing-function:linear}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .sensor-layer[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .privacy-background[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;background:rgba(0,0,0,.4);color:#ffffff80;font-size:1.8em}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 20px;width:calc(100% - 40px);height:75px;color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]   .viewer-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:20px;cursor:pointer;-webkit-user-select:none;user-select:none;font-size:14px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]   .viewer-button[_ngcontent-%COMP%]:hover{color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-name[_ngcontent-%COMP%]{color:#ffffffde;padding-bottom:5px;font-size:18px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-zone[_ngcontent-%COMP%]{color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-zone[_ngcontent-%COMP%]   .no-zone[_ngcontent-%COMP%]{color:#ffffff4d}.md-16[_ngcontent-%COMP%]{font-size:16px}.v-reverse[_ngcontent-%COMP%]{transform:rotate(0);transform:scaleX(-1)}.comp-objects-location[_ngcontent-%COMP%]{background-color:transparent;width:100%}.comp-objects-location[_ngcontent-%COMP%]   .objects-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:calc(100% / 16 * 9)}.comp-objects-location[_ngcontent-%COMP%]   .objects-container-svg[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}",'.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),T})()},9301:(St,E,w)=>{"use strict";w.d(E,{Q:()=>L});var t=w(16274),e=w(93324),f=w(56447),d=w(86996),p=w(688),s=w(42741);let L=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=s.oAB({type:b}),b.\u0275inj=s.cJS({imports:[[t.ez,e.u5,f.q,d.h,p.m]]}),b})()},61164:(St,E,w)=>{"use strict";w.d(E,{c:()=>m});var t=w(42741),e=w(29026),f=w(72898),d=w(76052),p=w.n(d),s=w(7611),L=w(27787),b=w(54414),S=w(16253),g=w(16274),M=w(21929),l=w(93324),C=w(84699),u=w(95974);function P(k,o){if(1&k){const O=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(O),t.oxw(2).close()}),t.qZA()}2&k&&t.Q6J("@background",void 0)}function U(k,o){if(1&k){const O=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const dt=t.CHM(O).$implicit;return t.oxw(4).toggleContactSelect(dt)}),t.TgZ(1,"td"),t.TgZ(2,"div",34),t._UZ(3,"mat-checkbox",35),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"td",36),t._uU(7),t.qZA(),t.qZA()}if(2&k){const O=o.$implicit,ot=t.oxw(4);t.ekj("disabled",ot.isLoading||ot.isSending),t.xp6(3),t.Q6J("ngModel",O.isSelected),t.xp6(2),t.Oqu(O.name),t.xp6(2),t.Oqu(O.email)}}function V(k,o){if(1&k&&(t.TgZ(0,"div",31),t.TgZ(1,"table"),t.TgZ(2,"colgroup"),t._UZ(3,"col",17),t._UZ(4,"col",17),t.qZA(),t.TgZ(5,"tbody"),t.YNc(6,U,8,5,"tr",32),t.qZA(),t.qZA(),t.qZA()),2&k){const O=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",O.contacts)}}function N(k,o){if(1&k){const O=t.EpF();t.TgZ(0,"div",37),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"div",38),t.NdJ("click",function(){t.CHM(O);const J=t.oxw(3);return J.removeDownloadEmail(J.emailIdx)}),t._UZ(4,"comp-icon",39),t.qZA(),t.qZA()}if(2&k){const O=o.$implicit;t.xp6(2),t.Oqu(O.email),t.xp6(2),t.Q6J("icon","close")("color","#fff")("size",18)}}function nt(k,o){if(1&k){const O=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(O);const J=t.oxw(3);return J.addDownloadEmail(J.inputDownloadEmail)}),t.TgZ(1,"i",41),t._uU(2,"add"),t.qZA(),t.qZA()}}function K(k,o){1&k&&(t.TgZ(0,"div",42),t._UZ(1,"comp-icon",39),t.TgZ(2,"span",43),t._uU(3,"Invalid email format"),t.qZA(),t.qZA()),2&k&&(t.xp6(1),t.Q6J("icon","warning")("color","#f1556c")("size",14))}function W(k,o){1&k&&(t.TgZ(0,"div",44),t.O4$(),t.TgZ(1,"svg",45),t._UZ(2,"circle",46),t.qZA(),t.qZA())}const q=function(k,o){return{validation:k,invalidation:o}};function x(k,o){if(1&k){const O=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3,"Video Download Link"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(O),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"div",14),t._uU(11," Download share link request will be sent to all emergency contacts of the site. You cannot delete the link once created. This link will be expired in 7 days. "),t.qZA(),t.TgZ(12,"div",15),t.TgZ(13,"table",16),t.TgZ(14,"colgroup"),t._UZ(15,"col",17),t._UZ(16,"col",17),t.qZA(),t.TgZ(17,"thead"),t.TgZ(18,"th"),t._uU(19,"Contacts List"),t.qZA(),t._UZ(20,"th"),t.qZA(),t.qZA(),t.YNc(21,V,7,1,"div",18),t.qZA(),t.qZA(),t.TgZ(22,"div",19),t.TgZ(23,"div",20),t._uU(24,"Email"),t.qZA(),t.TgZ(25,"div",21),t.YNc(26,N,5,4,"div",22),t.TgZ(27,"input",23),t.NdJ("ngModelChange",function(J){return t.CHM(O),t.oxw(2).inputDownloadEmail=J})("keydown",function(J){t.CHM(O);const dt=t.oxw(2);return dt.checkDownloadInputKey(J,dt.inputDownloadEmail)})("input",function(){t.CHM(O);const J=t.oxw(2);return J.validateEmail(J.inputDownloadEmail)}),t.qZA(),t.YNc(28,nt,3,0,"div",24),t.qZA(),t.YNc(29,K,4,3,"div",25),t.qZA(),t.qZA(),t.TgZ(30,"div",26),t.TgZ(31,"div",27),t.NdJ("click",function(){return t.CHM(O),t.oxw(2).sendVideoDownloadLinks()}),t.TgZ(32,"div",28),t.TgZ(33,"span"),t._uU(34,"Send Video Download Link"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",29),t.NdJ("click",function(){return t.CHM(O),t.oxw(2).close()}),t.TgZ(36,"div",28),t.TgZ(37,"span"),t._uU(38,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(39,W,3,0,"div",30),t.qZA()}if(2&k){const O=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(21),t.Q6J("ngIf",0!==O.contacts.length),t.xp6(4),t.ekj("disabled",O.isLoading||O.isSending),t.Q6J("ngClass",t.WLB(16,q,!1===O.inputEmailErr,O.inputEmailErr)),t.xp6(1),t.Q6J("ngForOf",O.downloadEmails),t.xp6(1),t.Q6J("placeholder",3!==O.downloadEmails.length?"e.g) contact@contact.com":"This download email is limited to 3 entries.")("ngModel",O.inputDownloadEmail)("disabled",3===O.downloadEmails.length),t.xp6(1),t.Q6J("ngIf",!1===O.inputEmailErr&&O.inputDownloadEmail),t.xp6(1),t.Q6J("ngIf",O.inputEmailErr),t.xp6(2),t.ekj("disabled",O.isLoading||O.isSending||!O.validSendDownloadLinks()),t.xp6(4),t.ekj("disabled",O.isLoading||O.isSending),t.xp6(4),t.Q6J("ngIf",O.isLoading)}}function B(k,o){if(1&k&&(t.TgZ(0,"div",2),t.YNc(1,P,1,1,"div",3),t.YNc(2,x,40,19,"div",4),t.qZA()),2&k){const O=t.oxw();t.xp6(1),t.Q6J("ngIf",O.modal.is_active),t.xp6(1),t.Q6J("ngIf",O.modal.is_active)}}let m=(()=>{class k{constructor(O,ot,J,dt){this.usersService=O,this.dealerService=ot,this.sitesService=J,this.eventsService=dt,this.onClose=new t.vpe,this.enable_modal=!1,this.isEditMode=!1,this.isLoading=!1,this.tail_status="none",this.m_warning=new f.u,this.site={},this.event={},this.contacts=[],this.downloadEmails=[],this.inputDownloadEmail="",this.inputEmailErr=!1,this.downloadExpirationDay=7,this.sentList=[],this.isValidate=!1,this.totalSendReq=0,this.sendResponses=[],this.isSending=!1,this.isSendSuccess=!1,this.isFinished=!1}ngOnInit(){this.usersService.getMe().subscribe(O=>{this.me=O})}ngOnChanges(O){this.isEditMode=!1,this.initData(),O.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.modal.data.site&&(this.setData(),this.fetchSiteContact()))}initData(){this.contacts=[],this.site={},this.event={},this.inputDownloadEmail="",this.inputEmailErr=!1,this.sentList=[],this.downloadEmails=[],this.isValidate=!1,this.totalSendReq=0,this.sendResponses=[],this.isSending=!1,this.isSendSuccess=!1}setData(){this.site=this.modal.data.site,this.event=this.modal.data.event}fetchSiteContact(){this.sitesService.getSiteContacts(this.me.dealer_id,this.site.site_id).subscribe(J=>{this.contacts=J})}toggleContactSelect(O){O.isSelected=!O.isSelected}checkDownloadInputKey(O,ot){const J=O.code,dt=ot.length,rt=this.downloadEmails.length;("Enter"===J||"Semicolon"===J||"Comma"===J)&&(ot=ot.replace(/[;|,|\r?\n|\r]/gi,""),this.addDownloadEmail(ot)),0===dt&&rt>0&&("Delete"===J||"Backspace"===J)&&this.removeDownloadEmail(this.downloadEmails.length-1)}addDownloadEmail(O){const ot=this.downloadEmails.length,J=this.validateEmail(O);J?(this.inputEmailErr=!1,!O||ot>2||!J||(this.downloadEmails.push({email:O,err:null}),this.inputDownloadEmail="",this.inputEmailErr=!1,setTimeout(()=>{this.inputDownloadEmail="",this.inputEmailErr=!1},0))):this.inputEmailErr="Invalid email format"}removeDownloadEmail(O){this.downloadEmails.splice(O,1)}validateEmail(O){let ot=!0;if(O){if(ot=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(O),O.length<3&&0!==O.length&&(ot=!1),!ot)return void(this.inputEmailErr="Invalid email format");this.inputEmailErr=!1}else this.inputEmailErr=!1;return ot}validSendDownloadLinks(){let O=!0;return 0===this.contacts.filter(J=>J.isSelected).length&&0===this.downloadEmails.length&&(this.inputDownloadEmail&&this.validateEmail(this.inputDownloadEmail)||(O=!1)),this.isValidate=O,O}sendVideoDownloadLinks(){this.sentList=[];let O=!0;if(!this.validSendDownloadLinks())return;const ot=this.contacts.filter(A=>A.isSelected);if(this.downloadEmails.forEach(A=>{const h=this.validateEmail(A.email);A.email?h?(ot.push(A),this.sentList.push(A),A.err=!1):(A.err="Invalid email format",O=!1):A.err=null}),this.inputDownloadEmail&&this.validateEmail(this.inputDownloadEmail)&&ot.push({email:this.inputDownloadEmail}),this.totalSendReq=ot.length,!O)return;this.sendResponses=[];let J=!1;const dt=this.me.dealer_id,rt=this.site.site_id,gt=this.event.device_id,c=this.event.event_id;if(dt&&rt&&gt&&c&&(J=!0),J){this.isSending=!0,this.sentList=ot;const A=parseInt(p()().add(this.downloadExpirationDay,"days").utc().format("X"));ot.forEach(h=>{!h.email||!this.validateEmail(h.email)||this.eventsService.createSiteDeviceEventShareLink(dt,rt,gt,c,A,1,1).subscribe(tt=>{this.sendEmailDownloadLink(h,tt.url)})})}}sendEmailDownloadLink(O,ot){const tt="Video Download Link Shared";this.eventsService.sendPsapEmail(this.me.dealer_id,this.site.site_id,this.event.device_id,this.event.event_id,void 0,O.email,ot,1,void 0).subscribe(at=>{this.sendResponses.push({receiver:O.email,res:!0}),this.checkSendResult(tt)},at=>{this.sendResponses.push({receiver:O.email,res:!1}),this.checkSendResult(tt)})}checkSendResult(O){let ot=null,J=[];this.totalSendReq===this.sendResponses.length&&(this.isSending=!1,J=this.sendResponses.filter(dt=>!1===dt.res),J.length>0?(ot=!1,this.confirmDialog("Share Failed",O,"warning","#ff8f00")):(ot=!0,this.isFinished=!0,this.confirmDialog("Share Complete",O))),this.isSendSuccess=ot}create(){this.isLoading=!0,this.dealerService.createTTS(this.me.dealer_id,{}).subscribe(J=>{setTimeout(()=>{this.confirmDialog("Success","Create a talkdown message","done","#1abc9c"),this.close()},200)},J=>{setTimeout(()=>{this.confirmDialog("Faild","Create a talkdown message","warning","#f1556c")},200)})}createDialog(O="",ot="",J="note_add",dt="#2383e2"){this.m_warning.data={header:O,contents:`\n        <p>${ot}</b></p>\n      `,submit_btn:this.isEditMode?"Edit":"Create",submit_class:["button-primary"],icon:J,isConfirm:!1,color:dt},this.m_warning.data.submit_func=()=>{this.isEditMode||this.create()},this.m_warning.open()}confirmDialog(O="",ot="",J="done",dt="green"){this.m_warning.data={header:O,contents:`\n        <p>${ot}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:J,isConfirm:!0,color:dt},this.m_warning.data.submit_func=()=>{this.close()},this.m_warning.open()}errorDialog(O,ot){let J="failed.";O.error&&O.error.message&&(J=O.error.message),O._body&&(J=JSON.parse(O._body).message),setTimeout(()=>{this.confirmDialog(ot,J,"warning","orange")},200),this.isLoading=!1}close(O){this.onClose.next(O||{res:!1}),this.modal.close(),setTimeout(ot=>{this.enable_modal=!1},200)}}return k.\u0275fac=function(O){return new(O||k)(t.Y36(s.f),t.Y36(L.X),t.Y36(b.f),t.Y36(S.n))},k.\u0275cmp=t.Xpm({type:k,selectors:[["app-share-download-link"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area"],[1,"item"],[1,"description"],[1,"mt-14"],[1,"table-header"],["width","50%"],["class","table-body","style","height: 100%;",4,"ngIf"],[1,"item",2,"position","relative"],[1,"title"],[1,"share-input","email-input-area","mt-7",3,"ngClass"],["class","share-email-list-item email-label",4,"ngFor","ngForOf"],["autocomplete","off","type","text",1,"email-input","mt-7",3,"placeholder","ngModel","disabled","ngModelChange","keydown","input"],["class","share-add absolute-right","data-title","Add Email",3,"click",4,"ngIf"],["class","share-validation-error",4,"ngIf"],[1,"tail-btn-area"],[1,"button","button-primary",3,"click"],[1,"btn-inner"],[1,"button","button-white",3,"click"],["class","loader absolute",4,"ngIf"],[1,"table-body",2,"height","100%"],["class","selectable",3,"disabled","click",4,"ngFor","ngForOf"],[1,"selectable",3,"click"],[1,"row"],[2,"margin-right","10px","pointer-events","none",3,"ngModel"],[1,"right"],[1,"share-email-list-item","email-label"],[1,"btn",3,"click"],[3,"icon","color","size"],["data-title","Add Email",1,"share-add","absolute-right",3,"click"],[1,"material-icons"],[1,"share-validation-error"],[2,"margin-left","3px"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(O,ot){1&O&&(t.YNc(0,B,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&O&&(t.Q6J("ngIf",ot.enable_modal),t.xp6(1),t.Q6J("modal",ot.m_warning))},directives:[g.O5,M.a,g.mk,g.sg,l.Fj,l.JJ,l.On,C.oG,u.U],styles:[".align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.share-input[_ngcontent-%COMP%]{position:relative;width:100%}.share-input[_ngcontent-%COMP%]   .share-email-list[_ngcontent-%COMP%]{display:flex;margin:4px 0}.share-input[_ngcontent-%COMP%]   .share-email-list-item[_ngcontent-%COMP%]{display:flex;background-color:#1f8fff;border:1px solid #1f8fff;border-radius:18px;height:24px;margin-right:7px;font-size:14px;color:#ffffffde;padding:0 7px 0 14px;align-items:center;justify-content:center}.share-input[_ngcontent-%COMP%]   .share-email-list-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer}.email-input-area[_ngcontent-%COMP%]{display:flex;min-height:48px;align-items:center;flex-wrap:wrap;border:1px solid #2383e2;background-color:#fff}input.email-input[_ngcontent-%COMP%]{flex:1;background-color:#fff;width:100%;padding:9px 50px 9px 20px;margin:4px 0;display:inline-block;border:none!important;box-sizing:border-box;outline-style:solid 1px;color:#000000de;font-size:14px}.email-label[_ngcontent-%COMP%]{margin:9px 4px;color:#0000004d}.share-add[_ngcontent-%COMP%]{margin:0 4px;color:#2f96fb;cursor:pointer}.share-add.absolute-right[_ngcontent-%COMP%]{position:absolute;top:8px;right:0}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.share-validation-error[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;flex-direction:row;justify-content:left;align-items:center;color:#ed5e76;font-family:Roboto;font-size:12px}.validation[_ngcontent-%COMP%]{border:1px solid rgba(47,150,251,.6)}.invalidation[_ngcontent-%COMP%]{border:1px solid #ed5e76}input[type=text].validation[_ngcontent-%COMP%], [type=email].validation[_ngcontent-%COMP%], [type=tel].validation[_ngcontent-%COMP%]{border:1px solid rgba(47,150,251,.6)}input[type=text].invalidation[_ngcontent-%COMP%], [type=email].invalidation[_ngcontent-%COMP%], [type=tel].invalidation[_ngcontent-%COMP%]{border:1px solid #ed5e76}  .mat-checkbox-label{color:#0009;font-size:14px}",'.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),k})()},86996:(St,E,w)=>{"use strict";w.d(E,{h:()=>L});var t=w(16274),e=w(93324),f=w(56447),d=w(84699),p=w(688),s=w(42741);let L=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=s.oAB({type:b}),b.\u0275inj=s.cJS({imports:[[t.ez,e.u5,d.p9,f.q,p.m]]}),b})()}}]);