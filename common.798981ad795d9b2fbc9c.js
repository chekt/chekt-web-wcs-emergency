"use strict";(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[8592],{15169:(u,g,n)=>{n.d(g,{T:()=>P});var _=n(61855),e=n(59053),t=n(42741),a=n(35460),c=n(54414),l=n(78806),p=n(56880),O=n(95974);let P=(()=>{class M{constructor(d,m,i,o){this.helper=d,this.siteService=m,this.devicesService=i,this.commonService=o,this.hasCreateSiteDevicePermission=!1}ngOnInit(){this.site=this.siteService.selSite,this.hasCreateSiteDevicePermission=this.helper.permission.has("dealer_site_device_create")}goToDeviceList(){return(0,_.mG)(this,void 0,void 0,function*(){this.commonService.emitSiteTab([{name:"Devices",link:"devices/device-list"},"device-list"]),this.helper.router.navigate_to("/customers/devices/device-list",{id:this.site.site_id}),yield e.Z.tool.sleep(100),this.devicesService.onOpenBridgeRegister.emit(!0)})}}return M.\u0275fac=function(d){return new(d||M)(t.Y36(a.W),t.Y36(c.f),t.Y36(l.I),t.Y36(p.v))},M.\u0275cmp=t.Xpm({type:M,selectors:[["c_card_need_bridge"]],inputs:{title:"title"},decls:17,vars:4,consts:[[1,"external-widget","widget-item",2,"height","fit-content"],[1,"header"],[1,"title"],[1,"widget-body",2,"display","flex","justify-content","center"],[1,"item-row",2,"justify-content","center","gap","20px","margin-top","30px","margin-bottom","30px"],[1,"no-bridge-icon",3,"icon","size","color"],[1,"flex-column","justify-center",2,"justify-content","center","max-width","600px"],[1,"no-bridge-title"],[1,"no-bridge-desc"],[1,"btn-area"],[1,"button","button-white"],[1,"btn-inner",3,"click"]],template:function(d,m){1&d&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t._UZ(6,"comp-icon",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t._uU(9,"No Registered CHeKT Bridge"),t.qZA(),t.TgZ(10,"div",8),t._uU(11,"We've noticed that a compatible device is not detected. To utilize this specific feature, the presence of a compatible device is essential. Please ensure that your device is connected and recognized to continue. Our aim is to provide you with a seamless experience, and having the appropriate device in place is crucial for this feature."),t.qZA(),t.TgZ(12,"div"),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.NdJ("click",function(){return m.goToDeviceList()}),t._uU(16,"Go to add Device"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&d&&(t.xp6(3),t.Oqu(m.title),t.xp6(3),t.Q6J("icon","upcoming")("size",32)("color","#87909f"))},directives:[O.U],styles:['.widget[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:calc(100% - 14px);max-width:1200px;min-width:300px;max-height:calc(100% - 15px);background:white;transition:.5s;border-radius:3px;border:1px solid rgba(0,0,0,.1);margin:0 5px 10px}.widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 108px);padding:20px}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:14px}.widget-item[_ngcontent-%COMP%]{flex:none;font-size:14px;color:#000000de}.widget-item[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{padding:14px 30px}.widget[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:7px}.widget[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:200px;font-size:14px;color:#0009}.widget[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{display:flex;padding:7px 0}.widget[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-bottom[_ngcontent-%COMP%]{display:flex;padding-top:6px}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;font-size:16px;padding:12px 20px;color:#000000de}.header[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{padding:7px 16px}.header[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{color:#aaa;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{color:#1e88e5}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{color:#1e88e5}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px;height:100px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.selectitem[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer;display:flex;flex-direction:row;font-size:14px}.selectitem[_ngcontent-%COMP%]:hover{background-color:#ebebeb}.selectitem.selected[_ngcontent-%COMP%]{background-color:#e0e0e0}.selectitem.label[_ngcontent-%COMP%]{margin:2px 0;max-width:420px;font-size:14px;padding:8px 10px;justify-content:space-between}.select-list[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;font-size:14px;border-style:solid;border-width:1px;border-radius:5px;border-color:#dfdfdf;overflow-x:hidden;white-space:nowrap;z-index:500;font-weight:500}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]{font-size:14px;color:#000000de}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]{width:100%;outline:none;border:0;border-bottom:1px solid rgba(0,0,0,.1);height:30px;text-indent:16px}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]{display:flex}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#1e90ff;filter:none}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]{display:flex;margin-right:5px;justify-content:center;color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:18px}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon.checked[_ngcontent-%COMP%]{color:#1f8fff}.select-list[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{margin:14px}[sortable-column][_ngcontent-%COMP%]{cursor:pointer}',".no-bridge-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;padding-bottom:10px}.no-bridge-desc[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#687385;padding-bottom:20px;line-height:20px;max-width:600px}.no-bridge-icon[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;height:-moz-fit-content;height:fit-content}.external-widget[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;transition:.5s;border-radius:3px;border:1px solid rgba(0,0,0,.1)}.external-widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}"]}),M})()},73121:(u,g,n)=>{n.d(g,{Z:()=>l});var _=n(46243),t=n(76052),a=n.n(t),c=n(49951);const l={_,moment:a(),tool:c.Z}},71905:(u,g,n)=>{n.d(g,{Y:()=>f});var _=n(61855),e=n(42741),t=n(80646),a=n(59053),c=n(54414),l=n(29535),p=n(93324),O=n(16274);const P=["searcherDate"];function M(d,m){if(1&d){const i=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){return e.CHM(i),e.oxw().clearDates()}),e.TgZ(1,"i",3),e._uU(2,"cancel"),e.qZA(),e.qZA()}}let f=(()=>{class d{constructor(i,o,r,s){this.sitesService=i,this.router=o,this.renderer=r,this.cdr=s,this.label="Create",this.minDate=null,this.isSetToday=!1,this.dateRange=new e.vpe,this.currentUrl="",this.selected={start:null,end:null},this.isSelectedDate=!1,this.timePicker=!1,this.timePicker24Houre=!1,this.isFocusSearchDate=!1,this.today=a.Z.moment(),this.startDate=a.Z.moment().utc().startOf("day"),this.endDate=a.Z.moment().utc().endOf("day"),this.locale={format:"MMM/DD/YY",displayFormat:"MMM/DD/YY",separator:" To ",cancelLabel:"Cancel",applyLabel:"Apply"},this.ranges={Today:[a.Z.moment().startOf("day"),a.Z.moment().endOf("day")],Yesterday:[a.Z.moment().subtract(1,"days").startOf("day"),a.Z.moment().subtract(1,"days").endOf("day")],"Last 7 Days":[a.Z.moment().subtract(6,"days").startOf("day"),a.Z.moment().endOf("day")],"Last 30 Days":[a.Z.moment().subtract(29,"days").startOf("day"),a.Z.moment().endOf("day")],"This Month":[a.Z.moment().startOf("month").startOf("day"),a.Z.moment().endOf("month")],"Last Month":[a.Z.moment().subtract(1,"month").startOf("month").startOf("day"),a.Z.moment().subtract(1,"month").endOf("month")]}}onGlobalClick(i){this.searcherDate&&(this.searcherDate.nativeElement.contains(i.target)||(this.isFocusSearchDate=!1))}ngOnInit(){this.initData()}ngAfterViewInit(){return(0,_.mG)(this,void 0,void 0,function*(){yield a.Z.tool.sleep(80),this.showOnlySelectedCalendar({rightHide:!0,leftHide:!1}),this.setCalenderWidth(),this.clearDates()})}ngOnChanges(i){!i.tab||i.tab.previousValue!==i.tab.currentValue&&i.tab.currentValue&&this.clearDates()}initData(){this.isFocusSearchDate=!1,this.isSelectedDate=!1,this.currentUrl=this.router.url,this.currentUrl.includes("customers")&&(this.site=this.sitesService.selSite,this.timePicker=!0,this.timePicker24Houre=!0,this.locale.format="MM/DD/YY HH:mm",this.locale.displayFormat="MM/DD/YY HH:mm")}setSearchFocusStartDate(i){this.isFocusSearchDate=i}setCalenderWidth(){const i=document.querySelectorAll(".md-drppicker");!i||!(null==i?void 0:i.length)||i.forEach(o=>{this.renderer.setStyle(o,"width","390px")})}clearDates(){this.picker&&(this.picker.clear(),this.isSelectedDate=!1,this.cdr.detectChanges())}calandarUpdate(i){var o;if(!i)return;const{startDate:r,endDate:s}=i;r&&(this.isSelectedDate=!0),(null===(o=this.site)||void 0===o?void 0:o.timezone)?(this.selected.start=r.tz(this.site.timezone),this.selected.end=s.tz(this.site.timezone)):(this.selected.start=r,this.selected.end=s),this.dateRange.emit({label:this.label,selected:this.selected})}calandarUpdateInRange(i){var o;if(!i)return;const{label:r,dates:s}=i;this.selected.start===s[0]&&this.selected.end===s[1]||((null===(o=this.site)||void 0===o?void 0:o.timezone)?(this.selected.start=s[0].tz(this.site.timezone),this.selected.end=s[1].tz(this.site.timezone)):(this.selected.start=s[0],this.selected.end=s[1]),this.showOnlySelectedCalendar("Today"===r||"Yesterday"===r||"Last 7 Days"===r?{rightHide:!1,leftHide:!0}:{rightHide:!0,leftHide:!1}),this.dateRange.emit({label:this.label,selected:this.selected}))}showOnlySelectedCalendar(i){const o=document.querySelectorAll(".calendar.right"),r=document.querySelectorAll(".calendar.left"),{rightHide:s,leftHide:C}=i;if(s){if(!o||!(null==o?void 0:o.length))return;o.forEach(h=>{this.renderer.setStyle(h,"display","none")}),r.forEach(h=>{this.renderer.setStyle(h,"display","block")})}if(C){if(!r||!(null==r?void 0:r.length))return;r.forEach(h=>{this.renderer.setStyle(h,"display","none")}),o.forEach(h=>{this.renderer.setStyle(h,"display","block")})}}}return d.\u0275fac=function(i){return new(i||d)(e.Y36(c.f),e.Y36(l.F0),e.Y36(e.Qsj),e.Y36(e.sBO))},d.\u0275cmp=e.Xpm({type:d,selectors:[["c_filter_date_range"]],viewQuery:function(i,o){if(1&i&&(e.Gf(P,5),e.Gf(t.SP,5)),2&i){let r;e.iGM(r=e.CRH())&&(o.searcherDate=r.first),e.iGM(r=e.CRH())&&(o.picker=r.first)}},hostBindings:function(i,o){1&i&&e.NdJ("mousedown",function(s){return o.onGlobalClick(s)},!1,e.evT)},inputs:{label:"label",tab:"tab",minDate:"minDate",isSetToday:"isSetToday"},outputs:{dateRange:"dateRange"},features:[e.TTD],decls:9,vars:16,consts:[[2,"display","flex","max-width","350px","position","unset"],[1,"search-container",2,"margin-right","12px","position","unset","font-size","14px","height","30px",3,"click"],["searcherDate",""],[1,"material-icons",2,"font-size","16px"],[2,"font-size","13px","color","gray"],["autocomplete","off","type","text","ngxDaterangepickerMd","","startKey","start","endKey","end",2,"color","hsla(0,0%,0%,0.87)",3,"ngModel","placeholder","locale","minDate","maxDate","ranges","showClearButton","showRangeLabelOnInput","alwaysShowCalendars","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","ngModelChange","datesUpdated","rangeClicked"],["class","search-close",3,"click",4,"ngIf"],[1,"search-close",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1,2),e.NdJ("click",function(){return o.setSearchFocusStartDate(!0)}),e.TgZ(3,"i",3),e._uU(4,"date_range"),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.qZA(),e.TgZ(7,"input",5),e.NdJ("ngModelChange",function(s){return o.selected=s})("datesUpdated",function(s){return o.calandarUpdate(s)})("rangeClicked",function(s){return o.calandarUpdateInRange(s)}),e.qZA(),e.YNc(8,M,3,0,"div",6),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.ekj("search-focus",o.isFocusSearchDate),e.xp6(5),e.hij("",o.label," : "),e.xp6(1),e.Q6J("ngModel",o.selected)("placeholder",o.isSetToday?"Today":"All Date Range")("locale",o.locale)("minDate",o.minDate)("maxDate",o.today)("ranges",o.ranges)("showClearButton",!0)("showRangeLabelOnInput",!0)("alwaysShowCalendars",!0)("keepCalendarOpeningWithRange",!0)("timePicker",o.timePicker)("timePicker24Hour",o.timePicker24Houre),e.xp6(1),e.Q6J("ngIf",o.isSelectedDate))},directives:[t.SP,p.Fj,p.JJ,p.On,O.O5],styles:[".hide[_ngcontent-%COMP%]{display:none}input[_ngcontent-%COMP%]{border:none;width:165px!important}"]}),d})()},11314:(u,g,n)=>{n.d(g,{P:()=>c});var _=n(16274),e=n(93324),t=n(56447),a=n(42741);let c=(()=>{class l{}return l.\u0275fac=function(O){return new(O||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[_.ez,e.u5,t.q]]}),l})()},87572:(u,g,n)=>{n.d(g,{I:()=>a});var _=n(16274),e=n(93324),t=n(42741);let a=(()=>{class c{}return c.\u0275fac=function(p){return new(p||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[_.ez,e.u5]]}),c})()},44304:(u,g,n)=>{n.d(g,{S:()=>a});var _=n(16274),e=n(93324),t=n(42741);let a=(()=>{class c{}return c.\u0275fac=function(p){return new(p||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[_.ez,e.u5]]}),c})()}}]);