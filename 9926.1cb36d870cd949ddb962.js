(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[9926],{71687:(Ft,A)=>{var t;!function(e,u,d,f){"use strict";var c,s={URL:e.URL||e.webkitURL||e.mozURL||e.msURL,getUserMedia:(c=d.getUserMedia||d.webkitGetUserMedia||d.mozGetUserMedia||d.msGetUserMedia,c&&c.bind(d)),requestAnimFrame:e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,requestTimeout:function(i,y){if(i=i||s.noop,y=y||0,!s.requestAnimFrame)return setTimeout(i,y);var k=(new Date).getTime(),h=new Object,X=s.requestAnimFrame;return h.value=X(function G(){(new Date).getTime()-k>=y?i.call():h.value=X(G)}),h},Blob:e.Blob||e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,btoa:function(){var c=e.btoa||function(i){for(var y="",k=0,h=i.length,X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rt=void 0,G=void 0,at=void 0,pt=void 0,Ot=void 0,Tt=void 0,xt=void 0;k<h;)pt=(rt=i.charCodeAt(k++))>>2,Ot=(3&rt)<<4|(G=i.charCodeAt(k++))>>4,Tt=(15&G)<<2|(at=i.charCodeAt(k++))>>6,xt=63&at,isNaN(G)?Tt=xt=64:isNaN(at)&&(xt=64),y=y+X.charAt(pt)+X.charAt(Ot)+X.charAt(Tt)+X.charAt(xt);return y};return c?c.bind(e):s.noop}(),isObject:function(i){return i&&"[object Object]"===Object.prototype.toString.call(i)},isEmptyObject:function(i){return s.isObject(i)&&!Object.keys(i).length},isArray:function(i){return i&&Array.isArray(i)},isFunction:function(i){return i&&"function"==typeof i},isElement:function(i){return i&&1===i.nodeType},isString:function(i){return"string"==typeof i||"[object String]"===Object.prototype.toString.call(i)},isSupported:{canvas:function(){var i=u.createElement("canvas");return i&&i.getContext&&i.getContext("2d")},webworkers:function(){return e.Worker},blob:function(){return s.Blob},Uint8Array:function(){return e.Uint8Array},Uint32Array:function(){return e.Uint32Array},videoCodecs:function(){var c=u.createElement("video"),i={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{c&&c.canPlayType&&(i.mp4=""!==c.canPlayType('video/mp4; codecs="mp4v.20.8"'),i.h264=""!==(c.canPlayType('video/mp4; codecs="avc1.42E01E"')||c.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),i.ogv=""!==c.canPlayType('video/ogg; codecs="theora"'),i.ogg=""!==c.canPlayType('video/ogg; codecs="theora"'),i.webm=-1!==c.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(y){}return i}()},noop:function(){},each:function(i,y){var k=void 0,h=void 0;if(s.isArray(i))for(k=-1,h=i.length;++k<h&&!1!==y(k,i[k]););else if(s.isObject(i))for(k in i)if(i.hasOwnProperty(k)&&!1===y(k,i[k]))break},mergeOptions:function(i,y){if(s.isObject(i)&&s.isObject(y)&&Object.keys){var k={};return s.each(i,function(h,X){k[h]=i[h]}),s.each(y,function(h,X){var rt=y[h];k[h]=s.isObject(rt)&&i[h]?s.mergeOptions(i[h],rt):rt}),k}},setCSSAttr:function(i,y,k){!s.isElement(i)||(s.isString(y)&&s.isString(k)?i.style[y]=k:s.isObject(y)&&s.each(y,function(h,X){i.style[h]=X}))},removeElement:function(i){!s.isElement(i)||i.parentNode&&i.parentNode.removeChild(i)},createWebWorker:function(i){if(!s.isString(i))return{};try{var y=new s.Blob([i],{type:"text/javascript"}),k=s.URL.createObjectURL(y);return{objectUrl:k,worker:new Worker(k)}}catch(X){return""+X}},getExtension:function(i){return i.substr(i.lastIndexOf(".")+1,i.length)},getFontSize:function(){var i=arguments.length>0&&arguments[0]!==f?arguments[0]:{};if(!u.body||!1===i.resizeFont)return i.fontSize;var y=i.text,k=i.gifWidth,h=parseInt(i.fontSize,10),X=parseInt(i.minFontSize,10),rt=u.createElement("div"),G=u.createElement("span");for(rt.setAttribute("width",k),rt.appendChild(G),G.innerHTML=y,G.style.fontSize=h+"px",G.style.textIndent="-9999px",G.style.visibility="hidden",u.body.appendChild(G);G.offsetWidth>k&&h>=X;)G.style.fontSize=--h+"px";return u.body.removeChild(G),h+"px"},webWorkerError:!1},Z=Object.freeze({default:s}),O={validate:function(i){i=s.isObject(i)?i:{};var y={};return s.each(O.validators,function(k,h){if(!i[h.errorCode]&&!h.condition)return(y=h).error=!0,!1}),delete y.condition,y},isValid:function(i){return!0!==O.validate(i).error},validators:[{condition:s.isFunction(s.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:s.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:s.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:s.isFunction(s.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:s.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:s.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:s.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},T=Object.freeze({default:O}),g=function(){},M={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:g,completeCallback:g,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},l=Object.freeze({default:M});function m(){return O.isValid()}function N(){var lt,Y,mt,a,U,c=256,i=499,y=491,k=487,h=503,X=3*h,rt=c-1,G=4,at=100,pt=16,Ot=1<<pt,Tt=10,n=10,W=Ot>>n,j=Ot<<Tt-n,v=c>>3,p=6,E=1<<p,K=v*E,tt=30,q=10,nt=1<<q,st=8,ht=1<<st,At=q+st,wt=1<<At,V=[],ct=[],gt=[],ft=[];function F(ut,Ct,St){var kt,Zt;for(Y=ut,mt=Ct,a=St,U=new Array(c),kt=0;kt<c;kt++)U[kt]=new Array(4),(Zt=U[kt])[0]=Zt[1]=Zt[2]=(kt<<G+8)/c|0,gt[kt]=Ot/c|0,ct[kt]=0}function dt(){for(var ut=[],Ct=new Array(c),St=0;St<c;St++)Ct[U[St][3]]=St;for(var kt=0,Zt=0;Zt<c;Zt++){var Mt=Ct[Zt];ut[kt++]=U[Mt][0],ut[kt++]=U[Mt][1],ut[kt++]=U[Mt][2]}return ut}function r(){var ut,Ct,St,kt,Zt,Mt,Pt,Lt;for(Pt=0,Lt=0,ut=0;ut<c;ut++){for(St=ut,kt=(Zt=U[ut])[1],Ct=ut+1;Ct<c;Ct++)(Mt=U[Ct])[1]<kt&&(St=Ct,kt=Mt[1]);if(Mt=U[St],ut!=St&&(Ct=Mt[0],Mt[0]=Zt[0],Zt[0]=Ct,Ct=Mt[1],Mt[1]=Zt[1],Zt[1]=Ct,Ct=Mt[2],Mt[2]=Zt[2],Zt[2]=Ct,Ct=Mt[3],Mt[3]=Zt[3],Zt[3]=Ct),kt!=Pt){for(V[Pt]=Lt+ut>>1,Ct=Pt+1;Ct<kt;Ct++)V[Ct]=ut;Pt=kt,Lt=ut}}for(V[Pt]=Lt+rt>>1,Ct=Pt+1;Ct<256;Ct++)V[Ct]=rt}function L(){var ut,Ct,St,kt,Zt,Mt,Pt,Lt,It,Dt,Nt,Ut,Rt,Bt;for(mt<X&&(a=1),lt=30+(a-1)/3,Ut=Y,Rt=0,Bt=mt,Dt=(Nt=mt/(3*a))/at|0,Lt=nt,(Pt=(Mt=K)>>p)<=1&&(Pt=0),ut=0;ut<Pt;ut++)ft[ut]=Lt*((Pt*Pt-ut*ut)*ht/(Pt*Pt));for(It=mt<X?3:mt%i!=0?3*i:mt%y!=0?3*y:mt%k!=0?3*k:3*h,ut=0;ut<Nt;)if(Et(Lt,Ct=qt(St=(255&Ut[Rt+0])<<G,kt=(255&Ut[Rt+1])<<G,Zt=(255&Ut[Rt+2])<<G),St,kt,Zt),0!==Pt&&yt(Pt,Ct,St,kt,Zt),(Rt+=It)>=Bt&&(Rt-=mt),0===Dt&&(Dt=1),++ut%Dt==0)for(Lt-=Lt/lt,(Pt=(Mt-=Mt/tt)>>p)<=1&&(Pt=0),Ct=0;Ct<Pt;Ct++)ft[Ct]=Lt*((Pt*Pt-Ct*Ct)*ht/(Pt*Pt))}function J(ut,Ct,St){var kt,Zt,Mt,Pt,Lt,It,Dt;for(Lt=1e3,Dt=-1,Zt=(kt=V[Ct])-1;kt<c||Zt>=0;)kt<c&&((Mt=(It=U[kt])[1]-Ct)>=Lt?kt=c:(kt++,Mt<0&&(Mt=-Mt),(Pt=It[0]-ut)<0&&(Pt=-Pt),(Mt+=Pt)<Lt&&((Pt=It[2]-St)<0&&(Pt=-Pt),(Mt+=Pt)<Lt&&(Lt=Mt,Dt=It[3])))),Zt>=0&&((Mt=Ct-(It=U[Zt])[1])>=Lt?Zt=-1:(Zt--,Mt<0&&(Mt=-Mt),(Pt=It[0]-ut)<0&&(Pt=-Pt),(Mt+=Pt)<Lt&&((Pt=It[2]-St)<0&&(Pt=-Pt),(Mt+=Pt)<Lt&&(Lt=Mt,Dt=It[3]))));return Dt}function _t(){return L(),vt(),r(),dt()}function vt(){var ut;for(ut=0;ut<c;ut++)U[ut][0]>>=G,U[ut][1]>>=G,U[ut][2]>>=G,U[ut][3]=ut}function yt(ut,Ct,St,kt,Zt){var Mt,Pt,Lt,It,Dt,Nt,Ut;for((Lt=Ct-ut)<-1&&(Lt=-1),(It=Ct+ut)>c&&(It=c),Mt=Ct+1,Pt=Ct-1,Nt=1;Mt<It||Pt>Lt;){if(Dt=ft[Nt++],Mt<It){Ut=U[Mt++];try{Ut[0]-=Dt*(Ut[0]-St)/wt|0,Ut[1]-=Dt*(Ut[1]-kt)/wt|0,Ut[2]-=Dt*(Ut[2]-Zt)/wt|0}catch(Rt){}}if(Pt>Lt){Ut=U[Pt--];try{Ut[0]-=Dt*(Ut[0]-St)/wt|0,Ut[1]-=Dt*(Ut[1]-kt)/wt|0,Ut[2]-=Dt*(Ut[2]-Zt)/wt|0}catch(Rt){}}}}function Et(ut,Ct,St,kt,Zt){var Mt=U[Ct],Pt=ut/nt;Mt[0]-=Pt*(Mt[0]-St)|0,Mt[1]-=Pt*(Mt[1]-kt)|0,Mt[2]-=Pt*(Mt[2]-Zt)|0}function qt(ut,Ct,St){var kt,Zt,Mt,Pt,Lt,It,Dt,Nt,Ut,Rt;for(Ut=Nt=~(1<<31),Dt=It=-1,kt=0;kt<c;kt++)(Zt=(Rt=U[kt])[0]-ut)<0&&(Zt=-Zt),(Mt=Rt[1]-Ct)<0&&(Mt=-Mt),Zt+=Mt,(Mt=Rt[2]-St)<0&&(Mt=-Mt),(Zt+=Mt)<Nt&&(Nt=Zt,It=kt),(Pt=Zt-(ct[kt]>>pt-G))<Ut&&(Ut=Pt,Dt=kt),gt[kt]-=Lt=gt[kt]>>n,ct[kt]+=Lt<<Tt;return gt[It]+=W,ct[It]-=j,Dt}F.apply(this,arguments);var zt={};return zt.map=J,zt.process=_t,zt}function R(){try{this.onmessage=function(y){var h,k=y.data||{};k.gifshot&&(h=i.run(k),postMessage(h))}}catch(y){}var i={dataToRGB:function(k,h,X){for(var rt=h*X*4,G=0,at=[];G<rt;)at.push(k[G++]),at.push(k[G++]),at.push(k[G++]),G++;return at},componentizedPaletteToArray:function(k){k=k||[];for(var h=[],X=0;X<k.length;X+=3)h.push(k[X]<<16|k[X+1]<<8|k[X+2]);return h},processFrameWithQuantizer:function(k,h,X,rt){for(var G=this.dataToRGB(k,h,X),at=new N(G,G.length,rt),pt=at.process(),Ot=new Uint32Array(this.componentizedPaletteToArray(pt)),Tt=h*X,xt=new Uint8Array(Tt),n=0,W=0;W<Tt;W++){var j=G[n++],v=G[n++],p=G[n++];xt[W]=at.map(j,v,p)}return{pixels:xt,palette:Ot}},run:function(k){return this.processFrameWithQuantizer((k=k||{}).data,k.width,k.height,k.sampleInterval)}};return i}function et(c,i,y,k){var h=0,X=(k=k===f?{}:k).loop===f?null:k.loop,rt=k.palette===f?null:k.palette;if(i<=0||y<=0||i>65535||y>65535)throw"Width/Height invalid.";if(c[h++]=71,c[h++]=73,c[h++]=70,c[h++]=56,c[h++]=57,c[h++]=97,c[h++]=255&i,c[h++]=i>>8&255,c[h++]=255&y,c[h++]=y>>8&255,c[h++]=0|(null!==rt?128:0),c[h++]=0,c[h++]=0,null!==X){if(X<0||X>65535)throw"Loop count invalid.";c[h++]=33,c[h++]=255,c[h++]=11,c[h++]=78,c[h++]=69,c[h++]=84,c[h++]=83,c[h++]=67,c[h++]=65,c[h++]=80,c[h++]=69,c[h++]=50,c[h++]=46,c[h++]=48,c[h++]=3,c[h++]=1,c[h++]=255&X,c[h++]=X>>8&255,c[h++]=0}var Ot=!1;this.addFrame=function(xt,n,W,j,v,p){if(!0===Ot&&(--h,Ot=!1),xt<0||n<0||xt>65535||n>65535)throw"x/y invalid.";if(W<=0||j<=0||W>65535||j>65535)throw"Width/Height invalid.";if(v.length<W*j)throw"Not enough pixels for the frame size.";var E=!0,K=(p=p===f?{}:p).palette;if((K===f||null===K)&&(E=!1,K=rt),K===f||null===K)throw"Must supply either a local or global palette.";for(var tt=function(xt){var n=xt.length;if(n<2||n>256||n&n-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return n}(K),q=0;tt>>=1;)++q;tt=1<<q;var nt=p.delay===f?0:p.delay,lt=p.disposal===f?0:p.disposal;if(lt<0||lt>3)throw"Disposal out of range.";var st=!1,ht=0;if(p.transparent!==f&&null!==p.transparent&&(st=!0,(ht=p.transparent)<0||ht>=tt))throw"Transparent color index.";if((0!==lt||st||0!==nt)&&(c[h++]=33,c[h++]=249,c[h++]=4,c[h++]=lt<<2|(!0===st?1:0),c[h++]=255&nt,c[h++]=nt>>8&255,c[h++]=ht,c[h++]=0),c[h++]=44,c[h++]=255&xt,c[h++]=xt>>8&255,c[h++]=255&n,c[h++]=n>>8&255,c[h++]=255&W,c[h++]=W>>8&255,c[h++]=255&j,c[h++]=j>>8&255,c[h++]=!0===E?128|q-1:0,!0===E)for(var At=0,wt=K.length;At<wt;++At){var Y=K[At];c[h++]=Y>>16&255,c[h++]=Y>>8&255,c[h++]=255&Y}h=function(xt,n,W,j){xt[n++]=W;var v=n++,p=1<<W,E=p-1,K=p+1,tt=K+1,q=W+1,nt=0,lt=0;function st(ct){for(;nt>=ct;)xt[n++]=255&lt,lt>>=8,nt-=8,n===v+256&&(xt[v]=255,v=n++)}function ht(ct){lt|=ct<<nt,nt+=q,st(8)}var At=j[0]&E,wt={};ht(p);for(var Y=1,mt=j.length;Y<mt;++Y){var a=j[Y]&E,U=At<<8|a,V=wt[U];if(V===f){for(lt|=At<<nt,nt+=q;nt>=8;)xt[n++]=255&lt,lt>>=8,nt-=8,n===v+256&&(xt[v]=255,v=n++);4096===tt?(ht(p),tt=K+1,q=W+1,wt={}):(tt>=1<<q&&++q,wt[U]=tt++),At=a}else At=V}return ht(At),ht(K),st(1),v+1===n?xt[v]=0:(xt[v]=n-v-1,xt[n++]=0),n}(c,h,q<2?2:q,v)},this.end=function(){return!1===Ot&&(c[h++]=59,Ot=!0),h}}var Q=function(){},H=function(i){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=Q,this.onRenderProgressCallback=Q,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=i,this.initializeWebWorkers(i)};function D(c,i){c.getBase64GIF(function(y){i({error:!1,errorCode:"",errorMsg:"",image:y})})}H.prototype={workerMethods:R(),initializeWebWorkers:function(i){var G,k=N.toString()+"("+R.toString()+"());",h=void 0,rt=void 0,at=-1,pt="";for(G=i.numWorkers;++at<G;)h=s.createWebWorker(k),s.isObject(h)?(this.workers.push({worker:rt=h.worker,objectUrl:h.objectUrl}),this.availableWorkers.push(rt)):(pt=h,s.webWorkerError=!!h);this.workerError=pt,this.canvas=u.createElement("canvas"),this.canvas.width=i.gifWidth,this.canvas.height=i.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(i){this.availableWorkers.push(i)},byteMap:function(){for(var c=[],i=0;i<256;i++)c[i]=String.fromCharCode(i);return c}(),bufferToString:function(i){for(var y=i.length,k="",h=-1;++h<y;)k+=this.byteMap[i[h]];return k},onFrameFinished:function(i){var y=this,k=y.frames,X=!!(y.options.images||[]).length,rt=k.every(function(G){return!G.beingProcessed&&G.done});y.numRenderedFrames++,X&&i(y.numRenderedFrames/k.length),y.onRenderProgressCallback(.75*y.numRenderedFrames/k.length),rt?y.generatingGIF||y.generateGIF(k,y.onRenderCompleteCallback):s.requestTimeout(function(){y.processNextFrame()},1)},processFrame:function(i){var y=this,h=this.options,X=h.progressCallback,rt=h.sampleInterval,at=void 0,pt=void 0,Ot=function(){var xt=arguments.length>0&&arguments[0]!==f?arguments[0]:{},n=xt.data;delete at.data,at.pixels=Array.prototype.slice.call(n.pixels),at.palette=Array.prototype.slice.call(n.palette),at.done=!0,at.beingProcessed=!1,y.freeWorker(pt),y.onFrameFinished(X)};(at=this.frames[i]).beingProcessed||at.done?this.onFrameFinished():(at.sampleInterval=rt,at.beingProcessed=!0,at.gifshot=!0,(pt=this.getWorker())?(pt.onmessage=Ot,pt.postMessage(at)):Ot({data:y.workerMethods.run(at)}))},startRendering:function(i){this.onRenderCompleteCallback=i;for(var y=0;y<this.options.numWorkers&&y<this.frames.length;y++)this.processFrame(y)},processNextFrame:function(){for(var i=-1,y=0;y<this.frames.length;y++){var k=this.frames[y];if(!k.done&&!k.beingProcessed){i=y;break}}i>=0&&this.processFrame(i)},generateGIF:function(i,y){var k=[],X=this.options,rt=X.interval,G=X.frameDuration,pt=!!X.images.length,Ot=X.gifHeight,Tt=X.gifWidth,xt=new et(k,Tt,Ot,{loop:this.repeat}),n=this.onRenderProgressCallback,W=pt?100*rt:0,j=void 0;this.generatingGIF=!0,s.each(i,function(p,E){var K=E.palette;n(.75+.25*E.position*1/i.length);for(var tt=0;tt<G;tt++)xt.addFrame(0,0,Tt,Ot,E.pixels,{palette:K,delay:W})}),xt.end(),n(1),this.frames=[],this.generatingGIF=!1,s.isFunction(y)&&(j=this.bufferToString(k),y("data:image/gif;base64,"+s.btoa(j)))},setRepeat:function(i){this.repeat=i},addFrame:function(i,y){y=s.isObject(y)?y:{};var k=this,h=k.ctx,X=k.options,rt=X.gifWidth,G=X.gifHeight,at=s.getFontSize(y),Ot=y.filter,Tt=y.fontColor,v=y.text,p=y.textAlign,E=y.textBaseline,K=y.textXCoordinate?y.textXCoordinate:"left"===p?1:"right"===p?rt:rt/2,tt=y.textYCoordinate?y.textYCoordinate:"top"===E?1:"center"===E?G/2:G,q=y.fontWeight+" "+at+" "+y.fontFamily,nt=void 0;try{h.filter=Ot,h.drawImage(i,0,0,rt,G),v&&(h.font=q,h.fillStyle=Tt,h.textAlign=p,h.textBaseline=E,h.fillText(v,K,tt)),nt=h.getImageData(0,0,rt,G),k.addFrameImageData(nt)}catch(lt){return""+lt}},addFrameImageData:function(){var i=arguments.length>0&&arguments[0]!==f?arguments[0]:{},y=this.frames,k=i.data;this.frames.push({data:k,width:i.width,height:i.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:y.length})},onRenderProgress:function(i){this.onRenderProgressCallback=i},isRendering:function(){return this.generatingGIF},getBase64GIF:function(i){var y=this;y.startRendering(function(X){y.destroyWorkers(),s.requestTimeout(function(){i(X)},0)})},destroyWorkers:function(){this.workerError||s.each(this.workers,function(y,k){var X=k.objectUrl;k.worker.terminate(),s.URL.revokeObjectURL(X)})}};var z=function(){},x_getGIF=function(){var i=arguments.length>0&&arguments[0]!==f?arguments[0]:{},y=arguments[1];y=s.isFunction(y)?y:z;var k=u.createElement("canvas"),h=void 0,X=i.images,rt=!!X.length,G=i.cameraStream,at=i.crop,pt=i.filter,Ot=i.fontColor,Tt=i.fontFamily,xt=i.fontWeight,n=i.keepCameraOn,j=i.progressCallback,v=i.saveRenderingContexts,p=i.savedRenderingContexts,E=i.text,K=i.textAlign,tt=i.textBaseline,q=i.videoElement,nt=i.videoHeight,lt=i.videoWidth,st=i.webcamVideoElement,ht=Number(i.gifWidth),At=Number(i.gifHeight),wt=Number(i.interval),mt=(Number(i.sampleInterval),rt?0:1e3*wt),a=[],U=p.length?p.length:i.numFrames,V=U,ct=new H(i),gt=s.getFontSize(i),ft=i.textXCoordinate?i.textXCoordinate:"left"===K?1:"right"===K?ht:ht/2,F=i.textYCoordinate?i.textYCoordinate:"top"===tt?1:"center"===tt?At/2:At,dt=xt+" "+gt+" "+Tt,r=at?Math.floor(at.scaledWidth/2):0,L=at?lt-at.scaledWidth:0,J=at?Math.floor(at.scaledHeight/2):0,_t=at?nt-at.scaledHeight:0,vt=function yt(){var Et=V-1;function zt(){var ut;v&&a.push(h.getImageData(0,0,ht,At)),E&&(h.font=dt,h.fillStyle=Ot,h.textAlign=K,h.textBaseline=tt,h.fillText(E,ft,F)),ut=h.getImageData(0,0,ht,At),ct.addFrameImageData(ut),j((U-(V=Et))/U),Et>0&&s.requestTimeout(yt,mt),V||ct.getBase64GIF(function(Ct){y({error:!1,errorCode:"",errorMsg:"",image:Ct,cameraStream:G,videoElement:q,webcamVideoElement:st,savedRenderingContexts:a,keepCameraOn:n})})}p.length?(h.putImageData(p[U-V],0,0),zt()):function qt(){try{L>lt&&(L=lt),_t>nt&&(_t=nt),r<0&&(r=0),J<0&&(J=0),h.filter=pt,h.drawImage(q,r,J,L,_t,0,0,ht,At),zt()}catch(ut){if("NS_ERROR_NOT_AVAILABLE"!==ut.name)throw ut;s.requestTimeout(qt,100)}}()};U=U!==f?U:10,wt=wt!==f?wt:.1,k.width=ht,k.height=At,h=k.getContext("2d"),function yt(){p.length||0!==q.currentTime?vt():s.requestTimeout(yt,100)}()},_={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function c(i){c.attempts=c.attempts||0;var y=i.cameraStream,k=i.completedCallback,h=i.videoElement;!h||(h.videoWidth>0&&h.videoHeight>0?(h.removeEventListener("loadeddata",_.findVideoSize),k({videoElement:h,cameraStream:y,videoWidth:h.videoWidth,videoHeight:h.videoHeight})):c.attempts<10?(c.attempts+=1,s.requestTimeout(function(){_.findVideoSize(i)},400)):k({videoElement:h,cameraStream:y,videoWidth:_.defaultVideoDimensions.width,videoHeight:_.defaultVideoDimensions.height}))},onStreamingTimeout:function(i){s.isFunction(i)&&i({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(i){var y=s.isArray(i.existingVideo)?i.existingVideo[0]:i.existingVideo,k=i.cameraStream,h=i.completedCallback,X=i.streamedCallback,rt=i.videoElement;if(s.isFunction(X)&&X(),y){if(s.isString(y))rt.src=y,rt.innerHTML='<source src="'+y+'" type="video/'+s.getExtension(y)+'" />';else if(y instanceof Blob){try{rt.src=s.URL.createObjectURL(y)}catch(G){}rt.innerHTML='<source src="'+y+'" type="'+y.type+'" />'}}else if(rt.mozSrcObject)rt.mozSrcObject=k;else if(s.URL)try{rt.srcObject=k,rt.src=s.URL.createObjectURL(k)}catch(G){rt.srcObject=k}rt.play(),s.requestTimeout(function G(){G.count=G.count||0,!0===_.loadedData?(_.findVideoSize({videoElement:rt,cameraStream:k,completedCallback:h}),_.loadedData=!1):(G.count+=1)>10?_.findVideoSize({videoElement:rt,cameraStream:k,completedCallback:h}):G()},0)},startStreaming:function(i){var y=s.isFunction(i.error)?i.error:s.noop,k=s.isFunction(i.streamed)?i.streamed:s.noop,h=s.isFunction(i.completed)?i.completed:s.noop,X=i.crossOrigin,rt=i.existingVideo,G=i.lastCameraStream,at=i.options,pt=i.webcamVideoElement,Ot=s.isElement(rt)?rt:pt||u.createElement("video");X&&(Ot.crossOrigin=at.crossOrigin),Ot.autoplay=!0,Ot.loop=!0,Ot.muted=!0,Ot.addEventListener("loadeddata",function(xt){_.loadedData=!0,at.offset&&(Ot.currentTime=at.offset)}),rt?_.stream({videoElement:Ot,existingVideo:rt,completedCallback:h}):G?_.stream({videoElement:Ot,cameraStream:G,streamedCallback:k,completedCallback:h}):s.getUserMedia({video:!0},function(xt){_.stream({videoElement:Ot,cameraStream:xt,streamedCallback:k,completedCallback:h})},y)},startVideoStreaming:function(i){var y=arguments.length>1&&arguments[1]!==f?arguments[1]:{},k=y.timeout!==f?y.timeout:0,h=y.callback,X=y.webcamVideoElement,rt=void 0;k>0&&(rt=s.requestTimeout(function(){_.onStreamingTimeout(h)},1e4)),_.startStreaming({error:function(){h({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(rt)},completed:function(){var at=arguments.length>0&&arguments[0]!==f?arguments[0]:{},pt=at.cameraStream,Ot=at.videoElement,Tt=at.videoHeight,xt=at.videoWidth;i({cameraStream:pt,videoElement:Ot,videoHeight:Tt,videoWidth:xt})},lastCameraStream:y.lastCameraStream,webcamVideoElement:X,crossOrigin:y.crossOrigin,options:y})},stopVideoStreaming:function(i){var k=(i=s.isObject(i)?i:{}).keepCameraOn,h=i.videoElement,X=i.webcamVideoElement,rt=i.cameraStream||{},G=rt.getTracks&&rt.getTracks()||[],pt=G[0];!k&&!!G.length&&s.isFunction(pt.stop)&&pt.stop(),s.isElement(h)&&!X&&(h.pause(),s.isFunction(s.URL.revokeObjectURL)&&!s.webWorkerError&&h.src&&s.URL.revokeObjectURL(h.src),s.removeElement(h))}};function o(c){c=s.isObject(c)?c:{},_.stopVideoStreaming(c)}function C(c,i){var y=c.options||{},k=y.images,h=y.video,X=Number(y.gifWidth),rt=Number(y.gifHeight),at=(Number(y.numFrames),c.cameraStream),pt=c.videoElement,Ot=c.videoWidth,Tt=c.videoHeight,xt=function(){var i=arguments.length>0&&arguments[0]!==f?arguments[0]:{},y=i.videoWidth,k=i.videoHeight,h=i.gifWidth,X=i.gifHeight,rt={width:0,height:0,scaledWidth:0,scaledHeight:0};return y>k?(rt.width=Math.round(y*(X/k))-h,rt.scaledWidth=Math.round(rt.width*(k/X))):(rt.height=Math.round(k*(h/y))-X,rt.scaledHeight=Math.round(rt.height*(y/h))),rt}({videoWidth:Ot,videoHeight:Tt,gifHeight:rt,gifWidth:X}),n=i;y.crop=xt,y.videoElement=pt,y.videoWidth=Ot,y.videoHeight=Tt,y.cameraStream=at,s.isElement(pt)&&(pt.width=X+xt.width,pt.height=rt+xt.height,y.webcamVideoElement||(s.setCSSAttr(pt,{position:"fixed",opacity:"0"}),u.body.appendChild(pt)),pt.play(),x_getGIF(y,function(W){(!k||!k.length)&&(!h||!h.length)&&o(W),n(W)}))}function it(c,i){if(i=s.isFunction(c)?c:i,c=s.isObject(c)?c:{},s.isFunction(i)){var y=s.mergeOptions(M,c)||{},k=c.cameraStream,h=y.images,X=h?h.length:0,rt=y.video,G=y.webcamVideoElement;y=s.mergeOptions(y,{gifWidth:Math.floor(y.gifWidth),gifHeight:Math.floor(y.gifHeight)}),X?function(){var c=arguments.length>0&&arguments[0]!==f?arguments[0]:{},y=c.callback,k=c.images,h=c.options,X=c.imagesLength,G=O.validate({getUserMedia:!0,"window.URL":!0}),at=[],pt=0,Ot=void 0,Tt=void 0;if(G.error)return y(G);function xt(){s.each(at,function(n,W){W&&(W.text?Tt.addFrame(W.img,h,W.text):Tt.addFrame(W,h))}),D(Tt,y)}Tt=new H(h),s.each(k,function(n,W){var v,j=W;W.src&&(j=j.src),s.isElement(j)?(h.crossOrigin&&(j.crossOrigin=h.crossOrigin),at[n]=j,(pt+=1)===X&&xt()):s.isString(j)&&(Ot=new Image,h.crossOrigin&&(Ot.crossOrigin=h.crossOrigin),v=Ot,W.text&&(v.text=W.text),v.onerror=function(p){var E=void 0;if(0==--X)return(E={}).error="None of the requested images was capable of being retrieved",y(E)},v.onload=function(p){at[n]=W.text?{img:v,text:v.text}:v,(pt+=1)===X&&xt(),s.removeElement(v)},v.src=j,s.setCSSAttr(Ot,{position:"fixed",opacity:"0"}),u.body.appendChild(Ot))})}({images:h,imagesLength:X,callback:i,options:y}):rt?function(){var c=arguments.length>0&&arguments[0]!==f?arguments[0]:{},i=c.callback,y=c.existingVideo,k=c.options,X=O.validate({getUserMedia:!0,"window.URL":!0}),G=void 0;if(X.error)return i(X);if(s.isElement(y)&&y.src){if(G=s.getExtension(y.src),!s.isSupported.videoCodecs[G])return i(O.messages.videoCodecs)}else s.isArray(y)&&s.each(y,function(Tt,xt){if(G=xt instanceof Blob?xt.type.substr(xt.type.lastIndexOf("/")+1,xt.length):xt.substr(xt.lastIndexOf(".")+1,xt.length),s.isSupported.videoCodecs[G])return y=xt,!1});_.startStreaming({completed:function(xt){xt.options=k||{},C(xt,i)},existingVideo:y,crossOrigin:k.crossOrigin,options:k})}({existingVideo:rt,callback:i,options:y}):function(){var c=arguments.length>0&&arguments[0]!==f?arguments[0]:{},i=c.callback,y=c.lastCameraStream,k=c.options,h=c.webcamVideoElement;if(!m())return i(O.validate());k.savedRenderingContexts.length?x_getGIF(k,function(X){i(X)}):_.startVideoStreaming(function(){var X=arguments.length>0&&arguments[0]!==f?arguments[0]:{};X.options=k||{},C(X,i)},{lastCameraStream:y,callback:i,webcamVideoElement:h,crossOrigin:k.crossOrigin})}({lastCameraStream:k,callback:i,webcamVideoElement:G,options:y})}}var bt={utils:Z,error:T,defaultOptions:l,createGIF:it,takeSnapShot:function(c,i){if(i=s.isFunction(c)?c:i,c=s.isObject(c)?c:{},s.isFunction(i)){var y=s.mergeOptions(M,c);it(s.mergeOptions(y,{interval:.1,numFrames:1,gifWidth:Math.floor(y.gifWidth),gifHeight:Math.floor(y.gifHeight)}),i)}},stopVideoStreaming:o,isSupported:function(){return O.isValid()},isWebCamGIFSupported:m,isExistingVideoGIFSupported:function(c){var i=!1;if(s.isArray(c)&&c.length){if(s.each(c,function(y,k){s.isSupported.videoCodecs[k]&&(i=!0)}),!i)return!1}else if(s.isString(c)&&c.length&&!s.isSupported.videoCodecs[c])return!1;return O.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return O.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(t=function(){return bt}.apply(A,[]))!==f&&(Ft.exports=t)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},70897:Ft=>{Ft.exports=function A(w,t,e){function u(s,Z){if(!t[s]){if(!w[s]){if(d)return d(s,!0);var T=new Error("Cannot find module '"+s+"'");throw T.code="MODULE_NOT_FOUND",T}var g=t[s]={exports:{}};w[s][0].call(g.exports,function(M){return u(w[s][1][M]||M)},g,g.exports,A,w,t,e)}return t[s].exports}for(var d=void 0,f=0;f<e.length;f++)u(e[f]);return u}({1:[function(A,w,t){"use strict";var e=A("./utils"),u=A("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(f){for(var s,Z,O,g,M,l,b=[],m=0,P=f.length,S=P,N="string"!==e.getTypeOf(f);m<f.length;)S=P-m,O=N?(s=f[m++],Z=m<P?f[m++]:0,m<P?f[m++]:0):(s=f.charCodeAt(m++),Z=m<P?f.charCodeAt(m++):0,m<P?f.charCodeAt(m++):0),g=(3&s)<<4|Z>>4,M=1<S?(15&Z)<<2|O>>6:64,l=2<S?63&O:64,b.push(d.charAt(s>>2)+d.charAt(g)+d.charAt(M)+d.charAt(l));return b.join("")},t.decode=function(f){var s,Z,O,T,g,M,l=0,b=0,m="data:";if(f.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var P,S=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===d.charAt(64)&&S--,f.charAt(f.length-2)===d.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=u.uint8array?new Uint8Array(0|S):new Array(0|S);l<f.length;)s=d.indexOf(f.charAt(l++))<<2|(T=d.indexOf(f.charAt(l++)))>>4,Z=(15&T)<<4|(g=d.indexOf(f.charAt(l++)))>>2,O=(3&g)<<6|(M=d.indexOf(f.charAt(l++))),P[b++]=s,64!==g&&(P[b++]=Z),64!==M&&(P[b++]=O);return P}},{"./support":30,"./utils":32}],2:[function(A,w,t){"use strict";var e=A("./external"),u=A("./stream/DataWorker"),d=A("./stream/Crc32Probe"),f=A("./stream/DataLengthProbe");function s(Z,O,T,g,M){this.compressedSize=Z,this.uncompressedSize=O,this.crc32=T,this.compression=g,this.compressedContent=M}s.prototype={getContentWorker:function(){var Z=new u(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),O=this;return Z.on("end",function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Z},getCompressedWorker:function(){return new u(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(Z,O,T){return Z.pipe(new d).pipe(new f("uncompressedSize")).pipe(O.compressWorker(T)).pipe(new f("compressedSize")).withStreamInfo("compression",O)},w.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(A,w,t){"use strict";var e=A("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new e("STORE compression")},uncompressWorker:function(){return new e("STORE decompression")}},t.DEFLATE=A("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(A,w,t){"use strict";var e=A("./utils"),u=function(){for(var d,f=[],s=0;s<256;s++){d=s;for(var Z=0;Z<8;Z++)d=1&d?3988292384^d>>>1:d>>>1;f[s]=d}return f}();w.exports=function(d,f){return void 0!==d&&d.length?"string"!==e.getTypeOf(d)?function(s,Z,O,T){var g=u,M=0+O;s^=-1;for(var l=0;l<M;l++)s=s>>>8^g[255&(s^Z[l])];return-1^s}(0|f,d,d.length):function(s,Z,O,T){var g=u,M=0+O;s^=-1;for(var l=0;l<M;l++)s=s>>>8^g[255&(s^Z.charCodeAt(l))];return-1^s}(0|f,d,d.length):0}},{"./utils":32}],5:[function(A,w,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(A,w,t){"use strict";var e;e="undefined"!=typeof Promise?Promise:A("lie"),w.exports={Promise:e}},{lie:37}],7:[function(A,w,t){"use strict";var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,u=A("pako"),d=A("./utils"),f=A("./stream/GenericWorker"),s=e?"uint8array":"array";function Z(O,T){f.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=T,this.meta={}}t.magic="\b\0",d.inherits(Z,f),Z.prototype.processChunk=function(O){this.meta=O.meta,null===this._pako&&this._createPako(),this._pako.push(d.transformTo(s,O.data),!1)},Z.prototype.flush=function(){f.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Z.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},Z.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(T){O.push({data:T,meta:O.meta})}},t.compressWorker=function(O){return new Z("Deflate",O)},t.uncompressWorker=function(){return new Z("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(A,w,t){"use strict";function e(g,M){var l,b="";for(l=0;l<M;l++)b+=String.fromCharCode(255&g),g>>>=8;return b}function u(g,M,l,b,m,P){var S,N,R=g.file,et=g.compression,Q=P!==s.utf8encode,H=d.transformTo("string",P(R.name)),D=d.transformTo("string",s.utf8encode(R.name)),I=R.comment,z=d.transformTo("string",P(I)),x=d.transformTo("string",s.utf8encode(I)),_=D.length!==R.name.length,o=x.length!==I.length,C="",$="",B="",it=R.dir,ot=R.date,bt={crc32:0,compressedSize:0,uncompressedSize:0};M&&!l||(bt.crc32=g.crc32,bt.compressedSize=g.compressedSize,bt.uncompressedSize=g.uncompressedSize);var c=0;M&&(c|=8),Q||!_&&!o||(c|=2048);var h,rt,i=0,y=0;it&&(i|=16),"UNIX"===m?(y=798,i|=(rt=h=R.unixPermissions,h||(rt=it?16893:33204),(65535&rt)<<16)):(y=20,i|=function(h){return 63&(h||0)}(R.dosPermissions)),S=ot.getUTCHours(),S<<=6,S|=ot.getUTCMinutes(),S<<=5,S|=ot.getUTCSeconds()/2,N=ot.getUTCFullYear()-1980,N<<=4,N|=ot.getUTCMonth()+1,N<<=5,N|=ot.getUTCDate(),_&&($=e(1,1)+e(Z(H),4)+D,C+="up"+e($.length,2)+$),o&&(B=e(1,1)+e(Z(z),4)+x,C+="uc"+e(B.length,2)+B);var k="";return k+="\n\0",k+=e(c,2),k+=et.magic,k+=e(S,2),k+=e(N,2),k+=e(bt.crc32,4),k+=e(bt.compressedSize,4),k+=e(bt.uncompressedSize,4),k+=e(H.length,2),k+=e(C.length,2),{fileRecord:O.LOCAL_FILE_HEADER+k+H+C,dirRecord:O.CENTRAL_FILE_HEADER+e(y,2)+k+e(z.length,2)+"\0\0\0\0"+e(i,4)+e(b,4)+H+C+z}}var d=A("../utils"),f=A("../stream/GenericWorker"),s=A("../utf8"),Z=A("../crc32"),O=A("../signature");function T(g,M,l,b){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=l,this.encodeFileName=b,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(T,f),T.prototype.push=function(g){var M=g.meta.percent||0,l=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,f.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:l?(M+100*(l-b-1))/l:100}}))},T.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var M=this.streamFiles&&!g.file.dir;if(M){var l=u(g,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},T.prototype.closedSource=function(g){this.accumulate=!1;var b,M=this.streamFiles&&!g.file.dir,l=u(g,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),M)this.push({data:(b=g,O.DATA_DESCRIPTOR+e(b.crc32,4)+e(b.compressedSize,4)+e(b.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},T.prototype.flush=function(){for(var g=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var m,P,S,et,b=(m=this.dirRecords.length,P=this.bytesWritten-g,S=g,et=d.transformTo("string",(0,this.encodeFileName)(this.zipComment)),O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+e(m,2)+e(m,2)+e(P,4)+e(S,4)+e(et.length,2)+et);this.push({data:b,meta:{percent:100}})},T.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},T.prototype.registerPrevious=function(g){this._sources.push(g);var M=this;return g.on("data",function(l){M.processChunk(l)}),g.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),g.on("error",function(l){M.error(l)}),this},T.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},T.prototype.error=function(g){var M=this._sources;if(!f.prototype.error.call(this,g))return!1;for(var l=0;l<M.length;l++)try{M[l].error(g)}catch(b){}return!0},T.prototype.lock=function(){f.prototype.lock.call(this);for(var g=this._sources,M=0;M<g.length;M++)g[M].lock()},w.exports=T},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(A,w,t){"use strict";var e=A("../compressions"),u=A("./ZipFileWorker");t.generateWorker=function(d,f,s){var Z=new u(f.streamFiles,s,f.platform,f.encodeFileName),O=0;try{d.forEach(function(T,g){O++;var M=function(P,S){var N=P||S,R=e[N];if(!R)throw new Error(N+" is not a valid compression method !");return R}(g.options.compression,f.compression),b=g.dir,m=g.date;g._compressWorker(M,g.options.compressionOptions||f.compressionOptions||{}).withStreamInfo("file",{name:T,dir:b,date:m,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(Z)}),Z.entriesCount=O}catch(T){Z.error(T)}return Z}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(A,w,t){"use strict";function e(){if(!(this instanceof e))return new e;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new e;for(var d in this)"function"!=typeof this[d]&&(u[d]=this[d]);return u}}(e.prototype=A("./object")).loadAsync=A("./load"),e.support=A("./support"),e.defaults=A("./defaults"),e.version="3.10.1",e.loadAsync=function(u,d){return(new e).loadAsync(u,d)},e.external=A("./external"),w.exports=e},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(A,w,t){"use strict";var e=A("./utils"),u=A("./external"),d=A("./utf8"),f=A("./zipEntries"),s=A("./stream/Crc32Probe"),Z=A("./nodejsUtils");function O(T){return new u.Promise(function(g,M){var l=T.decompressed.getContentWorker().pipe(new s);l.on("error",function(b){M(b)}).on("end",function(){l.streamInfo.crc32!==T.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}w.exports=function(T,g){var M=this;return g=e.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),Z.isNode&&Z.isStream(T)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",T,!0,g.optimizedBinaryString,g.base64).then(function(l){var b=new f(g);return b.load(l),b}).then(function(l){var b=[u.Promise.resolve(l)],m=l.files;if(g.checkCRC32)for(var P=0;P<m.length;P++)b.push(O(m[P]));return u.Promise.all(b)}).then(function(l){for(var b=l.shift(),m=b.files,P=0;P<m.length;P++){var S=m[P],N=S.fileNameStr,R=e.resolve(S.fileNameStr);M.file(R,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:g.createFolders}),S.dir||(M.file(R).unsafeOriginalName=N)}return b.zipComment.length&&(M.comment=b.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(A,w,t){"use strict";var e=A("../utils"),u=A("../stream/GenericWorker");function d(f,s){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(s)}e.inherits(d,u),d.prototype._bindStream=function(f){var s=this;(this._stream=f).pause(),f.on("data",function(Z){s.push({data:Z,meta:{percent:0}})}).on("error",function(Z){s.isPaused?this.generatedError=Z:s.error(Z)}).on("end",function(){s.isPaused?s._upstreamEnded=!0:s.end()})},d.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},w.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(A,w,t){"use strict";var e=A("readable-stream").Readable;function u(d,f,s){e.call(this,f),this._helper=d;var Z=this;d.on("data",function(O,T){Z.push(O)||Z._helper.pause(),s&&s(T)}).on("error",function(O){Z.emit("error",O)}).on("end",function(){Z.push(null)})}A("../utils").inherits(u,e),u.prototype._read=function(){this._helper.resume()},w.exports=u},{"../utils":32,"readable-stream":16}],14:[function(A,w,t){"use strict";w.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,u);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,u)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var u=new Buffer(e);return u.fill(0),u},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(A,w,t){"use strict";function e(R,et,Q){var H,D=d.getTypeOf(et),I=d.extend(Q||{},Z);I.date=I.date||new Date,null!==I.compression&&(I.compression=I.compression.toUpperCase()),"string"==typeof I.unixPermissions&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(R=m(R)),I.createFolders&&(H=b(R))&&P.call(this,H,!0),Q&&void 0!==Q.binary||(I.binary=!("string"===D&&!1===I.binary&&!1===I.base64)),(et instanceof O&&0===et.uncompressedSize||I.dir||!et||0===et.length)&&(I.base64=!1,I.binary=!0,et="",I.compression="STORE",D="string");var x;x=et instanceof O||et instanceof f?et:M.isNode&&M.isStream(et)?new l(R,et):d.prepareContent(R,et,I.binary,I.optimizedBinaryString,I.base64);var _=new T(R,x,I);this.files[R]=_}var u=A("./utf8"),d=A("./utils"),f=A("./stream/GenericWorker"),s=A("./stream/StreamHelper"),Z=A("./defaults"),O=A("./compressedObject"),T=A("./zipObject"),g=A("./generate"),M=A("./nodejsUtils"),l=A("./nodejs/NodejsStreamInputAdapter"),b=function(R){"/"===R.slice(-1)&&(R=R.substring(0,R.length-1));var et=R.lastIndexOf("/");return 0<et?R.substring(0,et):""},m=function(R){return"/"!==R.slice(-1)&&(R+="/"),R},P=function(R,et){return et=void 0!==et?et:Z.createFolders,R=m(R),this.files[R]||e.call(this,R,null,{dir:!0,createFolders:et}),this.files[R]};function S(R){return"[object RegExp]"===Object.prototype.toString.call(R)}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var et,Q,H;for(et in this.files)H=this.files[et],(Q=et.slice(this.root.length,et.length))&&et.slice(0,this.root.length)===this.root&&R(Q,H)},filter:function(R){var et=[];return this.forEach(function(Q,H){R(Q,H)&&et.push(H)}),et},file:function(R,et,Q){if(1!==arguments.length)return e.call(this,R=this.root+R,et,Q),this;if(S(R)){var H=R;return this.filter(function(I,z){return!z.dir&&H.test(I)})}var D=this.files[this.root+R];return D&&!D.dir?D:null},folder:function(R){if(!R)return this;if(S(R))return this.filter(function(D,I){return I.dir&&R.test(D)});var Q=P.call(this,this.root+R),H=this.clone();return H.root=Q.name,H},remove:function(R){var et=this.files[R=this.root+R];if(et||("/"!==R.slice(-1)&&(R+="/"),et=this.files[R]),et&&!et.dir)delete this.files[R];else for(var Q=this.filter(function(D,I){return I.name.slice(0,R.length)===R}),H=0;H<Q.length;H++)delete this.files[Q[H].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var et,Q={};try{if((Q=d.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),"binarystring"===Q.type&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");d.checkSupport(Q.type),"darwin"!==Q.platform&&"freebsd"!==Q.platform&&"linux"!==Q.platform&&"sunos"!==Q.platform||(Q.platform="UNIX"),"win32"===Q.platform&&(Q.platform="DOS"),et=g.generateWorker(this,Q,Q.comment||this.comment||"")}catch(D){(et=new f("error")).error(D)}return new s(et,Q.type||"string",Q.mimeType)},generateAsync:function(R,et){return this.generateInternalStream(R).accumulate(et)},generateNodeStream:function(R,et){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(et)}};w.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(A,w,t){"use strict";w.exports=A("stream")},{stream:void 0}],17:[function(A,w,t){"use strict";var e=A("./DataReader");function u(d){e.call(this,d);for(var f=0;f<this.data.length;f++)d[f]=255&d[f]}A("../utils").inherits(u,e),u.prototype.byteAt=function(d){return this.data[this.zero+d]},u.prototype.lastIndexOfSignature=function(d){for(var f=d.charCodeAt(0),s=d.charCodeAt(1),Z=d.charCodeAt(2),O=d.charCodeAt(3),T=this.length-4;0<=T;--T)if(this.data[T]===f&&this.data[T+1]===s&&this.data[T+2]===Z&&this.data[T+3]===O)return T-this.zero;return-1},u.prototype.readAndCheckSignature=function(d){var f=d.charCodeAt(0),s=d.charCodeAt(1),Z=d.charCodeAt(2),O=d.charCodeAt(3),T=this.readData(4);return f===T[0]&&s===T[1]&&Z===T[2]&&O===T[3]},u.prototype.readData=function(d){if(this.checkOffset(d),0===d)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},w.exports=u},{"../utils":32,"./DataReader":18}],18:[function(A,w,t){"use strict";var e=A("../utils");function u(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var f,s=0;for(this.checkOffset(d),f=this.index+d-1;f>=this.index;f--)s=(s<<8)+this.byteAt(f);return this.index+=d,s},readString:function(d){return e.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},w.exports=u},{"../utils":32}],19:[function(A,w,t){"use strict";var e=A("./Uint8ArrayReader");function u(d){e.call(this,d)}A("../utils").inherits(u,e),u.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},w.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(A,w,t){"use strict";var e=A("./DataReader");function u(d){e.call(this,d)}A("../utils").inherits(u,e),u.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},u.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},u.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},u.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},w.exports=u},{"../utils":32,"./DataReader":18}],21:[function(A,w,t){"use strict";var e=A("./ArrayReader");function u(d){e.call(this,d)}A("../utils").inherits(u,e),u.prototype.readData=function(d){if(this.checkOffset(d),0===d)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},w.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(A,w,t){"use strict";var e=A("../utils"),u=A("../support"),d=A("./ArrayReader"),f=A("./StringReader"),s=A("./NodeBufferReader"),Z=A("./Uint8ArrayReader");w.exports=function(O){var T=e.getTypeOf(O);return e.checkSupport(T),"string"!==T||u.uint8array?"nodebuffer"===T?new s(O):u.uint8array?new Z(e.transformTo("uint8array",O)):new d(e.transformTo("array",O)):new f(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(A,w,t){"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(A,w,t){"use strict";var e=A("./GenericWorker"),u=A("../utils");function d(f){e.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(d,e),d.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},w.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(A,w,t){"use strict";var e=A("./GenericWorker"),u=A("../crc32");function d(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}A("../utils").inherits(d,e),d.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},w.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(A,w,t){"use strict";var e=A("../utils"),u=A("./GenericWorker");function d(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}e.inherits(d,u),d.prototype.processChunk=function(f){f&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+f.data.length),u.prototype.processChunk.call(this,f)},w.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(A,w,t){"use strict";var e=A("../utils"),u=A("./GenericWorker");function d(f){u.call(this,"DataWorker");var s=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(Z){s.dataIsReady=!0,s.data=Z,s.max=Z&&Z.length||0,s.type=e.getTypeOf(Z),s.isPaused||s._tickAndRepeat()},function(Z){s.error(Z)})}e.inherits(d,u),d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,s=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,s);break;case"uint8array":f=this.data.subarray(this.index,s);break;case"array":case"nodebuffer":f=this.data.slice(this.index,s)}return this.index=s,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},w.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(A,w,t){"use strict";function e(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}e.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,d){return this._listeners[u].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,d){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,d)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var d=this;return u.on("data",function(f){d.processChunk(f)}),u.on("end",function(){d.end()}),u.on("error",function(f){d.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,d){return this.extraStreamInfo[u]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},w.exports=e},{}],29:[function(A,w,t){"use strict";var e=A("../utils"),u=A("./ConvertWorker"),d=A("./GenericWorker"),f=A("../base64"),s=A("../support"),Z=A("../external"),O=null;if(s.nodestream)try{O=A("../nodejs/NodejsStreamOutputAdapter")}catch(M){}function g(M,l,b){var m=l;switch(l){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=l,this._mimeType=b,e.checkSupport(m),this._worker=M.pipe(new u(m)),M.lock()}catch(P){this._worker=new d("error"),this._worker.error(P)}}g.prototype={accumulate:function(M){return function(M,l){return new Z.Promise(function(b,m){var P=[],S=M._internalType,N=M._outputType,R=M._mimeType;M.on("data",function(et,Q){P.push(et),l&&l(Q)}).on("error",function(et){P=[],m(et)}).on("end",function(){try{var et=function(Q,H,D){switch(Q){case"blob":return e.newBlob(e.transformTo("arraybuffer",H),D);case"base64":return f.encode(H);default:return e.transformTo(Q,H)}}(N,function(Q,H){var D,I=0,z=null,x=0;for(D=0;D<H.length;D++)x+=H[D].length;switch(Q){case"string":return H.join("");case"array":return Array.prototype.concat.apply([],H);case"uint8array":for(z=new Uint8Array(x),D=0;D<H.length;D++)z.set(H[D],I),I+=H[D].length;return z;case"nodebuffer":return Buffer.concat(H);default:throw new Error("concat : unsupported type '"+Q+"'")}}(S,P),R);b(et)}catch(Q){m(Q)}P=[]}).resume()})}(this,M)},on:function(M,l){var b=this;return this._worker.on(M,"data"===M?function(m){l.call(b,m.data,m.meta)}:function(){e.delay(l,arguments,b)}),this},resume:function(){return e.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(M){if(e.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:"nodebuffer"!==this._outputType},M)}},w.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(A,w,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var e=new ArrayBuffer(0);try{t.blob=0===new Blob([e],{type:"application/zip"}).size}catch(d){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(e),t.blob=0===u.getBlob("application/zip").size}catch(f){t.blob=!1}}}try{t.nodestream=!!A("readable-stream").Readable}catch(d){t.nodestream=!1}},{"readable-stream":16}],31:[function(A,w,t){"use strict";for(var e=A("./utils"),u=A("./support"),d=A("./nodejsUtils"),f=A("./stream/GenericWorker"),s=new Array(256),Z=0;Z<256;Z++)s[Z]=252<=Z?6:248<=Z?5:240<=Z?4:224<=Z?3:192<=Z?2:1;function O(){f.call(this,"utf-8 decode"),this.leftOver=null}function T(){f.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(g){return u.nodebuffer?d.newBufferFrom(g,"utf-8"):function(M){var l,b,m,P,S,N=M.length,R=0;for(P=0;P<N;P++)55296==(64512&(b=M.charCodeAt(P)))&&P+1<N&&56320==(64512&(m=M.charCodeAt(P+1)))&&(b=65536+(b-55296<<10)+(m-56320),P++),R+=b<128?1:b<2048?2:b<65536?3:4;for(l=u.uint8array?new Uint8Array(R):new Array(R),P=S=0;S<R;P++)55296==(64512&(b=M.charCodeAt(P)))&&P+1<N&&56320==(64512&(m=M.charCodeAt(P+1)))&&(b=65536+(b-55296<<10)+(m-56320),P++),b<128?l[S++]=b:(b<2048?l[S++]=192|b>>>6:(b<65536?l[S++]=224|b>>>12:(l[S++]=240|b>>>18,l[S++]=128|b>>>12&63),l[S++]=128|b>>>6&63),l[S++]=128|63&b);return l}(g)},t.utf8decode=function(g){return u.nodebuffer?e.transformTo("nodebuffer",g).toString("utf-8"):function(M){var l,b,m,P,S=M.length,N=new Array(2*S);for(l=b=0;l<S;)if((m=M[l++])<128)N[b++]=m;else if(4<(P=s[m]))N[b++]=65533,l+=P-1;else{for(m&=2===P?31:3===P?15:7;1<P&&l<S;)m=m<<6|63&M[l++],P--;1<P?N[b++]=65533:m<65536?N[b++]=m:(N[b++]=55296|(m-=65536)>>10&1023,N[b++]=56320|1023&m)}return N.length!==b&&(N.subarray?N=N.subarray(0,b):N.length=b),e.applyFromCharCode(N)}(g=e.transformTo(u.uint8array?"uint8array":"array",g))},e.inherits(O,f),O.prototype.processChunk=function(g){var M=e.transformTo(u.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var l=M;(M=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),M.set(l,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var b=function(P,S){var N;for((S=S||P.length)>P.length&&(S=P.length),N=S-1;0<=N&&128==(192&P[N]);)N--;return N<0||0===N?S:N+s[P[N]]>S?N:S}(M),m=M;b!==M.length&&(u.uint8array?(m=M.subarray(0,b),this.leftOver=M.subarray(b,M.length)):(m=M.slice(0,b),this.leftOver=M.slice(b,M.length))),this.push({data:t.utf8decode(m),meta:g.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=O,e.inherits(T,f),T.prototype.processChunk=function(g){this.push({data:t.utf8encode(g.data),meta:g.meta})},t.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(A,w,t){"use strict";var e=A("./support"),u=A("./base64"),d=A("./nodejsUtils"),f=A("./external");function s(l){return l}function Z(l,b){for(var m=0;m<l.length;++m)b[m]=255&l.charCodeAt(m);return b}A("setimmediate"),t.newBlob=function(l,b){t.checkSupport("blob");try{return new Blob([l],{type:b})}catch(P){try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(l),m.getBlob(b)}catch(S){throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(l,b,m){var P=[],S=0,N=l.length;if(N<=m)return String.fromCharCode.apply(null,l);for(;S<N;)P.push(String.fromCharCode.apply(null,"array"===b||"nodebuffer"===b?l.slice(S,Math.min(S+m,N)):l.subarray(S,Math.min(S+m,N)))),S+=m;return P.join("")},stringifyByChar:function(l){for(var b="",m=0;m<l.length;m++)b+=String.fromCharCode(l[m]);return b},applyCanBeUsed:{uint8array:function(){try{return e.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(l){return!1}}(),nodebuffer:function(){try{return e.nodebuffer&&1===String.fromCharCode.apply(null,d.allocBuffer(1)).length}catch(l){return!1}}()}};function T(l){var b=65536,m=t.getTypeOf(l),P=!0;if("uint8array"===m?P=O.applyCanBeUsed.uint8array:"nodebuffer"===m&&(P=O.applyCanBeUsed.nodebuffer),P)for(;1<b;)try{return O.stringifyByChunk(l,m,b)}catch(S){b=Math.floor(b/2)}return O.stringifyByChar(l)}function g(l,b){for(var m=0;m<l.length;m++)b[m]=l[m];return b}t.applyFromCharCode=T;var M={};M.string={string:s,array:function(l){return Z(l,new Array(l.length))},arraybuffer:function(l){return M.string.uint8array(l).buffer},uint8array:function(l){return Z(l,new Uint8Array(l.length))},nodebuffer:function(l){return Z(l,d.allocBuffer(l.length))}},M.array={string:T,array:s,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return d.newBufferFrom(l)}},M.arraybuffer={string:function(l){return T(new Uint8Array(l))},array:function(l){return g(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:s,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return d.newBufferFrom(new Uint8Array(l))}},M.uint8array={string:T,array:function(l){return g(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:s,nodebuffer:function(l){return d.newBufferFrom(l)}},M.nodebuffer={string:T,array:function(l){return g(l,new Array(l.length))},arraybuffer:function(l){return M.nodebuffer.uint8array(l).buffer},uint8array:function(l){return g(l,new Uint8Array(l.length))},nodebuffer:s},t.transformTo=function(l,b){if(b=b||"",!l)return b;t.checkSupport(l);var m=t.getTypeOf(b);return M[m][l](b)},t.resolve=function(l){for(var b=l.split("/"),m=[],P=0;P<b.length;P++){var S=b[P];"."===S||""===S&&0!==P&&P!==b.length-1||(".."===S?m.pop():m.push(S))}return m.join("/")},t.getTypeOf=function(l){return"string"==typeof l?"string":"[object Array]"===Object.prototype.toString.call(l)?"array":e.nodebuffer&&d.isBuffer(l)?"nodebuffer":e.uint8array&&l instanceof Uint8Array?"uint8array":e.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(l){if(!e[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(l){var b,m,P="";for(m=0;m<(l||"").length;m++)P+="\\x"+((b=l.charCodeAt(m))<16?"0":"")+b.toString(16).toUpperCase();return P},t.delay=function(l,b,m){setImmediate(function(){l.apply(m||null,b||[])})},t.inherits=function(l,b){function m(){}m.prototype=b.prototype,l.prototype=new m},t.extend=function(){var l,b,m={};for(l=0;l<arguments.length;l++)for(b in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],b)&&void 0===m[b]&&(m[b]=arguments[l][b]);return m},t.prepareContent=function(l,b,m,P,S){return f.Promise.resolve(b).then(function(N){return e.blob&&(N instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N)))&&"undefined"!=typeof FileReader?new f.Promise(function(R,et){var Q=new FileReader;Q.onload=function(H){R(H.target.result)},Q.onerror=function(H){et(H.target.error)},Q.readAsArrayBuffer(N)}):N}).then(function(N){var et,R=t.getTypeOf(N);return R?("arraybuffer"===R?N=t.transformTo("uint8array",N):"string"===R&&(S?N=u.decode(N):m&&!0!==P&&(N=Z(et=N,e.uint8array?new Uint8Array(et.length):new Array(et.length)))),N):f.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(A,w,t){"use strict";var e=A("./reader/readerFor"),u=A("./utils"),d=A("./signature"),f=A("./zipEntry"),s=A("./support");function Z(O){this.files=[],this.loadOptions=O}Z.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var T=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(T)+", expected "+u.pretty(O)+")")}},isSignature:function(O,T){var g=this.reader.index;this.reader.setIndex(O);var M=this.reader.readString(4)===T;return this.reader.setIndex(g),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),g=u.transformTo(s.uint8array?"uint8array":"array",O);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,T,g,M=this.zip64EndOfCentralSize-44;0<M;)O=this.reader.readInt(2),T=this.reader.readInt(4),g=this.reader.readData(T),this.zip64ExtensibleData[O]={id:O,length:T,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,T;for(O=0;O<this.files.length;O++)this.reader.setIndex((T=this.files[O]).localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),T.readLocalPart(this.reader),T.handleUTF8(),T.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(O=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var T=O;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var M=T-g;if(0<M)this.isSignature(T,d.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(O){this.reader=e(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},w.exports=Z},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(A,w,t){"use strict";var e=A("./reader/readerFor"),u=A("./utils"),d=A("./compressedObject"),f=A("./crc32"),s=A("./utf8"),Z=A("./compressions"),O=A("./support");function T(g,M){this.options=g,this.loadOptions=M}T.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(g){var M,l;if(g.skip(22),this.fileNameLength=g.readInt(2),l=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(l),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(M=function(b){for(var m in Z)if(Object.prototype.hasOwnProperty.call(Z,m)&&Z[m].magic===b)return Z[m];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,M,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var M=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(M),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==g&&(this.dosPermissions=63&this.externalFileAttributes),3==g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=e(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var M,l,b,m=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<m;)M=g.readInt(2),l=g.readInt(2),b=g.readData(l),this.extraFields[M]={id:M,length:l,value:b};g.setIndex(m)},handleUTF8:function(){var g=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(null!==M)this.fileNameStr=M;else{var l=u.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var b=this.findExtraFieldUnicodeComment();if(null!==b)this.fileCommentStr=b;else{var m=u.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var M=e(g.value);return 1!==M.readInt(1)||f(this.fileName)!==M.readInt(4)?null:s.utf8decode(M.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var M=e(g.value);return 1!==M.readInt(1)||f(this.fileComment)!==M.readInt(4)?null:s.utf8decode(M.readData(g.length-5))}return null}},w.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(A,w,t){"use strict";function e(M,l,b){this.name=M,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=l,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var u=A("./stream/StreamHelper"),d=A("./stream/DataWorker"),f=A("./utf8"),s=A("./compressedObject"),Z=A("./stream/GenericWorker");e.prototype={internalStream:function(M){var l=null,b="string";try{if(!M)throw new Error("No output type specified.");var m="string"===(b=M.toLowerCase())||"text"===b;"binarystring"!==b&&"text"!==b||(b="string"),l=this._decompressWorker();var P=!this._dataBinary;P&&!m&&(l=l.pipe(new f.Utf8EncodeWorker)),!P&&m&&(l=l.pipe(new f.Utf8DecodeWorker))}catch(S){(l=new Z("error")).error(S)}return new u(l,b,"")},async:function(M,l){return this.internalStream(M).accumulate(l)},nodeStream:function(M,l){return this.internalStream(M||"nodebuffer").toNodejsStream(l)},_compressWorker:function(M,l){if(this._data instanceof s&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new f.Utf8EncodeWorker)),s.createWorkerFrom(b,M,l)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof Z?this._data:new d(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],T=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<O.length;g++)e.prototype[O[g]]=T;w.exports=e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(A,w,t){(function(e){"use strict";var u,d,f=e.MutationObserver||e.WebKitMutationObserver;if(f){var s=0,Z=new f(M),O=e.document.createTextNode("");Z.observe(O,{characterData:!0}),u=function(){O.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)u="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var l=e.document.createElement("script");l.onreadystatechange=function(){M(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},e.document.documentElement.appendChild(l)}:function(){setTimeout(M,0)};else{var T=new e.MessageChannel;T.port1.onmessage=M,u=function(){T.port2.postMessage(0)}}var g=[];function M(){var l,b;d=!0;for(var m=g.length;m;){for(b=g,g=[],l=-1;++l<m;)b[l]();m=g.length}d=!1}w.exports=function(l){1!==g.push(l)||d||u()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(A,w,t){"use strict";var e=A("immediate");function u(){}var d={},f=["REJECTED"],s=["FULFILLED"],Z=["PENDING"];function O(m){if("function"!=typeof m)throw new TypeError("resolver must be a function");this.state=Z,this.queue=[],this.outcome=void 0,m!==u&&l(this,m)}function T(m,P,S){this.promise=m,"function"==typeof P&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),"function"==typeof S&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function g(m,P,S){e(function(){var N;try{N=P(S)}catch(R){return d.reject(m,R)}N===m?d.reject(m,new TypeError("Cannot resolve promise with itself")):d.resolve(m,N)})}function M(m){var P=m&&m.then;if(m&&("object"==typeof m||"function"==typeof m)&&"function"==typeof P)return function(){P.apply(m,arguments)}}function l(m,P){var S=!1;function N(Q){S||(S=!0,d.reject(m,Q))}function R(Q){S||(S=!0,d.resolve(m,Q))}var et=b(function(){P(R,N)});"error"===et.status&&N(et.value)}function b(m,P){var S={};try{S.value=m(P),S.status="success"}catch(N){S.status="error",S.value=N}return S}(w.exports=O).prototype.finally=function(m){if("function"!=typeof m)return this;var P=this.constructor;return this.then(function(S){return P.resolve(m()).then(function(){return S})},function(S){return P.resolve(m()).then(function(){throw S})})},O.prototype.catch=function(m){return this.then(null,m)},O.prototype.then=function(m,P){if("function"!=typeof m&&this.state===s||"function"!=typeof P&&this.state===f)return this;var S=new this.constructor(u);return this.state!==Z?g(S,this.state===s?m:P,this.outcome):this.queue.push(new T(S,m,P)),S},T.prototype.callFulfilled=function(m){d.resolve(this.promise,m)},T.prototype.otherCallFulfilled=function(m){g(this.promise,this.onFulfilled,m)},T.prototype.callRejected=function(m){d.reject(this.promise,m)},T.prototype.otherCallRejected=function(m){g(this.promise,this.onRejected,m)},d.resolve=function(m,P){var S=b(M,P);if("error"===S.status)return d.reject(m,S.value);var N=S.value;if(N)l(m,N);else{m.state=s,m.outcome=P;for(var R=-1,et=m.queue.length;++R<et;)m.queue[R].callFulfilled(P)}return m},d.reject=function(m,P){m.state=f,m.outcome=P;for(var S=-1,N=m.queue.length;++S<N;)m.queue[S].callRejected(P);return m},O.resolve=function(m){return m instanceof this?m:d.resolve(new this(u),m)},O.reject=function(m){var P=new this(u);return d.reject(P,m)},O.all=function(m){var P=this;if("[object Array]"!==Object.prototype.toString.call(m))return this.reject(new TypeError("must be an array"));var S=m.length,N=!1;if(!S)return this.resolve([]);for(var R=new Array(S),et=0,Q=-1,H=new this(u);++Q<S;)D(m[Q],Q);return H;function D(I,z){P.resolve(I).then(function(x){R[z]=x,++et!==S||N||(N=!0,d.resolve(H,R))},function(x){N||(N=!0,d.reject(H,x))})}},O.race=function(m){if("[object Array]"!==Object.prototype.toString.call(m))return this.reject(new TypeError("must be an array"));var S=m.length,N=!1;if(!S)return this.resolve([]);for(var R=-1,et=new this(u);++R<S;)this.resolve(m[R]).then(function(H){N||(N=!0,d.resolve(et,H))},function(H){N||(N=!0,d.reject(et,H))});return et}},{immediate:36}],38:[function(A,w,t){"use strict";var e={};(0,A("./lib/utils/common").assign)(e,A("./lib/deflate"),A("./lib/inflate"),A("./lib/zlib/constants")),w.exports=e},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(A,w,t){"use strict";var e=A("./zlib/deflate"),u=A("./utils/common"),d=A("./utils/strings"),f=A("./zlib/messages"),s=A("./zlib/zstream"),Z=Object.prototype.toString;function l(m){if(!(this instanceof l))return new l(m);this.options=u.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},m||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var S=e.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(0!==S)throw new Error(f[S]);if(P.header&&e.deflateSetHeader(this.strm,P.header),P.dictionary){var N;if(N="string"==typeof P.dictionary?d.string2buf(P.dictionary):"[object ArrayBuffer]"===Z.call(P.dictionary)?new Uint8Array(P.dictionary):P.dictionary,0!==(S=e.deflateSetDictionary(this.strm,N)))throw new Error(f[S]);this._dict_set=!0}}function b(m,P){var S=new l(P);if(S.push(m,!0),S.err)throw S.msg||f[S.err];return S.result}l.prototype.push=function(m,P){var S,N,R=this.strm,et=this.options.chunkSize;if(this.ended)return!1;N=P===~~P?P:!0===P?4:0,R.input="string"==typeof m?d.string2buf(m):"[object ArrayBuffer]"===Z.call(m)?new Uint8Array(m):m,R.next_in=0,R.avail_in=R.input.length;do{if(0===R.avail_out&&(R.output=new u.Buf8(et),R.next_out=0,R.avail_out=et),1!==(S=e.deflate(R,N))&&0!==S)return this.onEnd(S),!(this.ended=!0);0!==R.avail_out&&(0!==R.avail_in||4!==N&&2!==N)||this.onData("string"===this.options.to?d.buf2binstring(u.shrinkBuf(R.output,R.next_out)):u.shrinkBuf(R.output,R.next_out))}while((0<R.avail_in||0===R.avail_out)&&1!==S);return 4===N?(S=e.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,0===S):2!==N||(this.onEnd(0),!(R.avail_out=0))},l.prototype.onData=function(m){this.chunks.push(m)},l.prototype.onEnd=function(m){0===m&&(this.result="string"===this.options.to?this.chunks.join(""):u.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},t.Deflate=l,t.deflate=b,t.deflateRaw=function(m,P){return(P=P||{}).raw=!0,b(m,P)},t.gzip=function(m,P){return(P=P||{}).gzip=!0,b(m,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(A,w,t){"use strict";var e=A("./zlib/inflate"),u=A("./utils/common"),d=A("./utils/strings"),f=A("./zlib/constants"),s=A("./zlib/messages"),Z=A("./zlib/zstream"),O=A("./zlib/gzheader"),T=Object.prototype.toString;function g(l){if(!(this instanceof g))return new g(l);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},l||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||l&&l.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&0==(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z,this.strm.avail_out=0;var m=e.inflateInit2(this.strm,b.windowBits);if(m!==f.Z_OK)throw new Error(s[m]);this.header=new O,e.inflateGetHeader(this.strm,this.header)}function M(l,b){var m=new g(b);if(m.push(l,!0),m.err)throw m.msg||s[m.err];return m.result}g.prototype.push=function(l,b){var m,P,S,N,R,et,Q=this.strm,H=this.options.chunkSize,D=this.options.dictionary,I=!1;if(this.ended)return!1;P=b===~~b?b:!0===b?f.Z_FINISH:f.Z_NO_FLUSH,Q.input="string"==typeof l?d.binstring2buf(l):"[object ArrayBuffer]"===T.call(l)?new Uint8Array(l):l,Q.next_in=0,Q.avail_in=Q.input.length;do{if(0===Q.avail_out&&(Q.output=new u.Buf8(H),Q.next_out=0,Q.avail_out=H),(m=e.inflate(Q,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&D&&(et="string"==typeof D?d.string2buf(D):"[object ArrayBuffer]"===T.call(D)?new Uint8Array(D):D,m=e.inflateSetDictionary(this.strm,et)),m===f.Z_BUF_ERROR&&!0===I&&(m=f.Z_OK,I=!1),m!==f.Z_STREAM_END&&m!==f.Z_OK)return this.onEnd(m),!(this.ended=!0);Q.next_out&&(0!==Q.avail_out&&m!==f.Z_STREAM_END&&(0!==Q.avail_in||P!==f.Z_FINISH&&P!==f.Z_SYNC_FLUSH)||("string"===this.options.to?(S=d.utf8border(Q.output,Q.next_out),N=Q.next_out-S,R=d.buf2string(Q.output,S),Q.next_out=N,Q.avail_out=H-N,N&&u.arraySet(Q.output,Q.output,S,N,0),this.onData(R)):this.onData(u.shrinkBuf(Q.output,Q.next_out)))),0===Q.avail_in&&0===Q.avail_out&&(I=!0)}while((0<Q.avail_in||0===Q.avail_out)&&m!==f.Z_STREAM_END);return m===f.Z_STREAM_END&&(P=f.Z_FINISH),P===f.Z_FINISH?(m=e.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===f.Z_OK):P!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(Q.avail_out=0))},g.prototype.onData=function(l){this.chunks.push(l)},g.prototype.onEnd=function(l){l===f.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):u.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},t.Inflate=g,t.inflate=M,t.inflateRaw=function(l,b){return(b=b||{}).raw=!0,M(l,b)},t.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(A,w,t){"use strict";var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(f){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var Z=s.shift();if(Z){if("object"!=typeof Z)throw new TypeError(Z+"must be non-object");for(var O in Z)Z.hasOwnProperty(O)&&(f[O]=Z[O])}}return f},t.shrinkBuf=function(f,s){return f.length===s?f:f.subarray?f.subarray(0,s):(f.length=s,f)};var u={arraySet:function(f,s,Z,O,T){if(s.subarray&&f.subarray)f.set(s.subarray(Z,Z+O),T);else for(var g=0;g<O;g++)f[T+g]=s[Z+g]},flattenChunks:function(f){var s,Z,O,T,g,M;for(s=O=0,Z=f.length;s<Z;s++)O+=f[s].length;for(M=new Uint8Array(O),s=T=0,Z=f.length;s<Z;s++)M.set(g=f[s],T),T+=g.length;return M}},d={arraySet:function(f,s,Z,O,T){for(var g=0;g<O;g++)f[T+g]=s[Z+g]},flattenChunks:function(f){return[].concat.apply([],f)}};t.setTyped=function(f){f?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,u)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,d))},t.setTyped(e)},{}],42:[function(A,w,t){"use strict";var e=A("./common"),u=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch(O){u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(O){d=!1}for(var f=new e.Buf8(256),s=0;s<256;s++)f[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function Z(O,T){if(T<65537&&(O.subarray&&d||!O.subarray&&u))return String.fromCharCode.apply(null,e.shrinkBuf(O,T));for(var g="",M=0;M<T;M++)g+=String.fromCharCode(O[M]);return g}f[254]=f[254]=1,t.string2buf=function(O){var T,g,M,l,b,m=O.length,P=0;for(l=0;l<m;l++)55296==(64512&(g=O.charCodeAt(l)))&&l+1<m&&56320==(64512&(M=O.charCodeAt(l+1)))&&(g=65536+(g-55296<<10)+(M-56320),l++),P+=g<128?1:g<2048?2:g<65536?3:4;for(T=new e.Buf8(P),l=b=0;b<P;l++)55296==(64512&(g=O.charCodeAt(l)))&&l+1<m&&56320==(64512&(M=O.charCodeAt(l+1)))&&(g=65536+(g-55296<<10)+(M-56320),l++),g<128?T[b++]=g:(g<2048?T[b++]=192|g>>>6:(g<65536?T[b++]=224|g>>>12:(T[b++]=240|g>>>18,T[b++]=128|g>>>12&63),T[b++]=128|g>>>6&63),T[b++]=128|63&g);return T},t.buf2binstring=function(O){return Z(O,O.length)},t.binstring2buf=function(O){for(var T=new e.Buf8(O.length),g=0,M=T.length;g<M;g++)T[g]=O.charCodeAt(g);return T},t.buf2string=function(O,T){var g,M,l,b,m=T||O.length,P=new Array(2*m);for(g=M=0;g<m;)if((l=O[g++])<128)P[M++]=l;else if(4<(b=f[l]))P[M++]=65533,g+=b-1;else{for(l&=2===b?31:3===b?15:7;1<b&&g<m;)l=l<<6|63&O[g++],b--;1<b?P[M++]=65533:l<65536?P[M++]=l:(P[M++]=55296|(l-=65536)>>10&1023,P[M++]=56320|1023&l)}return Z(P,M)},t.utf8border=function(O,T){var g;for((T=T||O.length)>O.length&&(T=O.length),g=T-1;0<=g&&128==(192&O[g]);)g--;return g<0||0===g?T:g+f[O[g]]>T?g:T}},{"./common":41}],43:[function(A,w,t){"use strict";w.exports=function(e,u,d,f){for(var s=65535&e|0,Z=e>>>16&65535|0,O=0;0!==d;){for(d-=O=2e3<d?2e3:d;Z=Z+(s=s+u[f++]|0)|0,--O;);s%=65521,Z%=65521}return s|Z<<16|0}},{}],44:[function(A,w,t){"use strict";w.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(A,w,t){"use strict";var e=function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var s=0;s<8;s++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d}();w.exports=function(u,d,f,s){var Z=e,O=s+f;u^=-1;for(var T=s;T<O;T++)u=u>>>8^Z[255&(u^d[T])];return-1^u}},{}],46:[function(A,w,t){"use strict";var e,u=A("../utils/common"),d=A("./trees"),f=A("./adler32"),s=A("./crc32"),Z=A("./messages"),M=-2,I=258,z=262,_=113;function it(n,W){return n.msg=Z[W],W}function ot(n){return(n<<1)-(4<n?9:0)}function bt(n){for(var W=n.length;0<=--W;)n[W]=0}function c(n){var W=n.state,j=W.pending;j>n.avail_out&&(j=n.avail_out),0!==j&&(u.arraySet(n.output,W.pending_buf,W.pending_out,j,n.next_out),n.next_out+=j,W.pending_out+=j,n.total_out+=j,n.avail_out-=j,W.pending-=j,0===W.pending&&(W.pending_out=0))}function i(n,W){d._tr_flush_block(n,0<=n.block_start?n.block_start:-1,n.strstart-n.block_start,W),n.block_start=n.strstart,c(n.strm)}function y(n,W){n.pending_buf[n.pending++]=W}function k(n,W){n.pending_buf[n.pending++]=W>>>8&255,n.pending_buf[n.pending++]=255&W}function h(n,W){var j,v,p=n.max_chain_length,E=n.strstart,K=n.prev_length,tt=n.nice_match,q=n.strstart>n.w_size-z?n.strstart-(n.w_size-z):0,nt=n.window,lt=n.w_mask,st=n.prev,ht=n.strstart+I,At=nt[E+K-1],wt=nt[E+K];n.prev_length>=n.good_match&&(p>>=2),tt>n.lookahead&&(tt=n.lookahead);do{if(nt[(j=W)+K]===wt&&nt[j+K-1]===At&&nt[j]===nt[E]&&nt[++j]===nt[E+1]){E+=2,j++;do{}while(nt[++E]===nt[++j]&&nt[++E]===nt[++j]&&nt[++E]===nt[++j]&&nt[++E]===nt[++j]&&nt[++E]===nt[++j]&&nt[++E]===nt[++j]&&nt[++E]===nt[++j]&&nt[++E]===nt[++j]&&E<ht);if(v=I-(ht-E),E=ht-I,K<v){if(n.match_start=W,tt<=(K=v))break;At=nt[E+K-1],wt=nt[E+K]}}}while((W=st[W&lt])>q&&0!=--p);return K<=n.lookahead?K:n.lookahead}function X(n){var W,j,v,p,E,K,tt,q,nt,lt,st=n.w_size;do{if(p=n.window_size-n.lookahead-n.strstart,n.strstart>=st+(st-z)){for(u.arraySet(n.window,n.window,st,st,0),n.match_start-=st,n.strstart-=st,n.block_start-=st,W=j=n.hash_size;v=n.head[--W],n.head[W]=st<=v?v-st:0,--j;);for(W=j=st;v=n.prev[--W],n.prev[W]=st<=v?v-st:0,--j;);p+=st}if(0===n.strm.avail_in)break;if(tt=n.window,q=n.strstart+n.lookahead,lt=void 0,(nt=p)<(lt=(K=n.strm).avail_in)&&(lt=nt),j=0===lt?0:(K.avail_in-=lt,u.arraySet(tt,K.input,K.next_in,lt,q),1===K.state.wrap?K.adler=f(K.adler,tt,lt,q):2===K.state.wrap&&(K.adler=s(K.adler,tt,lt,q)),K.next_in+=lt,K.total_in+=lt,lt),n.lookahead+=j,n.lookahead+n.insert>=3)for(n.ins_h=n.window[E=n.strstart-n.insert],n.ins_h=(n.ins_h<<n.hash_shift^n.window[E+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[E+3-1])&n.hash_mask,n.prev[E&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=E,E++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<z&&0!==n.strm.avail_in)}function rt(n,W){for(var j,v;;){if(n.lookahead<z){if(X(n),n.lookahead<z&&0===W)return 1;if(0===n.lookahead)break}if(j=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==j&&n.strstart-j<=n.w_size-z&&(n.match_length=h(n,j)),n.match_length>=3)if(v=d._tr_tally(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){for(n.match_length--;n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart,0!=--n.match_length;);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else v=d._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(v&&(i(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,4===W?(i(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(i(n,!1),0===n.strm.avail_out)?1:2}function G(n,W){for(var j,v,p;;){if(n.lookahead<z){if(X(n),n.lookahead<z&&0===W)return 1;if(0===n.lookahead)break}if(j=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==j&&n.prev_length<n.max_lazy_match&&n.strstart-j<=n.w_size-z&&(n.match_length=h(n,j),n.match_length<=5&&(1===n.strategy||3===n.match_length&&4096<n.strstart-n.match_start)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){for(p=n.strstart+n.lookahead-3,v=d._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;++n.strstart<=p&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,j=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!=--n.prev_length;);if(n.match_available=0,n.match_length=2,n.strstart++,v&&(i(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if((v=d._tr_tally(n,0,n.window[n.strstart-1]))&&i(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(v=d._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,4===W?(i(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(i(n,!1),0===n.strm.avail_out)?1:2}function at(n,W,j,v,p){this.good_length=n,this.max_lazy=W,this.nice_length=j,this.max_chain=v,this.func=p}function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(1146),this.dyn_dtree=new u.Buf16(122),this.bl_tree=new u.Buf16(78),bt(this.dyn_ltree),bt(this.dyn_dtree),bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(16),this.heap=new u.Buf16(573),bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(573),bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ot(n){var W;return n&&n.state?(n.total_in=n.total_out=0,n.data_type=2,(W=n.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?42:_,n.adler=2===W.wrap?0:1,W.last_flush=0,d._tr_init(W),0):it(n,M)}function Tt(n){var j,W=Ot(n);return 0===W&&((j=n.state).window_size=2*j.w_size,bt(j.head),j.max_lazy_match=e[j.level].max_lazy,j.good_match=e[j.level].good_length,j.nice_match=e[j.level].nice_length,j.max_chain_length=e[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=2,j.match_available=0,j.ins_h=0),W}function xt(n,W,j,v,p,E){if(!n)return M;var K=1;if(-1===W&&(W=6),v<0?(K=0,v=-v):15<v&&(K=2,v-=16),p<1||9<p||8!==j||v<8||15<v||W<0||9<W||E<0||4<E)return it(n,M);8===v&&(v=9);var tt=new pt;return(n.state=tt).strm=n,tt.wrap=K,tt.gzhead=null,tt.w_bits=v,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=p+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+3-1)/3),tt.window=new u.Buf8(2*tt.w_size),tt.head=new u.Buf16(tt.hash_size),tt.prev=new u.Buf16(tt.w_size),tt.lit_bufsize=1<<p+6,tt.pending_buf_size=4*tt.lit_bufsize,tt.pending_buf=new u.Buf8(tt.pending_buf_size),tt.d_buf=1*tt.lit_bufsize,tt.l_buf=3*tt.lit_bufsize,tt.level=W,tt.strategy=E,tt.method=j,Tt(n)}e=[new at(0,0,0,0,function(n,W){var j=65535;for(j>n.pending_buf_size-5&&(j=n.pending_buf_size-5);;){if(n.lookahead<=1){if(X(n),0===n.lookahead&&0===W)return 1;if(0===n.lookahead)break}n.strstart+=n.lookahead,n.lookahead=0;var v=n.block_start+j;if((0===n.strstart||n.strstart>=v)&&(n.lookahead=n.strstart-v,n.strstart=v,i(n,!1),0===n.strm.avail_out)||n.strstart-n.block_start>=n.w_size-z&&(i(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,4===W?(i(n,!0),0===n.strm.avail_out?3:4):(n.strstart>n.block_start&&i(n,!1),1)}),new at(4,4,8,4,rt),new at(4,5,16,8,rt),new at(4,6,32,32,rt),new at(4,4,16,16,G),new at(8,16,32,32,G),new at(8,16,128,128,G),new at(8,32,128,256,G),new at(32,128,258,1024,G),new at(32,258,258,4096,G)],t.deflateInit=function(n,W){return xt(n,W,8,15,8,0)},t.deflateInit2=xt,t.deflateReset=Tt,t.deflateResetKeep=Ot,t.deflateSetHeader=function(n,W){return n&&n.state?2!==n.state.wrap?M:(n.state.gzhead=W,0):M},t.deflate=function(n,W){var j,v,p,E;if(!n||!n.state||5<W||W<0)return n?it(n,M):M;if(v=n.state,!n.output||!n.input&&0!==n.avail_in||666===v.status&&4!==W)return it(n,0===n.avail_out?-5:M);if(v.strm=n,j=v.last_flush,v.last_flush=W,42===v.status)if(2===v.wrap)n.adler=0,y(v,31),y(v,139),y(v,8),v.gzhead?(y(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),y(v,255&v.gzhead.time),y(v,v.gzhead.time>>8&255),y(v,v.gzhead.time>>16&255),y(v,v.gzhead.time>>24&255),y(v,9===v.level?2:2<=v.strategy||v.level<2?4:0),y(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(y(v,255&v.gzhead.extra.length),y(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(n.adler=s(n.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(y(v,0),y(v,0),y(v,0),y(v,0),y(v,0),y(v,9===v.level?2:2<=v.strategy||v.level<2?4:0),y(v,3),v.status=_);else{var K=8+(v.w_bits-8<<4)<<8;K|=(2<=v.strategy||v.level<2?0:v.level<6?1:6===v.level?2:3)<<6,0!==v.strstart&&(K|=32),K+=31-K%31,v.status=_,k(v,K),0!==v.strstart&&(k(v,n.adler>>>16),k(v,65535&n.adler)),n.adler=1}if(69===v.status)if(v.gzhead.extra){for(p=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>p&&(n.adler=s(n.adler,v.pending_buf,v.pending-p,p)),c(n),p=v.pending,v.pending!==v.pending_buf_size));)y(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>p&&(n.adler=s(n.adler,v.pending_buf,v.pending-p,p)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(73===v.status)if(v.gzhead.name){p=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>p&&(n.adler=s(n.adler,v.pending_buf,v.pending-p,p)),c(n),p=v.pending,v.pending===v.pending_buf_size)){E=1;break}E=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,y(v,E)}while(0!==E);v.gzhead.hcrc&&v.pending>p&&(n.adler=s(n.adler,v.pending_buf,v.pending-p,p)),0===E&&(v.gzindex=0,v.status=91)}else v.status=91;if(91===v.status)if(v.gzhead.comment){p=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>p&&(n.adler=s(n.adler,v.pending_buf,v.pending-p,p)),c(n),p=v.pending,v.pending===v.pending_buf_size)){E=1;break}E=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,y(v,E)}while(0!==E);v.gzhead.hcrc&&v.pending>p&&(n.adler=s(n.adler,v.pending_buf,v.pending-p,p)),0===E&&(v.status=103)}else v.status=103;if(103===v.status&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&c(n),v.pending+2<=v.pending_buf_size&&(y(v,255&n.adler),y(v,n.adler>>8&255),n.adler=0,v.status=_)):v.status=_),0!==v.pending){if(c(n),0===n.avail_out)return v.last_flush=-1,0}else if(0===n.avail_in&&ot(W)<=ot(j)&&4!==W)return it(n,-5);if(666===v.status&&0!==n.avail_in)return it(n,-5);if(0!==n.avail_in||0!==v.lookahead||0!==W&&666!==v.status){var tt=2===v.strategy?function(q,nt){for(var lt;;){if(0===q.lookahead&&(X(q),0===q.lookahead)){if(0===nt)return 1;break}if(q.match_length=0,lt=d._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,lt&&(i(q,!1),0===q.strm.avail_out))return 1}return q.insert=0,4===nt?(i(q,!0),0===q.strm.avail_out?3:4):q.last_lit&&(i(q,!1),0===q.strm.avail_out)?1:2}(v,W):3===v.strategy?function(q,nt){for(var lt,st,ht,At,wt=q.window;;){if(q.lookahead<=I){if(X(q),q.lookahead<=I&&0===nt)return 1;if(0===q.lookahead)break}if(q.match_length=0,q.lookahead>=3&&0<q.strstart&&(st=wt[ht=q.strstart-1])===wt[++ht]&&st===wt[++ht]&&st===wt[++ht]){At=q.strstart+I;do{}while(st===wt[++ht]&&st===wt[++ht]&&st===wt[++ht]&&st===wt[++ht]&&st===wt[++ht]&&st===wt[++ht]&&st===wt[++ht]&&st===wt[++ht]&&ht<At);q.match_length=I-(At-ht),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=3?(lt=d._tr_tally(q,1,q.match_length-3),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(lt=d._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),lt&&(i(q,!1),0===q.strm.avail_out))return 1}return q.insert=0,4===nt?(i(q,!0),0===q.strm.avail_out?3:4):q.last_lit&&(i(q,!1),0===q.strm.avail_out)?1:2}(v,W):e[v.level].func(v,W);if(3!==tt&&4!==tt||(v.status=666),1===tt||3===tt)return 0===n.avail_out&&(v.last_flush=-1),0;if(2===tt&&(1===W?d._tr_align(v):5!==W&&(d._tr_stored_block(v,0,0,!1),3===W&&(bt(v.head),0===v.lookahead&&(v.strstart=0,v.block_start=0,v.insert=0))),c(n),0===n.avail_out))return v.last_flush=-1,0}return 4!==W?0:v.wrap<=0?1:(2===v.wrap?(y(v,255&n.adler),y(v,n.adler>>8&255),y(v,n.adler>>16&255),y(v,n.adler>>24&255),y(v,255&n.total_in),y(v,n.total_in>>8&255),y(v,n.total_in>>16&255),y(v,n.total_in>>24&255)):(k(v,n.adler>>>16),k(v,65535&n.adler)),c(n),0<v.wrap&&(v.wrap=-v.wrap),0!==v.pending?0:1)},t.deflateEnd=function(n){var W;return n&&n.state?42!==(W=n.state.status)&&69!==W&&73!==W&&91!==W&&103!==W&&W!==_&&666!==W?it(n,M):(n.state=null,W===_?it(n,-3):0):M},t.deflateSetDictionary=function(n,W){var j,v,p,E,K,tt,q,nt,lt=W.length;if(!n||!n.state||2===(E=(j=n.state).wrap)||1===E&&42!==j.status||j.lookahead)return M;for(1===E&&(n.adler=f(n.adler,W,lt,0)),j.wrap=0,lt>=j.w_size&&(0===E&&(bt(j.head),j.strstart=0,j.block_start=0,j.insert=0),nt=new u.Buf8(j.w_size),u.arraySet(nt,W,lt-j.w_size,j.w_size,0),W=nt,lt=j.w_size),K=n.avail_in,tt=n.next_in,q=n.input,n.avail_in=lt,n.next_in=0,n.input=W,X(j);j.lookahead>=3;){for(v=j.strstart,p=j.lookahead-2;j.ins_h=(j.ins_h<<j.hash_shift^j.window[v+3-1])&j.hash_mask,j.prev[v&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=v,v++,--p;);j.strstart=v,j.lookahead=2,X(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=2,j.match_available=0,n.next_in=tt,n.input=q,n.avail_in=K,j.wrap=E,0},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(A,w,t){"use strict";w.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(A,w,t){"use strict";w.exports=function(e,u){var d,f,s,Z,O,T,g,M,l,b,m,P,S,N,R,et,Q,H,D,I,z,x,_,o,C;o=e.input,s=(f=e.next_in)+(e.avail_in-5),C=e.output,O=(Z=e.next_out)-(u-e.avail_out),T=Z+(e.avail_out-257),g=(d=e.state).dmax,M=d.wsize,l=d.whave,b=d.wnext,m=d.window,P=d.hold,S=d.bits,N=d.lencode,R=d.distcode,et=(1<<d.lenbits)-1,Q=(1<<d.distbits)-1;t:do{S<15&&(P+=o[f++]<<S,P+=o[f++]<<(S+=8),S+=8),H=N[P&et];e:for(;;){if(P>>>=D=H>>>24,S-=D,0==(D=H>>>16&255))C[Z++]=65535&H;else{if(!(16&D)){if(0==(64&D)){H=N[(65535&H)+(P&(1<<D)-1)];continue e}if(32&D){d.mode=12;break t}e.msg="invalid literal/length code",d.mode=30;break t}I=65535&H,(D&=15)&&(S<D&&(P+=o[f++]<<S,S+=8),I+=P&(1<<D)-1,P>>>=D,S-=D),S<15&&(P+=o[f++]<<S,P+=o[f++]<<(S+=8),S+=8),H=R[P&Q];n:for(;;){if(P>>>=D=H>>>24,S-=D,!(16&(D=H>>>16&255))){if(0==(64&D)){H=R[(65535&H)+(P&(1<<D)-1)];continue n}e.msg="invalid distance code",d.mode=30;break t}if(z=65535&H,S<(D&=15)&&(P+=o[f++]<<S,(S+=8)<D&&(P+=o[f++]<<S,S+=8)),g<(z+=P&(1<<D)-1)){e.msg="invalid distance too far back",d.mode=30;break t}if(P>>>=D,S-=D,(D=Z-O)<z){if(l<(D=z-D)&&d.sane){e.msg="invalid distance too far back",d.mode=30;break t}if(_=m,(x=0)===b){if(x+=M-D,D<I){for(I-=D;C[Z++]=m[x++],--D;);x=Z-z,_=C}}else if(b<D){if(x+=M+b-D,(D-=b)<I){for(I-=D;C[Z++]=m[x++],--D;);if(x=0,b<I){for(I-=D=b;C[Z++]=m[x++],--D;);x=Z-z,_=C}}}else if(x+=b-D,D<I){for(I-=D;C[Z++]=m[x++],--D;);x=Z-z,_=C}for(;2<I;)C[Z++]=_[x++],C[Z++]=_[x++],C[Z++]=_[x++],I-=3;I&&(C[Z++]=_[x++],1<I&&(C[Z++]=_[x++]))}else{for(x=Z-z;C[Z++]=C[x++],C[Z++]=C[x++],C[Z++]=C[x++],2<(I-=3););I&&(C[Z++]=C[x++],1<I&&(C[Z++]=C[x++]))}break}}break}}while(f<s&&Z<T);f-=I=S>>3,P&=(1<<(S-=I<<3))-1,e.next_in=f,e.next_out=Z,e.avail_in=f<s?s-f+5:5-(f-s),e.avail_out=Z<T?T-Z+257:257-(Z-T),d.hold=P,d.bits=S}},{}],49:[function(A,w,t){"use strict";var e=A("../utils/common"),u=A("./adler32"),d=A("./crc32"),f=A("./inffast"),s=A("./inftrees"),g=-2;function m(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(x){var _;return x&&x.state?(x.total_in=x.total_out=(_=x.state).total=0,x.msg="",_.wrap&&(x.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new e.Buf32(852),_.distcode=_.distdyn=new e.Buf32(592),_.sane=1,_.back=-1,0):g}function N(x){var _;return x&&x.state?((_=x.state).wsize=0,_.whave=0,_.wnext=0,S(x)):g}function R(x,_){var o,C;return x&&x.state?(C=x.state,_<0?(o=0,_=-_):(o=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?g:(null!==C.window&&C.wbits!==_&&(C.window=null),C.wrap=o,C.wbits=_,N(x))):g}function et(x,_){var o,C;return x?(C=new P,(x.state=C).window=null,0!==(o=R(x,_))&&(x.state=null),o):g}var Q,H,D=!0;function I(x){if(D){var _;for(Q=new e.Buf32(512),H=new e.Buf32(32),_=0;_<144;)x.lens[_++]=8;for(;_<256;)x.lens[_++]=9;for(;_<280;)x.lens[_++]=7;for(;_<288;)x.lens[_++]=8;for(s(1,x.lens,0,288,Q,0,x.work,{bits:9}),_=0;_<32;)x.lens[_++]=5;s(2,x.lens,0,32,H,0,x.work,{bits:5}),D=!1}x.lencode=Q,x.lenbits=9,x.distcode=H,x.distbits=5}function z(x,_,o,C){var $,B=x.state;return null===B.window&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new e.Buf8(B.wsize)),C>=B.wsize?(e.arraySet(B.window,_,o-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(C<($=B.wsize-B.wnext)&&($=C),e.arraySet(B.window,_,o-C,$,B.wnext),(C-=$)?(e.arraySet(B.window,_,o-C,C,0),B.wnext=C,B.whave=B.wsize):(B.wnext+=$,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=$))),0}t.inflateReset=N,t.inflateReset2=R,t.inflateResetKeep=S,t.inflateInit=function(x){return et(x,15)},t.inflateInit2=et,t.inflate=function(x,_){var o,C,$,B,it,ot,bt,c,i,y,k,h,X,rt,G,at,pt,Ot,Tt,xt,n,W,j,v,p=0,E=new e.Buf8(4),K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&0!==x.avail_in)return g;12===(o=x.state).mode&&(o.mode=13),it=x.next_out,$=x.output,B=x.next_in,C=x.input,c=o.hold,i=o.bits,y=ot=x.avail_in,k=bt=x.avail_out,W=0;t:for(;;)switch(o.mode){case 1:if(0===o.wrap){o.mode=13;break}for(;i<16;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(2&o.wrap&&35615===c){E[o.check=0]=255&c,E[1]=c>>>8&255,o.check=d(o.check,E,2,0),i=c=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&c)<<8)+(c>>8))%31){x.msg="incorrect header check",o.mode=30;break}if(8!=(15&c)){x.msg="unknown compression method",o.mode=30;break}if(i-=4,n=8+(15&(c>>>=4)),0===o.wbits)o.wbits=n;else if(n>o.wbits){x.msg="invalid window size",o.mode=30;break}o.dmax=1<<n,x.adler=o.check=1,o.mode=512&c?10:12,i=c=0;break;case 2:for(;i<16;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(o.flags=c,8!=(255&o.flags)){x.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){x.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=c>>8&1),512&o.flags&&(E[0]=255&c,E[1]=c>>>8&255,o.check=d(o.check,E,2,0)),i=c=0,o.mode=3;case 3:for(;i<32;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}o.head&&(o.head.time=c),512&o.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,o.check=d(o.check,E,4,0)),i=c=0,o.mode=4;case 4:for(;i<16;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}o.head&&(o.head.xflags=255&c,o.head.os=c>>8),512&o.flags&&(E[0]=255&c,E[1]=c>>>8&255,o.check=d(o.check,E,2,0)),i=c=0,o.mode=5;case 5:if(1024&o.flags){for(;i<16;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}o.length=c,o.head&&(o.head.extra_len=c),512&o.flags&&(E[0]=255&c,E[1]=c>>>8&255,o.check=d(o.check,E,2,0)),i=c=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(ot<(h=o.length)&&(h=ot),h&&(o.head&&(n=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),e.arraySet(o.head.extra,C,B,h,n)),512&o.flags&&(o.check=d(o.check,C,h,B)),ot-=h,B+=h,o.length-=h),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(0===ot)break t;for(h=0;n=C[B+h++],o.head&&n&&o.length<65536&&(o.head.name+=String.fromCharCode(n)),n&&h<ot;);if(512&o.flags&&(o.check=d(o.check,C,h,B)),ot-=h,B+=h,n)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(0===ot)break t;for(h=0;n=C[B+h++],o.head&&n&&o.length<65536&&(o.head.comment+=String.fromCharCode(n)),n&&h<ot;);if(512&o.flags&&(o.check=d(o.check,C,h,B)),ot-=h,B+=h,n)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;i<16;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(c!==(65535&o.check)){x.msg="header crc mismatch",o.mode=30;break}i=c=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),x.adler=o.check=0,o.mode=12;break;case 10:for(;i<32;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}x.adler=o.check=m(c),i=c=0,o.mode=11;case 11:if(0===o.havedict)return x.next_out=it,x.avail_out=bt,x.next_in=B,x.avail_in=ot,o.hold=c,o.bits=i,2;x.adler=o.check=1,o.mode=12;case 12:if(5===_||6===_)break t;case 13:if(o.last){c>>>=7&i,i-=7&i,o.mode=27;break}for(;i<3;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}switch(o.last=1&c,i-=1,3&(c>>>=1)){case 0:o.mode=14;break;case 1:if(I(o),o.mode=20,6!==_)break;c>>>=2,i-=2;break t;case 2:o.mode=17;break;case 3:x.msg="invalid block type",o.mode=30}c>>>=2,i-=2;break;case 14:for(c>>>=7&i,i-=7&i;i<32;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if((65535&c)!=(c>>>16^65535)){x.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&c,i=c=0,o.mode=15,6===_)break t;case 15:o.mode=16;case 16:if(h=o.length){if(ot<h&&(h=ot),bt<h&&(h=bt),0===h)break t;e.arraySet($,C,B,h,it),ot-=h,B+=h,bt-=h,it+=h,o.length-=h;break}o.mode=12;break;case 17:for(;i<14;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(o.nlen=257+(31&c),i-=5,o.ndist=1+(31&(c>>>=5)),i-=5,o.ncode=4+(15&(c>>>=5)),c>>>=4,i-=4,286<o.nlen||30<o.ndist){x.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;i<3;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}o.lens[K[o.have++]]=7&c,c>>>=3,i-=3}for(;o.have<19;)o.lens[K[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,W=s(0,o.lens,0,19,o.lencode,0,o.work,j={bits:o.lenbits}),o.lenbits=j.bits,W){x.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;at=(p=o.lencode[c&(1<<o.lenbits)-1])>>>16&255,pt=65535&p,!((G=p>>>24)<=i);){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(pt<16)c>>>=G,i-=G,o.lens[o.have++]=pt;else{if(16===pt){for(v=G+2;i<v;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(c>>>=G,i-=G,0===o.have){x.msg="invalid bit length repeat",o.mode=30;break}n=o.lens[o.have-1],h=3+(3&c),c>>>=2,i-=2}else if(17===pt){for(v=G+3;i<v;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}i-=G,n=0,h=3+(7&(c>>>=G)),c>>>=3,i-=3}else{for(v=G+7;i<v;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}i-=G,n=0,h=11+(127&(c>>>=G)),c>>>=7,i-=7}if(o.have+h>o.nlen+o.ndist){x.msg="invalid bit length repeat",o.mode=30;break}for(;h--;)o.lens[o.have++]=n}}if(30===o.mode)break;if(0===o.lens[256]){x.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,W=s(1,o.lens,0,o.nlen,o.lencode,0,o.work,j={bits:o.lenbits}),o.lenbits=j.bits,W){x.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,W=s(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,j={bits:o.distbits}),o.distbits=j.bits,W){x.msg="invalid distances set",o.mode=30;break}if(o.mode=20,6===_)break t;case 20:o.mode=21;case 21:if(6<=ot&&258<=bt){x.next_out=it,x.avail_out=bt,x.next_in=B,x.avail_in=ot,o.hold=c,o.bits=i,f(x,k),it=x.next_out,$=x.output,bt=x.avail_out,B=x.next_in,C=x.input,ot=x.avail_in,c=o.hold,i=o.bits,12===o.mode&&(o.back=-1);break}for(o.back=0;at=(p=o.lencode[c&(1<<o.lenbits)-1])>>>16&255,pt=65535&p,!((G=p>>>24)<=i);){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(at&&0==(240&at)){for(Ot=G,Tt=at,xt=pt;at=(p=o.lencode[xt+((c&(1<<Ot+Tt)-1)>>Ot)])>>>16&255,pt=65535&p,!(Ot+(G=p>>>24)<=i);){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}c>>>=Ot,i-=Ot,o.back+=Ot}if(c>>>=G,i-=G,o.back+=G,o.length=pt,0===at){o.mode=26;break}if(32&at){o.back=-1,o.mode=12;break}if(64&at){x.msg="invalid literal/length code",o.mode=30;break}o.extra=15&at,o.mode=22;case 22:if(o.extra){for(v=o.extra;i<v;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}o.length+=c&(1<<o.extra)-1,c>>>=o.extra,i-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;at=(p=o.distcode[c&(1<<o.distbits)-1])>>>16&255,pt=65535&p,!((G=p>>>24)<=i);){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(0==(240&at)){for(Ot=G,Tt=at,xt=pt;at=(p=o.distcode[xt+((c&(1<<Ot+Tt)-1)>>Ot)])>>>16&255,pt=65535&p,!(Ot+(G=p>>>24)<=i);){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}c>>>=Ot,i-=Ot,o.back+=Ot}if(c>>>=G,i-=G,o.back+=G,64&at){x.msg="invalid distance code",o.mode=30;break}o.offset=pt,o.extra=15&at,o.mode=24;case 24:if(o.extra){for(v=o.extra;i<v;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}o.offset+=c&(1<<o.extra)-1,c>>>=o.extra,i-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){x.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(0===bt)break t;if(o.offset>(h=k-bt)){if((h=o.offset-h)>o.whave&&o.sane){x.msg="invalid distance too far back",o.mode=30;break}X=h>o.wnext?o.wsize-(h-=o.wnext):o.wnext-h,h>o.length&&(h=o.length),rt=o.window}else rt=$,X=it-o.offset,h=o.length;for(bt<h&&(h=bt),bt-=h,o.length-=h;$[it++]=rt[X++],--h;);0===o.length&&(o.mode=21);break;case 26:if(0===bt)break t;$[it++]=o.length,bt--,o.mode=21;break;case 27:if(o.wrap){for(;i<32;){if(0===ot)break t;ot--,c|=C[B++]<<i,i+=8}if(x.total_out+=k-=bt,o.total+=k,k&&(x.adler=o.check=o.flags?d(o.check,$,k,it-k):u(o.check,$,k,it-k)),k=bt,(o.flags?c:m(c))!==o.check){x.msg="incorrect data check",o.mode=30;break}i=c=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;i<32;){if(0===ot)break t;ot--,c+=C[B++]<<i,i+=8}if(c!==(4294967295&o.total)){x.msg="incorrect length check",o.mode=30;break}i=c=0}o.mode=29;case 29:W=1;break t;case 30:W=-3;break t;case 31:return-4;default:return g}return x.next_out=it,x.avail_out=bt,x.next_in=B,x.avail_in=ot,o.hold=c,o.bits=i,(o.wsize||k!==x.avail_out&&o.mode<30&&(o.mode<27||4!==_))&&z(x,x.output,x.next_out,k-x.avail_out)?(o.mode=31,-4):(k-=x.avail_out,x.total_in+=y-=x.avail_in,x.total_out+=k,o.total+=k,o.wrap&&k&&(x.adler=o.check=o.flags?d(o.check,$,k,x.next_out-k):u(o.check,$,k,x.next_out-k)),x.data_type=o.bits+(o.last?64:0)+(12===o.mode?128:0)+(20===o.mode||15===o.mode?256:0),(0==y&&0===k||4===_)&&0===W&&(W=-5),W)},t.inflateEnd=function(x){if(!x||!x.state)return g;var _=x.state;return _.window&&(_.window=null),x.state=null,0},t.inflateGetHeader=function(x,_){var o;return x&&x.state?0==(2&(o=x.state).wrap)?g:((o.head=_).done=!1,0):g},t.inflateSetDictionary=function(x,_){var o,C=_.length;return x&&x.state?0!==(o=x.state).wrap&&11!==o.mode?g:11===o.mode&&u(1,_,C,0)!==o.check?-3:z(x,_,C,C)?(o.mode=31,-4):(o.havedict=1,0):g},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(A,w,t){"use strict";var e=A("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];w.exports=function(Z,O,T,g,M,l,b,m){var P,S,N,R,et,Q,H,D,I,z=m.bits,x=0,_=0,o=0,C=0,$=0,B=0,it=0,ot=0,bt=0,c=0,i=null,y=0,k=new e.Buf16(16),h=new e.Buf16(16),X=null,rt=0;for(x=0;x<=15;x++)k[x]=0;for(_=0;_<g;_++)k[O[T+_]]++;for($=z,C=15;1<=C&&0===k[C];C--);if(C<$&&($=C),0===C)return M[l++]=20971520,M[l++]=20971520,m.bits=1,0;for(o=1;o<C&&0===k[o];o++);for($<o&&($=o),x=ot=1;x<=15;x++)if(ot<<=1,(ot-=k[x])<0)return-1;if(0<ot&&(0===Z||1!==C))return-1;for(h[1]=0,x=1;x<15;x++)h[x+1]=h[x]+k[x];for(_=0;_<g;_++)0!==O[T+_]&&(b[h[O[T+_]]++]=_);if(Q=0===Z?(i=X=b,19):1===Z?(i=u,y-=257,X=d,rt-=257,256):(i=f,X=s,-1),x=o,et=l,it=_=c=0,N=-1,R=(bt=1<<(B=$))-1,1===Z&&852<bt||2===Z&&592<bt)return 1;for(;;){for(H=x-it,I=b[_]<Q?(D=0,b[_]):b[_]>Q?(D=X[rt+b[_]],i[y+b[_]]):(D=96,0),P=1<<x-it,o=S=1<<B;M[et+(c>>it)+(S-=P)]=H<<24|D<<16|I|0,0!==S;);for(P=1<<x-1;c&P;)P>>=1;if(0!==P?(c&=P-1,c+=P):c=0,_++,0==--k[x]){if(x===C)break;x=O[T+b[_]]}if($<x&&(c&R)!==N){for(0===it&&(it=$),et+=o,ot=1<<(B=x-it);B+it<C&&!((ot-=k[B+it])<=0);)B++,ot<<=1;if(bt+=1<<B,1===Z&&852<bt||2===Z&&592<bt)return 1;M[N=c&R]=$<<24|B<<16|et-l|0}}return 0!==c&&(M[et+c]=x-it<<24|64<<16|0),m.bits=$,0}},{"../utils/common":41}],51:[function(A,w,t){"use strict";w.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(A,w,t){"use strict";var e=A("../utils/common");function f(p){for(var E=p.length;0<=--E;)p[E]=0}var O=256,T=286,g=30,b=15,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(576);f(z);var x=new Array(60);f(x);var _=new Array(512);f(_);var o=new Array(256);f(o);var C=new Array(29);f(C);var $,B,it,ot=new Array(g);function bt(p,E,K,tt,q){this.static_tree=p,this.extra_bits=E,this.extra_base=K,this.elems=tt,this.max_length=q,this.has_stree=p&&p.length}function c(p,E){this.dyn_tree=p,this.max_code=0,this.stat_desc=E}function i(p){return p<256?_[p]:_[256+(p>>>7)]}function y(p,E){p.pending_buf[p.pending++]=255&E,p.pending_buf[p.pending++]=E>>>8&255}function k(p,E,K){p.bi_valid>16-K?(p.bi_buf|=E<<p.bi_valid&65535,y(p,p.bi_buf),p.bi_buf=E>>16-p.bi_valid,p.bi_valid+=K-16):(p.bi_buf|=E<<p.bi_valid&65535,p.bi_valid+=K)}function h(p,E,K){k(p,K[2*E],K[2*E+1])}function X(p,E){for(var K=0;K|=1&p,p>>>=1,K<<=1,0<--E;);return K>>>1}function rt(p,E,K){var tt,q,nt=new Array(16),lt=0;for(tt=1;tt<=b;tt++)nt[tt]=lt=lt+K[tt-1]<<1;for(q=0;q<=E;q++){var st=p[2*q+1];0!==st&&(p[2*q]=X(nt[st]++,st))}}function G(p){var E;for(E=0;E<T;E++)p.dyn_ltree[2*E]=0;for(E=0;E<g;E++)p.dyn_dtree[2*E]=0;for(E=0;E<19;E++)p.bl_tree[2*E]=0;p.dyn_ltree[512]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function at(p){8<p.bi_valid?y(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function pt(p,E,K,tt){var q=2*E,nt=2*K;return p[q]<p[nt]||p[q]===p[nt]&&tt[E]<=tt[K]}function Ot(p,E,K){for(var tt=p.heap[K],q=K<<1;q<=p.heap_len&&(q<p.heap_len&&pt(E,p.heap[q+1],p.heap[q],p.depth)&&q++,!pt(E,tt,p.heap[q],p.depth));)p.heap[K]=p.heap[q],K=q,q<<=1;p.heap[K]=tt}function Tt(p,E,K){var tt,q,nt,lt,st=0;if(0!==p.last_lit)for(;tt=p.pending_buf[p.d_buf+2*st]<<8|p.pending_buf[p.d_buf+2*st+1],q=p.pending_buf[p.l_buf+st],st++,0===tt?h(p,q,E):(h(p,(nt=o[q])+O+1,E),0!==(lt=Q[nt])&&k(p,q-=C[nt],lt),h(p,nt=i(--tt),K),0!==(lt=H[nt])&&k(p,tt-=ot[nt],lt)),st<p.last_lit;);h(p,256,E)}function xt(p,E){var K,tt,q,nt=E.dyn_tree,lt=E.stat_desc.static_tree,st=E.stat_desc.has_stree,ht=E.stat_desc.elems,At=-1;for(p.heap_len=0,p.heap_max=573,K=0;K<ht;K++)0!==nt[2*K]?(p.heap[++p.heap_len]=At=K,p.depth[K]=0):nt[2*K+1]=0;for(;p.heap_len<2;)nt[2*(q=p.heap[++p.heap_len]=At<2?++At:0)]=1,p.depth[q]=0,p.opt_len--,st&&(p.static_len-=lt[2*q+1]);for(E.max_code=At,K=p.heap_len>>1;1<=K;K--)Ot(p,nt,K);for(q=ht;K=p.heap[1],p.heap[1]=p.heap[p.heap_len--],Ot(p,nt,1),tt=p.heap[1],p.heap[--p.heap_max]=K,p.heap[--p.heap_max]=tt,nt[2*q]=nt[2*K]+nt[2*tt],p.depth[q]=(p.depth[K]>=p.depth[tt]?p.depth[K]:p.depth[tt])+1,nt[2*K+1]=nt[2*tt+1]=q,p.heap[1]=q++,Ot(p,nt,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(wt,Y){var mt,a,U,V,ct,gt,ft=Y.dyn_tree,F=Y.max_code,dt=Y.stat_desc.static_tree,r=Y.stat_desc.has_stree,L=Y.stat_desc.extra_bits,J=Y.stat_desc.extra_base,_t=Y.stat_desc.max_length,vt=0;for(V=0;V<=b;V++)wt.bl_count[V]=0;for(ft[2*wt.heap[wt.heap_max]+1]=0,mt=wt.heap_max+1;mt<573;mt++)_t<(V=ft[2*ft[2*(a=wt.heap[mt])+1]+1]+1)&&(V=_t,vt++),ft[2*a+1]=V,F<a||(wt.bl_count[V]++,ct=0,J<=a&&(ct=L[a-J]),wt.opt_len+=(gt=ft[2*a])*(V+ct),r&&(wt.static_len+=gt*(dt[2*a+1]+ct)));if(0!==vt){do{for(V=_t-1;0===wt.bl_count[V];)V--;wt.bl_count[V]--,wt.bl_count[V+1]+=2,wt.bl_count[_t]--,vt-=2}while(0<vt);for(V=_t;0!==V;V--)for(a=wt.bl_count[V];0!==a;)F<(U=wt.heap[--mt])||(ft[2*U+1]!==V&&(wt.opt_len+=(V-ft[2*U+1])*ft[2*U],ft[2*U+1]=V),a--)}}(p,E),rt(nt,At,p.bl_count)}function n(p,E,K){var tt,q,nt=-1,lt=E[1],st=0,ht=7,At=4;for(0===lt&&(ht=138,At=3),E[2*(K+1)+1]=65535,tt=0;tt<=K;tt++)q=lt,lt=E[2*(tt+1)+1],++st<ht&&q===lt||(st<At?p.bl_tree[2*q]+=st:0!==q?(q!==nt&&p.bl_tree[2*q]++,p.bl_tree[32]++):st<=10?p.bl_tree[34]++:p.bl_tree[36]++,nt=q,At=(st=0)===lt?(ht=138,3):q===lt?(ht=6,3):(ht=7,4))}function W(p,E,K){var tt,q,nt=-1,lt=E[1],st=0,ht=7,At=4;for(0===lt&&(ht=138,At=3),tt=0;tt<=K;tt++)if(q=lt,lt=E[2*(tt+1)+1],!(++st<ht&&q===lt)){if(st<At)for(;h(p,q,p.bl_tree),0!=--st;);else 0!==q?(q!==nt&&(h(p,q,p.bl_tree),st--),h(p,16,p.bl_tree),k(p,st-3,2)):st<=10?(h(p,17,p.bl_tree),k(p,st-3,3)):(h(p,18,p.bl_tree),k(p,st-11,7));nt=q,At=(st=0)===lt?(ht=138,3):q===lt?(ht=6,3):(ht=7,4)}}f(ot);var j=!1;function v(p,E,K,tt){var q,nt,lt;k(p,0+(tt?1:0),3),nt=E,lt=K,at(q=p),y(q,lt),y(q,~lt),e.arraySet(q.pending_buf,q.window,nt,lt,q.pending),q.pending+=lt}t._tr_init=function(p){j||(function(){var E,K,tt,q,nt,lt=new Array(16);for(q=tt=0;q<28;q++)for(C[q]=tt,E=0;E<1<<Q[q];E++)o[tt++]=q;for(o[tt-1]=q,q=nt=0;q<16;q++)for(ot[q]=nt,E=0;E<1<<H[q];E++)_[nt++]=q;for(nt>>=7;q<g;q++)for(ot[q]=nt<<7,E=0;E<1<<H[q]-7;E++)_[256+nt++]=q;for(K=0;K<=b;K++)lt[K]=0;for(E=0;E<=143;)z[2*E+1]=8,E++,lt[8]++;for(;E<=255;)z[2*E+1]=9,E++,lt[9]++;for(;E<=279;)z[2*E+1]=7,E++,lt[7]++;for(;E<=287;)z[2*E+1]=8,E++,lt[8]++;for(rt(z,287,lt),E=0;E<g;E++)x[2*E+1]=5,x[2*E]=X(E,5);$=new bt(z,Q,257,T,b),B=new bt(x,H,0,g,b),it=new bt(new Array(0),D,0,19,7)}(),j=!0),p.l_desc=new c(p.dyn_ltree,$),p.d_desc=new c(p.dyn_dtree,B),p.bl_desc=new c(p.bl_tree,it),p.bi_buf=0,p.bi_valid=0,G(p)},t._tr_stored_block=v,t._tr_flush_block=function(p,E,K,tt){var q,nt,lt=0;0<p.level?(2===p.strm.data_type&&(p.strm.data_type=function(st){var ht,At=4093624447;for(ht=0;ht<=31;ht++,At>>>=1)if(1&At&&0!==st.dyn_ltree[2*ht])return 0;if(0!==st.dyn_ltree[18]||0!==st.dyn_ltree[20]||0!==st.dyn_ltree[26])return 1;for(ht=32;ht<O;ht++)if(0!==st.dyn_ltree[2*ht])return 1;return 0}(p)),xt(p,p.l_desc),xt(p,p.d_desc),lt=function(st){var ht;for(n(st,st.dyn_ltree,st.l_desc.max_code),n(st,st.dyn_dtree,st.d_desc.max_code),xt(st,st.bl_desc),ht=18;3<=ht&&0===st.bl_tree[2*I[ht]+1];ht--);return st.opt_len+=3*(ht+1)+5+5+4,ht}(p),(nt=p.static_len+3+7>>>3)<=(q=p.opt_len+3+7>>>3)&&(q=nt)):q=nt=K+5,K+4<=q&&-1!==E?v(p,E,K,tt):4===p.strategy||nt===q?(k(p,2+(tt?1:0),3),Tt(p,z,x)):(k(p,4+(tt?1:0),3),function(st,ht,At,wt){var Y;for(k(st,ht-257,5),k(st,At-1,5),k(st,wt-4,4),Y=0;Y<wt;Y++)k(st,st.bl_tree[2*I[Y]+1],3);W(st,st.dyn_ltree,ht-1),W(st,st.dyn_dtree,At-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,lt+1),Tt(p,p.dyn_ltree,p.dyn_dtree)),G(p),tt&&at(p)},t._tr_tally=function(p,E,K){return p.pending_buf[p.d_buf+2*p.last_lit]=E>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&E,p.pending_buf[p.l_buf+p.last_lit]=255&K,p.last_lit++,0===E?p.dyn_ltree[2*K]++:(p.matches++,E--,p.dyn_ltree[2*(o[K]+O+1)]++,p.dyn_dtree[2*i(E)]++),p.last_lit===p.lit_bufsize-1},t._tr_align=function(p){var E;k(p,2,3),h(p,256,z),16===(E=p).bi_valid?(y(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}},{"../utils/common":41}],53:[function(A,w,t){"use strict";w.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(A,w,t){(function(e){!function(u,d){"use strict";if(!u.setImmediate){var f,s,Z,O,T=1,g={},M=!1,l=u.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(u);b=b&&b.setTimeout?b:u,f="[object process]"==={}.toString.call(u.process)?function(N){process.nextTick(function(){P(N)})}:function(){if(u.postMessage&&!u.importScripts){var N=!0,R=u.onmessage;return u.onmessage=function(){N=!1},u.postMessage("","*"),u.onmessage=R,N}}()?(O="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",S,!1):u.attachEvent("onmessage",S),function(N){u.postMessage(O+N,"*")}):u.MessageChannel?((Z=new MessageChannel).port1.onmessage=function(N){P(N.data)},function(N){Z.port2.postMessage(N)}):l&&"onreadystatechange"in l.createElement("script")?(s=l.documentElement,function(N){var R=l.createElement("script");R.onreadystatechange=function(){P(N),R.onreadystatechange=null,s.removeChild(R),R=null},s.appendChild(R)}):function(N){setTimeout(P,0,N)},b.setImmediate=function(N){"function"!=typeof N&&(N=new Function(""+N));for(var R=new Array(arguments.length-1),et=0;et<R.length;et++)R[et]=arguments[et+1];return g[T]={callback:N,args:R},f(T),T++},b.clearImmediate=m}function m(N){delete g[N]}function P(N){if(M)setTimeout(P,0,N);else{var R=g[N];if(R){M=!0;try{!function(et){var Q=et.callback,H=et.args;switch(H.length){case 0:Q();break;case 1:Q(H[0]);break;case 2:Q(H[0],H[1]);break;case 3:Q(H[0],H[1],H[2]);break;default:Q.apply(undefined,H)}}(R)}finally{m(N),M=!1}}}}function S(N){N.source===u&&"string"==typeof N.data&&0===N.data.indexOf(O)&&P(+N.data.slice(O.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},90803:(Ft,A,w)=>{"use strict";w.d(A,{Y:()=>wt});var t=w(61855),e=w(42741),u=w(29026),d=w(72898),f=w(76052),s=w.n(f),Z=w(46243),T=w(7611),g=w(84784),M=w(54414),l=w(50692),b=w(93220),m=w(16274),P=w(21929),S=w(95974),N=w(50319),R=w(93324);const et=["audioControl"];function Q(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){return e.CHM(a),e.oxw(2).close()}),e.qZA()}2&Y&&e.Q6J("@background",void 0)}function H(Y,mt){1&Y&&e._UZ(0,"comp-icon",22),2&Y&&e.Q6J("icon","open_in_new")("color","#1E88E5")("size",18)}function D(Y,mt){1&Y&&e._UZ(0,"div",23)}function I(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const V=e.CHM(a),ct=V.index,gt=V.$implicit;return e.oxw(3).selectLogTab(ct,gt)}),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.YNc(5,H,1,3,"comp-icon",20),e.qZA(),e.YNc(6,D,1,0,"div",21),e.qZA(),e.qZA()}if(2&Y){const a=mt.$implicit,U=e.oxw(3);e.ekj("btn-selected",U.curLogTab==a),e.xp6(4),e.Oqu(a),e.xp6(1),e.Q6J("ngIf","VERIFICATION LOG"===a),e.xp6(1),e.Q6J("ngIf",U.curLogTab==a)}}function z(Y,mt){if(1&Y&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Y){const a=e.oxw(5);e.xp6(1),e.hij("(",a.item.code_description,")")}}function x(Y,mt){if(1&Y&&(e.TgZ(0,"td",29),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.YNc(3,z,2,1,"span",35),e.qZA()),2&Y){const a=e.oxw(4);e.xp6(1),e.ekj("disable-txt",!a.item.event_code),e.xp6(1),e.Oqu(a.item.event_code?a.item.event_code:"No Event Code"),e.xp6(1),e.Q6J("ngIf",a.item.event_code)}}function _(Y,mt){if(1&Y&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&Y){const a=mt.$implicit;e.xp6(2),e.AsE("",a.code," (",null!=a&&a.name?a.name:"No Event Code",")")}}function o(Y,mt){if(1&Y&&(e.TgZ(0,"td",39),e.YNc(1,_,3,2,"ng-container",40),e.qZA()),2&Y){const a=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",a.item.eventCodeList)}}function C(Y,mt){if(1&Y&&(e.TgZ(0,"div",41),e._uU(1),e.qZA()),2&Y){const a=e.oxw(4);e.xp6(1),e.hij("(Partition: ",a.item.partition_nr,")")}}function $(Y,mt){1&Y&&(e.TgZ(0,"div"),e._UZ(1,"comp-icon",42),e.qZA()),2&Y&&(e.xp6(1),e.Q6J("icon","open_in_new")("color","#1E88E5")("size",18))}function B(Y,mt){if(1&Y&&(e.TgZ(0,"tr"),e.TgZ(1,"td",45),e.TgZ(2,"div"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._uU(5),e._UZ(6,"br"),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Y){const a=mt.$implicit,U=mt.index,V=e.oxw(5);e.ekj("border-botttom",V.item.to.length!==U+1),e.xp6(3),e.Udp("color",a.labelColor),e.xp6(1),e.Oqu(a.description),e.xp6(1),e.hij(" (",a.eventTime,")"),e.xp6(3),e.Oqu(a.to)}}function it(Y,mt){if(1&Y&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"To"),e.qZA(),e.TgZ(3,"td",43),e.TgZ(4,"table"),e.TgZ(5,"tbody"),e.YNc(6,B,9,7,"tr",44),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Y){const a=e.oxw(4);e.xp6(6),e.Q6J("ngForOf",a.item.to)}}function ot(Y,mt){1&Y&&(e.TgZ(0,"div",46),e._uU(1,"Entry Event"),e.qZA())}function bt(Y,mt){if(1&Y&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&Y){const a=e.oxw(4);e.xp6(1),e.Oqu(a.item.warningMsg)}}function c(Y,mt){1&Y&&(e.TgZ(0,"div"),e.TgZ(1,"div",54),e.O4$(),e.TgZ(2,"svg",55),e._UZ(3,"circle",56),e.qZA(),e.qZA(),e.qZA())}function i(Y,mt){1&Y&&(e.TgZ(0,"div",57),e.O4$(),e.TgZ(1,"svg",58),e.TgZ(2,"defs"),e.TgZ(3,"clipPath",59),e._UZ(4,"rect",60),e.qZA(),e.qZA(),e.TgZ(5,"g",61),e._UZ(6,"circle",62),e._UZ(7,"circle",63),e._UZ(8,"circle",64),e.qZA(),e._UZ(9,"polygon",65),e.qZA(),e.qZA())}function y(Y,mt){1&Y&&(e.TgZ(0,"div",57),e.TgZ(1,"i",66),e._uU(2,"volume_up"),e.qZA(),e.qZA())}function k(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){e.CHM(a);const V=e.oxw(6);return V.toggleAudioPlay(V.TTS)}),e.TgZ(1,"div",51),e.YNc(2,c,4,0,"div",35),e.YNc(3,i,10,0,"div",52),e.YNc(4,y,3,0,"div",52),e.qZA(),e.TgZ(5,"span",53),e._uU(6,"TTS"),e.qZA(),e.qZA()}if(2&Y){const a=e.oxw(6);e.ekj("audio-playing",a.TTS.isAudioLoad)("disabled",!a.TTS.isAudioLoad&&a.isAudioPlay),e.xp6(2),e.Q6J("ngIf",a.TTS.isAudioLoading),e.xp6(1),e.Q6J("ngIf",a.TTS.isAudioPlay&&a.isAudioPlay&&!a.TTS.isAudioLoading),e.xp6(1),e.Q6J("ngIf",!a.TTS.isAudioLoad&&!a.TTS.isAudioLoading)}}function h(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",47),e.YNc(2,k,7,7,"div",48),e.TgZ(3,"div",49),e.NdJ("click",function(){return e.CHM(a),e.oxw(5).downloadAudioFile()}),e._UZ(4,"comp-icon",42),e.qZA(),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.qZA()}if(2&Y){const a=e.oxw(5);e.xp6(2),e.Q6J("ngIf",!a.TTS.isFailed),e.xp6(2),e.Q6J("icon","file_download")("color","#55647B")("size",18),e.xp6(2),e.Oqu(a.TTS.ttsMsg)}}function X(Y,mt){1&Y&&(e.TgZ(0,"div"),e.TgZ(1,"span",67),e._uU(2,"No Audio File"),e.qZA(),e.qZA())}function rt(Y,mt){if(1&Y&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"Audio File"),e.qZA(),e.TgZ(3,"td",29),e.YNc(4,h,7,5,"div",35),e.YNc(5,X,3,0,"div",35),e.qZA(),e.qZA()),2&Y){const a=e.oxw(4);e.xp6(4),e.Q6J("ngIf",a.item.signedUrl),e.xp6(1),e.Q6J("ngIf",!a.item.signedUrl)}}function G(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"View Event"),e.qZA(),e.TgZ(3,"td",29),e.TgZ(4,"div"),e.TgZ(5,"span",68),e.NdJ("click",function(){return e.CHM(a),e.oxw(4).openEventViewer()}),e._uU(6,"Open Event Viewer"),e.TgZ(7,"i",69),e._uU(8,"arrow_forward"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Y){const a=e.oxw(4);e.xp6(5),e.ekj("disabled",!a.item.detail||!a.item.is_snapshot_upload&&!a.item.is_video_upload||a.item.isExpired)}}function at(Y,mt){if(1&Y&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Y){const a=e.oxw(6);e.xp6(1),e.Oqu(a.OE.detail)}}function pt(Y,mt){1&Y&&(e.TgZ(0,"span",74),e._uU(1,"No Data"),e.qZA())}function Ot(Y,mt){if(1&Y&&(e.TgZ(0,"div"),e.TgZ(1,"div",70),e.TgZ(2,"div",71),e._uU(3,"Topic"),e.qZA(),e.TgZ(4,"div",72),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",70),e.TgZ(7,"div",71),e._uU(8,"Operation"),e.qZA(),e.TgZ(9,"div",72),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"div",70),e.TgZ(12,"div",71),e._uU(13,"Source"),e.qZA(),e.TgZ(14,"div",72),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",70),e.TgZ(17,"div",71),e._uU(18,"Data"),e.qZA(),e.TgZ(19,"div",72),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",70),e.TgZ(22,"div",71),e._uU(23,"Detail"),e.qZA(),e.TgZ(24,"div",72),e.YNc(25,at,2,1,"span",35),e.YNc(26,pt,2,0,"span",73),e.qZA(),e.qZA(),e.qZA()),2&Y){const a=e.oxw(5);e.xp6(5),e.Oqu(a.OE.topic),e.xp6(5),e.Oqu(a.OE.operation),e.xp6(5),e.Oqu(a.OE.source),e.xp6(5),e.Oqu(a.OE.data),e.xp6(5),e.Q6J("ngIf",a.OE.detail),e.xp6(1),e.Q6J("ngIf",!a.OE.detail)}}function Tt(Y,mt){1&Y&&(e.TgZ(0,"div"),e.TgZ(1,"span",74),e._uU(2,"Not Supported. Please update bridge firmware version."),e.qZA(),e.qZA())}function xt(Y,mt){if(1&Y&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"ONVIF Event"),e.qZA(),e.TgZ(3,"td",29),e.YNc(4,Ot,27,6,"div",35),e.YNc(5,Tt,3,0,"div",35),e.qZA(),e.qZA()),2&Y){const a=e.oxw(4);e.xp6(4),e.Q6J("ngIf",a.isV3),e.xp6(1),e.Q6J("ngIf",!a.isV3)}}function n(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"audio",25,26),e.NdJ("ended",function(){return e.CHM(a),e.oxw(3).endSpeak()})("timeupdate",function(){return e.CHM(a),e.oxw(3).updateAudioTime()}),e.qZA(),e.TgZ(3,"table",27),e.TgZ(4,"tbody"),e.TgZ(5,"tr"),e.TgZ(6,"td",28),e._uU(7,"Event Time"),e.qZA(),e.TgZ(8,"td",29),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"tr"),e.TgZ(11,"td",28),e._uU(12,"Storage Time"),e.qZA(),e.TgZ(13,"td",29),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"tr"),e.TgZ(16,"td",28),e._uU(17,"Event ID"),e.qZA(),e.TgZ(18,"td",29),e.TgZ(19,"span"),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tr"),e.TgZ(22,"td",28),e._uU(23,"Category"),e.qZA(),e.TgZ(24,"td",29),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"tr"),e.TgZ(27,"td",28),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"td",29),e._uU(30),e.qZA(),e.qZA(),e.TgZ(31,"tr"),e.TgZ(32,"td",28),e._uU(33,"Trigger"),e.qZA(),e.TgZ(34,"td",29),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"tr"),e.TgZ(37,"td",28),e._uU(38,"Event Code"),e.qZA(),e.YNc(39,x,4,4,"td",30),e.YNc(40,o,2,1,"td",31),e.qZA(),e.TgZ(41,"tr"),e.TgZ(42,"td",28),e._uU(43),e.qZA(),e.TgZ(44,"td",32),e.TgZ(45,"span"),e._uU(46),e.qZA(),e.YNc(47,C,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(48,"tr"),e.TgZ(49,"td",28),e._uU(50,"Device ID"),e.qZA(),e.TgZ(51,"td",29),e.TgZ(52,"span"),e._uU(53),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"tr"),e.TgZ(55,"td",28),e.TgZ(56,"div",34),e.NdJ("click",function(){return e.CHM(a),e.oxw(3).openXmlLogModal()}),e.TgZ(57,"span"),e._uU(58,"XML"),e.qZA(),e.YNc(59,$,2,3,"div",35),e.qZA(),e.qZA(),e.TgZ(60,"td",29),e.TgZ(61,"div",36),e.TgZ(62,"span"),e._uU(63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"tr"),e.TgZ(65,"td",28),e._uU(66,"User"),e.qZA(),e.TgZ(67,"td",29),e.TgZ(68,"span"),e._uU(69),e.qZA(),e.qZA(),e.qZA(),e.YNc(70,it,7,1,"tr",35),e.TgZ(71,"tr"),e.TgZ(72,"td",28),e._uU(73,"Description"),e.qZA(),e.TgZ(74,"td",29),e.YNc(75,ot,2,0,"div",37),e.TgZ(76,"div",38),e._uU(77),e.qZA(),e.YNc(78,bt,2,1,"div",35),e.qZA(),e.qZA(),e.YNc(79,rt,6,2,"tr",35),e.YNc(80,G,9,2,"tr",35),e.YNc(81,xt,6,2,"tr",35),e.qZA(),e.qZA(),e.qZA()}if(2&Y){const a=e.oxw(3);e.xp6(9),e.AsE("",a.item.eventCreated," (",(null==a.modal.data?null:a.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.AsE("",a.item.localCreated," (",(null==a.modal.data?null:a.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.ekj("disable-txt",!a.item.event_id),e.xp6(1),e.Oqu(a.item.event_id?a.item.event_id:"No Event ID"),e.xp6(5),e.Oqu(a.item.category),e.xp6(5),e.Oqu(a.item.action),e.xp6(5),e.Oqu(a.item.trigger),e.xp6(4),e.Q6J("ngIf",!(null!=a.item.eventCodeList&&a.item.eventCodeList.length)),e.xp6(1),e.Q6J("ngIf",a.item.eventCodeList),e.xp6(3),e.Oqu(a.item.event_id||a.item.device_id?"Device":"Site"),e.xp6(2),e.ekj("disable-txt",!a.item.name),e.xp6(1),e.Oqu(a.item.name?a.item.name:"No Name"),e.xp6(1),e.Q6J("ngIf",null==a.item?null:a.item.partition_nr),e.xp6(5),e.ekj("disable-txt",!a.item.device_id),e.xp6(1),e.Oqu(a.item.device_id?a.item.device_id:"No Device ID"),e.xp6(3),e.ekj("xml-link",a.item.is_send_xml_signal),e.xp6(3),e.Q6J("ngIf",a.item.is_send_xml_signal),e.xp6(3),e.ekj("enable-xml",a.item.is_send_xml_signal),e.xp6(1),e.Oqu(a.item.is_send_xml_signal?"Yes":"No"),e.xp6(5),e.ekj("disable-txt",!a.item.email),e.xp6(1),e.Oqu(a.item.email?a.item.email:"Unknown"),e.xp6(1),e.Q6J("ngIf",a.item.to),e.xp6(5),e.Q6J("ngIf",a.isShowEntryEventBadge()),e.xp6(2),e.Oqu(a.item.eventDescription),e.xp6(1),e.Q6J("ngIf",a.item.warningMsg),e.xp6(1),e.Q6J("ngIf",a.item.isAudioLog),e.xp6(1),e.Q6J("ngIf",!a.item.signedUrl),e.xp6(1),e.Q6J("ngIf","OE trigger"===a.item.trigger)}}function W(Y,mt){1&Y&&e._UZ(0,"div",84)}function j(Y,mt){if(1&Y&&(e.TgZ(0,"div"),e.TgZ(1,"div",76),e.TgZ(2,"div",77),e._UZ(3,"div",78),e.qZA(),e.TgZ(4,"div",79),e._uU(5),e.qZA(),e.TgZ(6,"div",80),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",76),e.TgZ(9,"div",77),e.YNc(10,W,1,0,"div",81),e.qZA(),e._UZ(11,"div",82),e.TgZ(12,"div"),e.TgZ(13,"span",83),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Y){const a=mt.$implicit,U=mt.index,V=e.oxw(4);e.xp6(3),e.ekj("target-log",a.id===V.item.id),e.xp6(2),e.Oqu(a.siteEventTime),e.xp6(2),e.AsE("",a.description," - ",a.action,""),e.xp6(3),e.Q6J("ngIf",V.eventLogs.length!==U+1),e.xp6(4),e.Oqu(a.subInfo)}}function v(Y,mt){if(1&Y&&(e.TgZ(0,"div",24),e.TgZ(1,"div",75),e.YNc(2,j,15,7,"div",40),e.qZA(),e.qZA()),2&Y){const a=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",a.eventLogs)}}function p(Y,mt){if(1&Y&&(e.TgZ(0,"div",80),e._uU(1),e.qZA()),2&Y){const a=e.oxw().$implicit;e.xp6(1),e.Oqu(a.email)}}function E(Y,mt){if(1&Y&&(e.TgZ(0,"div",80),e._uU(1),e.qZA()),2&Y){const a=e.oxw().$implicit;e.xp6(1),e.AsE("",a.IPName," (",a.ip,")")}}function K(Y,mt){1&Y&&e._UZ(0,"div",84)}function tt(Y,mt){if(1&Y&&(e.TgZ(0,"div"),e.TgZ(1,"div",76),e.TgZ(2,"div",77),e._UZ(3,"div",78),e.qZA(),e.TgZ(4,"div",79),e._uU(5),e.qZA(),e.YNc(6,p,2,1,"div",85),e.YNc(7,E,2,2,"div",85),e.qZA(),e.TgZ(8,"div",76),e.TgZ(9,"div",77),e.YNc(10,K,1,0,"div",81),e.qZA(),e._UZ(11,"div",82),e.qZA(),e.qZA()),2&Y){const a=mt.$implicit,U=mt.index,V=e.oxw(4);e.xp6(3),e.ekj("target-log",0===U),e.xp6(2),e.Oqu(a.eventTime),e.xp6(1),e.Q6J("ngIf",!a.IPName),e.xp6(1),e.Q6J("ngIf",a.IPName),e.xp6(3),e.Q6J("ngIf",V.viewedHistory.length!==U+1)}}function q(Y,mt){if(1&Y&&(e.TgZ(0,"div",24),e.TgZ(1,"div",75),e.YNc(2,tt,12,6,"div",40),e.qZA(),e.qZA()),2&Y){const a=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",a.viewedHistory)}}function nt(Y,mt){if(1&Y){const a=e.EpF();e.ynx(0),e.TgZ(1,"div",86),e._uU(2,"LE Request Body"),e.qZA(),e.TgZ(3,"div",87),e.TgZ(4,"ngx-codemirror",88,89),e.NdJ("ngModelChange",function(V){return e.CHM(a),e.oxw(4).item.rawEventInfo=V}),e.qZA(),e.qZA(),e.BQk()}if(2&Y){const a=e.oxw(4);e.xp6(4),e.Q6J("options",a.codeMirrorOptions)("ngModel",a.item.rawEventInfo)}}function lt(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div",86),e._uU(2,"METADATA"),e.qZA(),e.TgZ(3,"div",87),e.TgZ(4,"ngx-codemirror",88,89),e.NdJ("ngModelChange",function(V){return e.CHM(a),e.oxw(3).item.metaData=V}),e.qZA(),e.qZA(),e.YNc(6,nt,6,2,"ng-container",35),e.qZA()}if(2&Y){const a=e.oxw(3);e.xp6(4),e.Q6J("options",a.codeMirrorOptions)("ngModel",a.item.metaData),e.xp6(2),e.Q6J("ngIf",null==a.item?null:a.item.rawEventInfo)}}function st(Y,mt){1&Y&&(e.TgZ(0,"div",90),e.O4$(),e.TgZ(1,"svg",55),e._UZ(2,"circle",56),e.qZA(),e.qZA())}function ht(Y,mt){if(1&Y){const a=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e._uU(3,"Activity Log Details"),e.qZA(),e.TgZ(4,"div",9),e.TgZ(5,"div",10),e.TgZ(6,"i",11),e.NdJ("click",function(){return e.CHM(a),e.oxw(2).close()}),e._uU(7,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",12),e.TgZ(9,"div",13),e.YNc(10,I,7,5,"div",14),e.qZA(),e.YNc(11,n,82,36,"div",15),e.YNc(12,v,3,1,"div",15),e.YNc(13,q,3,1,"div",15),e.YNc(14,lt,7,3,"div",15),e.qZA(),e.YNc(15,st,3,0,"div",16),e.qZA()}if(2&Y){const a=e.oxw(2);e.Q6J("@dialog",void 0),e.xp6(10),e.Q6J("ngForOf",a.logTabs),e.xp6(1),e.Q6J("ngIf",a.curLogTab===a.logTabs[0]),e.xp6(1),e.Q6J("ngIf","HISTORY OF EVENT"===a.curLogTab),e.xp6(1),e.Q6J("ngIf","VIEWED HISTORY"===a.curLogTab),e.xp6(1),e.Q6J("ngIf","METADATA"===a.curLogTab),e.xp6(1),e.Q6J("ngIf",a.isLoading)}}function At(Y,mt){if(1&Y&&(e.TgZ(0,"div",2),e.YNc(1,Q,1,1,"div",3),e.YNc(2,ht,16,7,"div",4),e.qZA()),2&Y){const a=e.oxw();e.xp6(1),e.Q6J("ngIf",a.modal.is_active),e.xp6(1),e.Q6J("ngIf",a.modal.is_active)}}let wt=(()=>{class Y{constructor(a,U,V,ct,gt){this.usersService=a,this.logsService=U,this.sitesService=V,this.eventViewerService=ct,this.sanitizer=gt,this.onClose=new e.vpe,this.onOpenModal=new e.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new d.u,this.item={},this.logs=[],this.eventLogs=[],this.viewedHistory=[],this.site={},this.logTabs=["INFORMATION","HISTORY OF EVENT"],this.curLogTab=this.logTabs[0],this.TTS={},this.audioElement=new Audio,this.curCtrlTTS=null,this.isAudioPlay=!1,this.fileDuration="0:00",this.curDuration="0:00",this.OE={},this.isExistOEMeta=!1,this.isV3=!1,this.codeMirrorOptions={theme:"default",mode:"application/ld+json",indentWithTabs:!0,statementIndent:4,smartIndent:!0,lineNumbers:!0,lineWrapping:!1,extraKeys:{"Ctrl-Space":"autocomplete"},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],autoCloseBrackets:!0,matchBrackets:!0,readOnly:"nocursor"}}ngOnInit(){this.usersService.getMe().subscribe(a=>{this.me=a})}ngOnChanges(a){a.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.initLogData())}initLogData(){this.item=Z.cloneDeep(this.modal.data.log),this.logTabs=["INFORMATION","HISTORY OF EVENT"],this.curLogTab=this.logTabs[0],this.logs=this.modal.data.logs,this.site=this.modal.data.site,this.eventLogs=[],this.viewedHistory=[],this.TTS={},this.audioElement=new Audio,this.OE={},this.isExistOEMeta=!1,this.isV3=!1,this.item.id&&this.getActivityLogDetail()}getActivityLogDetail(){const a=this.me.dealer_id,U=this.item.id;this.isLoading=!0,this.logsService.getActivityLogDetail(a,U).subscribe(V=>(0,t.mG)(this,void 0,void 0,function*(){var ct,gt;if(this.item.detail=V,this.item.event_type=V.event.type,this.item.isExpired=!V.event.has_video&&!V.event.has_snapshots,this.item.event_code&&(null===(gt=null===(ct=V.receiver)||void 0===ct?void 0:ct.code_description)||void 0===gt||gt.forEach(ft=>{(this.item.event_code===ft.event_code||this.item.event_code===ft.restore_code)&&(this.item.code_description=ft.name)}),!this.item.code_description)){const F=this.eventViewerService.getXmlEventCodeList().find(dt=>dt.event_code==this.item.event_code.code);this.item.code_description=F.name}this.item.eventCodeList&&this.item.eventCodeList.forEach(ft=>{const dt=this.eventViewerService.getXmlEventCodeList().find(r=>r.event_code==ft.code);dt&&(ft.name=dt.name)}),this.setEventDescription(),this.checkIsHasViewedHistory(),this.checkIsHasVerificationLog(),yield this.getXmlCode(),this.parseLogInfo(this.item),this.isLoading=!1}),V=>{this.isLoading=!1})}setEventDescription(){var a,U,V,ct,gt,ft,F;let dt,r,L;try{dt=null===(a=JSON.parse(this.item.meta))||void 0===a?void 0:a.req,r=null===(U=JSON.parse(this.item.meta))||void 0===U?void 0:U.res,L=null===(V=JSON.parse(this.item.meta))||void 0===V?void 0:V.info;let Et=null===(F=null===(ft=null===(gt=null===(ct=JSON.parse(this.item.meta))||void 0===ct?void 0:ct.req)||void 0===gt?void 0:gt.body)||void 0===ft?void 0:ft.event_details)||void 0===F?void 0:F.partition_nr;this.item.partition_nr=null!=Et?Et:null}catch(Et){dt={body:null},r={},L={dealer_name:null,site_name:null},this.item.partition_nr=null}this.isV3=this.checkIfV3(dt);const{actionType:J}=this.getActionTypeAndRes(dt);let vt=this.getActionText(this.item.method),yt=`${this.item.description} is ${vt} '${J}' by '${this.item.trigger}'.`;yt=this.setLogDescriptionForThirdParty(dt,yt),yt=this.handleSpecialCases(dt,r,yt),yt=this.setLogDescriptionByCategory(dt,L,yt),this.parseRelatedEventLogs(),this.handleEventStatus(r),this.item.eventDescription=yt}checkIfV3(a){var U;return!!(null===(U=a.body)||void 0===U?void 0:U.event_source)}getActionTypeAndRes(a){let U=this.item.action,V="";return Object.keys(a.body||{}).forEach(ct=>{U||(U=ct.replace(/_/g," "),V=a.body[ct].toString(),"name"===ct?(U="name",V=a.body.name):("address1"===ct||"address2"===ct)&&(U="address",V=`${a.body.address1} ${a.body.address2}`))}),{actionType:U,res:V}}getActionText(a){switch(a){case"POST":return"created";case"PUT":return"changed to";case"DELETED":return"deleted";default:return""}}handleSpecialCases(a,U,V){return this.item.action.includes("upload")?("Bridge"===this.item.trigger&&U&&(this.item.is_snapshot_upload=null==U?void 0:U.is_snapshot_upload,this.item.is_video_upload=null==U?void 0:U.is_video_upload),V):(0===Object.keys(a.body||{}).length&&(V+=` Parameters: ${JSON.stringify(null==a?void 0:a.params)}`),V)}setLogDescriptionByCategory(a,U,V){var ct,gt,ft,F,dt,r,L,J,_t,vt,yt,Et,qt,zt,ut;if("videoai"===this.item.trigger.toLowerCase()){let Ct=s()(null===(ct=a.body)||void 0===ct?void 0:ct.requested_at).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),St=s()(null===(gt=a.body)||void 0===gt?void 0:gt.responded_at).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a");if(V+=`\n- Provider: '${null!==(F=null===(ft=a.body)||void 0===ft?void 0:ft.brand)&&void 0!==F?F:"No Provider"}'`,V+=`\n- Reference Id: ${(null===(dt=a.body)||void 0===dt?void 0:dt.reference_id)||"No Reference Id"}\n`,"success"===(null===(r=a.body)||void 0===r?void 0:r.result)){V+=`\n- Time Sent & Returned: \n    sent on ${Ct}, \n    returned result on ${St}`;const kt=(null===(L=a.body)||void 0===L?void 0:L.path_filters)?JSON.parse(null===(J=a.body)||void 0===J?void 0:J.path_filters).join(", "):"No Filter";V+=`\n- Results of the Provider: '${this.parseCloudAIResult(null===(_t=a.body)||void 0===_t?void 0:_t.summary_entity_ids)}'`,V+=`\n- Rules for Object Classification: '${kt}'\n`}else"skipped"===(null===(vt=a.body)||void 0===vt?void 0:vt.result)?V+="\n- Results of the Provider: 'Skipped'":"failure"===(null===(yt=a.body)||void 0===yt?void 0:yt.result)?(V+=`\n- Time Sent & Returned: \n    sent on ${Ct}, \n    returned result on ${St}`,V+=`\n- Error: ${(null===(Et=a.body)||void 0===Et?void 0:Et.error_text)||"No Error Message"}\n`):V+=`\n- Error: ${(null===(qt=a.body)||void 0===qt?void 0:qt.error_text)||"No Error Message"}\n`}if("procedure"===this.item.trigger.toLowerCase()){const Ct=(null===(zt=Object.keys(U))||void 0===zt?void 0:zt.includes("device_name"))?null==U?void 0:U.device_name:null==U?void 0:U.site_name;return V=`\nSite Procedure Action ${this.item.action}`,(V+=`\n- Direction name: '${null!=Ct?Ct:"No Name"}'`)+`\n- Procedure name: '${null!==(ut=null==U?void 0:U.procedure_name)&&void 0!==ut?ut:"No Procedure"}'`}return"Audio"!==this.item.category&&(V+="\r\nSnapshot file upload: "+(this.item.is_snapshot_upload?"Yes":"No"),V+="\r\nVideo file upload: "+(this.item.is_video_upload?"Yes":"No")),V}setLogDescriptionForThirdParty(a,U){return a.path.includes("/partner")&&(U+=`\n- ${this.eventTopic(a)}\n`),U}eventTopic(a){var U,V,ct;const gt=null!==(ct=null===(V=null===(U=null==a?void 0:a.body)||void 0===U?void 0:U.event_details)||void 0===V?void 0:V.subtype)&&void 0!==ct?ct:"";return console.log("eventSource",gt),"Mobile:PolicePanic"===gt?"User requested police":"Mobile:SilentPolicePanic"===gt?"User requested silent police":"Mobile:FirePanic"===gt?"User reported fire":"Mobile:AuxPanic"===gt?"User reported other emergency":"SDS:GunshotDetected"===gt?"Gunshot detected onsite":"SDS:SimGunshotDetected"===gt?"Gunshot device test":"ACDoor:Locked"===gt?"Door secured now":"ACDoor:Unlocked"===gt?"Door access granted":"ACDoor:LeftUnlocked"===gt?"Door unsecured unattended":"ACDoor:Closed"===gt?"Door closed now":"ACDoor:ForcedOpen"===gt?"Door forced open":"ACDoor:HeldOpen"===gt?"Door propped open":"ACDoor:LeftOpen"===gt?"Door left open":"ACDoor:DoorFailedAccess"===gt?"Unauthorized entry attempt":"Sensor:Contact"===gt?"Entry point opened":"Sensor:Motion"===gt?"Movement detected inside":"Sensor:Sound"===gt?"Loud sound detected":"Sensor:PanicButton"===gt?"Panic button pressed":"Alarm.com Event"}parseCloudAIResult(a){if(!a)return"";let U="";const V=JSON.parse(a),ct=Object.values(V);let gt="",ft="";const F=ct.every(r=>r.includes("person")),dt=ct.every(r=>r.includes("vehicle"));return V.static.length&&(V.static.includes("person")&&(gt="Stationary Person"),V.static.includes("vehicle")&&(ft="Stationary Vehicle")),V.motion.length&&(V.motion.includes("person")&&(gt="Moving Person"),V.motion.includes("vehicle")&&(ft="Moving Vehicle")),F&&(gt="Person"),dt&&(ft="Vehicle"),gt&&ft?U=`${gt} and ${ft}`:gt||ft?U=`${gt||ft}`:!gt&&!ft&&(U="Nothing Detected"),U}parseRelatedEventLogs(){let a=this.item.detail.related_logs[0]?this.item.detail.related_logs:[];a.forEach(U=>{var V,ct;let gt,ft;try{gt=JSON.parse(null==U?void 0:U.meta),ft=gt.req.body}catch(F){gt={res:{},req:{body:{}}},ft={to:null}}U.siteEventTime=s()(U.created).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),gt.res&&((null===(V=gt.res)||void 0===V?void 0:V.is_snapshot_upload)&&(this.item.is_snapshot_upload=!0),(null===(ct=gt.res)||void 0===ct?void 0:ct.is_video_upload)&&(this.item.is_video_upload=!0)),ft&&(null==ft?void 0:ft.to)&&(this.item.to||(this.item.to=[]),U.subInfo=ft.to,this.item.to.push({to:ft.to,description:U.description,eventTime:U.siteEventTime,labelColor:"#2f96fb"}))}),this.eventLogs=a}handleEventStatus(a){this.item.status>300&&a.message&&(this.item.warningMsg=a.message)}isShowEntryEventBadge(){var a,U;if("videoai"!=this.item.trigger.toLowerCase())return!1;let V=null;try{V=null===(a=JSON.parse(this.item.meta))||void 0===a?void 0:a.req}catch(ct){V={body:null}}return"entry-event"===(null===(U=V.body)||void 0===U?void 0:U.alarm_type)}checkIsHasViewedHistory(){var a,U,V;const ct=null===(a=this.item.detail)||void 0===a?void 0:a.related_logs;if(null===(V=null===(U=this.item.detail)||void 0===U?void 0:U.related_logs)||void 0===V?void 0:V.length)return!(!ct||!Array.isArray(ct))&&(ct.find(ft=>!!ft.email)&&this.logTabs.push("VIEWED HISTORY"),void this.parseViewedHistory())}parseViewedHistory(){this.item.detail.related_logs.filter(U=>U.email).forEach(U=>(0,t.mG)(this,void 0,void 0,function*(){const V=yield this.getIPUserName(U),ct={eventTime:s()(U.created).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),email:U.email,ip:U.ip,IPName:V};this.viewedHistory.push(ct)}))}getIPUserName(a){var U,V;return(0,t.mG)(this,void 0,void 0,function*(){try{if(!a.email||!a.user_id||a.email!=a.ip)return"";const ct=this.me.dealer_id,gt=a.user_id;return null!==(V=null===(U=(yield this.usersService.getIpMember(ct,gt).toPromise())[0])||void 0===U?void 0:U.name)&&void 0!==V?V:"No Name"}catch(ct){console.debug("getIPUserName:>",ct)}})}checkIsHasVerificationLog(){var a;(null===(a=this.item)||void 0===a?void 0:a.isHasVerification)&&this.logTabs.push("VERIFICATION LOG")}getXmlCode(){var a,U,V,ct,gt,ft;return(0,t.mG)(this,void 0,void 0,function*(){if(!(null===(a=this.item)||void 0===a?void 0:a.eventCodeList)||!(null===(V=null===(U=this.item)||void 0===U?void 0:U.eventCodeList)||void 0===V?void 0:V.length))return;const F=this.eventViewerService.getXmlEventCodeList();if(!Array.isArray(F))return;const dt=F.filter(Et=>"di"!=Et.event_type);if(!Array.isArray(dt))return;let r=null,L=null;for(let Et=0;Et<(null===(ct=this.item)||void 0===ct?void 0:ct.eventCodeList.length);Et++){const qt=this.item.eventCodeList[Et].code;if(r=null==dt?void 0:dt.find(zt=>zt.event_code==qt),r)break}if(!r||!Array.isArray(null===(gt=this.item.detail)||void 0===gt?void 0:gt.related_logs))return;L=this.item.detail.related_logs.find(Et=>Et.event_code==r.event_code);const J=this.me.dealer_id,_t=L.id,vt=yield this.logsService.getActivityLogDetail(J,_t).toPromise();if(this.item.receiver=vt.receiver,!this.item.receiver||!(null===(ft=Object.keys(this.item.receiver))||void 0===ft?void 0:ft.length))return;const yt=this.item.receiver.logs.find(Et=>Et.event_code===r.event_code);!yt||!(null==yt?void 0:yt.id)||(this.item.receiver_log_id=yt.id)})}parseLogInfo(a){var U,V;let ct=null;try{ct=JSON.parse(a.meta)}catch(gt){ct=null}if(ct){const gt=null===(V=null===(U=ct.req)||void 0===U?void 0:U.body)||void 0===V?void 0:V.optional_info,ft=null==gt?void 0:gt.metadata;if(a.email||(a.email=null==gt?void 0:gt.requested_user_email),ft)if("Audio"===a.category)this.item.isAudioLog=!0,this.logsService.getSiteTtsUrl(this.me.dealer_id,this.site.site_id,a.id).subscribe(L=>{a.signedUrl=L.pre_signed_url,this.TTS.signedUrl=L.pre_signed_url,this.getTTSFile(this.TTS)});else if("Sensor"===a.category&&"OE trigger"===a.trigger){ft.event_topic_raw&&(this.isExistOEMeta=!0);let F={};F.topic=ft.event_topic_raw,F.data=ft.event_data_items,F.source=ft.event_source_items,F.token=ft.source_token,F.operation="Change",F.detail="",this.OE=F}else{this.checkIsHasLocalEventBodyLog(ft,a),delete ft.request_body_dump;for(const F in ft)if("string"==typeof ft[F])try{ft[F]=JSON.parse(ft[F])}catch(dt){ft[F]=ft[F]}a.metaData=JSON.stringify(ft,null,"   "),this.logTabs.push("METADATA")}}}checkIsHasLocalEventBodyLog(a,U){if(!(a instanceof Object&&Object.keys(a).find(gt=>"request_body_dump"===gt)))return;let ct=null;try{ct=JSON.parse(a.request_body_dump),ct=JSON.stringify(ct,null,"   ")}catch(gt){ct=null}U.rawEventInfo=ct}toggleAudioPlay(a){this.curCtrlTTS=a,a.isAudioLoad?this.stopAudio(a):this.playAudio(a)}setAudioPlayer(a){if(!this.audioControl)return;const U=this.audioControl.nativeElement;var V=URL.createObjectURL(a);U.src=V,U.play()}parseAudioUrl(a){var U;const gt=a.audioFile,ft=new FileReader;this.audioElement=null===(U=this.audioControl)||void 0===U?void 0:U.nativeElement;const F=new Audio;ft.onload=dt=>{var r;F.src=dt.target.result,F.addEventListener("loadeddata",()=>{const J=F.duration,vt=J%60;let yt=parseInt((J/60).toString()).toString(),Et=vt.toString();vt<10&&(Et="0"+Et),a.fileDuration=`${yt}:${Et}`,a.status="selected",this.setAudioPlayer(gt)},!1),null===(r=this.audioElement)||void 0===r||r.addEventListener("error",()=>{console.debug("err")})},ft.readAsDataURL(gt)}playAudio(a){this.initAudioPlay(a),a.signedUrl=this.item.signedUrl,a.isAudioLoad=!0,a.isAudioPlay=!0,this.audioElement.play(),this.isAudioPlay=!0}getTTSFile(a){const U=a.signedUrl;a.isLoadedFile?this.parseAudioUrl(a):this.sitesService.getTTSFileV2(U).subscribe(V=>{console.log(V);const ct=V.headers.get("x-amz-meta-tts-text");a.ttsMsg=ct;let gt=window.URL;a.audioFileBlob=this.sanitizer.bypassSecurityTrustUrl(gt.createObjectURL(V.body)),a.audioFile=V.body,this.parseAudioUrl(a),a.isLoadedFile=!0})}stopAudio(a){this.audioControl&&this.audioControl.nativeElement.pause(),a.isAudioLoad=!1,a.isAudioLoading=!1,a.isAudioPlay=!1,a.isFailed=!1,this.isAudioPlay=!1}setAudioFail(a){a.isFailed=!0}initAudioPlay(a){a.isAudioLoad=!1,a.isAudioLoading=!1,a.isAudioPlay=!1,a.isFailed=!1,this.isAudioPlay=!1}updateAudioTime(){if(this.audioControl){const V=parseInt(this.audioControl.nativeElement.currentTime),gt=V%60;let ft=parseInt((V/60).toString()).toString(),F=gt.toString();gt<10&&(F="0"+F),this.curDuration=`${ft}:${F}`}}endSpeak(){const a=this.curCtrlTTS;a&&this.stopAudio(a)}downloadAudioFile(){let a=this.TTS;const U=a.signedUrl;a.isLoadedFile?this.doDownloadAudioFile():this.sitesService.getTTSFile(U).subscribe(V=>{a.audioFile=V,this.doDownloadAudioFile(),a.isLoadedFile=!0})}doDownloadAudioFile(){let V=window.URL.createObjectURL(this.TTS.audioFile),ct=document.createElement("a");ct.href=V,ct.target="_blank",ct.download=`${this.item.id}_ttsfile.mp3`,document.body.appendChild(ct),ct.click(),document.body.removeChild(ct)}selectLogTab(a,U){"VERIFICATION LOG"!==U?this.curLogTab=this.logTabs[a]:this.openVerificationLogModal()}openUrl(a){window.open(a)}openXmlLogModal(){this.item.is_send_xml_signal&&this.onOpenModal.emit({modal:"xml-log",data:{receiver_log_id:this.item.receiver_log_id}})}openVerificationLogModal(){return(0,t.mG)(this,void 0,void 0,function*(){const a=this.setFirstVerificationLog();this.onOpenModal.emit({modal:"verification-log",data:a})})}openEventViewer(){this.onOpenModal.emit({modal:"event-viewer",data:this.item})}setFirstVerificationLog(){if(!Array.isArray(this.item.detail.related_logs)||0===this.item.detail.related_logs.length)return;let a=this.item.detail.related_logs.find(U=>"verification"===U.category.toLowerCase());return a?(a.event_time||(a.event_time=a.created),a.localCreated=s()(a.created).utc().tz(this.sitesService.selSite.timezone).format("MM/DD/YY hh:mm:ss a"),a.eventCreated=s()(a.event_time).utc().tz(this.sitesService.selSite.timezone).format("MM/DD/YY hh:mm:ss a"),a):void 0}confirmDialog(a="",U="",V="done",ct="#1abc9c"){this.m_warning.data={header:a,contents:`\n        <p>${U}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:V,isConfirm:!0,color:ct},this.m_warning.data.submit_func=()=>{"green"===ct&&this.close()},this.m_warning.open()}errorDialog(a,U){let V="failed.";a.error&&a.error.message&&(V=a.error.message),a._body&&(V=JSON.parse(a._body).message),setTimeout(()=>{this.confirmDialog(U,V,"warning","orange")},200),this.isLoading=!1}close(a){this.onClose.next(a||{res:!1}),this.modal.close(),setTimeout(U=>{this.enable_modal=!1},200)}}return Y.\u0275fac=function(a){return new(a||Y)(e.Y36(T.f),e.Y36(g.P),e.Y36(M.f),e.Y36(l.w),e.Y36(b.H7))},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-activity-log-modal"]],viewQuery:function(a,U){if(1&a&&e.Gf(et,5),2&a){let V;e.iGM(V=e.CRH())&&(U.audioControl=V.first)}},inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[e.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"log-tab"],["class","btn",3,"btn-selected","click",4,"ngFor","ngForOf"],["class","item",4,"ngIf"],["class","loader absolute",4,"ngIf"],[1,"btn",3,"click"],[1,"tab-title"],[1,"v-center"],["style","margin-left: 4px",3,"icon","color","size",4,"ngIf"],["class","tab-selected-bar",4,"ngIf"],[2,"margin-left","4px",3,"icon","color","size"],[1,"tab-selected-bar"],[1,"item"],[2,"display","none",3,"ended","timeupdate"],["audioControl",""],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],["class","log-data",4,"ngIf"],["class","log-data flex","style","flex-direction: column; gap: 4px",4,"ngIf"],[1,"log-data","v-center"],["style","font-size: 12px;margin-left: 4px;color: gray;",4,"ngIf"],[3,"click"],[4,"ngIf"],[2,"display","flex","justify-content","space-between"],["class","entry-event",4,"ngIf"],[2,"white-space","pre-wrap","word-break","break-word"],[1,"log-data","flex",2,"flex-direction","column","gap","4px"],[4,"ngFor","ngForOf"],[2,"font-size","12px","margin-left","4px","color","gray"],[3,"icon","color","size"],[1,"log-data",2,"padding","0"],[3,"border-botttom",4,"ngFor","ngForOf"],[2,"border-bottom","none"],[1,"entry-event"],[1,"flex"],["class","tts-type",3,"audio-playing","disabled","click",4,"ngIf"],[1,"download-icon",3,"click"],[1,"tts-type",3,"click"],[2,"height","16px","width","16px"],["style","display:flex",4,"ngIf"],[2,"margin","0 5px","font-size","13px"],[1,"btn-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[2,"display","flex"],["width","16","height","16","viewBox","0 0 24 24"],["id","volume-clip"],["x","15","y","0","height","24","width","9"],["clip-path","url(#volume-clip)",1,"audio-waves"],["cx","12.5","cy","12","r","3.25","fill","none","stroke","white","stroke-width","1.5"],["cx","12.5","cy","12","r","6.5","fill","none","stroke","white","stroke-width","1.5"],["cx","12.5","cy","12","r","9.75","fill","none","stroke","white","stroke-width","1.5"],["points","3,9 7,9, 12,4 12,20 7,15 3,15","fill","white"],[1,"material-icons"],[2,"color","hsla(0, 0%, 0%, 0.38)"],[1,"link-txt",2,"display","flex","flex-direction","row","align-items","center",3,"click"],[1,"material-icons","md-16"],[1,"flex","inner-row"],[1,"f-2","title"],[1,"f-8"],["class","disabled",4,"ngIf"],[1,"disabled"],[2,"padding-top","7px"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventtxt"],["class","log-line",4,"ngIf"],[1,"log-sub-margin"],[1,"log-sub-info"],[1,"log-line"],["class","log-eventtxt",4,"ngIf"],[2,"color","#55647B","padding","4px 12px"],[1,"codemirror-wrapper"],[1,"ngx-codemirror",3,"options","ngModel","ngModelChange"],["codemirror",""],[1,"loader","absolute"]],template:function(a,U){1&a&&(e.YNc(0,At,3,2,"div",0),e._UZ(1,"dealer-warning",1)),2&a&&(e.Q6J("ngIf",U.enable_modal),e.xp6(1),e.Q6J("modal",U.m_warning))},directives:[m.O5,P.a,m.sg,S.U,N.C,R.JJ,R.On],styles:['.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}','*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%]{min-height:490px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{background-color:#f7fafc;padding:0 20px 20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{min-height:430px;box-sizing:border-box}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .xml-link[_ngcontent-%COMP%]{display:flex;color:#1e88e5;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .enable-xml[_ngcontent-%COMP%]{padding:2px 5px;color:#1e88e5;background-color:#1f89e51a;border-radius:3px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .entry-event[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;background:#E3E8EE;border-radius:5px;padding:2px 8px;font-size:12px;margin-bottom:4px;color:#173667}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{font-size:14px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px;border:0}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:660px!important}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.md-16[_ngcontent-%COMP%]{font-size:16px}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventtxt[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-row[_ngcontent-%COMP%]   .log-sub-margin[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-sub-info[_ngcontent-%COMP%]{font-size:14px;color:#0009}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;min-height:14px}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.modal-ui[_ngcontent-%COMP%]{max-height:590px}.tts-type[_ngcontent-%COMP%]{width:40px;background-color:#e3e8ee;border-radius:11px;align-items:center;justify-content:center;display:flex;padding:3px 10px;margin-right:4px;cursor:pointer}.tts-type[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.tts-type.failed[_ngcontent-%COMP%]{background-color:#cd3d6426;color:#cd3d64}@keyframes pulse{0%{opacity:.25}20%{opacity:.8}40%{opacity:.25}60%{opacity:.8}80%{opacity:.25}to{opacity:.25}}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{animation-duration:1.7s;animation-iteration-count:infinite;animation-name:pulse;opacity:.25}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(2){animation-delay:.125s}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(3){animation-delay:.25s}.audio-playing[_ngcontent-%COMP%]{background-color:#1e88e5;color:#fff}.btn-loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:16px}.btn-loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 10px);left:calc(50% - 10px)}.btn-loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.btn-loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.btn-loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#fff;stroke-linecap:round}.download-icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:5px;cursor:pointer}.inner-row[_ngcontent-%COMP%]{margin-bottom:4px}.inner-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.title[_ngcontent-%COMP%]{font-weight:500}.log-tab[_ngcontent-%COMP%]{height:48px;color:#0009;display:flex;align-items:center;z-index:1}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative;padding:20px 10px 10px;box-sizing:border-box}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{padding:20px 10px 10px 16px}.log-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.log-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.log-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.log-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{position:relative;text-transform:uppercase;font-size:14px}.log-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:-10px;width:100%;height:3px;background:#2383e2}.codemirror-wrapper[_ngcontent-%COMP%]{width:100%;padding:0 8px}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),Y})()},80733:(Ft,A,w)=>{"use strict";w.d(A,{X:()=>Z});var t=w(16274),e=w(93324),u=w(56447),d=w(688),f=w(50319),s=w(42741);let Z=(()=>{class O{}return O.\u0275fac=function(g){return new(g||O)},O.\u0275mod=s.oAB({type:O}),O.\u0275inj=s.cJS({imports:[[t.ez,e.u5,u.q,d.m,f.k]]}),O})()},7228:(Ft,A,w)=>{"use strict";w.d(A,{b:()=>H});var t=w(42741),e=w(29026),u=w(72898),d=w(76052),f=w.n(d),s=w(46243),O=w(7611),T=w(84784),g=w(16274),M=w(21929);function l(D,I){if(1&D){const z=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(z),t.oxw(2).close()}),t.qZA()}2&D&&t.Q6J("@background",void 0)}function b(D,I){if(1&D&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&D){const z=t.oxw(3);t.xp6(1),t.Oqu(z.item.warningMsg)}}function m(D,I){if(1&D&&(t.TgZ(0,"tr"),t.TgZ(1,"td",23),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA(),t.qZA()),2&D){const z=I.$implicit,x=I.index,_=t.oxw(3);t.ekj("border-botttom",_.contacts.length!==x+1),t.xp6(3),t.hij("(Site Time: ",z.site_time,")"),t.xp6(2),t.Oqu(z.receiverContact)}}function P(D,I){if(1&D&&(t.TgZ(0,"div",31),t._uU(1),t.qZA()),2&D){const z=t.oxw().$implicit;t.xp6(1),t.Oqu(z.dataLabel?z.dataLabel:"Unknown")}}function S(D,I){1&D&&(t.TgZ(0,"div",25),t._UZ(1,"div",32),t.qZA())}function N(D,I){if(1&D&&(t.TgZ(0,"div"),t.TgZ(1,"div",24),t.TgZ(2,"div",25),t._UZ(3,"div",26),t.qZA(),t.TgZ(4,"div",27),t._uU(5),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA(),t.YNc(8,P,2,1,"div",29),t.qZA(),t.YNc(9,S,2,0,"div",30),t.qZA()),2&D){const z=I.$implicit,x=I.index,_=t.oxw(3);t.xp6(3),t.ekj("target-log",_.item.id===z.id),t.xp6(2),t.Oqu(z.site_time),t.xp6(1),t.Udp("color",z.label_color),t.xp6(1),t.Oqu(z.share_status),t.xp6(1),t.Q6J("ngIf","Event"!==z.share_status),t.xp6(1),t.Q6J("ngIf",_.logs.length!==x+1)}}function R(D,I){1&D&&(t.TgZ(0,"div",33),t.O4$(),t.TgZ(1,"svg",34),t._UZ(2,"circle",35),t.qZA(),t.qZA())}function et(D,I){if(1&D){const z=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(z),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"table",14),t.TgZ(11,"tbody"),t.TgZ(12,"tr"),t.TgZ(13,"td",15),t._uU(14,"Description"),t.qZA(),t.TgZ(15,"td",16),t.TgZ(16,"div"),t._uU(17),t.qZA(),t.YNc(18,b,2,1,"div",17),t.qZA(),t.qZA(),t.TgZ(19,"tr"),t.TgZ(20,"td",15),t._uU(21,"Event Time"),t.qZA(),t.TgZ(22,"td",16),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"tr"),t.TgZ(25,"td",15),t._uU(26,"Storage Time"),t.qZA(),t.TgZ(27,"td",16),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td",15),t._uU(31,"Receivers"),t.qZA(),t.TgZ(32,"td",18),t.TgZ(33,"table"),t.TgZ(34,"tbody"),t.YNc(35,m,6,4,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"tr"),t.TgZ(37,"td",15),t._uU(38,"Event Time"),t.qZA(),t.TgZ(39,"td",16),t._uU(40),t.qZA(),t.qZA(),t.TgZ(41,"tr"),t.TgZ(42,"td",15),t._uU(43,"Device Name"),t.qZA(),t.TgZ(44,"td",16),t._uU(45),t.qZA(),t.qZA(),t.TgZ(46,"tr"),t.TgZ(47,"td",15),t._uU(48,"Device ID"),t.qZA(),t.TgZ(49,"td",16),t._uU(50),t.qZA(),t.qZA(),t.TgZ(51,"tr"),t.TgZ(52,"td",15),t._uU(53,"User"),t.qZA(),t.TgZ(54,"td",16),t.TgZ(55,"span"),t._uU(56),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",13),t.TgZ(58,"div"),t._uU(59,"History of Event"),t.qZA(),t.TgZ(60,"div",20),t.YNc(61,N,10,8,"div",21),t.qZA(),t.qZA(),t.qZA(),t.YNc(62,R,3,0,"div",22),t.qZA()}if(2&D){const z=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(3),t.hij("Share Event ",z.item.localCreated,""),t.xp6(14),t.Oqu(z.item.description),t.xp6(1),t.Q6J("ngIf",z.item.warningMsg),t.xp6(5),t.AsE("",z.item.localCreated," (",(null==z.modal.data?null:z.modal.data.selectedTimezone)||"UTC",")"),t.xp6(5),t.AsE("",z.item.localCreated," (",(null==z.modal.data?null:z.modal.data.selectedTimezone)||"UTC",")"),t.xp6(7),t.Q6J("ngForOf",z.contacts),t.xp6(5),t.Oqu(z.item.site_event_time),t.xp6(5),t.Oqu(z.item.camera_name),t.xp6(5),t.Oqu(z.item.device_id),t.xp6(5),t.ekj("disable-txt",!z.item.email),t.xp6(1),t.Oqu(z.item.email?z.item.email:"No Name"),t.xp6(5),t.Q6J("ngForOf",z.logs),t.xp6(1),t.Q6J("ngIf",z.isLoading)}}function Q(D,I){if(1&D&&(t.TgZ(0,"div",2),t.YNc(1,l,1,1,"div",3),t.YNc(2,et,63,17,"div",4),t.qZA()),2&D){const z=t.oxw();t.xp6(1),t.Q6J("ngIf",z.modal.is_active),t.xp6(1),t.Q6J("ngIf",z.modal.is_active)}}let H=(()=>{class D{constructor(z,x){this.usersService=z,this.logsService=x,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.site={},this.m_warning=new u.u,this.item={},this.contacts=[],this.logs=[],this.shareTypeStr=""}ngOnInit(){this.usersService.getMe().subscribe(z=>{this.me=z})}ngOnChanges(z){z.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.site=this.modal.data.site,this.getActivityLogDetail())}initLogData(){this.item.detail&&(this.item.event_time=this.item.created,this.item.site_event_time=f()(this.item.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),this.item.camera_name=this.item.name,this.item.detail.related_logs&&(this.logs=this.item.detail.related_logs,this.contacts=this.setLogs(this.logs)))}getActivityLogDetail(){const z=this.me.dealer_id;this.item=s.cloneDeep(this.modal.data.log),this.logsService.getActivityLogDetail(z,this.item.id).subscribe(_=>{this.item.detail=_;const o=JSON.parse(this.item.detail.log.meta),$=o.req.body,B=o.res;let it="-",ot=null;$&&(ot=$.share_type),0===ot?it="Response Link":1===ot&&(it="Video Download Link"),this.item.shareTypeStr=it,_.receiver.logs&&(this.item.event_code=_.receiver.logs[0].event_code),this.initLogData(),this.item.status>300&&B&&B.message&&(this.item.warningMsg=B.message)})}setLogs(z){let x=[],_=[];return z.reverse(),z.forEach(o=>{o.site_time=f()(o.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss");let C=null,$=null;const B=JSON.parse(o.meta),ot=B.res,bt=B.req.body;let c="";ot&&(c=ot.url),bt&&(C=bt.to,$=bt.share_type,C&&(_.includes(C)||(_.push(C),x.push(o)),o.receiverContact=C,o.dataLabel=C),0===$?this.shareTypeStr="Response Link":1===$&&(this.shareTypeStr="Video Download Link")),o.share_status=o.description,"created"===o.action||"create"===o.action?(o.label_color="#1abc9c",C||c?c&&(o.dataLabel=c):o.dataLabel="Created"):"viewed"===o.action?(o.share_status=o.description+" "+o.action,o.dataLabel=o.email,o.label_color="#2f96fb"):"upload"===o.action?(o.dataLabel="Upload",o.label_color="#f1556c"):"alarm"===o.action?o.dataLabel=o.trigger:"sent"===o.action?o.dataLabel=o.email:"call police"===o.action?(bt&&bt.contact&&this.getVerificationHistorys(o,bt,ot),o.dataLabel=o.email):"granted"===o.action?(o.share_status=o.description,o.dataLabel="granted"):"send"===o.action?o.share_status=o.description:"No Response"===o.action&&(o.dataLabel="No Response")}),z.reverse(),x}getVerificationHistorys(z,x,_){this.logsService.getVerificationHistorys(this.me.dealer_id,this.site.site_id,x.contact.verification_id,`?filter=history_id,${_.history_id},eq`).subscribe(ot=>{const bt=ot[0];z.dataLabel=`${bt.contact_name} (${bt.email?bt.email:bt.contact_phone})`})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(z="",x="",_="done",o="#1abc9c"){this.m_warning.data={header:z,contents:`\n        <p>${x}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:_,isConfirm:!0,color:o},this.m_warning.data.submit_func=()=>{"green"===o&&this.close()},this.m_warning.open()}errorDialog(z,x){let _="failed.";z.error&&z.error.message&&(_=z.error.message),z._body&&(_=JSON.parse(z._body).message),setTimeout(()=>{this.confirmDialog(x,_,"warning","orange")},200),this.isLoading=!1}close(z){this.onClose.next(z||{res:!1}),this.modal.close(),setTimeout(x=>{this.enable_modal=!1},200)}}return D.\u0275fac=function(z){return new(z||D)(t.Y36(O.f),t.Y36(T.P))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-activity-share-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[4,"ngIf"],[1,"log-data",2,"padding","0px"],[3,"border-botttom",4,"ngFor","ngForOf"],[2,"padding-top","7px","max-height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[2,"border-bottom","none"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],["class","log-contact",4,"ngIf"],["class","log-timeline",4,"ngIf"],[1,"log-contact"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(z,x){1&z&&(t.YNc(0,Q,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&z&&(t.Q6J("ngIf",x.enable_modal),t.xp6(1),t.Q6J("modal",x.m_warning))},directives:[g.O5,M.a,g.sg],styles:['.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:800px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{width:230px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-contact[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),D})()},77343:(Ft,A,w)=>{"use strict";w.d(A,{b:()=>f});var t=w(16274),e=w(93324),u=w(56447),d=w(42741);let f=(()=>{class s{}return s.\u0275fac=function(O){return new(O||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,u.q]]}),s})()},68013:(Ft,A,w)=>{"use strict";w.d(A,{P:()=>I});var t=w(61855),e=w(42741),u=w(29026),d=w(72898),f=w(76052),s=w.n(f),Z=w(46243),T=w(7611),g=w(84784),M=w(16274),l=w(21929);function b(z,x){if(1&z){const _=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).close()}),e.qZA()}2&z&&e.Q6J("@background",void 0)}function m(z,x){if(1&z&&(e.TgZ(0,"tr"),e.TgZ(1,"td",24),e._uU(2),e.qZA(),e.TgZ(3,"td",25),e.TgZ(4,"div"),e._uU(5),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.qZA(),e.qZA(),e.qZA()),2&z){const _=x.$implicit,o=x.index,C=e.oxw(3);e.ekj("border-botttom",C.contacts.length!==o+1),e.xp6(2),e.Oqu(_.contact_name),e.xp6(3),e.hij("",_.contact_phone," "),e.xp6(1),e.Udp("color",_.label_color),e.xp6(1),e.Oqu(_.verification_status),e.xp6(1),e.hij(" (",_.site_time,")"),e.xp6(2),e.Oqu(_.email)}}function P(z,x){if(1&z&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&z){const _=e.oxw(3);let o;e.ekj("disable-txt",!_.verificationSentUser),e.xp6(1),e.Oqu(null!==(o=_.verificationSentUser)&&void 0!==o?o:"No Data")}}function S(z,x){if(1&z&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&z){const _=e.oxw(3);let o;e.ekj("disable-txt",!_.verificationSentUser),e.xp6(1),e.AsE("",null!==(o=_.verificationSentUser)&&void 0!==o?o:"No Data"," (",null!==(o=_.verificationSentIP)&&void 0!==o?o:"No Data",")")}}function N(z,x){if(1&z&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&z){const _=e.oxw(3);e.xp6(1),e.Oqu(_.item.warningMsg)}}function R(z,x){1&z&&(e.TgZ(0,"div",27),e._UZ(1,"div",33),e.qZA())}function et(z,x){if(1&z&&(e.TgZ(0,"div"),e.TgZ(1,"div",26),e.TgZ(2,"div",27),e._UZ(3,"div",28),e.qZA(),e.TgZ(4,"div",29),e._uU(5),e.qZA(),e.TgZ(6,"div",30),e._uU(7),e.qZA(),e.TgZ(8,"div",31),e._uU(9),e.qZA(),e.qZA(),e.YNc(10,R,2,0,"div",32),e.qZA()),2&z){const _=x.$implicit,o=x.index,C=e.oxw(3);e.xp6(3),e.ekj("target-log",_.id===C.item.id),e.xp6(2),e.Oqu(_.site_time),e.xp6(1),e.Udp("color",_.label_color),e.xp6(1),e.Oqu(_.verification_status),e.xp6(2),e.Oqu(_.dataLabel),e.xp6(1),e.Q6J("ngIf",C.logs.length!==o+1)}}function Q(z,x){1&z&&(e.TgZ(0,"div",34),e.O4$(),e.TgZ(1,"svg",35),e._UZ(2,"circle",36),e.qZA(),e.qZA())}function H(z,x){if(1&z){const _=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.TgZ(4,"div",9),e.TgZ(5,"div",10),e.TgZ(6,"i",11),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).close()}),e._uU(7,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",12),e.TgZ(9,"div",13),e.TgZ(10,"table",14),e.TgZ(11,"tbody"),e.TgZ(12,"tr"),e.TgZ(13,"td",15),e._uU(14,"Event Time"),e.qZA(),e.TgZ(15,"td",16),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td",15),e._uU(19,"Storage Time"),e.qZA(),e.TgZ(20,"td",16),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td",15),e._uU(24,"Contacts"),e.qZA(),e.TgZ(25,"td",17),e.TgZ(26,"table"),e.TgZ(27,"tbody"),e.YNc(28,m,11,9,"tr",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"td",15),e._uU(31,"Event Time"),e.qZA(),e.TgZ(32,"td",16),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"tr"),e.TgZ(35,"td",15),e._uU(36,"Device Name"),e.qZA(),e.TgZ(37,"td",16),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"tr"),e.TgZ(40,"td",15),e._uU(41,"Device ID"),e.qZA(),e.TgZ(42,"td",16),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"tr"),e.TgZ(45,"td",15),e._uU(46,"Verification sent by"),e.qZA(),e.TgZ(47,"td",16),e.YNc(48,P,2,3,"span",19),e.YNc(49,S,2,4,"span",19),e.qZA(),e.qZA(),e.TgZ(50,"tr"),e.TgZ(51,"td",15),e._uU(52,"User"),e.qZA(),e.TgZ(53,"td",16),e.TgZ(54,"span"),e._uU(55),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"tr"),e.TgZ(57,"td",15),e._uU(58,"Description"),e.qZA(),e.TgZ(59,"td",16),e.TgZ(60,"div"),e._uU(61),e.qZA(),e.YNc(62,N,2,1,"div",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",13),e.TgZ(64,"div"),e._uU(65,"History of Verifications"),e.qZA(),e.TgZ(66,"div",21),e.YNc(67,et,11,8,"div",22),e.qZA(),e.qZA(),e.qZA(),e.YNc(68,Q,3,0,"div",23),e.qZA()}if(2&z){const _=e.oxw(2);e.Q6J("@dialog",void 0),e.xp6(3),e.hij("Verifications ",_.item.localCreated,""),e.xp6(13),e.AsE("",_.item.localCreated," (",(null==_.modal.data?null:_.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.AsE("",_.item.localCreated," (",(null==_.modal.data?null:_.modal.data.selectedTimezone)||"UTC",")"),e.xp6(7),e.Q6J("ngForOf",_.contacts),e.xp6(5),e.Oqu(_.item.site_event_time),e.xp6(5),e.Oqu(_.item.camera_name),e.xp6(5),e.Oqu(_.item.device_id),e.xp6(5),e.Q6J("ngIf",!_.ipUserName),e.xp6(1),e.Q6J("ngIf",_.ipUserName),e.xp6(5),e.ekj("disable-txt",!_.item.email),e.xp6(1),e.Oqu(_.item.email?_.item.email:"No Name"),e.xp6(6),e.Oqu(_.item.description),e.xp6(1),e.Q6J("ngIf",_.item.warningMsg),e.xp6(5),e.Q6J("ngForOf",_.logs),e.xp6(1),e.Q6J("ngIf",_.isLoading)}}function D(z,x){if(1&z&&(e.TgZ(0,"div",2),e.YNc(1,b,1,1,"div",3),e.YNc(2,H,69,19,"div",4),e.qZA()),2&z){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.modal.is_active),e.xp6(1),e.Q6J("ngIf",_.modal.is_active)}}let I=(()=>{class z{constructor(_,o){this.usersService=_,this.logsService=o,this.onClose=new e.vpe,this.onOpenModal=new e.vpe,this.enable_modal=!1,this.isLoading=!1,this.site={},this.m_warning=new d.u,this.item={},this.contacts=[],this.logs=[],this.ipUserName="",this.verificationSentUser="",this.verificationSentIP=""}ngOnInit(){this.usersService.getMe().subscribe(_=>{this.me=_})}ngOnChanges(_){_.active&&this.active&&(this.isLoading=!0,this.enable_modal=!0,this.site=this.modal.data.site,this.item={},this.getActivityLogDetail())}initLogData(){return(0,t.mG)(this,void 0,void 0,function*(){this.item.verification=this.item.detail.verification;const $=JSON.parse(this.item.detail.log.meta).res;if(yield this.setVerificationSentUser(),this.item.verification){if(this.item.verification.info&&this.item.verification.info.created){const it=this.item.verification.info.created;this.item.event_time=it,this.item.site_event_time=s()(it).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),this.item.camera_name=this.item.name}this.item.verification.logs&&(this.logs=this.item.verification.logs,this.contacts=this.setContacts(this.logs))}this.item.status>300&&$&&$.message&&(this.item.warningMsg=$.message),this.isLoading=!1})}getActivityLogDetail(){const _=this.me.dealer_id;this.item=Z.cloneDeep(this.modal.data.log),this.logsService.getActivityLogDetail(_,this.item.id).subscribe(C=>{this.item.detail=C,C.receiver.logs&&(this.item.event_code=C.receiver.logs[0].event_code),this.initLogData()})}setContacts(_){let o=[],C=[];_.reverse(),_.forEach(it=>{it.site_time=s()(it.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),it.dataLabel=`${it.contact_name} (${it.contact_phone?it.contact_phone:it.email})`,C.includes(it.contact_id)||it.contact_id&&(C.push(it.contact_id),o.push(it)),0===it.action?(0===it.type?it.verification_status="Verification Sent":4===it.type&&(it.verification_status="Verification Timeout",it.dataLabel="No Response"),it.label_color="#1abc9c"):1===it.action&&(0===it.type?(it.verification_status="Video Viewed",it.label_color="#2f96fb"):1===it.type?(it.verification_status="Dispatch",it.label_color="#f1556c"):2===it.type&&(it.verification_status="Disregard",it.label_color="hsla(0,0%,0%,0.6)")),"event"===it.verification_status&&(it.dataLabel="")});let $="";$=this.ipUserName?`${this.verificationSentUser} (${this.verificationSentIP})`:`${this.verificationSentUser}`;const B={created:this.item.event_time,site_time:this.item.site_event_time,verification_status:"Event",label_color:"#1abc9c",dataLabel:$};return console.log("contacts:",B),_.reverse(),_.unshift(B),o}setVerificationSentUser(){return(0,t.mG)(this,void 0,void 0,function*(){const _=this.item.detail.related_logs.find(o=>"verification"===o.category.toLowerCase());if(_)try{yield this.getIPUserName(_.user_id),this.verificationSentUser=this.ipUserName?this.ipUserName:_.email?_.email:_.firstname,this.verificationSentUser||(this.verificationSentUser="No data available")}catch(o){console.error("setVerificationSentUser:>",o),this.isLoading=!1}})}getIPUserName(_){var o,C;return(0,t.mG)(this,void 0,void 0,function*(){try{const $=this.me.dealer_id,B=yield this.usersService.getIpMember($,_).toPromise();B[0]&&(this.ipUserName=null===(o=B[0])||void 0===o?void 0:o.name,this.verificationSentIP=null===(C=B[0])||void 0===C?void 0:C.ip)}catch($){console.debug("getIPUserName:>",$),this.isLoading=!1}})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(_="",o="",C="done",$="#1abc9c"){this.m_warning.data={header:_,contents:`\n        <p>${o}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:C,isConfirm:!0,color:$},this.m_warning.data.submit_func=()=>{"green"===$&&this.close()},this.m_warning.open()}errorDialog(_,o){let C="failed.";_.error&&_.error.message&&(C=_.error.message),_._body&&(C=JSON.parse(_._body).message),setTimeout(()=>{this.confirmDialog(o,C,"warning","orange")},200),this.isLoading=!1}close(_){this.onClose.next(_||{res:!1}),this.modal.close(),setTimeout(o=>{this.enable_modal=!1},200)}}return z.\u0275fac=function(_){return new(_||z)(e.Y36(T.f),e.Y36(g.P))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-activity-verification-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[e.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[1,"log-data",2,"padding","0px"],[3,"border-botttom",4,"ngFor","ngForOf"],[3,"disable-txt",4,"ngIf"],[4,"ngIf"],[2,"padding-top","7px"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[2,"width","110px","text-align","right","border-bottom","none"],[2,"border-bottom","none","border-left","1px hsla(0, 0%, 0%, 0.1) solid"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],[1,"log-contact"],["class","log-timeline",4,"ngIf"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(_,o){1&_&&(e.YNc(0,D,3,2,"div",0),e._UZ(1,"dealer-warning",1)),2&_&&(e.Q6J("ngIf",o.enable_modal),e.xp6(1),e.Q6J("modal",o.m_warning))},directives:[M.O5,l.a,M.sg],styles:['*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:800px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{width:200px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-contact[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.modal-ui[_ngcontent-%COMP%]{max-height:590px}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),z})()},95166:(Ft,A,w)=>{"use strict";w.d(A,{s:()=>f});var t=w(16274),e=w(93324),u=w(56447),d=w(42741);let f=(()=>{class s{}return s.\u0275fac=function(O){return new(O||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,u.q]]}),s})()},92601:(Ft,A,w)=>{"use strict";w.d(A,{e:()=>Q});var t=w(42741),e=w(29026),u=w(72898),d=w(46243),s=w(7611),Z=w(84784),O=w(91486),T=w(16274),g=w(21929);function M(H,D){if(1&H){const I=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(I),t.oxw(2).close()}),t.qZA()}2&H&&t.Q6J("@background",void 0)}function l(H,D){if(1&H&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&H){const I=t.oxw(3);t.xp6(1),t.hij("(",I.item.code_description,")")}}function b(H,D){if(1&H&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&H){const I=t.oxw(3);t.xp6(1),t.hij(" (",I.item.code_description,")")}}function m(H,D){if(1&H&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&H){const I=t.oxw(3);t.xp6(1),t.Oqu(I.item.warningMsg)}}function P(H,D){1&H&&(t.TgZ(0,"div",22),t._UZ(1,"div",28),t.qZA())}function S(H,D){if(1&H&&(t.TgZ(0,"div"),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t._UZ(3,"div",23),t.qZA(),t.TgZ(4,"div",24),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"div",25),t.TgZ(8,"span",26),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA(),t.qZA(),t.YNc(12,P,2,0,"div",27),t.qZA()),2&H){const I=D.$implicit,z=D.index,x=t.oxw(3);t.xp6(3),t.ekj("cur-log",I.curLog),t.xp6(2),t.Oqu(t.xi3(6,11,I.created,"MM/dd/yy HH:mm:ss")),t.xp6(4),t.AsE("",I.event_code," (",I.code_description,")"),t.xp6(1),t.ekj("log-status-success",!I.error_code)("log-status-failed",I.error_code),t.xp6(1),t.Oqu(I.error_code?"Failed":"Success"),t.xp6(1),t.Q6J("ngIf",x.logs.length!==z+1)}}function N(H,D){1&H&&(t.TgZ(0,"div",29),t.O4$(),t.TgZ(1,"svg",30),t._UZ(2,"circle",31),t.qZA(),t.qZA())}function R(H,D){if(1&H){const I=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(I),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"table",14),t.TgZ(11,"tbody"),t.TgZ(12,"tr"),t.TgZ(13,"td",15),t._uU(14,"Event Time"),t.qZA(),t.TgZ(15,"td",16),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"tr"),t.TgZ(18,"td",15),t._uU(19,"Storage Time"),t.qZA(),t.TgZ(20,"td",16),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"td",15),t._uU(24,"Receiver Type"),t.qZA(),t.TgZ(25,"td",16),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"tr"),t.TgZ(28,"td",15),t._uU(29,"Account Number"),t.qZA(),t.TgZ(30,"td",16),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"tr"),t.TgZ(33,"td",15),t._uU(34,"Alarm Code"),t.qZA(),t.TgZ(35,"td",16),t._uU(36),t.YNc(37,l,2,1,"span",17),t.qZA(),t.qZA(),t.TgZ(38,"tr"),t.TgZ(39,"td",15),t._uU(40,"Restoral Code"),t.qZA(),t.TgZ(41,"td",16),t._uU(42),t.YNc(43,b,2,1,"span",17),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",15),t._uU(46,"Bridge Name"),t.qZA(),t.TgZ(47,"td",16),t._uU(48),t.qZA(),t.qZA(),t.TgZ(49,"tr"),t.TgZ(50,"td",15),t._uU(51,"Camera ID"),t.qZA(),t.TgZ(52,"td",16),t._uU(53),t.qZA(),t.qZA(),t.TgZ(54,"tr"),t.TgZ(55,"td",15),t._uU(56,"Camera Name"),t.qZA(),t.TgZ(57,"td",16),t._uU(58),t.qZA(),t.qZA(),t.TgZ(59,"tr"),t.TgZ(60,"td",15),t._uU(61,"Zone Number"),t.qZA(),t.TgZ(62,"td",16),t._uU(63),t.qZA(),t.qZA(),t.TgZ(64,"tr"),t.TgZ(65,"td",15),t._uU(66,"Type"),t.qZA(),t.TgZ(67,"td",16),t._uU(68),t.qZA(),t.qZA(),t.TgZ(69,"tr"),t.TgZ(70,"td",15),t._uU(71,"Description"),t.qZA(),t.TgZ(72,"td",16),t.TgZ(73,"div"),t._uU(74),t.qZA(),t.YNc(75,m,2,1,"div",17),t.qZA(),t.qZA(),t.TgZ(76,"tr"),t.TgZ(77,"td",15),t._uU(78,"Send Packet"),t.qZA(),t.TgZ(79,"td",16),t.TgZ(80,"div"),t._uU(81),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"tr"),t.TgZ(83,"td",15),t._uU(84,"Receive Packet"),t.qZA(),t.TgZ(85,"td",16),t.TgZ(86,"div"),t._uU(87),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"div",13),t.TgZ(89,"div"),t._uU(90,"History of XML"),t.qZA(),t.TgZ(91,"div",18),t.YNc(92,S,13,14,"div",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(93,N,3,0,"div",20),t.qZA()}if(2&H){const I=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(3),t.hij("XML ",I.item.localCreated,""),t.xp6(13),t.AsE("",I.item.eventCreated," (",(null==I.item?null:I.item.selectedTimezone)||"UTC",")"),t.xp6(5),t.AsE("",I.item.localCreated," (",(null==I.item?null:I.item.selectedTimezone)||"UTC",")"),t.xp6(5),t.Oqu(I.item.receiver_name),t.xp6(5),t.Oqu(I.item.account_number),t.xp6(5),t.hij("",I.item.alarm_code," "),t.xp6(1),t.Q6J("ngIf",I.item.event_code),t.xp6(5),t.Oqu(I.item.restoral_code),t.xp6(1),t.Q6J("ngIf",I.item.event_code),t.xp6(5),t.Oqu(I.item.device_name?I.item.device_name:"-"),t.xp6(5),t.Oqu(I.item.device_id),t.xp6(5),t.Oqu(I.item.camera_name),t.xp6(5),t.Oqu(I.item.zone),t.xp6(5),t.Oqu(I.item.device_id),t.xp6(6),t.Oqu(I.item.receiver_description),t.xp6(1),t.Q6J("ngIf",I.item.warningMsg),t.xp6(6),t.Oqu(I.item.sendPacket),t.xp6(6),t.Oqu(I.item.recvPacket),t.xp6(5),t.Q6J("ngForOf",I.logs),t.xp6(1),t.Q6J("ngIf",I.isLoading)}}function et(H,D){if(1&H&&(t.TgZ(0,"div",2),t.YNc(1,M,1,1,"div",3),t.YNc(2,R,94,23,"div",4),t.qZA()),2&H){const I=t.oxw();t.xp6(1),t.Q6J("ngIf",I.modal.is_active),t.xp6(1),t.Q6J("ngIf",I.modal.is_active)}}let Q=(()=>{class H{constructor(I,z,x){this.usersService=I,this.logsService=z,this.integrationService=x,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new u.u,this.item={},this.logs=[]}ngOnInit(){this.usersService.getMe().subscribe(I=>{this.me=I})}ngOnChanges(I){this.item={},this.logs=[],I.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.item=d.cloneDeep(this.modal.data),this.getActivityLogDetail())}initLogData(){var I;if(this.item.receiver=this.item.detail.receiver,this.item.receiver&&(null===(I=Object.keys(this.item.receiver))||void 0===I?void 0:I.length)&&(this.item.info&&(this.item.receiver_name=this.item.receiver.info.name,this.item.receiver_description=this.item.receiver.info.description),this.item.receiver.logs&&(this.logs=this.item.receiver.logs,this.item.receiver.logs.forEach(z=>{"active"===z.event_state?this.item.alarm_code=z.event_code:"inactive"===z.event_state&&(this.item.restoral_code=z.event_code),this.item.account_number=z.account_number}))),this.item.detail.log){this.item.camera_name=this.item.detail.log.name;const x=JSON.parse(this.item.detail.log.meta).res;this.item.status>300&&x&&x.message&&(this.item.warningMsg=x.message)}}getActivityLogDetail(){const I=this.me.dealer_id,z=this.item.id;this.isLoading=!0,this.logsService.getActivityLogDetail(I,z).subscribe(x=>{this.item.detail=x,this.initLogData(),this.item.event_code&&x.receiver.code_description.forEach(_=>{const o=this.item.event_code.replace(/^\D+/g,"");let $=_.restore_code?_.restore_code:"";((_.event_code?_.event_code:"").includes(o)||$.includes(o))&&(this.item.code_description=_.name,this.item.alarm_code=_.event_code,this.item.restoral_code=_.restore_code)}),this.logs.forEach(_=>{this.item.receiver_log_id===_.id&&(_.curLog=!0,_.send_packet?(this.item.sendPacket=_.send_packet,this.item.recvPacket=_.recv_packet):this.getReceiverLog(this.item.receiver_log_id));const o=_.event_code.replace(/^\D+/g,"");x.receiver.code_description.forEach(C=>{let B=C.restore_code?C.restore_code:"";((C.event_code?C.event_code:"").includes(o)||B.includes(o))&&(_.code_description=C.name,_.alarm_code=C.event_code,_.restoral_code=C.restore_code)})}),this.isLoading=!1},x=>{this.isLoading=!1})}getReceiverLog(I){this.integrationService.getReceiverLog(this.me.dealer_id,I).subscribe(x=>{1===x.length&&(this.item.sendPacket=x[0].send_packet,this.item.recvPacket=x[0].recv_packet)})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(I="",z="",x="done",_="#1abc9c"){this.m_warning.data={header:I,contents:`\n        <p>${z}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:x,isConfirm:!0,color:_},this.m_warning.data.submit_func=()=>{"green"===_&&this.close()},this.m_warning.open()}errorDialog(I,z){let x="failed.";I.error&&I.error.message&&(x=I.error.message),I._body&&(x=JSON.parse(I._body).message),setTimeout(()=>{this.confirmDialog(z,x,"warning","orange")},200),this.isLoading=!1}close(I){this.onClose.next(I||{res:!1}),this.modal.close(),setTimeout(z=>{this.enable_modal=!1},200)}}return H.\u0275fac=function(I){return new(I||H)(t.Y36(s.f),t.Y36(Z.P),t.Y36(O.V))},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-activity-xml-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[4,"ngIf"],[2,"padding-top","7px"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],[1,"ellipsis"],["class","log-timeline",4,"ngIf"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(I,z){1&I&&(t.YNc(0,et,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&I&&(t.Q6J("ngIf",z.enable_modal),t.xp6(1),t.Q6J("modal",z.m_warning))},directives:[T.O5,g.a,T.sg],pipes:[T.uU],styles:['*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:660px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{flex:2;min-width:0;display:flex;color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{flex:1;color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{flex:1;color:#f76b82}.log-row[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.cur-log[_ngcontent-%COMP%]{border:solid 1px #2383e2;background:radial-gradient(circle,#2383e2 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.modal-ui[_ngcontent-%COMP%]{max-height:590px}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),H})()},63650:(Ft,A,w)=>{"use strict";w.d(A,{U:()=>f});var t=w(16274),e=w(93324),u=w(56447),d=w(42741);let f=(()=>{class s{}return s.\u0275fac=function(O){return new(O||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,u.q]]}),s})()},98886:(Ft,A,w)=>{"use strict";w.d(A,{o:()=>ft});var t=w(42741),e=w(29026),u=w(72898),d=w(76052),f=w.n(d),s=w(70897),Z=w.n(s),O=w(71687),T=w(7611),g=w(16253),M=w(56880),l=w(93220),b=w(84784),m=w(78806),P=w(16274),S=w(21929),N=w(61164),R=w(95974);const et=["sensorsvg"],Q=["snapshotbox"];function H(F,dt){1&F&&t._UZ(0,"div",4)}function D(F,dt){1&F&&t._UZ(0,"div",4)}const I=function(F){return{moveArea:F}};function z(F,dt){if(1&F&&(t.O4$(),t._UZ(0,"line",10)),2&F){const r=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(5,I,r.selected)),t.uIk("x1",r.position[0][0])("y1",r.position[0][1])("x2",r.position[1][0])("y2",r.position[1][1])}}const x=function(F,dt){return{selected:F,moveArea:dt}};function _(F,dt){if(1&F&&(t.O4$(),t._UZ(0,"polygon",11)),2&F){const r=t.oxw().$implicit,L=t.oxw();t.Q6J("ngClass",t.WLB(2,x,r.selected,r.selected)),t.uIk("points",L.getPoints(r))}}function o(F,dt){if(1&F&&(t.O4$(),t._UZ(0,"path",11)),2&F){const r=t.oxw().$implicit,L=t.oxw();t.Q6J("ngClass",t.WLB(2,x,r.selected,r.selected)),t.uIk("d",L.getArc(r))}}function C(F,dt){if(1&F&&(t.O4$(),t._UZ(0,"circle",12)),2&F){const r=dt.$implicit;t.uIk("cx",r[0])("cy",r[1])}}const $=function(F){return{selected:F}};function B(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"svg",5,6),t.YNc(2,z,1,7,"line",7),t.YNc(3,_,1,5,"polygon",8),t.YNc(4,o,1,5,"path",8),t.YNc(5,C,1,2,"circle",9),t.qZA()),2&F){const r=dt.$implicit,L=t.oxw();t.Q6J("ngClass",t.VKq(5,$,r.selected)),t.xp6(2),t.Q6J("ngIf",r.type==L.shapes[0].name),t.xp6(1),t.Q6J("ngIf",r.type==L.shapes[1].name),t.xp6(1),t.Q6J("ngIf",r.type==L.shapes[2].name),t.xp6(1),t.Q6J("ngForOf",L.adj_points)}}let it=(()=>{class F{constructor(){this.isPrivacy=!1,this.metaChange=new t.vpe,this.enableExclusionZone=!1,this.point=null,this.scaleWidth=1,this.scaleHeight=1,this.str="",this.areas=[],this.sel_area=null,this.shapes=[{name:"line",default:[[300,300],[700,700]]},{name:"polygon",default:[[300,300],[300,500],[300,700],[500,700],[700,700],[700,500],[700,300],[500,300]]},{name:"fan shape",default:[[400,800],[1400,600],[100,300]]}],this.is_adjust=!1,this.prev_point=[]}ngOnInit(){this.parseMeta()}ngAfterViewInit(){this.setSvgScale()}ngOnChanges(r){r.meta&&(this.setSvgScale(),this.parseMeta())}setSvgScale(){setTimeout(()=>{this.scaleWidth=1600/this.snapshotbox.nativeElement.clientWidth,this.scaleHeight=900/this.snapshotbox.nativeElement.clientHeight},10)}parseMeta(){if(this.meta)try{this.areas=JSON.parse(this.meta)}catch(r){this.areas=[]}else this.areas=[]}getPoints(r){let L="";return r.position.forEach(J=>{L+=(Math.floor(10*J[0])/10).toFixed(1)+","+(Math.floor(10*J[1])/10).toFixed(1)+","}),L=L.slice(0,L.length-1),L}startAdjustPoint(r,L){this.adj_point=r,this.is_adjust=!0,this.prev_point=[L.clientX,L.clientY]}movePoint(r,L){this.is_adjust&&(this.adj_point[0]+=(L.clientX-this.prev_point[0])*this.scaleWidth,this.adj_point[1]+=(L.clientY-this.prev_point[1])*this.scaleHeight,this.prev_point=[L.clientX,L.clientY])}endAdjustPoint(r,L){this.is_adjust=!1}hoverArea(r){r.selected=!0}unhoverArea(r){r.selected=null}getArc(r){let L=r.position[0],J=r.position[1],_t=r.position[2],vt=Math.sqrt(Math.pow(L[0]-J[0],2)+Math.pow(L[1]-J[1],2)),yt=Math.sqrt(Math.pow(L[0]-_t[0],2)+Math.pow(L[1]-_t[1],2)),Et=vt>yt?vt:yt;return`M ${J[0]} ${J[1]} A ${Et} ${Et}, 0, 0, 0, ${_t[0]} ${_t[1]} L ${L[0]} ${L[1]} Z`}}return F.\u0275fac=function(r){return new(r||F)},F.\u0275cmp=t.Xpm({type:F,selectors:[["event-sensor-area"]],viewQuery:function(r,L){if(1&r&&(t.Gf(et,5),t.Gf(Q,5)),2&r){let J;t.iGM(J=t.CRH())&&(L.svg=J.first),t.iGM(J=t.CRH())&&(L.snapshotbox=J.first)}},inputs:{snapshot:"snapshot",meta:"meta",isPrivacy:"isPrivacy",enableExclusionZone:"enableExclusionZone"},outputs:{metaChange:"metaChange"},features:[t.TTD],decls:6,vars:3,consts:[[2,"position","relative","width","100%","height","100%","user-select","none"],["snapshotbox",""],["class","thumbnail","style","padding-bottom:56.25%;",4,"ngIf"],["class","area","width","100%","height","100%","viewBox","0 0 1600 900","preserveAspectRatio","none",3,"ngClass",4,"ngFor","ngForOf"],[1,"thumbnail",2,"padding-bottom","56.25%"],["width","100%","height","100%","viewBox","0 0 1600 900","preserveAspectRatio","none",1,"area",3,"ngClass"],["sensorsvg",""],["style","stroke:hsla(40,90%,44%,1);stroke-width:5;",3,"ngClass",4,"ngIf"],["class","area-polygon",3,"ngClass",4,"ngIf"],["class","point","r","21","stroke","red","stroke-width","5","fill","white",4,"ngFor","ngForOf"],[2,"stroke","hsla(40,90%,44%,1)","stroke-width","5",3,"ngClass"],[1,"area-polygon",3,"ngClass"],["r","21","stroke","red","stroke-width","5","fill","white",1,"point"]],template:function(r,L){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"div",null,1),t.YNc(3,H,1,0,"div",2),t.YNc(4,D,1,0,"div",2),t.qZA(),t.YNc(5,B,6,7,"svg",3),t.qZA()),2&r&&(t.xp6(3),t.Q6J("ngIf",!L.isPrivacy),t.xp6(1),t.Q6J("ngIf",L.isPrivacy),t.xp6(1),t.Q6J("ngForOf",L.areas))},directives:[P.O5,P.sg,P.mk],styles:[".thumbnail[_ngcontent-%COMP%]{width:100%}svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0}path[_ngcontent-%COMP%]{stroke:#d6940b;stroke-width:10px;stroke-linejoin:round;stroke-linecap:round;stroke-dasharray:1px,15px;fill:#f4af20}.chips[_ngcontent-%COMP%]{min-width:32px;height:32px;border-radius:16px;background:rgba(0,0,0,.13);color:#000;font-size:16px;display:flex;align-items:center;justify-content:center;transition:.2s;cursor:pointer;position:relative;margin:8px 8px 0 0}.chips[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(0,0,0,.46)}.chips[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;background:rgba(0,0,0,0);text-align:center;padding-left:8px}.chips[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding:0 8px 0 16px;display:inline-block;font-size:14px}.chips[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.chips-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:0 8px 0 0}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;margin-right:8px;color:#777;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777;font-size:14px;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777;background:transparent;font-size:14px;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.delete[_ngcontent-%COMP%]{min-width:24px;height:24px;border-radius:12px;background:rgba(0,0,0,.46);color:#fff;font-size:16px;display:flex;align-items:center;justify-content:center;transition:.2s;cursor:pointer;position:relative;margin:0 4px}.point[_ngcontent-%COMP%]{cursor:pointer;opacity:1}.point[_ngcontent-%COMP%]:hover{opacity:1}.area-polygon[_ngcontent-%COMP%]{fill:#d5920b33;stroke:#d5920b;stroke-width:5;stroke-dasharray:none}.selected[_ngcontent-%COMP%]{fill:#ff00001a;opacity:1;z-index:1}.moveArea[_ngcontent-%COMP%]{cursor:move}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}"]}),F})();const ot=["eventvideo"],bt=["viewer"];function c(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).close()}),t.qZA()}2&F&&t.Q6J("@background",void 0)}function i(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"div",57),t.TgZ(1,"div",58),t.NdJ("click",function(){return t.CHM(r),t.oxw(3).selectEvent("alarm")}),t._uU(2,"Alarm"),t.qZA(),t.TgZ(3,"div",58),t.NdJ("click",function(){return t.CHM(r),t.oxw(3).selectEvent("restoral")}),t._uU(4,"Restoral"),t.qZA(),t.qZA()}if(2&F){const r=t.oxw(3);t.xp6(1),t.ekj("alarm","alarm"===r.curEventType)("no-event",!r.alarmEvent.id),t.xp6(2),t.ekj("restoral","restoral"===r.curEventType)("no-event",!r.restoralEvent.id)}}function y(F,dt){1&F&&(t.TgZ(0,"span",59),t.TgZ(1,"i",60),t._uU(2,"check"),t.qZA(),t._uU(3,"EVENT"),t.qZA())}function k(F,dt){1&F&&(t.TgZ(0,"span",59),t.TgZ(1,"i",60),t._uU(2,"rotate_right"),t.qZA(),t._uU(3,"PLAYBACK EVENT"),t.qZA())}function h(F,dt){1&F&&(t.TgZ(0,"span",59),t.TgZ(1,"i",60),t._uU(2,"theaters"),t.qZA(),t._uU(3,"Timelapse"),t.qZA())}function X(F,dt){1&F&&(t.TgZ(0,"span",59),t._uU(1,"Relay"),t.qZA())}function rt(F,dt){if(1&F&&t._UZ(0,"img",25),2&F){const r=t.oxw(3);t.Q6J("src",r.camera.privacy_background_image_url,t.LSH)}}function G(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"g"),t._UZ(1,"polygon",67),t.qZA()),2&F){const r=dt.$implicit,L=t.oxw(4);t.xp6(1),t.uIk("points",L.formatFrames(r.points))}}function at(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"g"),t.TgZ(1,"text",68),t._uU(2),t.qZA(),t.TgZ(3,"text",69),t._uU(4),t.qZA(),t.qZA()),2&F){const r=dt.$implicit;t.xp6(1),t.uIk("x",r.points[0])("y",r.points[1]-.1),t.xp6(1),t.Oqu(r.name),t.xp6(1),t.uIk("x",r.points[0])("y",r.points[1]-.1),t.xp6(1),t.Oqu(r.name)}}function pt(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"svg",61),t._UZ(1,"polygon",62),t.TgZ(2,"defs"),t.TgZ(3,"filter",63),t._UZ(4,"feFlood",64),t._UZ(5,"feComposite",65),t.qZA(),t.qZA(),t.YNc(6,G,2,1,"g",66),t.YNc(7,at,5,6,"g",66),t.qZA()),2&F){const r=t.oxw(3);t.xp6(1),t.uIk("points",r.points),t.xp6(5),t.Q6J("ngForOf",r.framesDetections),t.xp6(1),t.Q6J("ngForOf",r.framesDetections)}}function Ot(F,dt){1&F&&(t.O4$(),t._UZ(0,"path",79),t._UZ(1,"path",80))}function Tt(F,dt){1&F&&(t.O4$(),t.YNc(0,Ot,2,0,"ng-template"))}function xt(F,dt){1&F&&(t.O4$(),t._UZ(0,"path",81),t._UZ(1,"path",79))}function n(F,dt){1&F&&(t.O4$(),t.YNc(0,xt,2,0,"ng-template"))}function W(F,dt){1&F&&(t.O4$(),t._UZ(0,"circle",82),t._UZ(1,"circle",83),t._UZ(2,"circle",84),t._UZ(3,"circle",85),t._UZ(4,"path",86),t._UZ(5,"path",79))}function j(F,dt){1&F&&(t.O4$(),t.YNc(0,W,6,0,"ng-template"))}function v(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"g",75),t._UZ(1,"rect",76),t.TgZ(2,"svg",77),t.YNc(3,Tt,1,0,void 0,52),t.YNc(4,n,1,0,void 0,52),t.YNc(5,j,1,0,void 0,52),t.qZA(),t.TgZ(6,"text",78),t._uU(7),t.qZA(),t.qZA()),2&F){const r=dt.$implicit;t.xp6(1),t.uIk("x",r.left)("y",r.top)("width",r.width)("height",r.height),t.xp6(1),t.uIk("x",r.left)("y",r.top)("width",r.width)("height",r.height),t.xp6(1),t.Q6J("ngIf","person"===r.class),t.xp6(1),t.Q6J("ngIf","car"===r.class||"bus"===r.class||"truck"===r.class),t.xp6(1),t.Q6J("ngIf","cat"===r.class||"dog"===r.class),t.xp6(1),t.uIk("x",r.left)("y",r.top),t.xp6(1),t.Oqu(r.class)}}function p(F,dt){if(1&F&&(t.TgZ(0,"div",70),t.TgZ(1,"div",71),t.TgZ(2,"div",72),t.O4$(),t.TgZ(3,"svg",73),t.YNc(4,v,8,14,"g",74),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&F){const r=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",r.objectIdxs[r.curSnapshotIdx])}}function E(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"div",87),t.TgZ(1,"event-sensor-area",88),t.NdJ("metaChange",function(J){return t.CHM(r),t.oxw(3).camera.sensors_meta=J}),t.qZA(),t.qZA()}if(2&F){const r=t.oxw(3);t.xp6(1),t.Q6J("snapshot",r.camera.tmpSnapshot)("meta",r.camera.sensors_meta)}}function K(F,dt){1&F&&(t.TgZ(0,"div",89),t._uU(1,"This camera is in privacy mode."),t.qZA())}function tt(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"span",90),t.NdJ("click",function(){const _t=t.CHM(r).$implicit;return t.oxw(3).changeRotateSpeed(_t)}),t._uU(1),t.qZA()}if(2&F){const r=dt.$implicit,L=t.oxw(3);t.ekj("selected-speed",L.rotateSpeed===r),t.xp6(1),t.hij("",r+"","x")}}function q(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"g"),t._UZ(1,"polygon",67),t.qZA()),2&F){const r=dt.$implicit,L=t.oxw(4);t.xp6(1),t.uIk("points",L.formatFrames(r.points))}}function nt(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"g"),t.TgZ(1,"text",68),t._uU(2),t.qZA(),t.TgZ(3,"text",93),t._uU(4),t.qZA(),t.qZA()),2&F){const r=dt.$implicit;t.xp6(1),t.uIk("x",r.points[0])("y",r.points[1]-.1),t.xp6(1),t.Oqu(r.name),t.xp6(1),t.uIk("x",r.points[0])("y",r.points[1]-.1),t.xp6(1),t.Oqu(r.name)}}function lt(F,dt){if(1&F&&(t.O4$(),t.TgZ(0,"svg",61),t._UZ(1,"polygon",62),t.TgZ(2,"defs"),t.TgZ(3,"filter",91),t._UZ(4,"feFlood",92),t._UZ(5,"feComposite",65),t.qZA(),t.qZA(),t.YNc(6,q,2,1,"g",66),t.YNc(7,nt,5,6,"g",66),t.qZA()),2&F){const r=t.oxw(3);t.xp6(1),t.uIk("points",r.points),t.xp6(5),t.Q6J("ngForOf",r.framesDetections),t.xp6(1),t.Q6J("ngForOf",r.framesDetections)}}function st(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"div",87),t.TgZ(1,"event-sensor-area",88),t.NdJ("metaChange",function(J){return t.CHM(r),t.oxw(3).camera.sensors_meta=J}),t.qZA(),t.qZA()}if(2&F){const r=t.oxw(3);t.xp6(1),t.Q6J("snapshot",r.camera.tmpSnapshot)("meta",r.camera.sensors_meta)}}function ht(F,dt){1&F&&(t.TgZ(0,"div",89),t._uU(1,"This camera is in privacy mode."),t.qZA())}function At(F,dt){1&F&&(t.TgZ(0,"div",89),t._uU(1," Event Video Play"),t._UZ(2,"br"),t._uU(3,"Permission Denied"),t.qZA())}function wt(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"span",90),t.NdJ("click",function(){const _t=t.CHM(r).$implicit;return t.oxw(3).changeVideoPlayRate(_t)}),t._uU(1),t.qZA()}if(2&F){const r=dt.$implicit,L=t.oxw(3);t.ekj("selected-speed",L.speedRate===r),t.xp6(1),t.hij("",r+"","x")}}function Y(F,dt){if(1&F&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&F){const r=t.oxw(3);t.xp6(1),t.hij("ZONE ",r.event.zone,"")}}function mt(F,dt){1&F&&(t.TgZ(0,"span",94),t._uU(1,"NO ZONE"),t.qZA())}function a(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"div",95),t.NdJ("click",function(){return t.CHM(r),t.oxw(3).openDownloadLinkModal()}),t.TgZ(1,"i",96),t._uU(2,"reply"),t.qZA(),t._uU(3,"Share Download Link"),t.qZA()}if(2&F){const r=t.oxw(3);t.ekj("disabled",!r.hasShareLinkPerm)}}function U(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"div",95),t.NdJ("click",function(){return t.CHM(r),t.oxw(3).download()}),t.TgZ(1,"i",60),t._uU(2,"get_app"),t.qZA(),t._uU(3,"DOWNLOAD"),t.qZA()}if(2&F){const r=t.oxw(3);t.ekj("disabled",!r.hasDownloadPermission)}}function V(F,dt){1&F&&(t.TgZ(0,"div",97),t.O4$(),t.TgZ(1,"svg",98),t._UZ(2,"circle",99),t.qZA(),t.qZA())}function ct(F,dt){if(1&F){const r=t.EpF();t.TgZ(0,"div",7),t.YNc(1,i,5,8,"div",8),t.TgZ(2,"div",9),t.TgZ(3,"div",10),t.TgZ(4,"div",11),t.TgZ(5,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).close()}),t._uU(6,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",13),t._uU(8),t.qZA(),t.TgZ(9,"div",14),t.YNc(10,y,4,0,"span",15),t.YNc(11,k,4,0,"span",15),t.YNc(12,h,4,0,"span",15),t.YNc(13,X,2,0,"span",15),t.qZA(),t.qZA(),t.TgZ(14,"div",16),t.TgZ(15,"div",17),t.TgZ(16,"div",18),t.TgZ(17,"div",19),t.TgZ(18,"div",20),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleVideoType("snapshot")}),t._uU(19,"Snapshot"),t.qZA(),t.TgZ(20,"div",20),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleVideoType("video")}),t._uU(21,"Video"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",21,22),t._UZ(24,"div",23),t.TgZ(25,"div",24),t._UZ(26,"img",25),t.YNc(27,rt,1,1,"img",26),t.YNc(28,pt,8,3,"svg",27),t.YNc(29,p,5,1,"div",28),t.YNc(30,E,2,2,"div",29),t.YNc(31,K,2,0,"div",30),t.TgZ(32,"div",31),t.TgZ(33,"div",32),t.TgZ(34,"div",33),t.TgZ(35,"div",34),t.TgZ(36,"div",35),t.TgZ(37,"i",36),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleSnapshotPlay()}),t._uU(38),t.qZA(),t.qZA(),t.TgZ(39,"div",35),t.TgZ(40,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).prevSnapshot()}),t._uU(41,"fast_rewind"),t.qZA(),t.qZA(),t.TgZ(42,"div",35),t.TgZ(43,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).nextSnapshot()}),t._uU(44,"fast_forward"),t.qZA(),t.qZA(),t.TgZ(45,"div",35),t.TgZ(46,"i",37),t._uU(47,"volume_down"),t.qZA(),t.qZA(),t.TgZ(48,"div",35),t.TgZ(49,"span"),t._uU(50),t.qZA(),t.qZA(),t.TgZ(51,"div",35),t.YNc(52,tt,2,3,"span",38),t.qZA(),t.qZA(),t.TgZ(53,"div",39),t.TgZ(54,"div",35),t.TgZ(55,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleFullScreen()}),t._uU(56,"crop_free"),t.qZA(),t.qZA(),t.TgZ(57,"div",40),t.TgZ(58,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleSensorLayer()}),t._uU(59,"info"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"div",41),t._UZ(61,"div",42),t._UZ(62,"div",43),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",44),t.TgZ(64,"video",45,46),t.NdJ("loadeddata",function(J){return t.CHM(r),t.oxw(2).loadedVideo(J)})("timeupdate",function(J){return t.CHM(r),t.oxw(2).changeVideoTime(J)}),t.qZA(),t.YNc(66,lt,8,3,"svg",27),t.YNc(67,st,2,2,"div",29),t.YNc(68,ht,2,0,"div",30),t.YNc(69,At,4,0,"div",30),t.TgZ(70,"div",31),t.TgZ(71,"div",32),t.TgZ(72,"div",33),t.TgZ(73,"div",34),t.TgZ(74,"div",35),t.TgZ(75,"i",36),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleVideo()}),t._uU(76),t.qZA(),t.qZA(),t.TgZ(77,"div",35),t.TgZ(78,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).prevVideo()}),t._uU(79,"fast_rewind"),t.qZA(),t.qZA(),t.TgZ(80,"div",35),t.TgZ(81,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).nextVideo()}),t._uU(82,"fast_forward"),t.qZA(),t.qZA(),t.TgZ(83,"div",47),t.NdJ("click",function(J){return t.CHM(r),t.oxw(2).toggleMute(J)}),t._UZ(84,"comp-icon",48),t.qZA(),t.TgZ(85,"div",35),t.TgZ(86,"span"),t._uU(87),t.qZA(),t.qZA(),t.TgZ(88,"div",35),t.YNc(89,wt,2,3,"span",38),t.qZA(),t.qZA(),t.TgZ(90,"div",39),t.TgZ(91,"div",35),t.TgZ(92,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleFullScreen()}),t._uU(93,"crop_free"),t.qZA(),t.qZA(),t.TgZ(94,"div",40),t.TgZ(95,"i",12),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).toggleSensorLayer()}),t._uU(96,"info"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(97,"div",41),t._UZ(98,"div",42),t._UZ(99,"div",43),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(100,"div",49),t.TgZ(101,"div"),t.TgZ(102,"div",50),t._uU(103),t.qZA(),t.TgZ(104,"div",51),t.YNc(105,Y,2,1,"span",52),t.YNc(106,mt,2,0,"span",53),t.TgZ(107,"span"),t._uU(108,"\u2022"),t.qZA(),t.TgZ(109,"span"),t._uU(110),t.qZA(),t.qZA(),t.qZA(),t.TgZ(111,"div",54),t.YNc(112,a,4,2,"div",55),t.YNc(113,U,4,2,"div",55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(114,V,3,0,"div",56),t.qZA()}if(2&F){const r=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(1),t.Q6J("ngIf",!("playback"===r.event.event_type||"timelapse"===r.event.event_type||"do"===r.event.event_type)),t.xp6(1),t.ekj("alarm","active"===r.curEvent.event_status&&("di"===r.event.event_type||"onvif"===r.event.event_type))("restoral","inactive"===r.curEvent.event_status&&("di"===r.event.event_type||"onvif"===r.event.event_type))("playback","playback"===r.event.event_type)("timelapse","timelapse"===r.event.event_type),t.xp6(6),t.AsE("",r.curEvent.site_event_time," (",r.getIntuitiveTimeStamp(),")"),t.xp6(2),t.Q6J("ngIf","di"===r.event.event_type||"onvif"===r.event.event_type),t.xp6(1),t.Q6J("ngIf","playback"===r.event.event_type),t.xp6(1),t.Q6J("ngIf","timelapse"===r.event.event_type),t.xp6(1),t.Q6J("ngIf","do"===r.event.event_type&&"Relay"===r.event.category),t.xp6(5),t.ekj("disabled",!r.curEvent.is_snapshot_upload)("selected-snapshot","snapshot"===r.curVideoType),t.xp6(2),t.ekj("selected-video","video"===r.curVideoType)("disabled",!r.curEvent.is_video_upload||r.isPrivacy),t.xp6(5),t.ekj("ready-video","snapshot"===r.curVideoType),t.xp6(1),t.Q6J("src",r.safeSnapshots[r.curSnapshotIdx]?r.safeSnapshots[r.curSnapshotIdx]:r.blank,t.LSH),t.xp6(1),t.Q6J("ngIf",r.isPrivacy),t.xp6(1),t.Q6J("ngIf",r.isLoadedVideo),t.xp6(1),t.Q6J("ngIf",r.isPrivacy&&r.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",r.camera.device_id&&r.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",r.isPrivacy),t.xp6(7),t.Oqu(r.isPlaySnapshot?"pause":"play_arrow"),t.xp6(12),t.AsE("",r.curIdx," / ",r.totalIdx,""),t.xp6(2),t.Q6J("ngForOf",r.speedList),t.xp6(5),t.Q6J("title",r.isVisibleSensorLayer?"Hide Sensor Overlay":"Show Sensor Overlay"),t.xp6(1),t.ekj("enable-sensor",r.isVisibleSensorLayer),t.xp6(4),t.Udp("width",12.5*(r.curSnapshotIdx+1)+"%"),t.xp6(1),t.ekj("ready-video",r.isReadyVideo&&"video"===r.curVideoType),t.xp6(1),t.Q6J("src",r.safeMp4Video?r.safeMp4Video:r.blank,t.LSH)("muted",r.isMuted),t.xp6(2),t.Q6J("ngIf",r.isLoadedVideo),t.xp6(1),t.Q6J("ngIf",r.camera.device_id&&r.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",r.isPrivacy),t.xp6(1),t.Q6J("ngIf",!r.hasViewVideoPerm),t.xp6(4),t.ekj("disabled",r.isPrivacy),t.xp6(3),t.Oqu(r.isPlayVideo?"pause":"play_arrow"),t.xp6(7),t.ekj("disable-ctrl",!r.isAudioCodec),t.xp6(1),t.Q6J("icon",r.isMuted?"volume_off":"volume_up")("color","#fff")("size",24),t.xp6(3),t.AsE("",r.curVideoTimeStr," / ",r.totalVideoTimeStr,""),t.xp6(2),t.Q6J("ngForOf",r.speedList),t.xp6(5),t.Q6J("title",r.isVisibleSensorLayer?"Hide Sensor Overlay":"Show Sensor Overlay"),t.xp6(1),t.ekj("enable-sensor",r.isVisibleSensorLayer),t.xp6(4),t.Udp("width",r.curVideoTime/r.videoDuration*100+"%"),t.xp6(4),t.Oqu(r.event.name),t.xp6(2),t.Q6J("ngIf",r.event.zone),t.xp6(1),t.Q6J("ngIf",!r.event.zone),t.xp6(4),t.hij("EVENT ID ",r.curEvent.event_id,""),t.xp6(2),t.Q6J("ngIf",!r.isPrivacy),t.xp6(1),t.Q6J("ngIf",!r.isPrivacy),t.xp6(1),t.Q6J("ngIf",r.isLoading)}}function gt(F,dt){if(1&F&&(t.TgZ(0,"div",3),t.YNc(1,c,1,1,"div",4),t.YNc(2,ct,115,72,"div",5),t.qZA()),2&F){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.modal.is_active),t.xp6(1),t.Q6J("ngIf",r.modal.is_active)}}let ft=(()=>{class F{constructor(r,L,J,_t,vt,yt){this.usersService=r,this.eventsService=L,this.commonService=J,this.sanitizer=_t,this.logsService=vt,this.devicesService=yt,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new u.u,this.m_downloadLink=new u.u,this.event={},this.alarmEvent={},this.restoralEvent={},this.curEvent={},this.curEventType="",this.site={},this.logs=[],this.deviceLogs=[],this.records=[],this.snapshotUrls=[],this.snapshots=[],this.blobUrlSnapshots=[],this.safeSnapshots=[],this.mp4Url="",this.mp4Video=null,this.safeMp4Video=null,this.isAudioCodec=!1,this.isMuted=!0,this.framesDetections=[],this.camera={},this.isVisibleSensorLayer=!0,this.isFullScreen=!1,this.curIdx="00:00",this.totalIdx="00:00",this.curVideoType="video",this.isReadyVideo=!1,this.isReadySnapshot=!1,this.curSnapshotIdx=0,this.readySnapshotCount=0,this.totalSnapshot=8,this.curSnapshot=null,this.intervalSnapshot=null,this.intervelTime=500,this.distanceSnapshotTime=.5,this.isPlaySnapshot=!1,this.rotateSpeed=1,this.speedList=[.5,1,4],this.speedRate=1,this.isLoadedVideo=!1,this.videoDuration=0,this.curVideoTime=0,this.curVideoTimeStr="00:00",this.totalVideoTimeStr="00:00",this.isPlayVideo=!1,this.videoOptions={fps:2,loop:5,transition:!0,transitionDuration:1,videoBitrate:1024,videoCodec:"libx264",size:"640x?",audioBitrate:"128k",audioChannels:2,format:"mp4",pixelFormat:"yuv420p"},this.blank="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",this.classList=[],this.objectIdxs=[[],[],[],[],[],[],[],[]],this.isPrivacy=!1,this.hasDownloadPermission=!1,this.hasShareLinkPerm=null,this.hasViewVideoPerm=null}ngOnInit(){this.usersService.getMe().subscribe(r=>{this.me=r})}ngOnChanges(r){r.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.initData(),this.parseEventData())}ngOnDestroy(){this.stopSnapshotRotate(),this.pauseSnapshotPlay(),this.initSnapshots()}initData(){this.camera={},this.points=[],this.event=this.modal.data.log,this.logs=this.modal.data.logs,this.site=this.modal.data.site,this.selectedTimezone=this.modal.data.selectedTimezone,this.event.event_status=this.event.detail.event.status,this.isPrivacy=this.event.detail.event.is_privacy,this.rotateSpeed=1,this.intervelTime=500,this.speedRate=1,this.framesDetections=[],"active"===this.event.event_status?(this.alarmEvent=this.event,this.curEventType="alarm",this.curEvent=this.alarmEvent):(this.restoralEvent=this.event,this.curEventType="restoral",this.curEvent=this.restoralEvent),this.curEvent.site_event_time=this.curEvent.detail.event?f()(this.curEvent.detail.event.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"):f()(this.curEvent.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"),this.checkAreaFilter(this.event),this.getSiteDeviceEventAnnotation()}getSiteDeviceEventAnnotation(){const r=this.me.dealer_id,L=this.site.site_id,J=this.curEvent.event_id;this.isLoading=!0,this.eventsService.getSiteDeviceEventAnnotation(r,L,J).subscribe(_t=>{var vt;const Et=Object.values(null===(vt=_t[0])||void 0===vt?void 0:vt.frames_detections).reduce((zt,ut)=>zt.concat(ut),[]).filter(zt=>zt.thumbnail),qt=this.parseUpScaleFramesDetections(Et.map(({entity_name:zt,top_x:ut,top_y:Ct,bottom_x:St,bottom_y:kt})=>({name:zt,points:[ut,Ct,St,kt]})));this.framesDetections=qt,this.isLoading=!1})}formatFrames(r){const[L,J,_t,vt]=r;return`${L},${J} ${_t},${J} ${_t},${vt} ${L},${vt}`}parseEventData(){this.initSnapshots(),this.getEventRecords(),this.getCoupleEvent()}initSnapshots(){this.isReadyVideo=!1,this.isReadySnapshot=!1,this.isPlaySnapshot=!1,this.hasDownloadPermission=!1,this.readySnapshotCount=0,this.curSnapshotIdx=0,this.totalSnapshot=8,this.snapshots=[],this.snapshotUrls=[],this.safeSnapshots=[],this.blobUrlSnapshots=[],this.rotateSpeed=1,this.speedList=[.5,1,4],this.speedRate=1,this.mp4Url="",this.mp4Video=null,this.safeMp4Video=null,this.isLoadedVideo=!1,this.curEvent.is_video_upload&&(this.curVideoType="video",this.isReadyVideo=!0),this.curEvent.is_snapshot_upload&&!this.curEvent.is_video_upload&&(this.curVideoType="snapshot",this.isReadyVideo=!0)}loadFfmpeg(){let r=document.createElement("script");r.type="text/javascript",r.src="/assets/scripts/ffmpeg-worker-mp4.js",document.body.appendChild(r)}getEventRecords(){this.eventsService.getSiteDeviceEventRecords(this.me.dealer_id,this.site.site_id,this.curEvent.device_id,this.curEvent.event_id).subscribe(vt=>{this.hasViewVideoPerm=!0,this.records=vt,this.hasDownloadPermission=!!vt[0].has_download_permission,this.hasShareLinkPerm=!!vt[0].has_share_download_link_permission,this.getSnapshots(vt),this.getEventVideo(vt),this.getEventClassifications(vt)},vt=>{this.hasViewVideoPerm=403!==vt.status,this.commonService.showErrorToast(vt,"Request View Event Video")})}getSnapshots(r){!this.curEvent.is_snapshot_upload||(this.isLoading=!0,this.snapshotUrls=r.filter(L=>"jpg"===L.format),this.safeSnapshots=[],this.totalSnapshot=this.snapshotUrls.length,this.totalIdx=this.toHHMMSS(this.snapshotUrls.length*this.distanceSnapshotTime),this.snapshotUrls.forEach((L,J)=>{this.getSnapshot(L.url,J)}))}getSnapshot(r,L){let J=window.URL;this.eventsService.getSnapshotFromUrl(r).subscribe(_t=>{this.blobUrlSnapshots[L]=J.createObjectURL(_t),this.safeSnapshots[L]=this.sanitizer.bypassSecurityTrustUrl(J.createObjectURL(_t)),this.snapshots[L]=_t,this.readySnapshotCount+=1,this.readySnapshotCount===this.totalSnapshot&&(this.curSnapshot=this.snapshots[0],this.isReadySnapshot=!0,this.isLoading=!1)})}getEventClassifications(r){if(!this.isPrivacy)return;const L=this.me.dealer_id,J=this.site.site_id,_t=this.event.event_id;r.forEach((vt,yt)=>{this.eventsService.getEventSnapshotClassification(L,J,_t,vt.record_id).subscribe(qt=>{const zt=qt[0].objects;this.objectIdxs[yt]=[],zt&&zt.forEach(ut=>{let Ct=ut.probability;!Ct&&ut.prob&&(Ct=ut.prob),("car"===(ut.class+"").toLocaleLowerCase()&&+Ct>.5||"truck"===(ut.class+"").toLocaleLowerCase()&&+Ct>.5||"bus"===(ut.class+"").toLocaleLowerCase()&&+Ct>.5||"cat"===(ut.class+"").toLocaleLowerCase()&&+Ct>.38||"dog"===(ut.class+"").toLocaleLowerCase()&&+Ct>.38||"person"===(ut.class+"").toLocaleLowerCase()&&+Ct>.38)&&this.objectIdxs[yt].push({class:ut.class,probability:Ct,top:900*ut.top,left:1600*ut.left,height:900*(+ut.bottom-+ut.top),width:1600*(+ut.right-+ut.left)})})})}),this.startSnapshotRotate()}toggleVideoType(r){this.curVideoType!==r&&(this.pauseSnapshotPlay(),this.pauseVideo(),this.curVideoType=r,"video"===this.curVideoType?this.isLoadedVideo?this.startVideo():this.loadVideo():"snapshot"===this.curVideoType&&this.startSnapshotPlay())}getEventVideo(r){this.isPrivacy&&(this.isLoading=!1);let L=r.filter(J=>"mp4"===J.format);L.length>0&&(this.mp4Url=L[0].url,this.getMP4Video(this.mp4Url))}getMP4Video(r){let L=window.URL;this.eventsService.getSnapshotFromUrl(r).subscribe(J=>{this.safeMp4Video=this.sanitizer.bypassSecurityTrustUrl(L.createObjectURL(J)),this.mp4Video=J,this.checkVideoAudio(L.createObjectURL(J))})}getActivityLogDetail(r){this.logsService.getActivityLogDetail(this.me.dealer_id,r.id).subscribe(_t=>{r.detail=_t,_t.receiver.logs&&(r.event_code=_t.receiver.logs[0].event_code),r.event_status=r.detail.event.status,r.site_event_time=r.detail.event?f()(r.detail.event.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"):f()(r.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"),this.setEventDescription(r)})}checkAreaFilter(r){const J=r.detail.related_logs.filter(yt=>"VideoAI"===yt.trigger)[0];if(!J)return;const vt=JSON.parse(J.meta).req.body.area_filters;vt.length>0&&(this.points=this.parseUpScalePointPoints(JSON.parse(vt)[0].points))}parseUpScalePointPoints(r){return r.map(L=>[16*L[0],9*L[1]])}parseUpScaleFramesDetections(r){return r.map(({name:L,points:J})=>({name:L,points:J.map((_t,vt)=>_t*(vt%2==0?16:9))}))}getCoupleEvent(){let r=[];this.logs.forEach(J=>{const _t=JSON.parse(J.meta);_t.req&&_t.req.body&&(J.eventStatus=_t.req.body.status,J.device_id===this.curEvent.device_id&&J.eventStatus&&r.push(J))}),this.deviceLogs=r;let L=[];"active"===this.curEvent.event_status?(console.log("active"),this.alarmEvent=this.curEvent,L=this.deviceLogs.filter(J=>parseInt(this.curEvent.id)<parseInt(J.id)&&"inactive"===J.eventStatus),console.log(L),L.slice(-1)[0]&&(console.log("active log",L.slice(-1)[0]),this.restoralEvent=L.slice(-1)[0],this.getActivityLogDetail(this.restoralEvent))):"inactive"===this.curEvent.event_status&&(console.log("inactive"),this.restoralEvent=this.curEvent,L=this.deviceLogs.filter(J=>parseInt(this.curEvent.id)>parseInt(J.id)&&"active"===J.eventStatus),console.log(L),L[0]&&(console.log("inactive log",L[0]),this.alarmEvent=L[0],this.getActivityLogDetail(this.alarmEvent)))}selectEvent(r){let L=!1;"alarm"===r&&this.alarmEvent.id?(this.curEventType="alarm",this.curEvent=this.alarmEvent,L=!0):"restoral"===r&&this.restoralEvent.id&&(this.curEvent=this.restoralEvent,this.curEventType="restoral",L=!0),L&&(this.initSnapshots(),this.getEventRecords())}setEventDescription(r){JSON.parse(r.meta);let J=JSON.parse(r.meta).res;"upload"===r.action&&"Bridge"===r.trigger&&J&&(r.is_snapshot_upload=J.is_snapshot_upload,r.is_video_upload=J.is_video_upload),r.detail.related_logs.forEach(vt=>{const yt=JSON.parse(vt.meta);vt.siteEventTime=f()(vt.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"),yt.res&&(yt.res.is_snapshot_upload&&(r.is_snapshot_upload=!0),yt.res.is_video_upload&&(r.is_video_upload=!0))})}getDeviceData(){this.parseEventData()}toHHMMSS(r){var L=parseInt(Math.floor(r).toString(),10);let J="",_t=Math.floor(L/3600),vt=Math.floor((L-3600*_t)/60),yt=L-3600*_t-60*vt;return _t<10&&(_t="0"+_t),vt<10&&(vt="0"+vt),yt<10&&(yt="0"+yt),J="00"===_t?vt+":"+yt:_t+":"+vt+":"+yt,J}getIntuitiveTimeStamp(){const r=f()(this.curEvent.detail.event.created).unix();return this.commonService.getIntuitiveTimeStamp(r)}downloadSnapshotToMp4(){}downloadSnapshotToGif(){O.createGIF({images:this.blobUrlSnapshots,numFrames:1,gifWidth:640,gifHeight:360},r=>{let L=window.URL;if(r.error)console.log(r.error);else{let _t=this.b64toBlob(r.image,"image/gif",512),vt=L.createObjectURL(_t),yt=document.createElement("a");yt.href=vt,yt.target="_blank",yt.download=`${this.curEvent.event_id}.gif`,document.body.appendChild(yt),yt.click()}})}download(){"snapshot"===this.curVideoType?this.downloadSnapshotToGif():this.downloadMP4()}downloadSnapshots(){let r=Object.keys(this.snapshots);var L=new(Z());r.forEach(J=>{L.file(`${this.curEvent.event_id}_${J}.jpg`,this.snapshots[J])}),L.generateAsync({type:"blob"}).then(J=>{var _t=URL.createObjectURL(J),vt=document.createElement("a");vt.href=_t,vt.target="_blank",vt.download=`${this.curEvent.event_id}.zip`,document.body.appendChild(vt),vt.click()},J=>{console.log(J)})}downloadMP4(){var L=URL.createObjectURL(this.mp4Video),J=document.createElement("a");J.href=L,J.target="_blank",J.download=`${this.curEvent.event_id}.mp4`,document.body.appendChild(J),J.click()}b64toBlob(r,L,J){r=r.replace("data:image/gif;base64,",""),L=L||"",J=J||512;for(var _t=window.atob(r),vt=[],yt=0;yt<_t.length;yt+=J){for(var Et=_t.slice(yt,yt+J),qt=new Array(Et.length),zt=0;zt<Et.length;zt++)qt[zt]=Et.charCodeAt(zt);var ut=new Uint8Array(qt);vt.push(ut)}return new Blob(vt,{type:L})}startSnapshotRotate(){this.stopSnapshotRotate(),this.isPlaySnapshot=!0,this.totalIdx=this.toHHMMSS(this.snapshotUrls.length*this.distanceSnapshotTime),this.intervalSnapshot=setInterval(()=>{this.curSnapshotIdx+1>7?this.curSnapshotIdx=0:this.curSnapshotIdx+=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)},this.intervelTime)}stopSnapshotRotate(){this.isPlaySnapshot=!1,clearInterval(this.intervalSnapshot),this.intervalSnapshot=null}toggleSnapshotPlay(){this.isPlaySnapshot?this.pauseSnapshotPlay():this.startSnapshotPlay()}startSnapshotPlay(){this.isPlaySnapshot||(this.isPlaySnapshot=!0,this.startSnapshotRotate())}pauseSnapshotPlay(){this.stopSnapshotRotate()}prevSnapshot(){this.pauseSnapshotPlay(),this.curSnapshotIdx-1<0?this.curSnapshotIdx=0:this.curSnapshotIdx-=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)}nextSnapshot(){this.pauseSnapshotPlay(),this.curSnapshotIdx+1>7?this.curSnapshotIdx=0:this.curSnapshotIdx+=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)}changeRotateSpeed(r){this.pauseSnapshotPlay(),this.rotateSpeed=r,this.intervelTime=1/r*500,this.startSnapshotPlay()}toggleVideo(r){this.isPlayVideo?this.pauseVideo():this.startVideo()}loadVideo(){this.isLoading=!0,this.isPrivacy?this.isLoading=!1:(this.videoplayer.nativeElement.load(),this.videoplayer.nativeElement.loop=!0)}loadedVideo(r){if(this.isLoading=!1,this.isPlaySnapshot)return void this.pauseVideo();this.isLoadedVideo=!0,this.startVideo();let L=this.videoplayer.nativeElement.duration;this.videoDuration=L,L=Math.ceil(L),this.totalVideoTimeStr=this.toHHMMSS(L)}changeVideoTime(r){if(this.isPlaySnapshot)return;let L=this.videoplayer.nativeElement.currentTime;this.curVideoTime=L,L=Math.ceil(L),this.curVideoTimeStr=this.toHHMMSS(L)}startVideo(){this.isPlayVideo=!0,this.videoplayer.nativeElement.play()}pauseVideo(){this.isPlayVideo=!1,this.videoplayer.nativeElement.pause()}prevVideo(){this.pauseVideo(),this.videoplayer.nativeElement&&(this.videoplayer.nativeElement.currentTime=this.videoplayer.nativeElement.currentTime-1)}nextVideo(){this.pauseVideo(),this.videoplayer.nativeElement&&(this.videoplayer.nativeElement.currentTime=this.videoplayer.nativeElement.currentTime+1)}changeVideoPlayRate(r){this.speedRate=r,this.videoplayer.nativeElement.playbackRate=r,this.startVideo()}toggleMute(r){let L=this.videoplayer.nativeElement;!L||!this.isAudioCodec||(L.muted?(L.muted=!1,this.isMuted=!1):(L.muted=!0,this.isMuted=!0))}checkVideoAudio(r){let L=this.videoplayer.nativeElement;!L||fetch(r).then(J=>J.blob()).then(J=>this.commonService.getAudioCodecFromMP4(J)).then(J=>{null!==J&&(L.volume=.5,this.isAudioCodec=!0)})}toggleSensorLayer(){var r;if(!(null===(r=this.curEvent)||void 0===r?void 0:r.device_id))return this.isVisibleSensorLayer=!1;this.isVisibleSensorLayer=!this.isVisibleSensorLayer}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let r=this.viewer.nativeElement;if(r)if(this.isFullScreen){let L=this.viewer.nativeElement,J=L.requestFullscreen||L.webkitRequestFullScreen||L.mozRequestFullscreen||L.msRequestFullscreen;J&&J.call(L)}else r.exitFullscreen?r.exitFullscreen():r.msExitFullscreen?r.msExitFullscreen():r.mozCancelFullScreen?r.mozCancelFullScreen():r.webkitExitFullscreen&&r.webkitExitFullscreen(),document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}openDownloadLinkModal(){this.m_downloadLink.data.site=this.site,this.m_downloadLink.data.event=this.event,this.m_downloadLink.open()}closeDownloadLinkModal(){}confirmDialog(r="",L="",J="done",_t="#1abc9c"){this.m_warning.data={header:r,contents:`\n        <p>${L}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:J,isConfirm:!0,color:_t},this.m_warning.data.submit_func=()=>{"green"===_t&&this.close()},this.m_warning.open()}errorDialog(r,L){let J="failed.";r.error&&r.error.message&&(J=r.error.message),r._body&&(J=JSON.parse(r._body).message),setTimeout(()=>{this.confirmDialog(L,J,"warning","orange")},200),this.isLoading=!1}close(r){this.pauseSnapshotPlay(),this.pauseVideo(),this.initSnapshots(),this.onClose.next(r||{res:!1}),this.modal.close(),setTimeout(L=>{this.enable_modal=!1},200)}}return F.\u0275fac=function(r){return new(r||F)(t.Y36(T.f),t.Y36(g.n),t.Y36(M.v),t.Y36(l.H7),t.Y36(b.P),t.Y36(m.I))},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-event-viewer"]],viewQuery:function(r,L){if(1&r&&(t.Gf(ot,5),t.Gf(bt,5)),2&r){let J;t.iGM(J=t.CRH())&&(L.videoplayer=J.first),t.iGM(J=t.CRH())&&(L.viewer=J.first)}},inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:3,vars:4,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[3,"modal","active","onClose"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","viewer-modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"viewer-modal"],["class","event-header",4,"ngIf"],[1,"modal-header"],[2,"position","relative","width","160px"],[1,"close-btn"],[1,"material-icons",3,"click"],[1,"modal-header-label","center"],[1,"modal-header-label",2,"position","relative","width","160px","justify-content","flex-end"],["style","display:flex;align-items:center;",4,"ngIf"],[1,"viewer-container"],[1,"snapshot-viewer-container"],[1,"video-select-container"],[1,"video-select-box"],[1,"video-select-tab",3,"click"],[1,"snapshot-viewer"],["viewer",""],[1,"snapshot-background"],[1,"snapshot-content"],[1,"snapshot-img-layer",3,"src"],["class","snapshot-img-layer",3,"src",4,"ngIf"],["width","100%","height","100%","viewBox","0 0 16 9","preserveAspectRatio","none","style","position:absolute;",4,"ngIf"],["class","object-locations",4,"ngIf"],["class","sensor-layer",4,"ngIf"],["class","privacy-background",4,"ngIf"],[1,"snapshot-control-layer"],[2,"width","100%"],[1,"video-ctrl-bar"],[1,"video-ctrls"],[1,"video-ctrl"],[1,"material-icons",2,"font-size","30px",3,"click"],[1,"material-icons","disable-ctrl"],["class","video-speed",3,"selected-speed","click",4,"ngFor","ngForOf"],[1,"video-ctrls",2,"justify-content","flex-end"],[1,"video-ctrl",3,"title"],[2,"position","relative"],[1,"timebar"],[1,"cur-timebar"],[1,"video-content"],["loop","",1,"video-box",3,"src","muted","loadeddata","timeupdate"],["eventvideo",""],[1,"video-ctrl",3,"click"],[3,"icon","color","size"],[1,"snapshot-viewer-tail"],[1,"device-name"],[1,"device-zone"],[4,"ngIf"],["class","no-zone",4,"ngIf"],[1,"viewer-button-area"],["class","viewer-button",3,"disabled","click",4,"ngIf"],["class","loader absolute",4,"ngIf"],[1,"event-header"],[1,"event-type",3,"click"],[2,"display","flex","align-items","center"],[1,"material-icons"],["width","100%","height","100%","viewBox","0 0 16 9","preserveAspectRatio","none",2,"position","absolute"],[1,"area-polygon"],["id","solid1","x","0","y","0","width","1","height","1"],["flood-color","#ffc107"],["in","SourceGraphic","operator","xor"],[4,"ngFor","ngForOf"],[1,"frames-detections"],["fill","black","font-size","0.25"],["filter","url(#solid1)","font-size","0.25"],[1,"object-locations"],[1,"comp-objects-location"],[1,"objects-container"],["viewBox","0 0 1600 900","preserveAspectRatio","none",1,"objects-container-svg"],["class","object-container-svg",4,"ngFor","ngForOf"],[1,"object-container-svg"],[2,"fill","hsla(0, 0%, 0%, 0.6)"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",2,"fill","rgba(255,255,255,0.9)"],["fill","white","font-size","40","stroke","none"],["d","M0 0h24v24H0z","fill","none"],["d","M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],["cx","4.5","cy","9.5","r","2.5"],["cx","9","cy","5.5","r","2.5"],["cx","15","cy","5.5","r","2.5"],["cx","19.5","cy","9.5","r","2.5"],["d","M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"],[1,"sensor-layer"],[3,"snapshot","meta","metaChange"],[1,"privacy-background"],[1,"video-speed",3,"click"],["id","solid2","x","0","y","0","width","1","height","1"],["flood-color","#ffc106"],["filter","url(#solid2)","font-size","0.25"],[1,"no-zone"],[1,"viewer-button",3,"click"],[1,"material-icons","v-reverse"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(r,L){1&r&&(t.YNc(0,gt,3,2,"div",0),t._UZ(1,"dealer-warning",1),t.TgZ(2,"app-share-download-link",2),t.NdJ("onClose",function(){return L.closeDownloadLinkModal()}),t.qZA()),2&r&&(t.Q6J("ngIf",L.enable_modal),t.xp6(1),t.Q6J("modal",L.m_warning),t.xp6(1),t.Q6J("modal",L.m_downloadLink)("active",L.m_downloadLink.is_active))},directives:[P.O5,S.a,N.c,P.sg,R.U,it],styles:[".align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.close-btn[_ngcontent-%COMP%]{width:24px;height:45px;display:flex;align-items:center;justify-content:center;color:#ffffffde;cursor:pointer}.event-header[_ngcontent-%COMP%]{display:flex;width:210px;height:40px;background:#2d2d2d;position:absolute;top:-50px;left:calc(50% - 105px);border-radius:20px;color:#fff9;font-family:Roboto}.event-header[_ngcontent-%COMP%]   .alarm[_ngcontent-%COMP%]{background-color:#742d2d;color:#ffffffde}.event-header[_ngcontent-%COMP%]   .restoral[_ngcontent-%COMP%]{background-color:#2a68a5;color:#ffffffde}.event-header[_ngcontent-%COMP%]   .event-type[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.event-header[_ngcontent-%COMP%]   .event-type.alarm[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#742d2d}.event-header[_ngcontent-%COMP%]   .event-type.restoral[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#2a68a5}.event-header[_ngcontent-%COMP%]   .event-type.no-event[_ngcontent-%COMP%]{cursor:initial;pointer-events:none}.event-header[_ngcontent-%COMP%]   .event-type.playback[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#31465d}.event-header[_ngcontent-%COMP%]   .event-type.timelapse[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#31465d}.viewer-modal[_ngcontent-%COMP%]{width:100%;max-width:800px;z-index:2;box-shadow:0 2px 8px #00000080;border-radius:5px;color:#fff;background-color:#2d2d2d;font-family:Roboto}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;padding:0 20px;border-top-left-radius:5px;border-top-right-radius:5px}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-label[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-label.center[_ngcontent-%COMP%]{flex:1;justify-content:center}.viewer-modal[_ngcontent-%COMP%]   .modal-header.alarm[_ngcontent-%COMP%]{background-color:#742d2d}.viewer-modal[_ngcontent-%COMP%]   .modal-header.restoral[_ngcontent-%COMP%]{background-color:#2a68a5}.viewer-modal[_ngcontent-%COMP%]   .modal-header.playback[_ngcontent-%COMP%]{background-color:#31465d}.viewer-modal[_ngcontent-%COMP%]   .modal-header.timelapse[_ngcontent-%COMP%]{background-color:#31465d}.body[_ngcontent-%COMP%]{padding:16px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:45px;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]{width:430px;height:22px;border-radius:5px;background-color:#3e3e3e;display:flex;color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .video-select-tab[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;flex:1;cursor:pointer;background-color:#353535}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .selected-snapshot[_ngcontent-%COMP%]{border:solid 1px #2f96fb;border-top-left-radius:5px;border-bottom-left-radius:5px;background-color:#505050;color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .selected-video[_ngcontent-%COMP%]{border:solid 1px #2f96fb;border-top-right-radius:5px;border-bottom-right-radius:5px;background-color:#505050;color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]{position:relative;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-background[_ngcontent-%COMP%]{width:100%;padding-bottom:56.25%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .area-polygon[_ngcontent-%COMP%]{fill:transparent;stroke:red;stroke-width:.1;stroke-dasharray:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .frames-detections[_ngcontent-%COMP%]{stroke:#ff4081;stroke-width:.03;fill:#ff408133;stroke-dasharray:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;display:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content.ready-video[_ngcontent-%COMP%]{display:initial}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-img-layer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]{position:absolute;display:flex;align-content:flex-end;flex-flow:wrap;width:100%;height:100%;top:0;opacity:0;transition:.3s}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]:hover{opacity:1}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]{width:calc(100% - 40px);height:50px;padding:50px 20px 0;display:flex;justify-content:space-between;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed[_ngcontent-%COMP%]{padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed.selected-speed[_ngcontent-%COMP%]{color:#2383e2}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .enable-sensor[_ngcontent-%COMP%]{color:#d5920b}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .disable-ctrl[_ngcontent-%COMP%]{color:#ffffff4d;pointer-events:none;cursor:initial;opacity:.6}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .timebar[_ngcontent-%COMP%]{width:100%;height:3px;background:rgba(255,255,255,.5)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .cur-timebar[_ngcontent-%COMP%]{transition:.2s;position:absolute;top:0;height:3px;background:#2383e2;transition-timing-function:linear}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;display:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content.ready-video[_ngcontent-%COMP%]{display:initial}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;object-fit:fill}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]{position:absolute;display:flex;align-content:flex-end;flex-flow:wrap;width:100%;height:100%;top:0;opacity:0;transition:.3s}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]:hover{opacity:1}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]{width:calc(100% - 40px);height:50px;padding:50px 20px 0;display:flex;justify-content:space-between;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed[_ngcontent-%COMP%]{padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed.selected-speed[_ngcontent-%COMP%]{color:#2383e2}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .enable-sensor[_ngcontent-%COMP%]{color:#d5920b}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .disable-ctrl[_ngcontent-%COMP%]{color:#ffffff4d;pointer-events:none;cursor:initial;opacity:.6}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .timebar[_ngcontent-%COMP%]{width:100%;height:3px;background:rgba(255,255,255,.5)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .cur-timebar[_ngcontent-%COMP%]{transition:.2s;position:absolute;top:0;height:3px;background:#2383e2;transition-timing-function:linear}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .sensor-layer[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .privacy-background[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;background:rgba(0,0,0,.4);color:#ffffff80;font-size:1.8em}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 20px;width:calc(100% - 40px);height:75px;color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]   .viewer-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:20px;cursor:pointer;-webkit-user-select:none;user-select:none;font-size:14px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]   .viewer-button[_ngcontent-%COMP%]:hover{color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-name[_ngcontent-%COMP%]{color:#ffffffde;padding-bottom:5px;font-size:18px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-zone[_ngcontent-%COMP%]{color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-zone[_ngcontent-%COMP%]   .no-zone[_ngcontent-%COMP%]{color:#ffffff4d}.md-16[_ngcontent-%COMP%]{font-size:16px}.v-reverse[_ngcontent-%COMP%]{transform:rotate(0);transform:scaleX(-1)}.comp-objects-location[_ngcontent-%COMP%]{background-color:transparent;width:100%}.comp-objects-location[_ngcontent-%COMP%]   .objects-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:calc(100% / 16 * 9)}.comp-objects-location[_ngcontent-%COMP%]   .objects-container-svg[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}",'.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),F})()},9301:(Ft,A,w)=>{"use strict";w.d(A,{Q:()=>Z});var t=w(16274),e=w(93324),u=w(56447),d=w(86996),f=w(688),s=w(42741);let Z=(()=>{class O{}return O.\u0275fac=function(g){return new(g||O)},O.\u0275mod=s.oAB({type:O}),O.\u0275inj=s.cJS({imports:[[t.ez,e.u5,u.q,d.h,f.m]]}),O})()},61164:(Ft,A,w)=>{"use strict";w.d(A,{c:()=>x});var t=w(42741),e=w(29026),u=w(72898),d=w(76052),f=w.n(d),s=w(7611),Z=w(27787),O=w(54414),T=w(16253),g=w(16274),M=w(21929),l=w(93324),b=w(84699),m=w(95974);function P(_,o){if(1&_){const C=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(C),t.oxw(2).close()}),t.qZA()}2&_&&t.Q6J("@background",void 0)}function S(_,o){if(1&_){const C=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const it=t.CHM(C).$implicit;return t.oxw(4).toggleContactSelect(it)}),t.TgZ(1,"td"),t.TgZ(2,"div",34),t._UZ(3,"mat-checkbox",35),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"td",36),t._uU(7),t.qZA(),t.qZA()}if(2&_){const C=o.$implicit,$=t.oxw(4);t.ekj("disabled",$.isLoading||$.isSending),t.xp6(3),t.Q6J("ngModel",C.isSelected),t.xp6(2),t.Oqu(C.name),t.xp6(2),t.Oqu(C.email)}}function N(_,o){if(1&_&&(t.TgZ(0,"div",31),t.TgZ(1,"table"),t.TgZ(2,"colgroup"),t._UZ(3,"col",17),t._UZ(4,"col",17),t.qZA(),t.TgZ(5,"tbody"),t.YNc(6,S,8,5,"tr",32),t.qZA(),t.qZA(),t.qZA()),2&_){const C=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",C.contacts)}}function R(_,o){if(1&_){const C=t.EpF();t.TgZ(0,"div",37),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"div",38),t.NdJ("click",function(){t.CHM(C);const B=t.oxw(3);return B.removeDownloadEmail(B.emailIdx)}),t._UZ(4,"comp-icon",39),t.qZA(),t.qZA()}if(2&_){const C=o.$implicit;t.xp6(2),t.Oqu(C.email),t.xp6(2),t.Q6J("icon","close")("color","#fff")("size",18)}}function et(_,o){if(1&_){const C=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(C);const B=t.oxw(3);return B.addDownloadEmail(B.inputDownloadEmail)}),t.TgZ(1,"i",41),t._uU(2,"add"),t.qZA(),t.qZA()}}function Q(_,o){1&_&&(t.TgZ(0,"div",42),t._UZ(1,"comp-icon",39),t.TgZ(2,"span",43),t._uU(3,"Invalid email format"),t.qZA(),t.qZA()),2&_&&(t.xp6(1),t.Q6J("icon","warning")("color","#f1556c")("size",14))}function H(_,o){1&_&&(t.TgZ(0,"div",44),t.O4$(),t.TgZ(1,"svg",45),t._UZ(2,"circle",46),t.qZA(),t.qZA())}const D=function(_,o){return{validation:_,invalidation:o}};function I(_,o){if(1&_){const C=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3,"Video Download Link"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(C),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"div",14),t._uU(11," Download share link request will be sent to all emergency contacts of the site. You cannot delete the link once created. This link will be expired in 7 days. "),t.qZA(),t.TgZ(12,"div",15),t.TgZ(13,"table",16),t.TgZ(14,"colgroup"),t._UZ(15,"col",17),t._UZ(16,"col",17),t.qZA(),t.TgZ(17,"thead"),t.TgZ(18,"th"),t._uU(19,"Contacts List"),t.qZA(),t._UZ(20,"th"),t.qZA(),t.qZA(),t.YNc(21,N,7,1,"div",18),t.qZA(),t.qZA(),t.TgZ(22,"div",19),t.TgZ(23,"div",20),t._uU(24,"Email"),t.qZA(),t.TgZ(25,"div",21),t.YNc(26,R,5,4,"div",22),t.TgZ(27,"input",23),t.NdJ("ngModelChange",function(B){return t.CHM(C),t.oxw(2).inputDownloadEmail=B})("keydown",function(B){t.CHM(C);const it=t.oxw(2);return it.checkDownloadInputKey(B,it.inputDownloadEmail)})("input",function(){t.CHM(C);const B=t.oxw(2);return B.validateEmail(B.inputDownloadEmail)}),t.qZA(),t.YNc(28,et,3,0,"div",24),t.qZA(),t.YNc(29,Q,4,3,"div",25),t.qZA(),t.qZA(),t.TgZ(30,"div",26),t.TgZ(31,"div",27),t.NdJ("click",function(){return t.CHM(C),t.oxw(2).sendVideoDownloadLinks()}),t.TgZ(32,"div",28),t.TgZ(33,"span"),t._uU(34,"Send Video Download Link"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",29),t.NdJ("click",function(){return t.CHM(C),t.oxw(2).close()}),t.TgZ(36,"div",28),t.TgZ(37,"span"),t._uU(38,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(39,H,3,0,"div",30),t.qZA()}if(2&_){const C=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(21),t.Q6J("ngIf",0!==C.contacts.length),t.xp6(4),t.ekj("disabled",C.isLoading||C.isSending),t.Q6J("ngClass",t.WLB(16,D,!1===C.inputEmailErr,C.inputEmailErr)),t.xp6(1),t.Q6J("ngForOf",C.downloadEmails),t.xp6(1),t.Q6J("placeholder",3!==C.downloadEmails.length?"e.g) contact@contact.com":"This download email is limited to 3 entries.")("ngModel",C.inputDownloadEmail)("disabled",3===C.downloadEmails.length),t.xp6(1),t.Q6J("ngIf",!1===C.inputEmailErr&&C.inputDownloadEmail),t.xp6(1),t.Q6J("ngIf",C.inputEmailErr),t.xp6(2),t.ekj("disabled",C.isLoading||C.isSending||!C.validSendDownloadLinks()),t.xp6(4),t.ekj("disabled",C.isLoading||C.isSending),t.xp6(4),t.Q6J("ngIf",C.isLoading)}}function z(_,o){if(1&_&&(t.TgZ(0,"div",2),t.YNc(1,P,1,1,"div",3),t.YNc(2,I,40,19,"div",4),t.qZA()),2&_){const C=t.oxw();t.xp6(1),t.Q6J("ngIf",C.modal.is_active),t.xp6(1),t.Q6J("ngIf",C.modal.is_active)}}let x=(()=>{class _{constructor(C,$,B,it){this.usersService=C,this.dealerService=$,this.sitesService=B,this.eventsService=it,this.onClose=new t.vpe,this.enable_modal=!1,this.isEditMode=!1,this.isLoading=!1,this.tail_status="none",this.m_warning=new u.u,this.site={},this.event={},this.contacts=[],this.downloadEmails=[],this.inputDownloadEmail="",this.inputEmailErr=!1,this.downloadExpirationDay=7,this.sentList=[],this.isValidate=!1,this.totalSendReq=0,this.sendResponses=[],this.isSending=!1,this.isSendSuccess=!1,this.isFinished=!1}ngOnInit(){this.usersService.getMe().subscribe(C=>{this.me=C})}ngOnChanges(C){this.isEditMode=!1,this.initData(),C.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.modal.data.site&&(this.setData(),this.fetchSiteContact()))}initData(){this.contacts=[],this.site={},this.event={},this.inputDownloadEmail="",this.inputEmailErr=!1,this.sentList=[],this.downloadEmails=[],this.isValidate=!1,this.totalSendReq=0,this.sendResponses=[],this.isSending=!1,this.isSendSuccess=!1}setData(){this.site=this.modal.data.site,this.event=this.modal.data.event}fetchSiteContact(){this.sitesService.getSiteContacts(this.me.dealer_id,this.site.site_id).subscribe(B=>{this.contacts=B})}toggleContactSelect(C){C.isSelected=!C.isSelected}checkDownloadInputKey(C,$){const B=C.code,it=$.length,ot=this.downloadEmails.length;("Enter"===B||"Semicolon"===B||"Comma"===B)&&($=$.replace(/[;|,|\r?\n|\r]/gi,""),this.addDownloadEmail($)),0===it&&ot>0&&("Delete"===B||"Backspace"===B)&&this.removeDownloadEmail(this.downloadEmails.length-1)}addDownloadEmail(C){const $=this.downloadEmails.length,B=this.validateEmail(C);B?(this.inputEmailErr=!1,!C||$>2||!B||(this.downloadEmails.push({email:C,err:null}),this.inputDownloadEmail="",this.inputEmailErr=!1,setTimeout(()=>{this.inputDownloadEmail="",this.inputEmailErr=!1},0))):this.inputEmailErr="Invalid email format"}removeDownloadEmail(C){this.downloadEmails.splice(C,1)}validateEmail(C){let $=!0;if(C){if($=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(C),C.length<3&&0!==C.length&&($=!1),!$)return void(this.inputEmailErr="Invalid email format");this.inputEmailErr=!1}else this.inputEmailErr=!1;return $}validSendDownloadLinks(){let C=!0;return 0===this.contacts.filter(B=>B.isSelected).length&&0===this.downloadEmails.length&&(this.inputDownloadEmail&&this.validateEmail(this.inputDownloadEmail)||(C=!1)),this.isValidate=C,C}sendVideoDownloadLinks(){this.sentList=[];let C=!0;if(!this.validSendDownloadLinks())return;const $=this.contacts.filter(k=>k.isSelected);if(this.downloadEmails.forEach(k=>{const h=this.validateEmail(k.email);k.email?h?($.push(k),this.sentList.push(k),k.err=!1):(k.err="Invalid email format",C=!1):k.err=null}),this.inputDownloadEmail&&this.validateEmail(this.inputDownloadEmail)&&$.push({email:this.inputDownloadEmail}),this.totalSendReq=$.length,!C)return;this.sendResponses=[];let B=!1;const it=this.me.dealer_id,ot=this.site.site_id,bt=this.event.device_id,c=this.event.event_id;if(it&&ot&&bt&&c&&(B=!0),B){this.isSending=!0,this.sentList=$;const k=parseInt(f()().add(this.downloadExpirationDay,"days").utc().format("X"));$.forEach(h=>{!h.email||!this.validateEmail(h.email)||this.eventsService.createSiteDeviceEventShareLink(it,ot,bt,c,k,1,1).subscribe(X=>{this.sendEmailDownloadLink(h,X.url)})})}}sendEmailDownloadLink(C,$){const X="Video Download Link Shared";this.eventsService.sendPsapEmail(this.me.dealer_id,this.site.site_id,this.event.device_id,this.event.event_id,void 0,C.email,$,1,void 0).subscribe(rt=>{this.sendResponses.push({receiver:C.email,res:!0}),this.checkSendResult(X)},rt=>{this.sendResponses.push({receiver:C.email,res:!1}),this.checkSendResult(X)})}checkSendResult(C){let $=null,B=[];this.totalSendReq===this.sendResponses.length&&(this.isSending=!1,B=this.sendResponses.filter(it=>!1===it.res),B.length>0?($=!1,this.confirmDialog("Share Failed",C,"warning","#ff8f00")):($=!0,this.isFinished=!0,this.confirmDialog("Share Complete",C))),this.isSendSuccess=$}create(){this.isLoading=!0,this.dealerService.createTTS(this.me.dealer_id,{}).subscribe(B=>{setTimeout(()=>{this.confirmDialog("Success","Create a talkdown message","done","#1abc9c"),this.close()},200)},B=>{setTimeout(()=>{this.confirmDialog("Faild","Create a talkdown message","warning","#f1556c")},200)})}createDialog(C="",$="",B="note_add",it="#2383e2"){this.m_warning.data={header:C,contents:`\n        <p>${$}</b></p>\n      `,submit_btn:this.isEditMode?"Edit":"Create",submit_class:["button-primary"],icon:B,isConfirm:!1,color:it},this.m_warning.data.submit_func=()=>{this.isEditMode||this.create()},this.m_warning.open()}confirmDialog(C="",$="",B="done",it="green"){this.m_warning.data={header:C,contents:`\n        <p>${$}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:B,isConfirm:!0,color:it},this.m_warning.data.submit_func=()=>{this.close()},this.m_warning.open()}errorDialog(C,$){let B="failed.";C.error&&C.error.message&&(B=C.error.message),C._body&&(B=JSON.parse(C._body).message),setTimeout(()=>{this.confirmDialog($,B,"warning","orange")},200),this.isLoading=!1}close(C){this.onClose.next(C||{res:!1}),this.modal.close(),setTimeout($=>{this.enable_modal=!1},200)}}return _.\u0275fac=function(C){return new(C||_)(t.Y36(s.f),t.Y36(Z.X),t.Y36(O.f),t.Y36(T.n))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-share-download-link"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area"],[1,"item"],[1,"description"],[1,"mt-14"],[1,"table-header"],["width","50%"],["class","table-body","style","height: 100%;",4,"ngIf"],[1,"item",2,"position","relative"],[1,"title"],[1,"share-input","email-input-area","mt-7",3,"ngClass"],["class","share-email-list-item email-label",4,"ngFor","ngForOf"],["autocomplete","off","type","text",1,"email-input","mt-7",3,"placeholder","ngModel","disabled","ngModelChange","keydown","input"],["class","share-add absolute-right","data-title","Add Email",3,"click",4,"ngIf"],["class","share-validation-error",4,"ngIf"],[1,"tail-btn-area"],[1,"button","button-primary",3,"click"],[1,"btn-inner"],[1,"button","button-white",3,"click"],["class","loader absolute",4,"ngIf"],[1,"table-body",2,"height","100%"],["class","selectable",3,"disabled","click",4,"ngFor","ngForOf"],[1,"selectable",3,"click"],[1,"row"],[2,"margin-right","10px","pointer-events","none",3,"ngModel"],[1,"right"],[1,"share-email-list-item","email-label"],[1,"btn",3,"click"],[3,"icon","color","size"],["data-title","Add Email",1,"share-add","absolute-right",3,"click"],[1,"material-icons"],[1,"share-validation-error"],[2,"margin-left","3px"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(C,$){1&C&&(t.YNc(0,z,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&C&&(t.Q6J("ngIf",$.enable_modal),t.xp6(1),t.Q6J("modal",$.m_warning))},directives:[g.O5,M.a,g.mk,g.sg,l.Fj,l.JJ,l.On,b.oG,m.U],styles:[".align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.share-input[_ngcontent-%COMP%]{position:relative;width:100%}.share-input[_ngcontent-%COMP%]   .share-email-list[_ngcontent-%COMP%]{display:flex;margin:4px 0}.share-input[_ngcontent-%COMP%]   .share-email-list-item[_ngcontent-%COMP%]{display:flex;background-color:#1f8fff;border:1px solid #1f8fff;border-radius:18px;height:24px;margin-right:7px;font-size:14px;color:#ffffffde;padding:0 7px 0 14px;align-items:center;justify-content:center}.share-input[_ngcontent-%COMP%]   .share-email-list-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer}.email-input-area[_ngcontent-%COMP%]{display:flex;min-height:48px;align-items:center;flex-wrap:wrap;border:1px solid #2383e2;background-color:#fff}input.email-input[_ngcontent-%COMP%]{flex:1;background-color:#fff;width:100%;padding:9px 50px 9px 20px;margin:4px 0;display:inline-block;border:none!important;box-sizing:border-box;outline-style:solid 1px;color:#000000de;font-size:14px}.email-label[_ngcontent-%COMP%]{margin:9px 4px;color:#0000004d}.share-add[_ngcontent-%COMP%]{margin:0 4px;color:#2f96fb;cursor:pointer}.share-add.absolute-right[_ngcontent-%COMP%]{position:absolute;top:8px;right:0}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.share-validation-error[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;flex-direction:row;justify-content:left;align-items:center;color:#ed5e76;font-family:Roboto;font-size:12px}.validation[_ngcontent-%COMP%]{border:1px solid rgba(47,150,251,.6)}.invalidation[_ngcontent-%COMP%]{border:1px solid #ed5e76}input[type=text].validation[_ngcontent-%COMP%], [type=email].validation[_ngcontent-%COMP%], [type=tel].validation[_ngcontent-%COMP%]{border:1px solid rgba(47,150,251,.6)}input[type=text].invalidation[_ngcontent-%COMP%], [type=email].invalidation[_ngcontent-%COMP%], [type=tel].invalidation[_ngcontent-%COMP%]{border:1px solid #ed5e76}  .mat-checkbox-label{color:#0009;font-size:14px}",'.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),_})()},86996:(Ft,A,w)=>{"use strict";w.d(A,{h:()=>Z});var t=w(16274),e=w(93324),u=w(56447),d=w(84699),f=w(688),s=w(42741);let Z=(()=>{class O{}return O.\u0275fac=function(g){return new(g||O)},O.\u0275mod=s.oAB({type:O}),O.\u0275inj=s.cJS({imports:[[t.ez,e.u5,d.p9,u.q,f.m]]}),O})()}}]);