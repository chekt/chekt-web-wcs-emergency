"use strict";(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[1606],{64009:(U,Z,s)=>{s.d(Z,{A:()=>It});var c=s(61855),I=s(59053),e=s(42741),y=s(54414),g=s(16274),v=s(56880),A=s(7611),P=s(50692),k=s(16253),w=s(93220),p=s(35460);function O(t,i){1&t&&(e.TgZ(0,"div",4),e.TgZ(1,"div",18),e._uU(2,"Alarm Video"),e.qZA(),e.qZA())}function l(t,i){1&t&&(e.TgZ(0,"div",4),e.TgZ(1,"div",19),e._uU(2,"Automation Event"),e.qZA(),e.qZA())}function m(t,i){1&t&&(e.TgZ(0,"div",20),e._uU(1,"Video AI"),e.qZA())}function b(t,i){1&t&&(e.TgZ(0,"div",21),e._uU(1,"Verification"),e.qZA())}function T(t,i){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Entry Event"),e.qZA())}function J(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",23),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function Q(t,i){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function B(t,i){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("(",n.parseVideoAIResult(n.log.meta),")")}}function z(t,i){if(1&t&&(e.TgZ(0,"div",25),e.TgZ(1,"div"),e._uU(2,"AI Result"),e.qZA(),e.TgZ(3,"div",26),e.TgZ(4,"span",27),e._uU(5),e.qZA(),e.YNc(6,B,2,1,"span",15),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(5),e.hij("- ",n.log.videoAIResult," "),e.xp6(1),e.Q6J("ngIf","True"===n.log.videoAIResult||"False"===n.log.videoAIResult)}}function D(t,i){if(1&t&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("- ",n.log.email,"")}}function L(t,i){if(1&t&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("- ",n.IPuserName," (",n.log.ip,")")}}function Y(t,i){if(1&t&&(e.TgZ(0,"div",28),e.TgZ(1,"div",29),e._uU(2,"Viewed "),e.qZA(),e.YNc(3,D,2,1,"div",30),e.YNc(4,L,2,2,"div",30),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",!n.IPuserName),e.xp6(1),e.Q6J("ngIf",n.IPuserName)}}function V(t,i){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function R(t,i){1&t&&(e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"circle",35),e.qZA(),e.qZA(),e.qZA())}function j(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function H(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function $(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function G(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function X(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function W(t,i){1&t&&(e.TgZ(0,"div",44),e.TgZ(1,"i",45),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function K(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)})("mouseenter",function(a){return e.CHM(n),e.oxw(2).mouseOverImage(a)})("mouseleave",function(a){return e.CHM(n),e.oxw(2).mouseLeaveImage(a)}),e.TgZ(1,"img",42),e.NdJ("load",function(){return e.CHM(n),e.oxw(2).imgLoaded()})("error",function(a){return e.CHM(n),e.oxw(2).imgError(a)}),e.qZA(),e.YNc(2,W,3,0,"div",43),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function ee(t,i){1&t&&(e.TgZ(0,"div",46),e.TgZ(1,"i",47),e._uU(2,"videocam"),e.qZA(),e.qZA())}function ne(t,i){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,j,2,1,"div",37),e.YNc(2,H,2,1,"div",37),e.YNc(3,$,2,1,"div",37),e.YNc(4,G,2,1,"div",37),e.YNc(5,X,2,1,"div",37),e.YNc(6,K,3,3,"div",38),e.YNc(7,ee,3,0,"div",39),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function te(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function oe(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ie(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ae(t,i){if(1&t&&(e.TgZ(0,"div",40),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function re(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",49),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)}),e._UZ(1,"video",50),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function ce(t,i){1&t&&(e.TgZ(0,"div",46),e.TgZ(1,"i",47),e._uU(2,"videocam"),e.qZA(),e.qZA())}function ge(t,i){if(1&t&&(e.TgZ(0,"div",36),e.YNc(1,te,2,1,"div",37),e.YNc(2,oe,2,1,"div",37),e.YNc(3,ie,2,1,"div",37),e.YNc(4,ae,2,1,"div",37),e.YNc(5,re,2,2,"div",48),e.YNc(6,ce,3,0,"div",39),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}function de(t,i){if(1&t&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass",n.computedActionName(n.log.action)+"-background"),e.xp6(1),e.Oqu(n.capitalizeFirstLetter(n.log.action))}}function se(t,i){if(1&t&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.capitalizeFirstLetter(n.log.action))}}function pe(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Automation Action"),e.qZA())}function _e(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",17),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function me(t,i){if(1&t&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function ue(t,i){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij("(Partition: ",n.log.partitionNumber,")")}}function xe(t,i){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.AsE("",n.log.trigger," - ",n.log.status_text,"")}}function fe(t,i){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.AsE("",n.log.email," - ",n.log.status_text,"")}}function he(t,i){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}const Ce=["audioControl"],be=["audioProgressBar"];function Pe(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Automation Action"),e.qZA())}function Oe(t,i){1&t&&(e.TgZ(0,"div",17),e._uU(1,"Manual Audio Event"),e.qZA())}function Me(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",18),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function ye(t,i){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function ke(t,i){1&t&&(e.TgZ(0,"div",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"circle",22),e.qZA(),e.qZA())}function we(t,i){1&t&&(e.ynx(0),e._UZ(1,"div",23,24),e.TgZ(3,"div",25),e.TgZ(4,"i",26),e._uU(5,"mic"),e.qZA(),e.qZA(),e.BQk())}function Ze(t,i){1&t&&(e.TgZ(0,"div",11),e._uU(1,"Automation Action"),e.qZA())}function Ae(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",12),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function Fe(t,i){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function Ie(t,i){if(1&t&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.AsE("",n.log.trigger," - ",n.log.status_text,"")}}function Ee(t,i){if(1&t&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&t){const n=e.oxw();let o;e.xp6(1),e.Oqu(null!==(o=n.procedureName)&&void 0!==o?o:" No Procedure Name")}}function Se(t,i){if(1&t&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function Ue(t,i){1&t&&(e.TgZ(0,"div",17),e._uU(1,"Automation Action"),e.qZA())}function Ne(t,i){1&t&&(e.TgZ(0,"div",18),e._uU(1,"Verification"),e.qZA())}function Je(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",19),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function Qe(t,i){if(1&t&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function Be(t,i){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("- ",n.log.email,"")}}function ze(t,i){if(1&t&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("- ",n.IPuserName," (",n.log.ip,")")}}function De(t,i){if(1&t&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e._uU(2,"Viewed "),e.qZA(),e.YNc(3,Be,2,1,"div",23),e.YNc(4,ze,2,2,"div",23),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",!n.IPuserName),e.xp6(1),e.Q6J("ngIf",n.IPuserName)}}function Le(t,i){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function Ye(t,i){1&t&&(e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.O4$(),e.TgZ(2,"svg",27),e._UZ(3,"circle",28),e.qZA(),e.qZA(),e.qZA())}function Ve(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Re(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function je(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function He(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function $e(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Ge(t,i){1&t&&(e.TgZ(0,"div",37),e.TgZ(1,"i",38),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function Xe(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",34),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)})("mouseenter",function(a){return e.CHM(n),e.oxw(2).mouseOverImage(a)})("mouseleave",function(a){return e.CHM(n),e.oxw(2).mouseLeaveImage(a)}),e.TgZ(1,"img",35),e.NdJ("error",function(){return e.CHM(n),e.oxw(2).isBrokenImage=!0}),e.qZA(),e.YNc(2,Ge,3,0,"div",36),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function We(t,i){1&t&&(e.TgZ(0,"div",39),e.TgZ(1,"i",40),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function Ke(t,i){if(1&t&&(e.TgZ(0,"div",29),e.YNc(1,Ve,2,1,"div",30),e.YNc(2,Re,2,1,"div",30),e.YNc(3,je,2,1,"div",30),e.YNc(4,He,2,1,"div",30),e.YNc(5,$e,2,1,"div",30),e.YNc(6,Xe,3,3,"div",31),e.YNc(7,We,3,0,"div",32),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function en(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function nn(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function tn(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function on(t,i){if(1&t&&(e.TgZ(0,"div",33),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function an(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)}),e._UZ(1,"video",43),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function rn(t,i){1&t&&(e.TgZ(0,"div",39),e.TgZ(1,"i",40),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function cn(t,i){if(1&t&&(e.TgZ(0,"div",29),e.YNc(1,en,2,1,"div",30),e.YNc(2,nn,2,1,"div",30),e.YNc(3,tn,2,1,"div",30),e.YNc(4,on,2,1,"div",30),e.YNc(5,an,2,2,"div",41),e.YNc(6,rn,3,0,"div",32),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}function ln(t,i){1&t&&(e.TgZ(0,"div",11),e._uU(1,"Automation Action"),e.qZA())}function dn(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",12),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function sn(t,i){if(1&t&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function _n(t,i){1&t&&(e.TgZ(0,"div",15),e._uU(1,"Automation Event"),e.qZA())}function mn(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",16),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function un(t,i){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.zone_number)}}function xn(t,i){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("- ",n.log.email,"")}}function fn(t,i){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("- ",n.IPuserName," (",n.log.ip,")")}}function hn(t,i){if(1&t&&(e.TgZ(0,"div",18),e.TgZ(1,"div",19),e._uU(2,"Viewed "),e.qZA(),e.YNc(3,xn,2,1,"div",20),e.YNc(4,fn,2,2,"div",20),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",!n.IPuserName),e.xp6(1),e.Q6J("ngIf",n.IPuserName)}}function vn(t,i){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(null==n.log?null:n.log.adcDescription)}}function Cn(t,i){1&t&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.O4$(),e.TgZ(2,"svg",24),e._UZ(3,"circle",25),e.qZA(),e.qZA(),e.qZA())}function bn(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Pn(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function On(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Mn(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function yn(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function kn(t,i){1&t&&(e.TgZ(0,"div",34),e.TgZ(1,"i",35),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function wn(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)})("mouseenter",function(a){return e.CHM(n),e.oxw(2).mouseOverImage(a)})("mouseleave",function(a){return e.CHM(n),e.oxw(2).mouseLeaveImage(a)}),e.TgZ(1,"img",32),e.NdJ("load",function(){return e.CHM(n),e.oxw(2).imgLoaded()})("error",function(a){return e.CHM(n),e.oxw(2).imgError(a)}),e.qZA(),e.YNc(2,kn,3,0,"div",33),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function Tn(t,i){1&t&&(e.TgZ(0,"div",36),e.TgZ(1,"i",37),e._uU(2,"timelapse"),e.qZA(),e.qZA())}function Zn(t,i){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,bn,2,1,"div",27),e.YNc(2,Pn,2,1,"div",27),e.YNc(3,On,2,1,"div",27),e.YNc(4,Mn,2,1,"div",27),e.YNc(5,yn,2,1,"div",27),e.YNc(6,wn,3,3,"div",28),e.YNc(7,Tn,3,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function An(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Fn(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function In(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function En(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function Sn(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",39),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)}),e._UZ(1,"video",40),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function qn(t,i){1&t&&(e.TgZ(0,"div",36),e.TgZ(1,"i",37),e._uU(2,"timelapse"),e.qZA(),e.qZA())}function Un(t,i){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,An,2,1,"div",27),e.YNc(2,Fn,2,1,"div",27),e.YNc(3,In,2,1,"div",27),e.YNc(4,En,2,1,"div",27),e.YNc(5,Sn,2,2,"div",38),e.YNc(6,qn,3,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}function Jn(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",11),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n)}}function Qn(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"No Permission"),e.qZA())}function Bn(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA())}function zn(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"This video is expired"),e.qZA())}function Dn(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"This camera is in privacy mode"),e.qZA())}function Ln(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Broken Image"),e.qZA())}function Yn(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Broken Video"),e.qZA())}function Vn(t,i){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"img",17),e.NdJ("error",function(){return e.CHM(n),e.oxw(2).isBrokenImage=!0}),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH)}}function Rn(t,i){1&t&&(e.TgZ(0,"div",18),e.TgZ(1,"i",19),e._uU(2,"verified_user"),e.qZA(),e.qZA())}function jn(t,i){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,Qn,2,0,"div",13),e.YNc(2,Bn,2,0,"div",13),e.YNc(3,zn,2,0,"div",13),e.YNc(4,Dn,2,0,"div",13),e.YNc(5,Ln,2,0,"div",13),e.YNc(6,Yn,2,0,"div",13),e.YNc(7,Vn,2,1,"ng-container",14),e.YNc(8,Rn,3,0,"div",15),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function $n(t,i){1&t&&(e.TgZ(0,"div",15),e._uU(1,"Video AI"),e.qZA())}function Gn(t,i){1&t&&(e.TgZ(0,"div",16),e._uU(1,"Entry Event"),e.qZA())}function Xn(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",17),e._uU(2),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.code)}}function Wn(t,i){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij("(",n.parseVideoAIResult(n.log.meta),")")}}function Kn(t,i){if(1&t&&(e.TgZ(0,"div",18),e.TgZ(1,"div"),e._uU(2,"AI Result"),e.qZA(),e.TgZ(3,"div",19),e.TgZ(4,"span",20),e._uU(5),e.qZA(),e.YNc(6,Wn,2,1,"span",21),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(5),e.hij("- ",n.log.videoAIResult," "),e.xp6(1),e.Q6J("ngIf","True"===n.log.videoAIResult||"False"===n.log.videoAIResult)}}function et(t,i){1&t&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.O4$(),e.TgZ(2,"svg",24),e._UZ(3,"circle",25),e.qZA(),e.qZA(),e.qZA())}function nt(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function tt(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Upgrade your dealer plan to access archived video."),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function ot(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function it(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function at(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Image"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function rt(t,i){1&t&&(e.TgZ(0,"div",34),e.TgZ(1,"i",35),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function ct(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)})("mouseenter",function(a){return e.CHM(n),e.oxw(2).mouseOverImage(a)})("mouseleave",function(a){return e.CHM(n),e.oxw(2).mouseLeaveImage(a)}),e.TgZ(1,"img",32),e.NdJ("error",function(){return e.CHM(n),e.oxw(2).isBrokenImage=!0}),e.qZA(),e.YNc(2,rt,3,0,"div",33),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.imageUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",n.isShowPlayBtn)}}function gt(t,i){1&t&&(e.TgZ(0,"div",36),e.TgZ(1,"i",37),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function lt(t,i){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,nt,2,1,"div",27),e.YNc(2,tt,2,1,"div",27),e.YNc(3,ot,2,1,"div",27),e.YNc(4,it,2,1,"div",27),e.YNc(5,at,2,1,"div",27),e.YNc(6,ct,3,3,"div",28),e.YNc(7,gt,3,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowImage()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","need to upgrade plan"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken image"),e.xp6(1),e.Q6J("ngSwitchCase","image")}}function dt(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"No Permission"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function st(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This video is expired"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function pt(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"This camera is in privacy mode"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function _t(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1,"Broken Video"),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground())}}function mt(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",39),e.NdJ("click",function(a){return e.CHM(n),e.oxw(2).toggleToVideo(a)}),e._UZ(1,"video",40),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("ngClass",n.computedBackground()),e.xp6(1),e.Q6J("src",n.log.safetyVideoUrl,e.LSH)}}function ut(t,i){1&t&&(e.TgZ(0,"div",36),e.TgZ(1,"i",37),e._uU(2,"play_arrow"),e.qZA(),e.qZA())}function xt(t,i){if(1&t&&(e.TgZ(0,"div",26),e.YNc(1,dt,2,1,"div",27),e.YNc(2,st,2,1,"div",27),e.YNc(3,pt,2,1,"div",27),e.YNc(4,_t,2,1,"div",27),e.YNc(5,mt,2,2,"div",38),e.YNc(6,ut,3,0,"div",29),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngSwitch",n.canIShowVideo()),e.xp6(1),e.Q6J("ngSwitchCase","no permission"),e.xp6(1),e.Q6J("ngSwitchCase","expired"),e.xp6(1),e.Q6J("ngSwitchCase","privacy mode"),e.xp6(1),e.Q6J("ngSwitchCase","broken video"),e.xp6(1),e.Q6J("ngSwitchCase","video")}}const N={"video event":(()=>{class t{constructor(n,o,a,r,d,_,C){this.commonService=n,this.usersService=o,this.eventViewerService=a,this.eventsService=r,this.sanitizer=d,this.helper=_,this.cdr=C,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isLoadingVideo=!1,this.isShowVideo=!1,this.isShowPlayBtn=!1,this.IPuserName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.watch(),this.log.email&&this.log.ip&&(yield this.getIPUserName())})}ngOnDestroy(){this.unwatch()}getIPUserName(){var n,o;return(0,c.mG)(this,void 0,void 0,function*(){try{if(!this.log.email||!this.log.user_id||this.log.email!=this.log.ip)return;const a=yield this.helper.me.get_my_dealer_id(),r=this.log.user_id,d=yield this.usersService.getIpMember(a,r).toPromise();this.IPuserName=null!==(o=null===(n=d[0])||void 0===n?void 0:n.name)&&void 0!==o?o:"No Name"}catch(a){console.debug("getIPUserName:>",a)}})}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"alarm-video"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"alarm-video"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}imgLoaded(){window.URL.revokeObjectURL(this.log.imageUrl)}imgError(n){console.log("image error",n),this.isBrokenImage=!0,window.URL.revokeObjectURL(this.log.imageUrl)}getMP4Video(n,o){return(0,c.mG)(this,void 0,void 0,function*(){let a=window.URL;try{const r=yield this.eventsService.getSnapshotFromUrl(o).toPromise();n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(a.createObjectURL(r)),n.isLoading=!1,this.cdr.detectChanges()}catch(r){n.isLoading=!1}})}isAutomationRule(){return this.log.description.toLowerCase().includes("automation")||this.log.isAutomation}isVideoAI(){return!!this.log.trigger.toLowerCase().includes("videoai")}isShowEntryEventBadge(){var n,o;if(!this.isVideoAI())return!1;let a=null;try{a=null===(n=JSON.parse(this.log.meta))||void 0===n?void 0:n.req}catch(r){a={body:null}}return"entry-event"===(null===(o=a.body)||void 0===o?void 0:o.alarm_type)}parseVideoAIResult(n){var o,a,r;if(!n||"string"!=typeof n)return"Failed";const d=JSON.parse(n),_=null===(o=null==d?void 0:d.req)||void 0===o?void 0:o.body,C=null==_?void 0:_.summary_entity_ids;if(!C)return"Failed";let M="";const f=JSON.parse(C),F=Object.values(f);let u="",x="";const S=F.every(h=>null==h?void 0:h.includes("person")),q=F.every(h=>null==h?void 0:h.includes("vehicle"));return(null===(a=f.static)||void 0===a?void 0:a.length)&&(f.static.includes("person")&&(u="Stationary Person"),f.static.includes("vehicle")&&(x="Stationary Vehicle")),(null===(r=f.motion)||void 0===r?void 0:r.length)&&(f.motion.includes("person")&&(u="Moving Person"),f.motion.includes("vehicle")&&(x="Moving Vehicle")),S&&(u="Person"),q&&(x="Vehicle"),u&&x?M=`${u}, ${x}`:u||x?M=`${u||x}`:!u&&!x&&(M="Nothing Detected"),M}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v),e.Y36(A.f),e.Y36(P.w),e.Y36(k.n),e.Y36(w.H7),e.Y36(p.W),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_alarm_video"]],inputs:{log:"log"},decls:23,vars:17,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],["class","log-metadata-category",4,"ngIf"],[1,"log-metadata-category"],["class","badge video-ai-background",4,"ngIf"],["class","badge verification-background",4,"ngIf"],["class","badge entry-event",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center",4,"ngIf"],["class","flex v-center","style","justify-content: end;",4,"ngIf"],[4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","alarm-video-background"],[1,"badge","automation-background"],[1,"badge","video-ai-background"],[1,"badge","verification-background"],[1,"badge","entry-event"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"flex","v-center"],[2,"margin-left","4px"],[2,"font-weight","600"],[1,"flex","v-center",2,"justify-content","end"],[1,"badge","operator-viewed-background"],["style","margin-left: 8px",4,"ngIf"],[2,"margin-left","8px"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center","style","height: 168px;",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","load","error"],["class","play-btn",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","32px"],[1,"v-center",2,"height","168px"],[1,"material-icons",2,"color","#FF6B6B","font-size","24px"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.YNc(5,O,3,0,"div",3),e.YNc(6,l,3,0,"div",3),e.qZA(),e.TgZ(7,"div",4),e.YNc(8,m,2,0,"div",5),e.YNc(9,b,2,0,"div",6),e.YNc(10,T,2,0,"div",7),e.YNc(11,J,3,1,"ng-container",8),e.TgZ(12,"div",9),e.YNc(13,Q,2,1,"div",10),e.TgZ(14,"div",11),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",12),e.YNc(17,z,7,2,"div",13),e.YNc(18,Y,5,2,"div",14),e.YNc(19,V,2,1,"div",15),e.qZA(),e.qZA(),e.YNc(20,R,4,0,"div",16),e.YNc(21,ne,8,7,"div",17),e.YNc(22,ge,7,6,"div",17),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(1),e.Q6J("ngIf",!o.isAutomationRule()),e.xp6(1),e.Q6J("ngIf",o.isAutomationRule()),e.xp6(2),e.Q6J("ngIf",o.isVideoAI()),e.xp6(1),e.Q6J("ngIf",o.log.isHasVerification),e.xp6(1),e.Q6J("ngIf",o.isShowEntryEventBadge()),e.xp6(1),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(2),e.Q6J("ngIf",o.isVideoAI()),e.xp6(1),e.Q6J("ngIf",o.log.email),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[g.O5,g.sg,g.RF,g.n9,g.ED,g.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),arming:(()=>{class t{constructor(n){this.commonService=n,this.logIcon={type:"",name:""}}ngOnInit(){this.checkLogType()}ngOnDestroy(){}computedActionName(n){return n.split(" ")[0].toLowerCase()}armingIconColor(n){const a=n.split(" ")[0].toLocaleLowerCase();return"armed"===a||"armed away"===a||"armed stay"===a||a.includes("armed stay")?"#FF7F16":"#1EA675"}capitalizeFirstLetter(n){if(n&&"string"==typeof n)return n.charAt(0).toUpperCase()+n.slice(1)}isAutomationRule(n){return n.description.toLowerCase().includes("automation")}checkLogType(){this.checkArmingStatus()||this.checkArmingDelay()||(this.logIcon={type:"material",name:"settings"})}checkArmingStatus(){const n=this.log.status_text.toLowerCase();return!("armed"!==n&&"disarmed"!==n&&"armed away"!==n&&"armed stay"!==n&&!n.includes("armed stay"))}checkArmingDelay(){const n=this.log.status_text.toLocaleLowerCase();return(n.includes("end")||!!n.includes("start"))&&(this.logIcon={type:"material",name:"sync_lock"},!0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_arming"]],inputs:{log:"log",timezone:"timezone"},decls:22,vars:13,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],["class","badge",3,"ngClass",4,"ngIf"],["class","badge default-background",4,"ngIf"],["class","badge automation","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name","v-center"],["style","font-size: 12px;margin-left: 4px;",4,"ngIf"],[1,"log-metadata-other"],[4,"ngIf"],[1,"badge",3,"ngClass"],[1,"badge","default-background"],[1,"badge","automation",2,"margin-left","4px"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[2,"font-size","12px","margin-left","4px"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,de,2,2,"div",4),e.YNc(7,se,2,1,"div",5),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,pe,2,0,"div",6),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,_e,3,1,"ng-container",7),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,me,2,1,"div",9),e.TgZ(14,"div",10),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.YNc(17,ue,2,1,"div",11),e.qZA(),e.qZA(),e.TgZ(18,"div",12),e.YNc(19,xe,2,2,"ng-container",13),e.YNc(20,fe,2,2,"ng-container",13),e.YNc(21,he,2,1,"div",13),e.qZA(),e.qZA(),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(2),e.Q6J("ngIf",o.checkArmingStatus()),e.xp6(1),e.Q6J("ngIf",!o.checkArmingStatus()),e.xp6(2),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(2),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(1),e.Q6J("ngIf",o.log.partitionNumber),e.xp6(2),e.Q6J("ngIf",!o.log.email),e.xp6(1),e.Q6J("ngIf",o.log.email),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription)}},directives:[g.O5,g.sg,g.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),audio:(()=>{class t{constructor(n,o,a){this.commonService=n,this.sitesService=o,this.helper=a,this.TTS={},this.isAudioPlay=!1,this.isAudioLoading=!1}ngOnInit(){this.site=this.sitesService.selSite,this.TTS.signedUrl=null,this.log.signedUrl=null}getTtsUrl(){return(0,c.mG)(this,void 0,void 0,function*(){this.log.isAudioLog=!0;try{const n=this.site.site_id,o=this.log.id,a=yield this.helper.activity_log.load_site_tts_url(n,o);this.TTS.signedUrl=a.pre_signed_url,this.log.signedUrl=a.pre_signed_url}catch(n){console.debug("getTtsUrl :>",n)}})}toggleAudioPlay(n){return(0,c.mG)(this,void 0,void 0,function*(){n.stopPropagation(),this.isAudioLoading=!0,this.log.signedUrl||(yield this.getTtsUrl()),this.TTS.isAudioLoad?this.stopAudio():this.playAudio()})}initAudioPlay(){this.TTS.isAudioLoad=!1,this.isAudioPlay=!1}playAudio(){this.initAudioPlay(),this.TTS.isAudioLoad=!0,this.isAudioPlay=!0,this.audioControl.nativeElement.src=this.TTS.signedUrl,this.isAudioLoading=!1,this.audioControl.nativeElement.play()}stopAudio(){console.debug("stop audio"),this.isAudioLoading=!1,this.audioControl&&this.audioControl.nativeElement.pause(),this.TTS.isAudioLoad=!1,this.isAudioPlay=!1,this.audioProgressBar.nativeElement.style.transform="scaleX(0)"}loadMetadata(){console.log(`Audio duration: ${this.audioControl.nativeElement.duration} seconds`)}updateProgress(){this.audioProgressBar.nativeElement.style.transform=`scaleX(${this.audioControl.nativeElement.currentTime/this.audioControl.nativeElement.duration})`}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v),e.Y36(y.f),e.Y36(p.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_audio"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Ce,5),e.Gf(be,5)),2&n){let a;e.iGM(a=e.CRH())&&(o.audioControl=a.first),e.iGM(a=e.CRH())&&(o.audioProgressBar=a.first)}},inputs:{log:"log",timezone:"timezone"},decls:20,vars:10,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],["class","badge automation-background",4,"ngIf"],["class","badge audio-background",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-name"],["class","log-metadata-other",4,"ngIf"],[1,"event-log-action-box"],[1,"audio-action-box","audio-background",3,"click"],[3,"ended","loadedmetadata","timeupdate"],["audioControl",""],["class","loader absolute log-loader",4,"ngIf"],[4,"ngIf"],[1,"badge","automation-background"],[1,"badge","audio-background"],[1,"badge","xml-code"],[1,"log-metadata-other"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"audio-action-duration-box"],["audioProgressBar",""],[1,"v-center",2,"justify-content","center","height","100%"],[1,"material-icons","audio-icons",2,"color","#C34A36","font-size","24px"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,Pe,2,0,"div",4),e.YNc(7,Oe,2,0,"div",5),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,Me,3,1,"ng-container",6),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e._uU(12),e.qZA(),e.qZA(),e.YNc(13,ye,2,1,"div",9),e.qZA(),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e.NdJ("click",function(r){return o.toggleAudioPlay(r)}),e.TgZ(16,"audio",12,13),e.NdJ("ended",function(){return o.stopAudio()})("loadedmetadata",function(){return o.loadMetadata()})("timeupdate",function(){return o.updateProgress()}),e.qZA(),e.YNc(18,ke,3,0,"div",14),e.YNc(19,we,6,0,"ng-container",15),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(2),e.Q6J("ngIf",null==o.log?null:o.log.isAutomation),e.xp6(1),e.Q6J("ngIf",!(null!=o.log&&o.log.isAutomation)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(5),e.Q6J("ngIf",o.isAudioLoading),e.xp6(1),e.Q6J("ngIf",!o.isAudioLoading)}},directives:[g.O5,g.sg],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),default:(()=>{class t{constructor(n,o){this.commonService=n,this.eventViewerService=o,this.snapshotPermission=!1,this.logIcon={type:"",name:""},this.isBrokenImage=!1,this.procedureName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){this.setIconName(),this.setProcedureName(),this.watch()}ngOnDestroy(){this.unwatch()}capitalizeFirstLetters(n){return n?n.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):""}isAutomationRule(){return this.log.description.toLowerCase().includes("automation")||this.log.isAutomation}computedIconColor(n){return(null==n?void 0:n.isAutomation)?"#FFA07A":"#8B8B8B"}computedIconSize(){return"metabolism"===this.logIcon.name||"http"===this.logIcon.name?"40":"30"}setIconName(){this.setSensorIcon(),this.logIcon.name||this.setBridgeIcon(),this.logIcon.name||this.setOtherCategory()}setOtherCategory(){switch(this.log.category.toLowerCase()){case"alarm":return this.logIcon={type:"material",name:"notifications_active"};case"guard tour":return this.logIcon={type:"comp",name:"metabolism"};case"live video":return this.logIcon={type:"material",name:"smart_display"};case"monitoring portal":return this.logIcon={type:"material",name:"live_tv"};case"boot":return this.logIcon={type:"material",name:"power_settings_new"};case"privacy mode access":return this.logIcon={type:"material",name:"passkey"};case"share download link":return this.logIcon={type:"material",name:"download"};case"share response link":return this.logIcon={type:"material",name:"reply"};case"site procedure action":return this.logIcon={type:"material",name:"interests"};case"site procedure http request":return this.logIcon={type:"material",name:"http"};case"trouble":return this.logIcon={type:"material",name:"warning"};default:return this.logIcon={type:"",name:""}}}setSensorIcon(){const n=this.log.category.toLowerCase(),o=this.log.trigger.toLowerCase();return"sensor"!=n?{type:"",name:""}:o.includes("di")?this.logIcon={type:"material",name:"settings_input_component"}:o.includes("oe")?this.logIcon={type:"material",name:"psychology"}:o.includes("le")||o.includes("local")?this.logIcon={type:"comp",name:"bridge"}:o.includes("camera")?this.logIcon={type:"comp",name:"bypass"}:void 0}setBridgeIcon(){const n=this.log.category.toLowerCase(),o=this.log.description.toLowerCase();return"bridge"!=n?{type:"",name:""}:this.logIcon=o.includes("automation")?{type:"comp",name:"autopay"}:{type:"comp",name:"bridge"}}setProcedureName(){var n;if("procedure"!=this.log.trigger.toLowerCase())return;const o=JSON.parse(this.log.meta),a=null==o?void 0:o.additionalInfo;this.procedureName=a?null==a?void 0:a.procedure_name:null===(n=null==o?void 0:o.info)||void 0===n?void 0:n.procedure_name}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v),e.Y36(P.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_default_template"]],inputs:{log:"log"},decls:19,vars:11,consts:[[1,"log-metadata"],[1,"log-metadata-time"],[1,"v-center"],[1,"log-metadata-category"],["class","badge automation-background","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],["class","log-metadata-other",4,"ngIf"],["class","event-log-metadata-other",4,"ngIf"],[1,"badge","automation-background",2,"margin-left","4px"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"log-metadata-other"],[1,"event-log-metadata-other"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,Ze,2,0,"div",4),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,Ae,3,1,"ng-container",5),e.qZA(),e.TgZ(12,"div",6),e.YNc(13,Fe,2,1,"div",7),e.TgZ(14,"div",8),e._uU(15),e.qZA(),e.qZA(),e.YNc(16,Ie,2,2,"div",9),e.YNc(17,Ee,2,1,"div",10),e.YNc(18,Se,2,1,"div",10),e.qZA(),e.BQk()),2&n){let a;e.xp6(3),e.Oqu(o.log.eventCreated),e.xp6(4),e.Oqu(o.capitalizeFirstLetters(o.log.category)),e.xp6(2),e.Q6J("ngIf",o.isAutomationRule()),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(1),e.Q6J("ngIf","procedure"!=o.log.trigger.toLowerCase()),e.xp6(1),e.Q6J("ngIf","procedure"===o.log.trigger.toLowerCase()),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription)}},directives:[g.O5,g.sg],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),"playback event":(()=>{class t{constructor(n,o,a,r,d,_,C){this.commonService=n,this.usersService=o,this.eventViewerService=a,this.eventsService=r,this.sanitizer=d,this.helper=_,this.cdr=C,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isShowPlayBtn=!1,this.isShowVideo=!1,this.IPuserName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.watch(),this.log.email&&this.log.ip&&(yield this.getIPUserName())})}ngOnDestroy(){this.unwatch()}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")||this.log.isAutomation}getIPUserName(){var n,o;return(0,c.mG)(this,void 0,void 0,function*(){try{if(!this.log.email||!this.log.user_id||this.log.email!=this.log.ip)return;const a=yield this.helper.me.get_my_dealer_id(),r=this.log.user_id,d=yield this.usersService.getIpMember(a,r).toPromise();this.IPuserName=null!==(o=null===(n=d[0])||void 0===n?void 0:n.name)&&void 0!==o?o:"No Name"}catch(a){console.debug("getIPUserName:>",a)}})}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"playback"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"playback"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}getMP4Video(n,o){return(0,c.mG)(this,void 0,void 0,function*(){let a=window.URL;try{const r=yield this.eventsService.getSnapshotFromUrl(o).toPromise();console.log(r,this.sanitizer.bypassSecurityTrustUrl(a.createObjectURL(r))),n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(a.createObjectURL(r)),n.isLoading=!1,this.cdr.detectChanges()}catch(r){n.isLoading=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v),e.Y36(A.f),e.Y36(P.w),e.Y36(k.n),e.Y36(w.H7),e.Y36(p.W),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_playback"]],inputs:{log:"log"},decls:25,vars:15,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","playback-background"],[1,"v-center",2,"gap","8px","flex-wrap","wrap"],["class","badge automation","style","margin-left: 4px",4,"ngIf"],["class","badge verification-background",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center","style","justify-content: end;",4,"ngIf"],[4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","automation",2,"margin-left","4px"],[1,"badge","verification-background"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"flex","v-center",2,"justify-content","end"],[1,"badge","operator-viewed-background"],["style","margin-left: 8px",4,"ngIf"],[2,"margin-left","8px"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center","style","height: 168px;",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","error"],["class","play-btn",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","28px"],[1,"v-center",2,"height","168px"],[1,"material-icons",2,"color","#276749","font-size","24px"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Playback Video"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.YNc(9,Ue,2,0,"div",6),e.YNc(10,Ne,2,0,"div",7),e.qZA(),e.TgZ(11,"div",3),e.YNc(12,Je,3,1,"ng-container",8),e.TgZ(13,"div",9),e.YNc(14,Qe,2,1,"div",10),e.TgZ(15,"div",11),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.YNc(18,De,5,2,"div",13),e.TgZ(19,"div"),e._uU(20),e.qZA(),e.YNc(21,Le,2,1,"div",14),e.qZA(),e.qZA(),e.YNc(22,Ye,4,0,"div",15),e.YNc(23,Ke,8,7,"div",16),e.YNc(24,cn,7,6,"div",16),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(1),e.Q6J("ngIf",o.log.isHasVerification),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(2),e.Q6J("ngIf",o.log.email),e.xp6(2),e.AsE("",o.log.status_text," by ",o.log.trigger,""),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[g.O5,g.sg,g.RF,g.n9,g.ED,g.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),relay:(()=>{class t{constructor(n){this.commonService=n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")||this.log.isAutomation}relayIcon(n){var o,a,r;if(!n||"string"!=typeof n)return"relay";const d=JSON.parse(n);return null!==(r=null===(a=null===(o=null==d?void 0:d.info)||void 0===o?void 0:o.relay)||void 0===a?void 0:a.icon)&&void 0!==r?r:"relay"}capitalizeFirstLetter(n){if(n&&"string"==typeof n)return n.charAt(0).toUpperCase()+n.slice(1)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_relay"]],inputs:{log:"log",timezone:"timezone"},decls:18,vars:8,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","relay-background"],["class","badge automation-background","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","log-metadata-other",4,"ngIf"],[1,"badge","automation-background",2,"margin-left","4px"],[1,"badge","xml-code"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Manual Relay Event"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,ln,2,0,"div",5),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,dn,3,1,"ng-container",6),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"div",8),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e._uU(16),e.qZA(),e.YNc(17,sn,2,1,"div",10),e.qZA(),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(2),e.Oqu(o.capitalizeFirstLetter(o.log.status_text)),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription)}},directives:[g.O5,g.sg],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),"timelapse event":(()=>{class t{constructor(n,o,a,r,d,_,C){this.commonService=n,this.eventViewerService=o,this.usersService=a,this.eventsService=r,this.sanitizer=d,this.cdr=_,this.helper=C,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isShowVideo=!1,this.isShowPlayBtn=!1,this.IPuserName=""}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.watch(),this.log.email&&this.log.ip&&(yield this.getIPUserName())})}ngOnDestroy(){this.unwatch()}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")}getIPUserName(){var n,o;return(0,c.mG)(this,void 0,void 0,function*(){try{if(!this.log.email||!this.log.user_id||this.log.email!=this.log.ip)return;const a=yield this.helper.me.get_my_dealer_id(),r=this.log.user_id,d=yield this.usersService.getIpMember(a,r).toPromise();this.IPuserName=null!==(o=null===(n=d[0])||void 0===n?void 0:n.name)&&void 0!==o?o:"No Name"}catch(a){console.debug("getIPUserName:>",a)}})}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"timelapse"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"timelapse"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}imgLoaded(){window.URL.revokeObjectURL(this.log.imageUrl)}imgError(n){console.log("image error",n),this.isBrokenImage=!0,window.URL.revokeObjectURL(this.log.imageUrl)}getMP4Video(n,o){return(0,c.mG)(this,void 0,void 0,function*(){let a=window.URL;try{const r=yield this.eventsService.getSnapshotFromUrl(o).toPromise();n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(a.createObjectURL(r)),n.isLoading=!1,this.cdr.detectChanges()}catch(r){n.isLoading=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v),e.Y36(P.w),e.Y36(A.f),e.Y36(k.n),e.Y36(w.H7),e.Y36(e.sBO),e.Y36(p.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_timelapse"]],inputs:{log:"log"},decls:22,vars:12,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","timelapse-background"],["class","badge automation-background","style","margin-left: 4px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],["class","log-metadata-device-zone",4,"ngIf"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center","style","justify-content: end;",4,"ngIf"],[4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","automation-background",2,"margin-left","4px"],[1,"badge","xml-code"],[1,"log-metadata-device-zone"],[1,"flex","v-center",2,"justify-content","end"],[1,"badge","operator-viewed-background"],["style","margin-left: 8px",4,"ngIf"],[2,"margin-left","8px"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center","style","height: 168px;",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","load","error"],["class","play-btn",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","28px"],[1,"v-center",2,"height","168px"],[1,"material-icons",2,"color","#FF6B6B","font-size","24px"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Time-Lapse Event"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,_n,2,0,"div",5),e.qZA(),e.TgZ(10,"div",3),e.YNc(11,mn,3,1,"ng-container",6),e.TgZ(12,"div",7),e.YNc(13,un,2,1,"div",8),e.TgZ(14,"div",9),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",10),e.YNc(17,hn,5,2,"div",11),e.YNc(18,vn,2,1,"div",12),e.qZA(),e.qZA(),e.YNc(19,Cn,4,0,"div",13),e.YNc(20,Zn,8,7,"div",14),e.YNc(21,Un,7,6,"div",14),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isAutomationRule(o.log)),e.xp6(2),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(2),e.Q6J("ngIf",o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(2),e.Q6J("ngIf",o.log.email),e.xp6(1),e.Q6J("ngIf",null==o.log?null:o.log.adcDescription),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[g.O5,g.sg,g.RF,g.n9,g.ED,g.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),verification:(()=>{class t{constructor(n,o,a){this.commonService=n,this.eventViewerService=o,this.helper=a,this.isSelected=!1,this.isBuildReportMode=!1,this.snapshotPermission=!1,this.isBrokenImage=!1}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){this.watch()}ngOnDestroy(){this.unwatch()}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isAutomationRule(n){return n.description.toLowerCase().includes("automation")}computedBackground(){return this.log.isLoading?"loading-background":this.snapshotPermission&&"need to upgrade plan"!==this.canIShowImage()&&"expired"!==this.canIShowImage()&&"privacy mode"!==this.canIShowImage()&&"broken image"!==this.canIShowImage()?"image"===this.canIShowImage()?"full-height":"broken video"===this.canIShowImage()?"no-permission":"video"===this.canIShowImage()?"full-height":"default"===this.canIShowImage()?"verification":void 0:"no-permission"}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v),e.Y36(P.w),e.Y36(p.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_verification"]],inputs:{log:"log",timezone:"timezone",toolbar:"toolbar"},decls:17,vars:9,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","verification-background"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-zone"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","xml-code"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],["class","no-permission",4,"ngSwitchCase"],[4,"ngSwitchCase"],["style","height: 168px;",4,"ngSwitchDefault"],[1,"no-permission"],[3,"src","error"],[2,"height","168px"],[1,"material-icons",2,"color","#4D96FF","font-size","32px"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Verification"),e.qZA(),e.YNc(8,Jn,3,1,"ng-container",5),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e._uU(11),e.qZA(),e.TgZ(12,"div",8),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA(),e.qZA(),e.YNc(16,jn,9,8,"div",10),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(4),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(3),e.Oqu(o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(2),e.AsE("",o.log.email," - ",o.log.status_text,""),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading)}},directives:[g.sg,g.O5,g.RF,g.n9,g.ED],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})(),"disarmed event":(()=>{class t{constructor(n,o,a,r,d,_){this.commonService=n,this.eventViewerService=o,this.sanitizer=a,this.eventsService=r,this.helper=d,this.cdr=_,this.snapshotPermission=!1,this.isBrokenImage=!1,this.isShowPlayBtn=!1,this.isLoadingVideo=!1,this.isShowVideo=!1}watch(){this.snapshotPermission$w=this.eventViewerService.snapshotPermission$w.subscribe(n=>this.snapshotPermission=n)}unwatch(){var n;null===(n=this.snapshotPermission$w)||void 0===n||n.unsubscribe()}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){this.watch(),this.log.imageUrl&&this.safeBlobUrl()})}ngOnDestroy(){this.unwatch()}safeBlobUrl(){var n;const o=null===(n=this.log.imageUrl)||void 0===n?void 0:n.changingThisBreaksApplicationSecurity;!o||(this.log.imageUrl=this.sanitizer.bypassSecurityTrustUrl(o))}computedBackground(){if(!this.snapshotPermission)return"no-permission";if(this.isShowVideo){if("need to upgrade plan"===this.canIShowVideo()||"expired"===this.canIShowVideo()||"privacy mode"===this.canIShowVideo()||"broken video"===this.canIShowVideo())return"no-permission";if("video"===this.canIShowVideo())return"full-height";if("default"===this.canIShowVideo())return"disarmed-event"}else{if("need to upgrade plan"===this.canIShowImage()||"expired"===this.canIShowImage()||"privacy mode"===this.canIShowImage()||"broken image"===this.canIShowImage())return"no-permission";if("image"===this.canIShowImage())return"full-height";if("default"===this.canIShowImage())return"disarmed-event"}}canIShowImage(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.isBrokenImage?"broken image":this.log.imageUrl?"image":"default":"no permission"}canIShowVideo(){const n=this.helper.dealer_plan.isPremiumPlan()||this.helper.dealer_plan.isResellerPlan();return this.snapshotPermission?n&&this.log.is_expired?"expired":!n&&this.log.is_expired?"need to upgrade plan":this.log.isPrivacy?"privacy mode":this.log.videoUrl&&!this.log.safetyVideoUrl?"broken video":this.log.safetyVideoUrl?"video":"default":"no permission"}toggleToVideo(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowVideo=!this.isShowVideo,this.isShowVideo&&(this.log.isLoading=!0,this.getMP4Video(this.log,this.log.videoUrl)))}mouseOverImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!0)}mouseLeaveImage(n){n.stopPropagation(),this.log.videoUrl&&(this.isShowPlayBtn=!1)}getMP4Video(n,o){return(0,c.mG)(this,void 0,void 0,function*(){let a=window.URL;try{const r=yield this.eventsService.getSnapshotFromUrl(o).toPromise();console.log(r,this.sanitizer.bypassSecurityTrustUrl(a.createObjectURL(r))),n.safetyVideoUrl=this.sanitizer.bypassSecurityTrustUrl(a.createObjectURL(r)),n.isLoading=!1,this.cdr.detectChanges()}catch(r){n.isLoading=!1}})}parseWarningLog(){let n=!1;return 2===this.log.is_send_xml_signal&&(n=!0),this.log.status?this.log.status>300&&(n=!0):n=!0,n}isVideoAI(){return!!this.log.trigger.toLowerCase().includes("videoai")}isShowEntryEventBadge(){var n,o;if(!this.isVideoAI())return!1;let a=null;try{a=null===(n=JSON.parse(this.log.meta))||void 0===n?void 0:n.req}catch(r){a={body:null}}return"entry-event"===(null===(o=a.body)||void 0===o?void 0:o.alarm_type)}parseVideoAIResult(n){var o,a,r;if(!n||"string"!=typeof n)return"Failed";const d=JSON.parse(n),_=null===(o=null==d?void 0:d.req)||void 0===o?void 0:o.body,C=null==_?void 0:_.summary_entity_ids;if(!C)return"Failed";let M="";const f=JSON.parse(C),F=Object.values(f);let u="",x="";const S=F.every(h=>null==h?void 0:h.includes("person")),q=F.every(h=>null==h?void 0:h.includes("vehicle"));return(null===(a=f.static)||void 0===a?void 0:a.length)&&(f.static.includes("person")&&(u="Stationary Person"),f.static.includes("vehicle")&&(x="Stationary Vehicle")),(null===(r=f.motion)||void 0===r?void 0:r.length)&&(f.motion.includes("person")&&(u="Moving Person"),f.motion.includes("vehicle")&&(x="Moving Vehicle")),S&&(u="Person"),q&&(x="Vehicle"),u&&x?M=`${u}, ${x}`:u||x?M=`${u||x}`:!u&&!x&&(M="Nothing Detected"),M}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.v),e.Y36(P.w),e.Y36(w.H7),e.Y36(k.n),e.Y36(p.W),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["log_box_disarmed_event"]],inputs:{log:"log",timezone:"timezone"},decls:24,vars:13,consts:[[1,"log-metadata"],[1,"v-center",2,"gap","8px"],[1,"log-metadata-time"],[1,"log-metadata-category"],[1,"badge","disarmed-event-background"],["class","badge video-ai-background",4,"ngIf"],["class","badge entry-event",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"log-metadata-device"],[1,"log-metadata-device-zone"],[1,"log-metadata-device-name"],[1,"log-metadata-other"],["class","flex v-center",4,"ngIf"],["class","loading-box",4,"ngIf"],["class","flex","style","justify-content: end;",3,"ngSwitch",4,"ngIf"],[1,"badge","video-ai-background"],[1,"badge","entry-event"],[1,"badge","xml-code"],[1,"flex","v-center"],[2,"margin-left","4px"],[2,"font-weight","600"],[4,"ngIf"],[1,"loading-box"],[1,"loader","absolute","log-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path","log-stroke-color"],[1,"flex",2,"justify-content","end",3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],["class","v-center","style","position: relative; justify-content: center;",3,"ngClass","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","v-center","style","height: 168px;",4,"ngSwitchDefault"],[3,"ngClass"],[1,"v-center",2,"position","relative","justify-content","center",3,"ngClass","click","mouseenter","mouseleave"],[3,"src","error"],["class","play-btn",4,"ngIf"],[1,"play-btn"],[1,"material-icons",2,"color","white","font-size","28px"],[1,"v-center",2,"height","168px"],[1,"material-icons",2,"color","#276749","font-size","24px"],[3,"ngClass","click",4,"ngSwitchCase"],[3,"ngClass","click"],["controls","","autoplay","","muted","",3,"src"]],template:function(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e._uU(7,"Disarmed Event"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,$n,2,0,"div",5),e.YNc(10,Gn,2,0,"div",6),e.YNc(11,Xn,3,1,"ng-container",7),e.qZA(),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e._uU(14),e.qZA(),e.TgZ(15,"div",10),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.YNc(18,Kn,7,2,"div",12),e.TgZ(19,"div"),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,et,4,0,"div",13),e.YNc(22,lt,8,7,"div",14),e.YNc(23,xt,7,6,"div",14),e.BQk()),2&n){let a;e.xp6(4),e.Oqu(o.log.eventCreated),e.xp6(5),e.Q6J("ngIf",o.isVideoAI()),e.xp6(1),e.Q6J("ngIf",o.isShowEntryEventBadge()),e.xp6(1),e.Q6J("ngForOf",o.log.eventCodeList),e.xp6(3),e.Oqu(o.log.zone_number),e.xp6(1),e.ekj("no-name",!o.log.name),e.xp6(1),e.Oqu(null!==(a=o.log.name)&&void 0!==a?a:"No Name"),e.xp6(2),e.Q6J("ngIf",o.isVideoAI()),e.xp6(2),e.Oqu(o.log.status_text),e.xp6(1),e.Q6J("ngIf",o.log.isLoading),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&!o.isShowVideo),e.xp6(1),e.Q6J("ngIf",!o.log.isLoading&&o.isShowVideo)}},directives:[g.O5,g.sg,g.RF,g.n9,g.ED,g.mk],styles:[".circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}",'.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})()};let ft=(()=>{class t{constructor(n,o){this.viewContainerRef=n,this.componentFactoryResolver=o}ngOnInit(){const n=this.componentFactoryResolver.resolveComponentFactory(this.getComponentForLog(this.appLogRenderer.log));this.viewContainerRef.createComponent(n).instance.log=this.appLogRenderer.log}getComponentForLog(n){let o=this.computedCategory(n);const r=Object.keys(N).includes(o)?o:"default";return N[r]}computedCategory(n){return(null==n?void 0:n.category)&&"string"==typeof n.category?n.category.toLowerCase():"default"}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.s_b),e.Y36(e._Vd))},t.\u0275dir=e.lG2({type:t,selectors:[["","appLogRenderer",""]],inputs:{appLogRenderer:"appLogRenderer"}}),t})();var E=s(93324);const ht=["memoTextArea"];function vt(t,i){if(1&t&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.AsE("",n.noteLength," / ",n.maxLength,"")}}function Ct(t,i){1&t&&(e.TgZ(0,"div",8),e._uU(1,"Text input limit reached. Please shorten your text."),e.qZA())}function bt(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"textarea",3,4),e.NdJ("ngModelChange",function(a){return e.CHM(n),e.oxw().log.notes=a})("input",function(a){return e.CHM(n),e.oxw().checkTextarea(a)}),e.qZA(),e.YNc(3,vt,2,2,"div",5),e.YNc(4,Ct,2,0,"div",6),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("rows",n.maxRows)("maxLength",n.maxLength)("ngModel",n.log.notes),e.xp6(2),e.Q6J("ngIf",!n.isShowErr),e.xp6(1),e.Q6J("ngIf",n.isShowErr)}}function Pt(t,i){if(1&t&&(e.TgZ(0,"pre"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.log.notes)}}let Ot=(()=>{class t{constructor(n,o){this.cdr=n,this.eventViewerService=o,this.maxRows=3,this.maxLength=160,this.noteLength=0,this.noteList=[],this.isShowErr=!1}ngAfterViewInit(){this.adjustTextArea(),this.cdr.detectChanges()}adjustTextArea(){var n;!(null===(n=this.memoTextArea)||void 0===n?void 0:n.nativeElement)||(this.memoTextArea.nativeElement.style.height="80px",this.maxRows=3,this.maxLength=160)}checkTextarea(n){const o=n.target,a=o.value.split("\n");this.noteLength=o.value.length,this.isShowErr=!1,this.eventViewerService.isShowErrInTextArea=!1,this.memoTextArea.nativeElement.scrollHeight>80&&(o.value=o.value.substring(0,o.value.length-1),this.isShowErr=!0,this.eventViewerService.isShowErrInTextArea=!0),a.length>this.maxRows&&(o.value=a.slice(0,this.maxRows).join("\n")),console.log(o.value,o.value.length,a.length,this.maxRows)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(P.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["c_card_event_viewer_time_line_input_area_component"]],viewQuery:function(n,o){if(1&n&&e.Gf(ht,5),2&n){let a;e.iGM(a=e.CRH())&&(o.memoTextArea=a.first)}},inputs:{log:"log",isMode:"isMode"},decls:3,vars:2,consts:[["style","position: relative",4,"ngIf"],[4,"ngIf"],[2,"position","relative"],["type","text","placeholder","Enter notes here",3,"rows","maxLength","ngModel","ngModelChange","input"],["memoTextArea",""],["class","textarea-text-length",4,"ngIf"],["class","textarea-err",4,"ngIf"],[1,"textarea-text-length"],[1,"textarea-err"]],template:function(n,o){1&n&&(e.ynx(0),e.YNc(1,bt,5,5,"div",0),e.YNc(2,Pt,2,1,"pre",1),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngIf","create"==o.isMode),e.xp6(1),e.Q6J("ngIf","create"!=o.isMode))},directives:[g.O5,E.Fj,E.JJ,E.On],styles:["textarea[_ngcontent-%COMP%]{width:80%;height:60px;box-sizing:border-box;padding:5px 8px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;transition:.2s;text-indent:0px;font-weight:400;font-size:.8rem;line-height:1.1rem;resize:none;overflow:hidden}pre[_ngcontent-%COMP%]{width:300px;line-height:1.1rem;margin:0;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;white-space:pre-wrap;word-wrap:break-word}.textarea-text-length[_ngcontent-%COMP%]{position:absolute;right:70px;color:#ccc;font-size:12px}.textarea-err[_ngcontent-%COMP%]{color:#cd3d64}"]}),t})();var Mt=s(95974);function yt(t,i){1&t&&(e.TgZ(0,"div",4),e.O4$(),e.TgZ(1,"svg",5),e._UZ(2,"circle",6),e.qZA(),e.qZA())}function kt(t,i){1&t&&e.GkF(0)}function wt(t,i){if(1&t&&(e.TgZ(0,"i",18),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit,o=e.oxw(2);e.Udp("color",o.computedIconColor(n))("font-size",o.computedIconSize(n)+"px"),e.xp6(1),e.Oqu(null==n.logIcon?null:n.logIcon.name)}}function Tt(t,i){if(1&t&&(e.TgZ(0,"div",19),e._UZ(1,"comp-icon",20),e.qZA()),2&t){const n=e.oxw().$implicit,o=e.oxw(2);e.ekj("guard-tour",o.styleClassForGuardTourIcon(n))("print-mode","print"===o.isMode),e.xp6(1),e.Q6J("icon",null==n.logIcon?null:n.logIcon.name)("color",o.computedIconColor(n))("size",o.computedIconSize(n))}}const Zt=function(t){return{log:t}};function At(t,i){if(1&t&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.YNc(2,kt,1,0,"ng-container",11),e.qZA(),e.TgZ(3,"div",12),e.TgZ(4,"div",13),e.YNc(5,wt,2,5,"i",14),e.YNc(6,Tt,2,7,"div",15),e.qZA(),e.qZA(),e.TgZ(7,"div",16),e._UZ(8,"c_card_event_viewer_time_line_input_area_component",17),e.qZA(),e.qZA()),2&t){const n=i.$implicit,o=e.oxw(2);e.xp6(2),e.Q6J("appLogRenderer",e.VKq(6,Zt,n)),e.xp6(2),e.Q6J("ngClass",o.computedClassNameForBackgroundColor(n)),e.xp6(1),e.Q6J("ngIf","material"===(null==n.logIcon?null:n.logIcon.type)),e.xp6(1),e.Q6J("ngIf","comp"===(null==n.logIcon?null:n.logIcon.type)),e.xp6(2),e.Q6J("log",n)("isMode",o.isMode)}}function Ft(t,i){if(1&t&&(e.TgZ(0,"div",7),e.YNc(1,At,9,8,"div",8),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.selectedLogs)}}let It=(()=>{class t{constructor(n){this.sitesService=n,this.snapshotPermission=!1,this.site={},this.isLoading=!1}ngOnInit(){this.site=this.sitesService.selSite,I.Z.moment.tz.setDefault(this.site.timezone)}ngOnChanges(n){var o;!n.logs||!(null===(o=n.logs.currentValue)||void 0===o?void 0:o.length)||n.logs.currentValue!==n.logs.previousValue&&(this.isLoading=!0,this.parsedSelectedLogs(this.logs))}parsedSelectedLogs(n){return(0,c.mG)(this,void 0,void 0,function*(){if(!n||!Array.isArray(n)||!(null==n?void 0:n.length))return this.isLoading=!1;this.selectedLogs=n,this.selectedLogs.forEach(o=>(0,c.mG)(this,void 0,void 0,function*(){let a=this.computedCategory(o);"sensor"===a&&this.isVideoAI(o)&&(a="videoai"),o.category=a,o.notes||(o.notes=""),o.logIcon={type:"",name:""},this.setIconName(o)})),this.isLoading=!1})}computedCategory(n){return(null==n?void 0:n.category)&&"string"==typeof n.category?n.category.toLowerCase():"default"}isVideoAI(n){return n?"video event"==this.computedCategory(n)&&"videoai"===n.trigger.toLowerCase():void 0}isAutomationRule(n){var o;return(null!==(o=null==n?void 0:n.description.toLowerCase())&&void 0!==o?o:"").includes("automation")||(null==n?void 0:n.isAutomation)}capitalizeFirstLetter(n){return 0===n.length?"":n.charAt(0).toUpperCase()+n.slice(1)}computedClassNameForBackgroundColor(n){const o=n.category;return this.isAutomationRule(n)?"automation-background":"video event"===o?"alarm-video-background":"arming"===o?this.setClassNameForArmingBackgroundColor(n):"audio"===o?`${o}-background`:"playback event"===o?"playback-background":"relay"===o?`${o}-background`:"timelapse event"===o?"timelapse-background":"verification"===o?`${o}-background`:"videoai"===o?"video-ai-background":"disarmed event"===o?"disarmed-event-background":"default-background"}setClassNameForArmingBackgroundColor(n){const o=this.computedArmingActionName(n.action);return this.checkArmingStatus(n)?`${o}-background`:"default-background"}computedIconColor(n){const o=n.category;return this.isAutomationRule(n)?"#FFA07A":"video event"===o?"#FF6B6B":"arming"===o?this.armingIconColor(n):"audio"===o?"#C34A36":"playback event"===o?"#276749":"relay"===o?"#FFC75F":"timelapse event"===o?"#276749":"verification"===o?"#4D96FF":"sensor"===o?"#8B8B8B":"videoai"===o?"#6578D8":"disarmed event"===o?"#5FC0FD":"#8B8B8B"}armingIconColor(n){const r=n.action.split(" ")[0].toLocaleLowerCase();return this.checkArmingStatus(n)?"armed"===r||"armed away"===r||"armed stay"===r||r.includes("armed stay")?"#FF7F16":"#1EA675":"#8B8B8B"}computedIconSize(n){return"metabolism"===n.logIcon.name||"http"===n.logIcon.name?"22":"16"}styleClassForGuardTourIcon(n){return"guard tour"===n.category.toLowerCase()&&"print"!=this.isMode}setIconName(n){if("bridge"===n.category)return this.setBridgeIcon(n);n.logIcon.name||this.setIconsByReportCategory(n),n.logIcon.name||this.setOtherCategory(n)}setIconsByReportCategory(n){const o=n.category;return this.isAutomationRule(n)?n.logIcon={type:"comp",name:"autopay"}:"video event"===o?n.logIcon={type:"material",name:"videocam"}:"arming"===o?this.setArmingIcon(n):"audio"===o?n.logIcon={type:"material",name:"mic"}:"playback event"===o?n.logIcon={type:"material",name:"replay"}:"relay"===o?this.setRelayIcon(n):"timelapse event"===o?n.logIcon={type:"material",name:"timelapse"}:"sensor"===o?this.setSensorIcon(n):"disarmed event"===o?n.logIcon={type:"comp",name:"disarmed_event"}:void 0}setArmingIcon(n){if(this.checkArmingStatus(n))return this.setArmingStatusIcon(n);this.checkArmingDelay(n)||(n.logIcon={type:"material",name:"settings"})}setArmingStatusIcon(n){const o=this.computedArmingActionName(n.action);n.logIcon={type:"comp",name:o}}computedArmingActionName(n){return n.split(" ")[0].toLowerCase()}checkArmingStatus(n){const o=n.status_text.toLowerCase();return!("armed"!==o&&"disarmed"!==o&&"armed away"!==o&&"armed stay"!==o&&!o.includes("armed stay"))}checkArmingDelay(n){const o=n.status_text.toLocaleLowerCase();return(o.includes("end")||!!o.includes("start"))&&(n.logIcon={type:"material",name:"sync_lock"},!0)}setRelayIcon(n){var o,a,r;const d=n.meta;if(!d||"string"!=typeof d)return"relay";const _=JSON.parse(d),C=null!==(r=null===(a=null===(o=null==_?void 0:_.info)||void 0===o?void 0:o.relay)||void 0===a?void 0:a.icon)&&void 0!==r?r:"relay_action";return n.logIcon={type:"comp",name:C}}setSensorIcon(n){const o=n.category.toLowerCase(),a=n.trigger.toLowerCase();return"sensor"!=o?{type:"",name:""}:a.includes("di")?n.logIcon={type:"material",name:"settings_input_component"}:a.includes("oe")?n.logIcon={type:"material",name:"psychology"}:a.includes("le")||a.includes("local")?n.logIcon={type:"comp",name:"bridge"}:a.includes("camera")?n.logIcon={type:"comp",name:"bypass"}:void 0}setBridgeIcon(n){return n.logIcon=n.description.toLowerCase().includes("automation")?{type:"comp",name:"autopay"}:{type:"comp",name:"bridge"}}setOtherCategory(n){switch(n.category.toLowerCase()){case"alarm":return n.logIcon={type:"material",name:"notifications_active"};case"guard tour":return n.logIcon={type:"comp",name:"metabolism"};case"live video":return n.logIcon={type:"material",name:"smart_display"};case"monitoring portal":return n.logIcon={type:"material",name:"live_tv"};case"boot":return n.logIcon={type:"material",name:"power_settings_new"};case"privacy mode access":return n.logIcon={type:"material",name:"passkey"};case"share download link":return n.logIcon={type:"material",name:"download"};case"share response link":return n.logIcon={type:"material",name:"reply"};case"site procedure action":return n.logIcon={type:"material",name:"interests"};case"site procedure http request":return n.logIcon={type:"material",name:"http"};case"trouble":return n.logIcon={type:"material",name:"warning"};case"timelapse event":return n.logIcon={type:"material",name:"timelapse"}}}isHasImage(n){return!!n&&((null==n?void 0:n.imageUrl)||(null==n?void 0:n.is_expired)||(null==n?void 0:n.isPrivacy))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(y.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["c_card_event_viewer_time_line_component"]],inputs:{logs:"logs",isMode:"isMode"},features:[e.TTD],decls:7,vars:2,consts:[[1,"timeline-title"],[1,"title"],["class","loader",4,"ngIf"],["class","timeline-container",4,"ngIf"],[1,"loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"timeline-container"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"content-area"],[4,"appLogRenderer"],[1,"timeline-point-area"],[1,"timeline-point",3,"ngClass"],["class","material-icons","style","font-size: 16px",3,"color","font-size",4,"ngIf"],["class","comp-icon-area",3,"guard-tour","print-mode",4,"ngIf"],[1,"input-area"],[3,"log","isMode"],[1,"material-icons",2,"font-size","16px"],[1,"comp-icon-area"],[2,"position","absolute",3,"icon","color","size"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2,"EVENTS"),e.qZA(),e.TgZ(3,"div",1),e._uU(4,"NOTES"),e.qZA(),e.qZA(),e.YNc(5,yt,3,0,"div",2),e.YNc(6,Ft,2,1,"div",3)),2&n&&(e.xp6(5),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},directives:[g.O5,g.sg,ft,g.mk,Ot,Mt.U],styles:['.widget[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:calc(100% - 14px);max-width:1200px;min-width:300px;max-height:calc(100% - 15px);background:white;transition:.5s;border-radius:3px;border:1px solid rgba(0,0,0,.1);margin:0 5px 10px}.widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 108px);padding:20px}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:14px}.widget-item[_ngcontent-%COMP%]{flex:none;font-size:14px;color:#000000de}.widget-item[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{padding:14px 30px}.widget[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:7px}.widget[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:200px;font-size:14px;color:#0009}.widget[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{display:flex;padding:7px 0}.widget[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-bottom[_ngcontent-%COMP%]{display:flex;padding-top:6px}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;font-size:16px;padding:12px 20px;color:#000000de}.header[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{padding:7px 16px}.header[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{color:#aaa;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{color:#1e88e5}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{color:#1e88e5}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px;height:100px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.selectitem[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer;display:flex;flex-direction:row;font-size:14px}.selectitem[_ngcontent-%COMP%]:hover{background-color:#ebebeb}.selectitem.selected[_ngcontent-%COMP%]{background-color:#e0e0e0}.selectitem.label[_ngcontent-%COMP%]{margin:2px 0;max-width:420px;font-size:14px;padding:8px 10px;justify-content:space-between}.select-list[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;font-size:14px;border-style:solid;border-width:1px;border-radius:5px;border-color:#dfdfdf;overflow-x:hidden;white-space:nowrap;z-index:500;font-weight:500}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]{font-size:14px;color:#000000de}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]{width:100%;outline:none;border:0;border-bottom:1px solid rgba(0,0,0,.1);height:30px;text-indent:16px}.select-list[_ngcontent-%COMP%]   .search-result-input[_ngcontent-%COMP%]   .list-search-input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]{display:flex}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#1e90ff;filter:none}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]{display:flex;margin-right:5px;justify-content:center;color:#0000004d}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:18px}.select-list[_ngcontent-%COMP%]   .select-result[_ngcontent-%COMP%]   .check-area[_ngcontent-%COMP%]   .check-icon.checked[_ngcontent-%COMP%]{color:#1f8fff}.select-list[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{margin:14px}[sortable-column][_ngcontent-%COMP%]{cursor:pointer}','.no-name[_ngcontent-%COMP%]{color:#0000004d}.loading-box[_ngcontent-%COMP%]{width:200px;height:130px;border-radius:5px;margin:10px 0;color:#fff;position:relative;background-color:#000}.loading[_ngcontent-%COMP%]{width:20px;height:20px;cursor:none}.loader[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;top:calc(50% - 10px)!important;left:calc(50% - 10px)!important}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;font-size:.8rem;padding:10px 0}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:calc(50%);width:2px;background:rgba(0,0,0,.1);height:calc(100% - 20px)}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;position:relative}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{flex:2;padding:10px;color:#55647b}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{flex:2;padding:10px 10px 10px 20px;z-index:1;display:flex;flex-direction:column;align-items:flex-end;grid-gap:2px;gap:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-id[_ngcontent-%COMP%]{color:#55647b;font-size:12px;margin-bottom:4px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-time[_ngcontent-%COMP%]{opacity:.87;font-size:20px;letter-spacing:-.129px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .content-area-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;font-size:14px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]{position:relative;height:100px;max-height:150px;min-height:60px;flex:.3}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;justify-content:center;align-items:center;position:absolute;top:10px;left:calc(50% - 5px);transform:translate(-50%);z-index:2}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area[_ngcontent-%COMP%]{position:relative;width:20px;height:20px;top:2px;left:2px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.guard-tour[_ngcontent-%COMP%]{top:-1px;left:0px}.timeline-container[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-point-area[_ngcontent-%COMP%]   .timeline-point[_ngcontent-%COMP%]   .comp-icon-area.print-mode[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;top:8px;left:8px}.timeline-title[_ngcontent-%COMP%]{display:flex}.timeline-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;align-items:center;justify-content:center;background:#F2F6F9;opacity:.87}.no-permission[_ngcontent-%COMP%]{width:180px;height:120px;border-radius:5px;margin:10px 0;background-color:#000;color:#fff;display:flex;justify-content:center;align-items:center;text-align:center}.no-permission[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:8px}.xml-code[_ngcontent-%COMP%]{background:rgba(30,136,229,.1);color:#0087ec!important}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:200px;border-radius:5px;margin-top:10px}.play-btn[_ngcontent-%COMP%]{position:absolute;border-radius:50px;background:rgba(255,255,255,.3);padding:4px 6px;cursor:pointer}.audio-action-box[_ngcontent-%COMP%]{position:relative;border-radius:5px;height:45px}.audio-action-box.full-height[_ngcontent-%COMP%]{height:100%}.audio-action-box[_ngcontent-%COMP%]:hover{background:rgba(195,74,54,.4)}.audio-action-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{font-size:28px!important}.audio-icons[_ngcontent-%COMP%]:hover{color:red}.audio-action-duration-box[_ngcontent-%COMP%]{border-radius:5px;position:absolute;height:100%;width:100%;background:rgba(195,74,54,.4);transform:scaleX(0);transform-origin:left center;transition:transform .5s ease}.event-log-action-box[_ngcontent-%COMP%]{padding:2px;position:relative;width:180px;max-width:180px;min-width:160px;cursor:pointer}.log-loader[_ngcontent-%COMP%]{width:20px;height:70px}.log-stroke-color[_ngcontent-%COMP%]{stroke:#c34a36}.log-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:4px;gap:4px;align-items:flex-end;text-align:end;flex:2}.log-metadata-time[_ngcontent-%COMP%]{opacity:.87;font-size:1.1rem;letter-spacing:-.129px}.log-metadata-category[_ngcontent-%COMP%]{color:#55647b;letter-spacing:-.091px;display:flex;align-items:center;flex-wrap:wrap;grid-gap:4px;gap:4px;justify-content:end}.log-metadata-device[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.log-metadata-device-zone[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}.log-metadata-device-name[_ngcontent-%COMP%]{color:#55647b;font-weight:500;letter-spacing:-.104px}.log-metadata-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.badge[_ngcontent-%COMP%]{padding:2px 5px 3px;border-radius:3px;color:#000}.default[_ngcontent-%COMP%]{background-color:#8b8b8b}.default-background[_ngcontent-%COMP%]{background-color:#e6e6e6}.alarm-video[_ngcontent-%COMP%]{background:#FF6B6B}.alarm-video-background[_ngcontent-%COMP%]{background:#FFE2DD}.armed[_ngcontent-%COMP%]{background:#FF7F16}.armed-background[_ngcontent-%COMP%]{background:#FFE5D0}.disarmed[_ngcontent-%COMP%]{background:#1EA675}.disarmed-background[_ngcontent-%COMP%]{background:#DBEDDB}.audio[_ngcontent-%COMP%]{background:#C34A36}.audio-background[_ngcontent-%COMP%]{background:#F3E2E0}.automation[_ngcontent-%COMP%]{background:#FFA07A}.automation-background[_ngcontent-%COMP%]{background:#FFEDE0}.playback[_ngcontent-%COMP%]{background:#276749}.playback-background[_ngcontent-%COMP%]{background:#C9E4DE}.relay[_ngcontent-%COMP%]{background:#FFC75F}.relay-background[_ngcontent-%COMP%]{background:#FFF5E6}.timelapse[_ngcontent-%COMP%]{background:#276749}.timelapse-background[_ngcontent-%COMP%]{background:#c4f2ee}.operator-viewed[_ngcontent-%COMP%]{background:#F9CB9C}.operator-viewed-background[_ngcontent-%COMP%]{background:#FFF4E8}.disarmed-event[_ngcontent-%COMP%]{background:#5FC0FD}.disarmed-event-background[_ngcontent-%COMP%]{background:#D0EDFF}.verification[_ngcontent-%COMP%]{background:#4D96FF}.verification-background[_ngcontent-%COMP%]{background:#C1E1FF}.video-ai[_ngcontent-%COMP%]{background:#6578D8}.video-ai-background[_ngcontent-%COMP%]{background:#E6E9F8}.entry-event[_ngcontent-%COMP%]{color:#000;font-size:12px;padding:2px 6px;border-radius:3px;background:#E3E8EE}']}),t})()},13211:(U,Z,s)=>{s.d(Z,{R:()=>w});var c=s(42741),I=s(50692),e=s(16274),y=s(93324);const g=["memoTextArea"];function v(p,O){if(1&p&&(c.TgZ(0,"div",7),c._uU(1),c.qZA()),2&p){const l=c.oxw(2);c.xp6(1),c.AsE("",l.noteLength," / ",l.maxLength,"")}}function A(p,O){1&p&&(c.TgZ(0,"div",8),c._uU(1,"Text input limit reached. Please shorten your text."),c.qZA())}function P(p,O){if(1&p){const l=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"textarea",3,4),c.NdJ("ngModelChange",function(b){return c.CHM(l),c.oxw().inputNote=b})("input",function(b){return c.CHM(l),c.oxw().checkTextarea(b)}),c.qZA(),c.YNc(3,v,2,2,"div",5),c.YNc(4,A,2,0,"div",6),c.qZA()}if(2&p){const l=c.oxw();c.xp6(1),c.Q6J("rows",l.maxRows)("maxLength",l.maxLength)("ngModel",l.inputNote),c.xp6(2),c.Q6J("ngIf",!l.isShowErr),c.xp6(1),c.Q6J("ngIf",l.isShowErr)}}function k(p,O){if(1&p&&(c.TgZ(0,"pre"),c._uU(1),c.qZA()),2&p){const l=c.oxw();c.xp6(1),c.Oqu(l.summaryNote)}}let w=(()=>{class p{constructor(l,m){this.cdr=l,this.eventViewerService=m,this.updateNote=new c.vpe,this.inputNote="",this.maxRows=4,this.maxLength=400,this.noteLength=0,this.noteList=[],this.isShowErr=!1}ngOnInit(){this.inputNote=this.summaryNote}ngOnChanges(l){!l.summaryNote||(this.inputNote=this.summaryNote)}ngAfterViewInit(){this.adjustTextArea(),this.cdr.detectChanges()}adjustTextArea(){var l;!(null===(l=this.memoTextArea)||void 0===l?void 0:l.nativeElement)||(this.memoTextArea.nativeElement.style.height="80px",this.maxRows=4,this.maxLength=400)}checkTextarea(l){const m=l.target,b=m.value.split("\n");this.updateNote.emit(m.value),this.noteLength=m.value.length,this.isShowErr=!1,this.eventViewerService.isShowErrInTextArea=!1,this.memoTextArea.nativeElement.scrollHeight>80&&(m.value=m.value.substring(0,m.value.length-1),this.isShowErr=!0,this.eventViewerService.isShowErrInTextArea=!0),b.length>this.maxRows&&(m.value=b.slice(0,this.maxRows).join("\n"))}}return p.\u0275fac=function(l){return new(l||p)(c.Y36(c.sBO),c.Y36(I.w))},p.\u0275cmp=c.Xpm({type:p,selectors:[["c_card_event_viewer_time_line_summary_input_area_component"]],viewQuery:function(l,m){if(1&l&&c.Gf(g,5),2&l){let b;c.iGM(b=c.CRH())&&(m.memoTextArea=b.first)}},inputs:{summaryNote:"summaryNote",isMode:"isMode"},outputs:{updateNote:"updateNote"},features:[c.TTD],decls:3,vars:2,consts:[["style","position: relative",4,"ngIf"],[4,"ngIf"],[2,"position","relative"],["type","text","placeholder","Enter notes here",3,"rows","maxLength","ngModel","ngModelChange","input"],["memoTextArea",""],["class","textarea-text-length",4,"ngIf"],["class","textarea-err",4,"ngIf"],[1,"textarea-text-length"],[1,"textarea-err"]],template:function(l,m){1&l&&(c.ynx(0),c.YNc(1,P,5,5,"div",0),c.YNc(2,k,2,1,"pre",1),c.BQk()),2&l&&(c.xp6(1),c.Q6J("ngIf","create"==m.isMode),c.xp6(1),c.Q6J("ngIf","create"!=m.isMode))},directives:[e.O5,y.Fj,y.JJ,y.On],styles:["textarea[_ngcontent-%COMP%]{width:100%;height:60px;box-sizing:border-box;padding:5px 8px;color:#55647b;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;transition:.2s;text-indent:0px;font-weight:400;font-size:.8rem;line-height:1.1rem;resize:none;overflow:hidden}pre[_ngcontent-%COMP%]{width:725px;line-height:1.1rem;color:#55647b;padding:8px;font-size:12px;border:1px solid rgba(0,0,0,.2);border-radius:5px;margin:0;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;white-space:pre-wrap;word-wrap:break-word}.textarea-text-length[_ngcontent-%COMP%]{position:absolute;right:6px;color:#ccc;font-size:12px}.textarea-err[_ngcontent-%COMP%]{color:#cd3d64}"]}),p})()},25229:(U,Z,s)=>{s.d(Z,{Z:()=>v});var c=s(46243),e=s(76052),y=s.n(e),g=s(49951);const v={_:c,moment:y(),tool:g.Z}}}]);