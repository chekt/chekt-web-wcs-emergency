"use strict";(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[5542],{39014:(it,S,f)=>{f.d(S,{a:()=>K});var _=f(42741),O=f(98753),w=f(16274);const t=["sortable-column",""];function T(b,A){1&b&&(_.O4$(),_.TgZ(0,"svg",2),_.TgZ(1,"g",3),_.TgZ(2,"g",4),_._UZ(3,"polygon",5),_.qZA(),_.qZA(),_.qZA())}function Z(b,A){1&b&&(_.O4$(),_.TgZ(0,"svg",2),_.TgZ(1,"g"),_.TgZ(2,"g",6),_._UZ(3,"polygon",7),_.qZA(),_.TgZ(4,"g",6),_._UZ(5,"polygon",5),_.qZA(),_.qZA(),_.qZA())}function j(b,A){1&b&&(_.O4$(),_.TgZ(0,"svg",2),_.TgZ(1,"g",3),_.TgZ(2,"g",4),_._UZ(3,"polygon",7),_.qZA(),_.qZA(),_.qZA())}function R(b,A){if(1&b&&(_.YNc(0,T,4,0,"svg",1),_.YNc(1,Z,6,0,"svg",1),_.YNc(2,j,4,0,"svg",1)),2&b){const v=_.oxw();_.Q6J("ngIf","asc"===v.sortDirection),_.xp6(1),_.Q6J("ngIf",""===v.sortDirection),_.xp6(1),_.Q6J("ngIf","desc"===v.sortDirection)}}function B(b,A){1&b&&(_.O4$(),_.TgZ(0,"svg",2),_.TgZ(1,"g",3),_.TgZ(2,"g",4),_._UZ(3,"polygon",5),_.qZA(),_.qZA(),_.qZA())}function $(b,A){1&b&&(_.O4$(),_.TgZ(0,"svg",2),_.TgZ(1,"g"),_.TgZ(2,"g",6),_._UZ(3,"polygon",7),_.qZA(),_.TgZ(4,"g",6),_._UZ(5,"polygon",5),_.qZA(),_.qZA(),_.qZA())}function Y(b,A){1&b&&(_.O4$(),_.TgZ(0,"svg",2),_.TgZ(1,"g",3),_.TgZ(2,"g",4),_._UZ(3,"polygon",7),_.qZA(),_.qZA(),_.qZA())}function W(b,A){if(1&b&&(_.YNc(0,B,4,0,"svg",1),_.YNc(1,$,6,0,"svg",1),_.YNc(2,Y,4,0,"svg",1)),2&b){const v=_.oxw();_.Q6J("ngIf","asc"===v.sortDirection),_.xp6(1),_.Q6J("ngIf",""===v.sortDirection),_.xp6(1),_.Q6J("ngIf","desc"===v.sortDirection)}}const H=["*"];let K=(()=>{class b{constructor(v){this.sortService=v,this.sortDirection="",this.iconPosition="right"}sort(){this.sortDirection="asc"===this.sortDirection?"desc":"asc",this.sortService.columnSorted({sortColumn:this.columnName,sortDirection:this.sortDirection})}ngOnInit(){this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(v=>{this.columnName!=v.sortColumn&&(this.sortDirection="")})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return b.\u0275fac=function(v){return new(v||b)(_.Y36(O.K))},b.\u0275cmp=_.Xpm({type:b,selectors:[["","sortable-column",""]],hostBindings:function(v,x){1&v&&_.NdJ("click",function(){return x.sort()})},inputs:{columnName:["sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"],iconPosition:["sort-icon","iconPosition"]},attrs:t,ngContentSelectors:H,decls:3,vars:2,consts:[[3,"ngIf"],["width","12","height","8px","viewBox","0 0 200 200",4,"ngIf"],["width","12","height","8px","viewBox","0 0 200 200"],["fill","#5A6574"],["id","arrow-drop-down"],["points","0,120 100,200 200,120"],["id","arrow-drop-down","fill","#5A6574"],["points","0,80 100,0 200,80"]],template:function(v,x){1&v&&(_.F$t(),_.YNc(0,R,3,3,"ng-template",0),_.Hsn(1),_.YNc(2,W,3,3,"ng-template",0)),2&v&&(_.Q6J("ngIf","left"===x.iconPosition&&x.columnName),_.xp6(2),_.Q6J("ngIf","right"===x.iconPosition&&x.columnName))},directives:[w.O5],encapsulation:2}),b})()},28522:(it,S,f)=>{f.d(S,{Q:()=>w});var _=f(42741),O=f(98753);let w=(()=>{class t{constructor(Z){this.sortService=Z,this.sorted=new _.vpe}ngOnInit(){this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(Z=>{this.sorted.emit(Z)})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return t.\u0275fac=function(Z){return new(Z||t)(_.Y36(O.K))},t.\u0275dir=_.lG2({type:t,selectors:[["","sortable-table",""]],outputs:{sorted:"sorted"}}),t})()},75542:(it,S,f)=>{f.r(S),f.d(S,{InvoicesModule:()=>Lo});var _=f(16274),O=f(93324),w=f(56447),t=f(42741);let T=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,w.q]]}),i})();var Z=f(688);let j=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m]]}),i})(),R=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m]]}),i})(),B=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m]]}),i})(),$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m]]}),i})(),Y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m]]}),i})(),W=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m]]}),i})(),H=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m]]}),i})(),K=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q,Z.m,j,R,B,$,Y,Y,W,H]]}),i})(),b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,T,w.q]]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5]]}),i})();var v=f(29535),x=f(61855),y=f(72898),ct=f(76052),C=f.n(ct),q=f(7611),D=f(43076),I=f(56880),at=f(85481),z=f(35460),rt=f(27813),u=f(29026),N=f(88638),P=f(46243),M=f.n(P),lt=f(18581),V=f(21929);function st(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t.qZA()}2&i&&t.Q6J("@background",void 0)}function dt(i,r){1&i&&(t.TgZ(0,"div",9),t.O4$(),t.TgZ(1,"svg",10),t._UZ(2,"circle",11),t.qZA(),t.qZA())}function gt(i,r){if(1&i&&(t.TgZ(0,"div",28),t.TgZ(1,"div",29),t.TgZ(2,"div",30),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",31),t.TgZ(5,"div"),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(3),t.Oqu(e.cardBrand),t.xp6(4),t.Oqu(e.cardName),t.xp6(3),t.Oqu(e.cardNumber)}}function _t(i,r){if(1&i&&(t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"div",34),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",35),t.TgZ(5,"div"),t.TgZ(6,"span",36),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"span"),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(3),t.Oqu(e.account.bank_name),t.xp6(4),t.Oqu(e.account.account_holder_type),t.xp6(3),t.Oqu(e.account.account_holder_name),t.xp6(3),t.Oqu(e.account.account_number)}}function pt(i,r){if(1&i&&(t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"div",34),t._uU(3,"SEPA"),t.qZA(),t.qZA(),t.TgZ(4,"div",35),t.TgZ(5,"div"),t.TgZ(6,"span",36),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"span"),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(7),t.Oqu(e.sepaAccount.name),t.xp6(3),t.Oqu(e.sepaAccount.email),t.xp6(3),t.Oqu(e.sepaAccount.account_number)}}function ut(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",12),t.TgZ(2,"div",13),t.TgZ(3,"div",14),t.TgZ(4,"span"),t._uU(5,"Make a payment"),t.qZA(),t.qZA(),t.TgZ(6,"div",15),t.TgZ(7,"div",16),t.TgZ(8,"i",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).close()}),t._uU(9,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",18),t.TgZ(11,"div",19),t.TgZ(12,"div",20),t.TgZ(13,"span"),t._uU(14,"Payment Info"),t.qZA(),t.qZA(),t.TgZ(15,"div",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToPreference()}),t.TgZ(16,"span"),t._uU(17,"Payment Preference"),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,gt,11,3,"div",22),t.YNc(19,_t,14,4,"div",23),t.YNc(20,pt,14,3,"div",23),t.qZA(),t.qZA(),t.TgZ(21,"div",24),t.TgZ(22,"div",25),t.TgZ(23,"div",26),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).close()}),t._uU(24,"Cancel"),t.qZA(),t.TgZ(25,"div",27),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToPay()}),t._uU(26,"Pay"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(18),t.Q6J("ngIf","card"===e.paymentType),t.xp6(1),t.Q6J("ngIf","bank_account"===e.paymentType),t.xp6(1),t.Q6J("ngIf","sepa"===e.paymentType),t.xp6(5),t.ekj("disabled",e.isLoading||!e.isEnablePay||e.isPaying)}}function ft(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",12),t.TgZ(2,"div",37),t.TgZ(3,"div",14),t._UZ(4,"span"),t.qZA(),t.TgZ(5,"div",15),t.TgZ(6,"div",16),t.TgZ(7,"i",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).close()}),t._uU(8,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",18),t.TgZ(10,"div"),t.TgZ(11,"i",38),t._uU(12,"warning"),t.qZA(),t.qZA(),t.TgZ(13,"div",39),t.TgZ(14,"span"),t._uU(15,"No card registered"),t.qZA(),t.qZA(),t.TgZ(16,"div",40),t.TgZ(17,"span"),t._uU(18,"Please register a card."),t.qZA(),t.qZA(),t.TgZ(19,"div",41),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToPreference()}),t.TgZ(20,"span"),t._uU(21,"Go To Payment Preference"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",24),t.TgZ(23,"div",25),t.TgZ(24,"div",42),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).close()}),t._uU(25,"Ok"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&i&&t.Q6J("@fadeIn",void 0)}function mt(i,r){if(1&i&&(t.TgZ(0,"div",6),t.TgZ(1,"div"),t.YNc(2,dt,3,0,"div",7),t.YNc(3,ut,27,5,"div",8),t.YNc(4,ft,26,1,"div",8),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.Udp("max-width",e.width+"px"),t.Q6J("@dialog",void 0),t.xp6(2),t.Q6J("ngIf",e.isLoading||e.isPaying),t.xp6(1),t.Q6J("ngIf",e.cardInfo),t.xp6(1),t.Q6J("ngIf",!e.cardInfo)}}function xt(i,r){if(1&i&&(t.TgZ(0,"div",2),t.YNc(1,st,1,1,"div",3),t.YNc(2,mt,5,6,"div",4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.modal.is_active),t.xp6(1),t.Q6J("ngIf",e.modal.is_active)}}let E=(()=>{class i{constructor(e,n,c){this.paymentService=e,this.usersService=n,this.helper=c,this.onClose=new t.vpe,this.inputText="",this.cancelText="Cancel",this.width=380,this.isErr=!1,this.cardName="unknown",this.cardNumber="****-****-****-****",this.cardBrand="JCB",this.isLoading=!1,this.enable_modal=!1,this.me={},this.payData={},this.cardInfo={},this.isEnablePay=!1,this.isPaying=!1,this.m_warning=new y.u,this.paymentInfo={},this.paymentType="",this.initAccount={id:"",account_holder_name:"",account_holder_type:"",bank_name:"",routing_number:"",account_number:"",object:"",last4:""},this.account=M().cloneDeep(this.initAccount),this.sepaList=[],this.initSEPAAccount={payment_method_id:"",name:"",email:"",object:"",account_number:"",last4:""},this.sepaAccount=M().cloneDeep(this.initSEPAAccount)}ngOnInit(){this.modal.data=new Object,this.usersService.getMe().subscribe(e=>{this.me=e})}ngOnChanges(e){this.initData(),e.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.modal.data.invoice&&this.fetchData())}submit(e){this.modal.data.submit_func?this.modal.data.submit_func(e):this.close()}initData(){this.cardInfo={},this.cardBrand="-",this.cardName="unknown",this.cardNumber="****-****-****-****",this.account=M().cloneDeep(this.initAccount),this.sepaAccount=M().cloneDeep(this.initSEPAAccount),this.paymentInfo={},this.paymentType=""}fetchData(){return(0,x.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield Promise.all([this.getStripePayment(),this.getStipeSEPA()]),this.findDefaultPayment(),this.isLoading=!1,this.isEnablePay=!0})}getStripePayment(){return(0,x.mG)(this,void 0,void 0,function*(){const e=this.me.dealer_id;try{const n=yield this.paymentService.getStripe(e).toPromise();this.payData=n[0]}catch(n){this.isLoading=!1,this.isEnablePay=!1}})}getStipeSEPA(){return(0,x.mG)(this,void 0,void 0,function*(){const e=this.me.dealer_id;try{this.sepaList=yield this.paymentService.getSEPA(e).toPromise()}catch(n){console.debug(n),this.isLoading=!1}})}findDefaultPayment(){var e,n,c,o;const a=this.payData.meta,l=(null===(n=null===(e=this.payData.meta)||void 0===e?void 0:e.invoice_settings)||void 0===n?void 0:n.default_payment_method)||(null==a?void 0:a.default_source),g=this.findDefaultPaymentInCardOrBank(a.sources.data,l),p=(null==g?void 0:g.id)?"card or bank":"sepa";"card or bank"===p&&(this.paymentInfo=g,this.paymentType=g.object,"card"===(null===(c=this.paymentInfo)||void 0===c?void 0:c.object)&&this.setCardInfo(),"bank_account"===(null===(o=this.paymentInfo)||void 0===o?void 0:o.object)&&this.setAccountInfo()),"sepa"===p&&(this.paymentInfo=this.findDefaultPaymentInSEPA(this.sepaList,l),this.paymentType="sepa",this.setSEPAInfo())}findDefaultPaymentInCardOrBank(e,n){return e.find(c=>n===c.id)}findDefaultPaymentInSEPA(e,n){return e.find(c=>n===c.payment_method_id)}setCardInfo(){this.cardInfo=this.paymentInfo,this.cardInfo.object?(this.cardBrand=this.cardInfo.brand,this.cardName=this.cardInfo.metadata.nickname,this.cardNumber="****-****-****-"+this.cardInfo.last4,this.isEnablePay=!0):(this.cardBrand="",this.cardName="No Card",this.cardNumber="",this.isEnablePay=!1)}setAccountInfo(){this.account=this.paymentInfo,this.account.object?(this.isEnablePay=!0,this.account.account_number="********"+this.account.last4):this.isEnablePay=!1}setSEPAInfo(){var e;this.sepaAccount=this.paymentInfo,(null===(e=this.sepaAccount)||void 0===e?void 0:e.payment_method_id)?(this.isEnablePay=!0,this.sepaAccount.account_number="********"+this.sepaAccount.last4):this.isEnablePay=!1}goToPay(){this.isEnablePay&&!this.isPaying&&("v3"===this.invoice.version?this.payByInvoiceV3():this.payByInvoiceV2())}payByInvoiceV2(){const e=this.me.dealer_id,n=this.invoice.invoice_id,c={invoice_id:parseInt(n),description:"description"};this.isPaying=!0,this.paymentService.createPaymentByStripe(e,c).subscribe(o=>{this.isPaying=!1,this.confirmDialog("Your payment is complete","Thank you!","credit_card","#7ed321")},o=>{this.errorDialog(o,"Your payment is failed","invoice ID - "+n),this.isPaying=!1})}payByInvoiceV3(){const e=this.me.dealer_id,n=this.invoice.invoice_id;this.isPaying=!0,this.paymentService.createPaymentByStripeV3(e,n).subscribe(c=>{this.isPaying=!1,this.confirmDialog("Your payment is complete","Thank you!","credit_card","#7ed321")},c=>{this.errorDialog(c,"Your payment is failed","invoice ID - "+n),this.isPaying=!1})}paymentRefresh(){this.isPaying=!1,this.m_warning.data={header:"Payment",contents:"\n            <p><b>Your payment has been succeeded.</b></p>\n            <p></p>\n        ",submit_btn:"OK",submit_class:["button-primary"],icon:"done",isConfirm:!0,color:"green"},this.m_warning.data.submit_func=()=>{},this.m_warning.open()}goToPreference(){this.helper.router.navigate_to("/settings/payment-preferences")}confirmDialog(e="",n="",c="done",o="green"){this.m_warning.data={header:e,contents:`\n        <p>${n}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:c,isConfirm:!0,color:o},this.m_warning.data.submit_func=()=>{this.close()},this.m_warning.open()}errorDialog(e,n,c="failed"){let o=c;e.error&&e.error.message&&(o=e.error.message),e._body&&(o=JSON.parse(e._body).message),setTimeout(()=>{this.confirmDialog(n,o,"warning","orange")},200),this.isLoading=!1}close(e){this.isPaying||(this.onClose.next(e||{res:!1}),this.modal.close(),setTimeout(n=>{this.enable_modal=!1},200))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(lt.t),t.Y36(q.f),t.Y36(z.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["dealer-pay"]],inputs:{modal:"modal",active:"active",invoice:"invoice"},outputs:{onClose:"onClose"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","dialog",3,"max-width",4,"ngIf"],[1,"overlay",3,"click"],[1,"dialog"],["class","loader absolute",4,"ngIf"],[4,"ngIf"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"body"],[1,"modal-title"],[2,"display","flex","align-items","flex-end"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"contents-v2"],[1,"content-header"],[1,"content-label"],[1,"link",3,"click"],["class","card-box",4,"ngIf"],["class","account-box",4,"ngIf"],[1,"tail"],[1,"btn-container"],[1,"full-btn",3,"click"],[1,"full-btn","primary",3,"click"],[1,"card-box"],[1,"card"],[1,"card-brand"],[1,"card-label"],[1,"account-box"],[1,"account"],[1,"account-bank-name"],[1,"account-label"],[1,"tag"],[1,"modal-title",2,"margin-bottom","10px"],[1,"material-icons",2,"color","#f67474","font-size","45px","padding-bottom","22px"],[2,"font-size","22px","font-weight","500","color","#3a3a3a","padding-bottom","10px"],[2,"font-size","15px","font-weight","500","color","#4a4a4a","padding-bottom","20px"],[1,"link",2,"font-size","13px","font-weight","500",3,"click"],[1,"full-btn","primary",2,"margin","0px",3,"click"]],template:function(e,n){1&e&&(t.YNc(0,xt,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&e&&(t.Q6J("ngIf",n.enable_modal),t.xp6(1),t.Q6J("modal",n.m_warning))},directives:[_.O5,V.a],styles:['.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}',".align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.align-center[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;max-width:1010px;min-height:321px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.body[_ngcontent-%COMP%]{padding:20px 30px 30px;text-align:center;letter-spacing:-.1px;color:#3a3a3a}.body[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{height:45px;font-size:18px;display:flex;justify-content:space-between;margin-bottom:40px;font-weight:bold}.body[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{position:absolute;display:flex;width:45px;height:45px;right:-15px;align-items:center;justify-content:center;font-size:14px;color:#9d9d9d;cursor:pointer;transition:.2s}.body[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.body[_ngcontent-%COMP%]   .contents-v2[_ngcontent-%COMP%]{width:100%}.body[_ngcontent-%COMP%]   .contents-v2[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-bottom:10px;font-weight:bold}.body[_ngcontent-%COMP%]   .contents-v2[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .content-label[_ngcontent-%COMP%]{font-size:15px}.body[_ngcontent-%COMP%]   .contents-v2[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.body[_ngcontent-%COMP%]   .contents-v2[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.body[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]{display:flex;height:54px;padding:12px 15px;align-items:center;border:solid 1px #eaeaea;background-color:#f7f7f7}.body[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:80px;height:48px;border-radius:3px;background-color:#ffdca2;margin-right:15px;display:flex;justify-content:flex-end;align-items:flex-end}.body[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-brand[_ngcontent-%COMP%]{padding:5px 10px;font-size:12px;font-weight:bold;color:#979797}.body[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:14px;font-weight:bold;color:#494949;text-align:left;display:flex;flex-direction:column;justify-content:center}.body[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]{display:flex;height:54px;padding:12px 15px;align-items:center;border:solid 1px #eaeaea;background-color:#f7f7f7}.body[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{width:100px;height:60px;border-radius:3px;background-color:#ffdca2;margin-right:15px;display:flex;justify-content:flex-end;align-items:center}.body[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   .account-bank-name[_ngcontent-%COMP%]{padding:5px 10px;font-size:12px;font-weight:bold;color:#979797}.body[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .account-label[_ngcontent-%COMP%]{font-size:14px;font-weight:bold;color:#494949;text-align:left;display:flex;flex-direction:column;justify-content:center}.body[_ngcontent-%COMP%]   .account-box[_ngcontent-%COMP%]   .account-label[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:13px;font-weight:300;background:#2383e2;color:#fff;padding:1px 7px;border-radius:5px}.tail[_ngcontent-%COMP%]{padding-bottom:30px;display:flex;justify-content:center}.tail[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.tail[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .full-btn[_ngcontent-%COMP%]:nth-child(n+1){margin-right:15px}.full-btn[_ngcontent-%COMP%]{min-width:65px;padding:6px 15px;background:#bcbcbc;font-family:Roboto;font-size:14px;font-weight:bold;color:#fff;display:flex;align-items:center;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#d5d4d4}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#d5d4d4}.full-btn.primary[_ngcontent-%COMP%]{background:#2383e2}.full-btn.primary[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn.primary[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}"],data:{animation:[u.ge,u.ku,u.$r,u.OP,(0,N.X$)("fadeIn",[(0,N.eR)(":enter",[(0,N.oB)({opacity:0}),(0,N.jt)(100,(0,N.oB)({opacity:1}))])])]}}),i})();var bt=f(58361),G=f.n(bt);function ht(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",27),t.TgZ(4,"td",27),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.name),t.xp6(3),t.AsE("",n.invoice.currency_symbol," ",e.amount,"")}}function vt(i,r){1&i&&t._UZ(0,"tr")}function Ct(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.TgZ(5,"td",27),t._uU(6),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.AsE("",e.site_name," - ",e.device_name,""),t.xp6(2),t.Oqu(e.signals),t.xp6(2),t.AsE("",n.invoice.currency_symbol," ",e.amount,"")}}function Pt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2,"No devices for this plan"),t.qZA(),t.TgZ(3,"td",27),t._uU(4,"0"),t.qZA(),t.TgZ(5,"td",27),t._uU(6),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(6),t.hij("",e.invoice.currency_symbol," 0.00")}}function Mt(i,r){if(1&i&&(t.TgZ(0,"table"),t.TgZ(1,"colgroup"),t._UZ(2,"col",25),t._UZ(3,"col",26),t._UZ(4,"col",26),t.qZA(),t.TgZ(5,"thead"),t.TgZ(6,"th"),t._uU(7),t.qZA(),t.TgZ(8,"th",27),t._uU(9,"Signals"),t.qZA(),t.TgZ(10,"th",27),t._uU(11,"Amount"),t.qZA(),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,Ct,7,5,"tr",28),t.YNc(14,Pt,7,1,"tr",29),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.plan_name),t.xp6(6),t.Q6J("ngForOf",e.plans),t.xp6(1),t.Q6J("ngIf",0===e.plans.length)}}function Ot(i,r){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,Mt,15,3,"table",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isDetail)}}function Zt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",27),t._uU(6),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(2),t.AsE(" ",n.invoice.currency_symbol," ",e.amount," ")}}function yt(i,r){if(1&i&&(t.TgZ(0,"table"),t.TgZ(1,"colgroup"),t._UZ(2,"col",44),t._UZ(3,"col",44),t._UZ(4,"col",26),t.qZA(),t.TgZ(5,"thead"),t.TgZ(6,"th"),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Description"),t.qZA(),t.TgZ(10,"th",27),t._uU(11,"Amount"),t.qZA(),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,Zt,7,4,"tr",28),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(13),t.Q6J("ngForOf",e.manualItems)}}function wt(i,r){if(1&i&&(t.TgZ(0,"div",24),t.YNc(1,yt,14,1,"table",29),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isDetail)}}function Tt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",27),t.TgZ(4,"td",27),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",e.company_name," ",e.subInfo?e.subInfo:"",""),t.xp6(3),t.AsE("",n.invoice.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function At(i,r){if(1&i&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t._UZ(2,"td",27),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("",e.invoice.currency_symbol," 0")}}function qt(i,r){if(1&i&&(t.TgZ(0,"div",45),t.TgZ(1,"div",46),t.TgZ(2,"div",47),t.TgZ(3,"table",48),t.TgZ(4,"colgroup"),t._UZ(5,"col",25),t._UZ(6,"col",26),t._UZ(7,"col",26),t.qZA(),t.TgZ(8,"thead",49),t.TgZ(9,"th"),t._uU(10,"Dealer Name"),t.qZA(),t.TgZ(11,"th",27),t._uU(12,"Signals"),t.qZA(),t.TgZ(13,"th",27),t._uU(14,"Amount"),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.YNc(16,Tt,6,4,"tr",28),t.YNc(17,At,5,1,"tr",29),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(16),t.Q6J("ngForOf",e.customers),t.xp6(1),t.Q6J("ngIf",0===e.customers.length)}}let Ut=(()=>{class i{constructor(e,n,c){this.usersService=e,this.invoiceService=n,this.commonService=c,this.dealer={},this.onClose=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.isDetailLoading=!1,this.tail_status="none",this.invoice={},this.m_warning=new y.u,this.m_pay=new y.u,this.o_invoice={},this.payment={},this.summary=[],this.items=[],this.manualItems=[],this.sites=[],this.tax=0,this.customers=[],this.filteredCustomers=[],this.cur_dealer={},this.curPage="invoice",this.tabList=[],this.filteredTabList=[],this.curTab="",this.plans={},this.filteredPlans={},this.curPlan={},this.curSubDealerPlan={},this.curDetailList=[],this.curDealerList=[],this.selDealer={},this.summaryV2=[],this.curSort={}}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.me=e,this.customers=[],this.filteredCustomers=[],this.selDealer={},this.fetchData()})}ngOnChanges(e){e.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.curPage="invoice",this.customers=[],this.filteredCustomers=[],this.selDealer={},this.modal.data.invoice&&this.fetchData())}fetchData(){this.cur_dealer=this.me,this.curSort={},this.setInvoice(this.invoice)}setInvoice(e){this.o_invoice=e.invoice,this.payment=e.payment,this.invoice=Object.assign(this.invoice,this.o_invoice),this.summary=e.summary,this.items=e.items,this.manualItems=e.manual_items,this.tax=this.o_invoice.tax;const n=[],c=[];M().cloneDeep(e.items).forEach(s=>{let l=!1;n.forEach(d=>{d.plan_id===s.plan_id&&(l=!0,0!==s.plans.length&&(d.plans=d.plans.concat(s.plans)))}),(0===n.length||!l)&&n.push(s)});const a=M().cloneDeep(e.customers);0!==a.length&&a.forEach(s=>{s.fee=s.amount,s.customer_id!==this.me.dealer_id&&c.push(s)}),this.items=n,this.customers=c,this.filteredCustomers=this.customers,this.isLoading=!1,this.invoice.fee=e.amount,this.o_invoice.payment_id&&this.invoiceService.getReceipt(this.me.dealer_id,this.o_invoice.payment_id).subscribe(s=>{})}setDetailList(e){const c=[];e.details.forEach(o=>{let a={site_name:o.site_name,site_id:o.site_id,account_number:o.account_number,full_fee:o.full_fee,curUsage:o.usage_day?o.usage_day:this.calcUsage(o.usage),maxUsage:o.max_usage_day?o.max_usage_day:this.calcUsage(o.max_usage),fee:o.site_fee,customer_id:o.customer_id};if(a=Object.assign(a,o),e.isUseDeviceField){a.totalUsage=0,a.avgUsage=0,a.isFold=!0;const s=o.bridges.length;a.bridgeCount=s,c.push(a),0!==s&&(a.bridges=[],o.bridges.forEach((l,d)=>{let g=M().cloneDeep(a);g.device_name=l.name,g.device_id=l.device_id,g.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),g.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),l.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),l.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),g.fee=l.bridge_fee,a.totalUsage+=l.usage_day?l.usage_day:this.calcUsage(l.usage),a.bridges.push(g)}),0!==s&&(a.avgUsage=Math.ceil(a.totalUsage/s)))}else c.push(a)}),e.list=c.sort(this.dynamicSort("site_name"))}selectPlanTab(e,n){this.curTab=e,this.curPlan=this.filteredPlans[e.name],this.setFilterCustomer(),this.onSorted(this.curSort);let c=this.selDealer;n&&(c=n),this.curDetailList=c.customer_id?this.curPlan.list.filter(o=>o.customer_id===c.customer_id):this.curPlan.list}selectDealer(e){this.isDetailLoading=!0,e.isSelected=!0,setTimeout(()=>{let n=M().cloneDeep(this.plans);this.tabList.forEach(c=>{let o=0;n[c.name].details.forEach(a=>{a.customer_id===e.customer_id&&(o+=a.plan_id?a.site_fee:a.fee)}),n[c.name].fee=o}),this.filteredPlans=n,this.selDealer=e,this.selectPlanTab(this.curTab),this.isDetailLoading=!1,e.isSelected=!1},100)}setFilterCustomer(){const e=this.curPlan.name;this.filteredCustomers.forEach(n=>{let c=0,o=0;0!==this.curPlan.plan_id?this.filteredPlans[e].details.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.site_fee,o+=a.bridge_count)}):this.filteredPlans[e].list.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.fee,o+=a.bridge_count)}),n.bridge_count=o,n.fee=c})}goToPage(e){this.curPage=e,this.selDealer={}}unselectDealer(){this.selDealer={},this.filteredPlans=this.plans,this.curPlan=this.filteredPlans[this.curTab.name]}calcUsage(e){let n=0;return e&&0!==e&&(n=(e+1)/864e5),n=Math.ceil(n),n}setLabel(e){let n={};n=1===this.invoiceService.invoiceVersion?e.payment:e.payments,this.isEmpty(n)?0===e.status?(e.status_text="DRAFT",e.status_label="status-normal"):4===e.status?G()().isAfter(e.payment_due)?(e.status_text="OVERDUE",e.status_label="status-overdue"):(e.status_text="NOT PAID",e.status_label="status-unpaid"):(e.status_text="UNKNOWN",e.status_label="status-normal"):(e.status_text="PAID",e.status_label="status-success","Refund"===n.status&&(e.status_text="REFUNDED",e.status_label="status-success"))}isEmpty(e){return 0===Object.keys(e).length}openPayModal(){this.m_pay.data.invoice=this.invoice,this.m_pay.open()}closePayModal(){this.m_pay.close()}print(){let e,n,c;e=document.getElementById("invoice-body").innerHTML,n=document.getElementById("subdealer-body").innerHTML,c=window.open("","_blank","top=0,left=0,height=600px,width=1000px;"),c.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp">\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,500,600,700">\n          <title>Invoice</title>\n          <style>\n          @media print {\n            body {\n               -webkit-print-color-adjust: exact;\n            }\n          }\n          .invoice-body {\n            padding: 30px;\n            transition: 0.2s;\n            align-items: center;\n          }\n          .invoice-title {\n            margin-bottom: 36px;\n          }\n          .invoice-title .title {\n            font-size: 20px;\n            flex: 1;\n          }\n          .customer-name {\n            font-weight: bold;\n            font-size: 16px;\n            padding: 8px 0;\n          }\n          .invoice-info table {\n            width: 100%;\n          }\n          .invoice-info td {\n            padding: 8px;\n            text-align: right;\n            font-size: 14px;\n          }\n          .item-name {\n            display: "table-cell";\n            height: 20px;\n            margin: 0px 0px 0px 0px;\n          }\n          .sub-item {\n            height: 20px;\n            display: table-cell;\n            text-align: right;\n            width: 400px;\n            vertical-align: middle;\n          }\n          .flex-row {\n            display: flex;\n            flex-direction: row;\n          }\n          .price {\n            display: table-cell;\n            text-align: right;\n            padding-right: 30%;\n            width: 100%;\n          }\n          .invoice-title {\n            margin-bottom: 48px;\n          }\n          .invoice-title .invoice-title-row {\n            display: flex;\n            margin-top: 16px;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title .title-left {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-left .title-item-box {\n            margin-bottom: 10px;\n            font-size: 12px;\n          }\n          .invoice-title .title-left .title-item-box .title-item {\n            font-family: Helvetica;\n            font-size: 12px;\n            color: #000;\n          }\n          .invoice-title .title-left .title-item-box .email {\n            font-size: 16px;\n          }\n          .invoice-title .title-left .title-item-box .contents {\n            font-size: 12px;\n          }\n          .invoice-title .title-right {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-right .title-item-box {\n            font-size: 12px;\n          }\n          .invoice-title .title-right .title-item-box .title-item {\n            font-size: 11px;\n          }\n          .invoice-title .title-right .title-item-box .label {\n            font-size: 14px;\n            font-weight: bold;\n          }\n          .invoice-title .title-right .title-item-box .title-contents {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n          .invoice-title .title-right .title-item-box .line {\n            margin: 2px 0px;\n            border-bottom: 1px solid #ccc;\n          }\n          .invoice-title .title-right .title-item-box .line.bold {\n            border-bottom: 2px solid #ccc;\n          }\n          .invoice-informations {\n            display: flex;\n            flex-direction: row;\n          }\n          .invoice-informations .invoice-info-box {\n            flex: 1;\n            position: relative;\n            padding-bottom: 8px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-title {\n            font-weight: bold;\n            font-size: 18px;\n            padding: 8px 0;\n            color: #5a6574;\n            letter-spacing: -0.1px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents {\n            font-size: 12px;\n            letter-spacing: -0.1px;\n            color: #4a4a4a;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.small {\n            font-size: 10px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.big {\n            font-size: 11px;\n            color: #000;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-noti {\n            text-align: right;\n            font-size: 12px;\n            font-weight: 500;\n            letter-spacing: -0.1px;\n            color: #979797;\n          }\n          .invoice-items {\n            margin-top: 15px;\n          }\n          .invoice-items table {\n            width: 100%;\n            border-collapse: collapse;\n            border: solid 1px #ececed;\n          }\n          .invoice-items thead {\n            background: #ecfbff;\n          }\n          .invoice-items th {\n            padding: 12px 16px;\n            color: #5a6574;\n            text-transform: capitalize;\n            text-align: left;\n            font-size: 12px;\n            font-weight: bold;\n          }\n          .invoice-items tbody tr:nth-child(even) {\n            background: rgba(247, 247, 247, 1);\n          }\n          .invoice-items td {\n            position: relative;\n            padding: 12px 16px;\n            color: #4a4a4a;\n            font-size: 13px;\n            letter-spacing: -0.1px;\n          }\n          .invoice-items input {\n            width: 100%;\n            box-sizing: border-box;\n            padding: 8px;\n            border-radius: 4px;\n            border: 1px solid #bbb;\n          }\n          .invoice-items input:focus {\n            border: 1px solid #2383e2;\n            outline: none;\n          }\n          .invoice-items input[type="number"] {\n            text-align: right;\n          }\n          .invoice-title-row {\n            display: flex;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title-row .title-row-right {\n            flex: 1;\n          }\n          .invoice-title-row .title-row-left {\n            flex: 1;\n          }\n          .row {\n            display: flex;\n            width: 100%;\n            padding-top: 5px;\n          }\n          .row.between {\n            justify-content: space-between;\n          }\n          .row .cell {\n            flex: 1;\n          }\n          .row .right {\n            text-align: right;\n          }\n          .row center {\n            text-align: center;\n          }\n          .summary-box {\n            padding: 10px;\n            background-color: #f7f7f7;\n            font-size: 13px;\n            color: #5a6574;\n            font-family: Roboto;\n          }\n          .summary-box .summary-title {\n            font-weight: bold;\n            letter-spacing: -0.1px;\n          }\n          .center {\n            text-align: center !important;\n          }\n          .right {\n            text-align: right !important;\n          }\n          .pagebreak {\n            page-break-before: always;\n          }\n          </style>\n        </head>\n    <body onload="window.print();window.close()">${e}<div class="pagebreak"> </div>${n}</body>\n      </html>`),c.document.close()}downloadCSV(){const n=this.invoice.invoice_id;this.invoiceService.getInvoiceCSV(this.me.dealer_id,n).subscribe(c=>{const o=c.csv_url;let a=document.createElement("a");a.download="invoice_ID_"+n+".csv",a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)})}planAllToggle(){this.curPlan.isFold=!this.curPlan.isFold;let e=this.curPlan.isFold;this.curDetailList.forEach(n=>{n.isFold=e})}dynamicSort(e){var n=1;return"-"===e[0]&&(n=-1,e=e.substr(1)),function(c,o){const a=c[e].toLowerCase(),s=o[e].toLowerCase();return(a<s?-1:a>s?1:0)*n}}onSorted(e,n=!1){let c=this.curDetailList.slice();if(n){if(c=this.filteredCustomers.slice(),!e.sortColumn||""===e.sortDirection)return void(this.filteredCustomers=c)}else if(!e.sortColumn||""===e.sortDirection)return void(this.curDetailList=c);if("device_id"===e.sortColumn||"device_name"===e.sortColumn)return void c.forEach(a=>{a.bridges.sort((s,l)=>{const d="asc"===e.sortDirection;switch(e.sortColumn){case"device_id":return this.compare(s.device_id,l.device_id,d);case"device_name":return this.compare(s.device_name,l.device_name,d);default:return 0}})});const o=c.sort((a,s)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(a.name,s.name,l);case"site_name":return this.compare(a.site_name.toLowerCase(),s.site_name.toLowerCase(),l);case"site_id":return this.compare(a.site_id,s.site_id,l);case"account_number":return this.compare(a.account_number,s.account_number,l);case"occur_total_event_count":return this.compare(a.occur_total_event_count,s.occur_total_event_count,l);case"curUsage":return this.compare(a.curUsage,s.curUsage,l);case"fee":return this.compare(a.fee,s.fee,l);case"site_count":return this.compare(a.site_count,s.site_count,l);case"bridge_count":return this.compare(a.bridge_count,s.bridge_count,l);default:return 0}});n?this.filteredCustomers=o:this.curDetailList=o}compare(e,n,c){return(e<n?-1:1)*(c?1:-1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(D.x),t.Y36(I.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal-v1-summary"]],inputs:{active:"active",modal:"modal",dealer:"dealer"},outputs:{onClose:"onClose"},features:[t.TTD],decls:110,vars:23,consts:[["id","invoice-body",1,"body"],[1,"invoice-body"],[1,"invoice-title"],[1,"invoice-title-row"],[1,"title-left",2,"display","flex","flex-direction","column","justify-content","flex-end"],["src","/assets/logo/logo-wide-blue-50.png",2,"width","100px"],[1,"title-row-right",2,"text-align","right"],[2,"font-size","20px"],[1,"title-left"],[1,"title-item-box"],[1,"title-item"],[1,"contents"],[1,"title-row-right"],[1,"summary-box"],[1,"summary-title",2,"font-size","15px"],[1,"row","between"],[1,"right"],[2,"border","solid .7px #d1d2d2","margin-top","5px"],[1,"row","between","summary-title"],[2,"flex","2"],[1,"invoice-informations"],[1,"invoice-info-box"],[1,"invoice-info-title"],[1,"invoice-info-contents"],[1,"invoice-items"],["width","60%"],["width","20%"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"background-color","#cccc99"],[2,"font-size","15px","font-weight","bold"],[2,"padding","8px 8px"],["class","invoice-items",4,"ngFor","ngForOf"],["class","invoice-items",4,"ngIf"],[2,"margin-top","15px"],[2,"display","flex","flex-direction","row","width","100%"],[1,"invoice-info-box",2,"flex","7"],[1,"invoice-info-contents",2,"margin-right","10px"],[1,"invoice-info-contents",2,"margin-right","10px","margin-left","6px"],[1,"invoice-info-noti"],["class","body","style","min-height: auto;",4,"ngIf"],[3,"modal","invoice","active"],[3,"modal"],["width","40%"],[1,"body",2,"min-height","auto"],["id","subdealer-body",1,"invoice-body"],[1,"invoice-items",2,"margin-top","10px"],[2,"border-color","#aed7ff"],[2,"background","#d5eaff"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div"),t.TgZ(8,"span",7),t._uU(9,"CHeKT Services Invoice"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",3),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t._uU(14,"Dealer E-mail"),t.qZA(),t.TgZ(15,"div",11),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",9),t.TgZ(18,"div",10),t._uU(19,"Bill to Address"),t.qZA(),t.TgZ(20,"div",11),t._uU(21),t.qZA(),t.TgZ(22,"div",11),t._uU(23),t.qZA(),t.TgZ(24,"div",11),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",12),t.TgZ(27,"div",13),t.TgZ(28,"div",14),t._uU(29,"Invoice Summary"),t.qZA(),t.TgZ(30,"div",15),t.TgZ(31,"div"),t._uU(32,"Invoice Number"),t.qZA(),t.TgZ(33,"div",16),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"div"),t._uU(37,"Billing Statement"),t.qZA(),t.TgZ(38,"div",16),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"div",15),t.TgZ(41,"div"),t._uU(42,"Invoice Date"),t.qZA(),t.TgZ(43,"div",16),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"div",15),t.TgZ(46,"div"),t._uU(47,"Invoice Due Date"),t.qZA(),t.TgZ(48,"div",16),t._uU(49),t.qZA(),t.qZA(),t._UZ(50,"div",17),t.TgZ(51,"div",18),t.TgZ(52,"div",19),t._uU(53),t.qZA(),t.TgZ(54,"div",16),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",20),t.TgZ(57,"div",21),t.TgZ(58,"div",22),t._uU(59),t.qZA(),t.TgZ(60,"div",23),t._uU(61," Greetings from CHeKT Services, we're writing to provide you with an electronic invoice for your use of CHeKT sevices. Additional information "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",24),t.TgZ(63,"table"),t.TgZ(64,"colgroup"),t._UZ(65,"col",25),t._UZ(66,"col",26),t._UZ(67,"col",26),t.qZA(),t.TgZ(68,"thead"),t.TgZ(69,"th"),t._uU(70,"Summary"),t.qZA(),t._UZ(71,"th"),t.TgZ(72,"th",27),t._uU(73,"Amount"),t.qZA(),t.qZA(),t.TgZ(74,"tbody"),t.YNc(75,ht,6,3,"tr",28),t.YNc(76,vt,1,0,"tr",29),t.TgZ(77,"tr",30),t.TgZ(78,"td",31),t.TgZ(79,"div"),t._uU(80,"Total for this invoice"),t.qZA(),t.qZA(),t._UZ(81,"td",32),t.TgZ(82,"td",31),t.TgZ(83,"div",27),t._uU(84),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(85,Ot,2,1,"div",33),t.YNc(86,wt,2,1,"div",34),t._UZ(87,"div",35),t.TgZ(88,"div",20),t.TgZ(89,"div",36),t.TgZ(90,"div",37),t.TgZ(91,"div",38),t._uU(92," * All Invoice can be paid online or to the following address "),t.qZA(),t.TgZ(93,"div",39),t._uU(94," CHeKT Inc."),t._UZ(95,"br"),t._uU(96," Attn: Accounts Receivable"),t._UZ(97,"br"),t._uU(98," 5874 Greenwood Rd. Shreveport, LA 71119 "),t.qZA(),t.qZA(),t.TgZ(99,"div",21),t.TgZ(100,"div",40),t._uU(101," Service Provider"),t._UZ(102,"br"),t._uU(103," CHeKT, Inc."),t._UZ(104,"br"),t._UZ(105,"br"),t._UZ(106,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(107,qt,18,2,"div",41),t._UZ(108,"dealer-pay",42),t._UZ(109,"dealer-warning",43)),2&e&&(t.xp6(16),t.Oqu(n.invoice.dealer_company_email),t.xp6(5),t.Oqu(n.invoice.dealer_company_name),t.xp6(2),t.Oqu(n.invoice.dealer_company_address1),t.xp6(2),t.Oqu(n.invoice.dealer_company_address2),t.xp6(9),t.Oqu(n.invoice.dealer_invoice_id?n.invoice.dealer_invoice_id:n.invoice.invoice_id),t.xp6(5),t.Oqu(n.commonService.periodBillDate(n.invoice.begin_period,n.invoice.end_period)),t.xp6(5),t.Oqu(n.commonService.summaryDate(n.invoice.invoice_date)),t.xp6(5),t.Oqu(n.commonService.summaryDate(n.invoice.payment_due)),t.xp6(4),t.hij("TOTAL AMOUNT DUE ON ",n.commonService.summaryDate(n.invoice.end_period),""),t.xp6(2),t.AsE("",n.invoice.currency_symbol," ",n.invoice.fee?n.invoice.fee.toFixed(2):"0.00",""),t.xp6(4),t.hij(" This invoice is for the billing period ",n.commonService.periodBillDate(n.invoice.begin_period,n.invoice.end_period)," "),t.xp6(16),t.Q6J("ngForOf",n.summary),t.xp6(1),t.Q6J("ngIf",!n.summary.length),t.xp6(8),t.AsE("",n.invoice.currency_symbol," ",n.o_invoice.amount?n.o_invoice.amount:0,""),t.xp6(1),t.Q6J("ngForOf",n.items),t.xp6(1),t.Q6J("ngIf",n.manualItems.length>0),t.xp6(21),t.Q6J("ngIf",0!==n.customers.length&&!n.isLoading),t.xp6(1),t.Q6J("modal",n.m_pay)("invoice",n.invoice)("active",n.m_pay.is_active),t.xp6(1),t.Q6J("modal",n.m_warning))},directives:[_.sg,_.O5,E,V.a],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function kt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",28),t.TgZ(4,"td",28),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.plan_name),t.xp6(3),t.AsE("",n.invoice.currency_symbol," ",e.fee.toFixed(2),"")}}function Dt(i,r){1&i&&(t.ynx(0),t._UZ(1,"tr"),t.BQk())}function It(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",28),t._uU(6),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.AsE("",n.invoice.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function zt(i,r){if(1&i&&(t.TgZ(0,"table"),t.TgZ(1,"colgroup"),t._UZ(2,"col",45),t._UZ(3,"col",45),t._UZ(4,"col",27),t.qZA(),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.TgZ(7,"th"),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"th",28),t._uU(12,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"tbody"),t.YNc(14,It,7,4,"tr",29),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(14),t.Q6J("ngForOf",e.manualItems)}}function St(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",25),t.YNc(2,zt,15,1,"table",30),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.isDetail)}}function Ft(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",28),t.TgZ(4,"td",28),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",e.company_name," ",e.subInfo?e.subInfo:"",""),t.xp6(3),t.AsE("",n.invoice.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function Nt(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t._UZ(2,"td"),t._UZ(3,"td",28),t.TgZ(4,"td",28),t._uU(5),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.hij("",e.invoice.currency_symbol," 0")}}function Vt(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",46),t.TgZ(2,"div",47),t.TgZ(3,"div",48),t.TgZ(4,"table",49),t.TgZ(5,"colgroup"),t._UZ(6,"col",26),t._UZ(7,"col",27),t._UZ(8,"col",27),t.qZA(),t.TgZ(9,"thead",50),t.TgZ(10,"tr"),t.TgZ(11,"th"),t._uU(12,"Dealer Name"),t.qZA(),t.TgZ(13,"th",28),t._uU(14,"Signals"),t.qZA(),t.TgZ(15,"th",28),t._uU(16,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"tbody"),t.YNc(18,Ft,6,4,"tr",29),t.YNc(19,Nt,6,1,"ng-container",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.customers),t.xp6(1),t.Q6J("ngIf",0===e.customers.length)}}let Et=(()=>{class i{constructor(e,n,c,o){this.usersService=e,this.invoiceService=n,this.commonService=c,this.helper=o,this.dealer={},this.onClose=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.isDetailLoading=!1,this.tail_status="none",this.m_warning=new y.u,this.m_pay=new y.u,this.o_invoice={},this.payment={},this.summary=[],this.items=[],this.manualItems=[],this.sites=[],this.tax=0,this.customers=[],this.filteredCustomers=[],this.cur_dealer={},this.curPage="invoice",this.tabList=[],this.filteredTabList=[],this.curTab="",this.plans={},this.filteredPlans={},this.curPlan={},this.curSubDealerPlan={},this.curDetailList=[],this.curDealerList=[],this.selDealer={},this.summaryV2=[],this.curSort={},this.dealers=[]}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.isLoading=!0,this.me=e,this.customers=[],this.filteredCustomers=[],this.selDealer={},this.fetchData()})}ngOnChanges(e){e.active&&this.active&&(this.enable_modal=!0,this.curPage="invoice")}fetchData(){return(0,x.mG)(this,void 0,void 0,function*(){this.cur_dealer=this.me,this.curSort={},yield this.getDealerList(),this.setInvoiceV2(this.invoice)})}setInvoiceV2(e){this.sites=e.sites,this.payment=e.payment,this.manualItems=e.manuals;const n=[],c={},o=[];e.plans.forEach(s=>{let l={};s.isFold=!0,1===s.plan_id||8===s.plan_id||9===s.plan_id||10===s.plan_id?(l.plan_name=s.plan_name,s.name=s.plan_name,s.isUseDeviceField=!0,l.isUseDeviceField=!0):2===s.plan_id?(l.plan_name="Events",s.name="Events"):5===s.plan_id?(l.plan_name="Playback",s.name="Playback"):(l.plan_name=s.plan_name,s.name=s.plan_name),l.fee=s.fee,n.push({name:l.plan_name,fee:l.fee}),o.push(l),this.setDetailList(s),c[l.plan_name]=s});let a=0;if(e.manuals.forEach(s=>{let l={};l.plan_name=s.name,l.fee=s.fee,o.push(l),a+=s.fee}),n.push({name:"Other",fee:a}),c.Other={name:"Other",fee:a,plan_id:0},c.Other.list=P.cloneDeep(e.manuals),c.Other.details=P.cloneDeep(e.manuals),this.plans=c,this.filteredPlans=this.plans,this.tabList=n,this.filteredTabList=this.tabList,this.curTab=this.tabList[0],2===this.me.type){const s=[],l=P.cloneDeep(e.retails);0!==l.length&&l.forEach(g=>{g.company_name=g.name,g.customer_id!==this.me.dealer_id&&(g.name=this.computedSiteDealer(g),s.push(g))}),this.customers=s.sort(this.dynamicSort("name")),this.filteredCustomers=[];const d={customer_id:e.customer_id,name:e.name,company_name:e.name,site_count:e.site_count,bridge_count:e.bridge_count,fee:e.fee,occur_total_event_count:e.occur_total_event_count};2===e.type&&(d.subInfo="(WCS.M)"),this.customers.unshift(d),this.filteredCustomers=P.cloneDeep(this.customers)}this.selectPlanTab(this.curTab),this.summaryV2=o,this.isLoading=!1,this.o_invoice.payment_id&&this.invoiceService.getReceipt(this.me.dealer_id,this.o_invoice.payment_id).subscribe()}setDetailList(e){const c=[];e.details.forEach(o=>{let a={site_name:o.site_name,site_id:o.site_id,account_number:o.account_number,full_fee:o.full_fee,curUsage:o.usage_day?o.usage_day:this.calcUsage(o.usage),maxUsage:o.max_usage_day?o.max_usage_day:this.calcUsage(o.max_usage),fee:o.site_fee,customer_id:o.customer_id};if(a=Object.assign(a,o),e.isUseDeviceField){a.totalUsage=0,a.avgUsage=0,a.isFold=!0;const s=o.bridges.length;a.bridgeCount=s,c.push(a),0!==s&&(a.bridges=[],o.bridges.forEach((l,d)=>{let g=P.cloneDeep(a);g.device_name=l.name,g.device_id=l.device_id,g.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),g.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),l.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),l.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),g.fee=l.bridge_fee,a.totalUsage+=l.usage_day?l.usage_day:this.calcUsage(l.usage),a.bridges.push(g)}),0!==s&&(a.avgUsage=Math.ceil(a.totalUsage/s)))}else c.push(a)}),e.list=c.sort(this.dynamicSort("site_name"))}selectPlanTab(e,n){this.curTab=e,this.curPlan=this.filteredPlans[e.name],this.setFilterCustomer(),this.onSorted(this.curSort);let c=this.selDealer;n&&(c=n),this.curDetailList=c.customer_id?this.curPlan.list.filter(o=>o.customer_id===c.customer_id):this.curPlan.list}selectDealer(e){this.isDetailLoading=!0,e.isSelected=!0,setTimeout(()=>{let n=P.cloneDeep(this.plans);this.tabList.forEach(c=>{let o=0;n[c.name].details.forEach(a=>{a.customer_id===e.customer_id&&(o+=a.plan_id?a.site_fee:a.fee)}),n[c.name].fee=o}),this.filteredPlans=n,this.selDealer=e,this.selectPlanTab(this.curTab),this.isDetailLoading=!1,e.isSelected=!1},100)}setFilterCustomer(){const e=this.curPlan.name;this.filteredCustomers.forEach(n=>{let c=0,o=0;0!==this.curPlan.plan_id?this.filteredPlans[e].details.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.site_fee,o+=a.bridge_count)}):this.filteredPlans[e].list.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.fee,o+=a.bridge_count)}),n.bridge_count=o,n.fee=c})}unselectDealer(){this.selDealer={},this.filteredPlans=this.plans,this.curPlan=this.filteredPlans[this.curTab.name]}calcUsage(e){let n=0;return e&&0!==e&&(n=(e+1)/864e5),n=Math.ceil(n),n}isEmpty(e){return 0===Object.keys(e).length}dynamicSort(e){var n=1;return"-"===e[0]&&(n=-1,e=e.substr(1)),function(c,o){var a,s;const l=null===(a=c[e])||void 0===a?void 0:a.toLowerCase(),d=null===(s=o[e])||void 0===s?void 0:s.toLowerCase();return(l<d?-1:l>d?1:0)*n}}onSorted(e,n=!1){let c=this.curDetailList.slice();if(n){if(c=this.filteredCustomers.slice(),!e.sortColumn||""===e.sortDirection)return void(this.filteredCustomers=c)}else if(!e.sortColumn||""===e.sortDirection)return void(this.curDetailList=c);if("device_id"===e.sortColumn||"device_name"===e.sortColumn)return void c.forEach(a=>{a.bridges.sort((s,l)=>{const d="asc"===e.sortDirection;switch(e.sortColumn){case"device_id":return this.compare(s.device_id,l.device_id,d);case"device_name":return this.compare(s.device_name,l.device_name,d);default:return 0}})});const o=c.sort((a,s)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(a.name,s.name,l);case"site_name":return this.compare(a.site_name.toLowerCase(),s.site_name.toLowerCase(),l);case"site_id":return this.compare(a.site_id,s.site_id,l);case"account_number":return this.compare(a.account_number,s.account_number,l);case"occur_total_event_count":return this.compare(a.occur_total_event_count,s.occur_total_event_count,l);case"curUsage":return this.compare(a.curUsage,s.curUsage,l);case"fee":return this.compare(a.fee,s.fee,l);case"site_count":return this.compare(a.site_count,s.site_count,l);case"bridge_count":return this.compare(a.bridge_count,s.bridge_count,l);default:return 0}});n?this.filteredCustomers=o:this.curDetailList=o}compare(e,n,c){return(e<n?-1:1)*(c?1:-1)}getDealerList(){return(0,x.mG)(this,void 0,void 0,function*(){try{if(2!==this.me.type)return;this.dealers=yield this.helper.partner.get_partners()}catch(e){console.debug(e)}})}computedSiteDealer(e){var n;const c=this.dealers.find(o=>o.dealer_id===e.dealer_id);return e.dealer==this.me.dealer_id?e.name:null!==(n=null==c?void 0:c.external_dealer_id_with_company_name)&&void 0!==n?n:e.name}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(D.x),t.Y36(I.v),t.Y36(z.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal-v2-summary"]],inputs:{active:"active",modal:"modal",dealer:"dealer",invoice:"invoice"},outputs:{onClose:"onClose"},features:[t.TTD],decls:118,vars:22,consts:[["id","invoice-body",1,"body"],["id","invoice-body",1,"invoice-body"],[1,"invoice-title"],[1,"invoice-title-row"],[1,"title-left",2,"display","flex","flex-direction","column","justify-content","flex-end"],["src","/assets/logo/logo-wide-blue-50.png",2,"width","100px"],[1,"title-row-right",2,"text-align","right"],[2,"font-size","20px"],[1,"title-left"],[1,"title-item-box"],[1,"title-item"],[1,"contents"],[1,"title-row-right"],[1,"summary-box"],[1,"summary-title",2,"font-size","15px"],[1,"row","between"],[1,"right"],[2,"border","solid .7px #d1d2d2","margin-top","5px"],[1,"row","between","summary-title"],[2,"flex","none"],[1,"right",2,"flex","none"],[1,"invoice-informations"],[1,"invoice-info-box"],[1,"invoice-info-title"],[1,"invoice-info-contents"],[1,"invoice-items"],["width","60%"],["width","20%"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"display","flex","flex-direction","row","justify-content","flex-end"],[2,"width","300px"],[2,"display","flex","justify-content","space-between","padding","9px 0px"],[2,"color","hsla(0,0%,0%,0.6)"],[2,"padding-right","16px"],[2,"height","1px","background","hsla(0, 0%, 0%, 0.1)"],[2,"display","flex","justify-content","space-between","font-weight","500","padding","9px 0px"],[2,"margin-top","15px"],[2,"display","flex","flex-direction","row","width","100%"],[1,"invoice-info-box",2,"flex","7"],[1,"invoice-info-contents",2,"margin-right","10px"],[1,"invoice-info-contents",2,"margin-right","10px","margin-left","6px"],[1,"invoice-info-box",2,"flex","3"],[1,"invoice-info-noti"],["width","40%"],[1,"body",2,"min-height","auto"],["id","subdealer-body",1,"invoice-body"],[1,"invoice-items",2,"margin-top","10px"],[2,"border-color","#aed7ff"],[2,"background","#d5eaff"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div"),t.TgZ(8,"span",7),t._uU(9,"CHeKT Services Invoice"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",3),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t._uU(14,"Dealer E-mail"),t.qZA(),t.TgZ(15,"div",11),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",9),t.TgZ(18,"div",10),t._uU(19,"Bill to Address"),t.qZA(),t.TgZ(20,"div",11),t._uU(21),t.qZA(),t.TgZ(22,"div",11),t._uU(23),t.qZA(),t.TgZ(24,"div",11),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",12),t.TgZ(27,"div",13),t.TgZ(28,"div",14),t._uU(29,"Invoice Summary"),t.qZA(),t.TgZ(30,"div",15),t.TgZ(31,"div"),t._uU(32,"Invoice Number"),t.qZA(),t.TgZ(33,"div",16),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"div"),t._uU(37,"Billing Statement"),t.qZA(),t.TgZ(38,"div",16),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"div",15),t.TgZ(41,"div"),t._uU(42,"Invoice Date"),t.qZA(),t.TgZ(43,"div",16),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"div",15),t.TgZ(46,"div"),t._uU(47,"Due Date"),t.qZA(),t.TgZ(48,"div",16),t._uU(49),t.qZA(),t.qZA(),t._UZ(50,"div",17),t.TgZ(51,"div",18),t.TgZ(52,"div",19),t._uU(53),t.qZA(),t.TgZ(54,"div",20),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",21),t.TgZ(57,"div",22),t.TgZ(58,"div",23),t._uU(59),t.qZA(),t.TgZ(60,"div",24),t._uU(61,"Greetings from CHeKT Services, we're writing to provide you with an electronic invoice for your use of CHeKT services. Additional information"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",25),t.TgZ(63,"table"),t.TgZ(64,"colgroup"),t._UZ(65,"col",26),t._UZ(66,"col",27),t._UZ(67,"col",27),t.qZA(),t.TgZ(68,"thead"),t.TgZ(69,"tr"),t.TgZ(70,"th"),t._uU(71,"Summary"),t.qZA(),t._UZ(72,"th"),t.TgZ(73,"th",28),t._uU(74,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(75,"tbody"),t.YNc(76,kt,6,3,"tr",29),t.YNc(77,Dt,2,0,"ng-container",30),t.qZA(),t.qZA(),t.TgZ(78,"div",31),t.TgZ(79,"div",32),t.TgZ(80,"div",33),t.TgZ(81,"div",34),t._uU(82,"Total for this invoice"),t.qZA(),t.TgZ(83,"div",35),t._uU(84),t.qZA(),t.qZA(),t._UZ(85,"div",36),t.TgZ(86,"div",33),t.TgZ(87,"div",34),t._uU(88,"Applied Payment"),t.qZA(),t.TgZ(89,"div",35),t._uU(90),t.qZA(),t.qZA(),t._UZ(91,"div",36),t.TgZ(92,"div",37),t.TgZ(93,"div"),t._uU(94,"Amount Due"),t.qZA(),t.TgZ(95,"div",35),t._uU(96),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(97,St,3,1,"ng-container",30),t._UZ(98,"div",38),t.TgZ(99,"div",21),t.TgZ(100,"div",39),t.TgZ(101,"div",40),t._UZ(102,"div",41),t.TgZ(103,"div",42),t._uU(104,"CHeKT Inc. "),t._UZ(105,"br"),t._uU(106,"Attn: Accounts Receivable "),t._UZ(107,"br"),t._uU(108,"5874 Greenwood Rd. Shreveport, LA 71119"),t.qZA(),t.qZA(),t.TgZ(109,"div",43),t.TgZ(110,"div",44),t._uU(111,"Service Provider"),t._UZ(112,"br"),t._uU(113,"\nCHeKT, Inc."),t._UZ(114,"br"),t._UZ(115,"br"),t._UZ(116,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(117,Vt,20,2,"ng-container",30)),2&e&&(t.xp6(16),t.Oqu(n.invoice.dealer_company_email),t.xp6(5),t.Oqu(n.invoice.dealer_company_name),t.xp6(2),t.Oqu(n.invoice.dealer_company_address1),t.xp6(2),t.Oqu(n.invoice.dealer_company_address2),t.xp6(9),t.Oqu(n.invoice.dealer_invoice_id?n.invoice.dealer_invoice_id:n.invoice.invoice_id),t.xp6(5),t.Oqu(n.commonService.periodBillDate(n.invoice.begin_period,n.invoice.end_period)),t.xp6(5),t.Oqu(n.commonService.summaryDate(n.invoice.invoice_date)),t.xp6(5),t.Oqu(n.commonService.summaryDate(n.invoice.payment_due)),t.xp6(4),t.hij("TOTAL AMOUNT DUE ON ",n.commonService.summaryDate(n.invoice.end_period),""),t.xp6(2),t.AsE("",n.invoice.currency_symbol," ",n.invoice.fee?n.invoice.fee.toFixed(2):"0.00",""),t.xp6(4),t.hij("This invoice is for the billing period ",n.commonService.periodBillDate(n.invoice.begin_period,n.invoice.end_period),""),t.xp6(17),t.Q6J("ngForOf",n.summaryV2),t.xp6(1),t.Q6J("ngIf",!n.summary.length),t.xp6(7),t.AsE("",n.invoice.currency_symbol," ",n.invoice.origin_fee?n.invoice.origin_fee.toFixed(2):"0.00",""),t.xp6(6),t.AsE("",n.invoice.currency_symbol," ",n.invoice.applied_balance?n.invoice.applied_balance.toFixed(2):"0.00",""),t.xp6(6),t.AsE("",n.invoice.currency_symbol," ",n.invoice.remained_fee?n.invoice.remained_fee.toFixed(2):"0.00",""),t.xp6(1),t.Q6J("ngIf",n.manualItems.length>0),t.xp6(20),t.Q6J("ngIf",0!==n.customers.length&&!n.isLoading))},directives:[_.sg,_.O5],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function Jt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",28),t.TgZ(4,"td",28),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.plan_name),t.xp6(3),t.AsE("",n.usersService.me.currency_symbol," ",null!=e&&e.fee?null==e?null:e.fee.toFixed(2):"0.00","")}}function Qt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",28),t._uU(6),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol," ",null!=e&&e.fee?null==e?null:e.fee.toFixed(2):"0.00","")}}function Yt(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"table"),t.TgZ(2,"colgroup"),t._UZ(3,"col",45),t._UZ(4,"col",45),t._UZ(5,"col",27),t.qZA(),t.TgZ(6,"thead"),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9,"Name"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Description"),t.qZA(),t.TgZ(12,"th",28),t._uU(13,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,Qt,7,4,"tr",29),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(15),t.Q6J("ngForOf",e.manualItems)}}function Lt(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",25),t.YNc(2,Yt,16,1,"ng-container",37),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.isDetail)}}function jt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",28),t.TgZ(4,"td",28),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(3),t.AsE("",n.usersService.me.currency_symbol," ",null!=e&&e.fee?null==e?null:e.fee.toFixed(2):"0.00","")}}function Rt(i,r){if(1&i&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t._UZ(2,"td",28),t.TgZ(3,"td",28),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.hij("",e.usersService.me.currency_symbol," 0")}}function Bt(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",46),t.TgZ(2,"div",47),t.TgZ(3,"div",48),t.TgZ(4,"table",49),t.TgZ(5,"colgroup"),t._UZ(6,"col",26),t._UZ(7,"col",27),t._UZ(8,"col",27),t.qZA(),t.TgZ(9,"thead",50),t.TgZ(10,"tr"),t.TgZ(11,"th"),t._uU(12,"Dealer Name"),t.qZA(),t.TgZ(13,"th",28),t._uU(14,"Signals"),t.qZA(),t.TgZ(15,"th",28),t._uU(16,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"tbody"),t.YNc(18,jt,6,4,"tr",29),t.YNc(19,Rt,5,1,"tr",37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.customers),t.xp6(1),t.Q6J("ngIf",0===e.customers.length)}}let $t=(()=>{class i{constructor(e,n,c){this.usersService=e,this.commonService=n,this.helper=c,this.dealer={},this.onClose=new t.vpe,this.isLoading=!1,this.manualItems=[],this.customers=[],this.filteredCustomers=[],this.summaryV3=[],this.dealers=[]}ngOnInit(){this.usersService.getMe().subscribe(e=>(0,x.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.me=e,this.customers=[],this.filteredCustomers=[],yield this.getDealerList(),this.setInvoiceV3(this.invoice)}))}isPlanForBridge(e){return e>=3&&e<=6}isTalkDownFree(e){return 8===parseInt(e)}isTwoMinPlayBack(e){return 10===parseInt(e)}isRemoteDeviceAccessFree(e){return 12===parseInt(e)}setInvoiceV3(e){this.manualItems=e.manuals;const n={},c=[];e.plans.forEach(a=>{if(this.isTalkDownFree(a.plan_id)||this.isRemoteDeviceAccessFree(a.plan_id)||this.isTwoMinPlayBack(a.plan_id)||15===a.plan_id||18===a.plan_id||20===a.plan_id)return;let s={};a.isFold=!0,this.isPlanForBridge(a.plan_id)&&(a.isUseDeviceField=!0,s.isUseDeviceField=!0),s.plan_name=a.plan_name,a.name=a.plan_name,s.fee=a.fee,c.push(s),n[s.plan_name]=a});let o=0;if(e.manuals.forEach(a=>{let s={};s.plan_name=a.name,s.fee=a.fee,c.push(s),o+=a.fee}),2===this.me.type){const a=[],s=P.cloneDeep(e.retails);0!==s.length&&s.forEach(d=>{d.dealer_id!==this.me.dealer_id&&(console.log(d.dealer_id,this.computedSiteDealer(d)),d.name=this.computedSiteDealer(d),a.push(d))}),this.customers=a.sort(this.sortCustomersByDealerName()),this.filteredCustomers=[];const l={customer_id:e.customer_id,dealer_company_name:this.me.company_name,name:this.me.company_name,fee:e.total_fee_only_my_dealer};2===e.type&&(l.subInfo="(WCS.M)"),this.customers.unshift(l),this.filteredCustomers=P.cloneDeep(this.customers)}this.summaryV3=c,this.isLoading=!1}sortCustomersByDealerName(){return function(e,n){var c,o;const a=null===(c=e.name)||void 0===c?void 0:c.toLowerCase(),s=null===(o=n.name)||void 0===o?void 0:o.toLowerCase();return a<s?-1:a>s?1:0}}getDealerList(){return(0,x.mG)(this,void 0,void 0,function*(){try{if(2!==this.me.type)return;this.dealers=yield this.helper.partner.get_partners()}catch(e){console.debug(e)}})}computedSiteDealer(e){var n;const c=this.dealers.find(o=>o.dealer_id===e.dealer_id);return e.dealer==this.me.dealer_id?e.name:null!==(n=null==c?void 0:c.external_dealer_id_with_company_name)&&void 0!==n?n:e.name}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(I.v),t.Y36(z.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal-v3-summary"]],inputs:{dealer:"dealer",invoice:"invoice"},outputs:{onClose:"onClose"},decls:118,vars:21,consts:[["id","invoice-body",1,"body"],["id","invoice-body",1,"invoice-body"],[1,"invoice-title"],[1,"invoice-title-row"],[1,"title-left",2,"display","flex","flex-direction","column","justify-content","flex-end"],["src","/assets/logo/logo-wide-blue-50.png",2,"width","100px"],[1,"title-row-right",2,"text-align","right"],[2,"font-size","20px"],[1,"title-left"],[1,"title-item-box"],[1,"title-item"],[1,"contents"],[1,"title-row-right"],[1,"summary-box"],[1,"summary-title",2,"font-size","15px"],[1,"row","between"],[1,"right"],[2,"border","solid .7px #d1d2d2","margin-top","5px"],[1,"row","between","summary-title"],[2,"flex","none"],[1,"right",2,"flex","none"],[1,"invoice-informations"],[1,"invoice-info-box"],[1,"invoice-info-title"],[1,"invoice-info-contents"],[1,"invoice-items"],["width","60%"],["width","20%"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row","justify-content","flex-end"],[2,"width","300px"],[2,"display","flex","justify-content","space-between","padding","9px 0px"],[2,"color","hsla(0,0%,0%,0.6)"],[2,"padding-right","16px"],[2,"height","1px","background","hsla(0, 0%, 0%, 0.1)"],[2,"display","flex","justify-content","space-between","font-weight","500","padding","9px 0px"],[4,"ngIf"],[2,"margin-top","15px"],[2,"display","flex","flex-direction","row","width","100%"],[1,"invoice-info-box",2,"flex","7"],[1,"invoice-info-contents",2,"margin-right","10px"],[1,"invoice-info-contents",2,"margin-right","10px","margin-left","6px"],[1,"invoice-info-box",2,"flex","3"],[1,"invoice-info-noti"],["width","40%"],[1,"body",2,"min-height","auto"],["id","subdealer-body",1,"invoice-body"],[1,"invoice-items",2,"margin-top","10px"],[2,"border-color","#aed7ff"],[2,"background","#d5eaff"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"div"),t.TgZ(8,"span",7),t._uU(9,"CHeKT Services Invoice"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",3),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t._uU(14,"Dealer E-mail"),t.qZA(),t.TgZ(15,"div",11),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",9),t.TgZ(18,"div",10),t._uU(19,"Bill to Address"),t.qZA(),t.TgZ(20,"div",11),t._uU(21),t.qZA(),t.TgZ(22,"div",11),t._uU(23),t.qZA(),t.TgZ(24,"div",11),t._uU(25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",12),t.TgZ(27,"div",13),t.TgZ(28,"div",14),t._uU(29,"Invoice Summary"),t.qZA(),t.TgZ(30,"div",15),t.TgZ(31,"div"),t._uU(32,"Invoice Number"),t.qZA(),t.TgZ(33,"div",16),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"div"),t._uU(37,"Billing Statement"),t.qZA(),t.TgZ(38,"div",16),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"div",15),t.TgZ(41,"div"),t._uU(42,"Invoice Date"),t.qZA(),t.TgZ(43,"div",16),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"div",15),t.TgZ(46,"div"),t._uU(47,"Due Date"),t.qZA(),t.TgZ(48,"div",16),t._uU(49),t.qZA(),t.qZA(),t._UZ(50,"div",17),t.TgZ(51,"div",18),t.TgZ(52,"div",19),t._uU(53),t.qZA(),t.TgZ(54,"div",20),t._uU(55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",21),t.TgZ(57,"div",22),t.TgZ(58,"div",23),t._uU(59),t.qZA(),t.TgZ(60,"div",24),t._uU(61," Greetings from CHeKT Services, we're writing to provide you with an electronic invoice for your use of CHeKT services. Additional information"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",25),t.TgZ(63,"table"),t.TgZ(64,"colgroup"),t._UZ(65,"col",26),t._UZ(66,"col",27),t._UZ(67,"col",27),t.qZA(),t.TgZ(68,"thead"),t.TgZ(69,"tr"),t.TgZ(70,"th"),t._uU(71,"Summary"),t.qZA(),t._UZ(72,"th"),t.TgZ(73,"th",28),t._uU(74,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(75,"tbody"),t.YNc(76,Jt,6,3,"tr",29),t.qZA(),t.qZA(),t.TgZ(77,"div",30),t.TgZ(78,"div",31),t.TgZ(79,"div",32),t.TgZ(80,"div",33),t._uU(81,"Total for this invoice"),t.qZA(),t.TgZ(82,"div",34),t._uU(83),t.qZA(),t.qZA(),t._UZ(84,"div",35),t.TgZ(85,"div",32),t.TgZ(86,"div",33),t._uU(87,"Applied Payment"),t.qZA(),t.TgZ(88,"div",34),t._uU(89),t.qZA(),t.qZA(),t._UZ(90,"div",35),t.TgZ(91,"div",36),t.TgZ(92,"div"),t._uU(93,"Amount Due"),t.qZA(),t.TgZ(94,"div",34),t._uU(95),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(96,Lt,3,1,"ng-container",37),t._UZ(97,"div",38),t.TgZ(98,"div",21),t.TgZ(99,"div",39),t.TgZ(100,"div",40),t.TgZ(101,"div",41),t._uU(102,"* All Invoice can be paid online or to the following address"),t.qZA(),t.TgZ(103,"div",42),t._uU(104,"CHeKT Inc."),t._UZ(105,"br"),t._uU(106,"\nAttn: Accounts Receivable"),t._UZ(107,"br"),t._uU(108,"\n5874 Greenwood Rd. Shreveport, LA 71119"),t.qZA(),t.qZA(),t.TgZ(109,"div",43),t.TgZ(110,"div",44),t._uU(111,"Service Provider"),t._UZ(112,"br"),t._uU(113,"\nCHeKT, Inc."),t._UZ(114,"br"),t._UZ(115,"br"),t._UZ(116,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(117,Bt,20,2,"ng-container",37)),2&e&&(t.xp6(16),t.Oqu(n.invoice.dealer_email),t.xp6(5),t.Oqu(n.invoice.dealer_company_name),t.xp6(2),t.Oqu(n.invoice.dealer_address1),t.xp6(2),t.Oqu(n.invoice.dealer_address2),t.xp6(9),t.Oqu(n.invoice.dealer_invoice_id?n.invoice.dealer_invoice_id:n.invoice.invoice_id),t.xp6(5),t.Oqu(n.commonService.periodBillDate(n.invoice.begin_period,n.invoice.end_period)),t.xp6(5),t.Oqu(n.commonService.summaryDate(n.invoice.invoice_date)),t.xp6(5),t.Oqu(n.commonService.summaryDate(n.invoice.payment_due)),t.xp6(4),t.hij("TOTAL AMOUNT DUE ON ",n.commonService.summaryDate(n.invoice.end_period),""),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol," ",null!=n.invoice&&n.invoice.amount_due?null==n.invoice?null:n.invoice.amount_due.toFixed(2):"0.00",""),t.xp6(4),t.hij(" This invoice is for the billing period ",n.commonService.periodBillDate(n.invoice.begin_period,n.invoice.end_period),""),t.xp6(17),t.Q6J("ngForOf",n.summaryV3),t.xp6(7),t.AsE("",n.usersService.me.currency_symbol," ",null!=n.invoice&&n.invoice.total_fee?null==n.invoice?null:n.invoice.total_fee.toFixed(2):"0.00",""),t.xp6(6),t.AsE("",n.usersService.me.currency_symbol," ",null!=n.invoice&&n.invoice.applied_balance?null==n.invoice?null:n.invoice.applied_balance.toFixed(2):"0.00",""),t.xp6(6),t.AsE("",n.usersService.me.currency_symbol," ",null!=n.invoice&&n.invoice.amount_due?null==n.invoice?null:n.invoice.amount_due.toFixed(2):"0.00",""),t.xp6(1),t.Q6J("ngIf",n.manualItems.length>0),t.xp6(21),t.Q6J("ngIf",0!==n.customers.length&&!n.isLoading))},directives:[_.sg,_.O5],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function Wt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",7),t._uU(4),t.qZA(),t.TgZ(5,"td",7),t._uU(6),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",e.site_name," - ",e.device_name,""),t.xp6(2),t.Oqu(e.signals?e.signals:0),t.xp6(2),t.AsE("",n.invoice.currency_symbol," ",e.amount.toFixed(2),"")}}function Ht(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2,"No devices for this plan"),t.qZA(),t.TgZ(3,"td",7),t._uU(4,"0"),t.qZA(),t.TgZ(5,"td",7),t._uU(6),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(6),t.hij("",e.invoice.currency_symbol," 0.00")}}function Kt(i,r){if(1&i&&(t.TgZ(0,"div",3),t.TgZ(1,"table"),t.TgZ(2,"colgroup"),t._UZ(3,"col",14),t._UZ(4,"col",15),t._UZ(5,"col",15),t.qZA(),t.TgZ(6,"thead"),t.TgZ(7,"th"),t._uU(8),t.qZA(),t.TgZ(9,"th",7),t._uU(10,"Signals"),t.qZA(),t.TgZ(11,"th",7),t._uU(12,"Amount"),t.qZA(),t.qZA(),t.TgZ(13,"tbody"),t.YNc(14,Wt,7,5,"tr",8),t.YNc(15,Ht,7,1,"tr",9),t.qZA(),t.qZA(),t.qZA()),2&i){const e=r.$implicit;t.xp6(8),t.Oqu(e.plan_name),t.xp6(6),t.Q6J("ngForOf",e.plans),t.xp6(1),t.Q6J("ngIf",0===e.plans.length)}}function Gt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td"),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"td",7),t.TgZ(8,"div"),t._uU(9),t.qZA(),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(e.description),t.xp6(3),t.AsE("",n.invoice.currency_symbol," ",e.amount.toFixed(2),"")}}function Xt(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2,"No items for this plan"),t.qZA(),t._UZ(3,"td",7),t.TgZ(4,"td",7),t._uU(5),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.hij("",e.invoice.currency_symbol," 0.00")}}function te(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",7),t._uU(4),t.qZA(),t.TgZ(5,"td",7),t._uU(6),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.company_name),t.xp6(2),t.Oqu(e.signals),t.xp6(2),t.AsE("",n.invoice.currency_symbol," ",e.amount,"")}}function ee(i,r){if(1&i&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t._UZ(2,"td",7),t.TgZ(3,"td",7),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(4),t.hij("",e.invoice.currency_symbol," 0")}}let ne=(()=>{class i{constructor(e,n,c){this.usersService=e,this.invoiceService=n,this.commonService=c,this.dealer={},this.onClose=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.isDetailLoading=!1,this.tail_status="none",this.m_warning=new y.u,this.m_pay=new y.u,this.o_invoice={},this.payment={},this.summary=[],this.items=[],this.manualItems=[],this.sites=[],this.tax=0,this.customers=[],this.filteredCustomers=[],this.cur_dealer={},this.curPage="invoice",this.tabList=[],this.filteredTabList=[],this.curTab="",this.plans={},this.filteredPlans={},this.curPlan={},this.curSubDealerPlan={},this.curDetailList=[],this.curDealerList=[],this.selDealer={},this.summaryV2=[],this.curSort={}}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.me=e})}ngOnChanges(e){e.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.curPage="invoice",this.customers=[],this.filteredCustomers=[],this.selDealer={},this.modal.data.invoice&&this.fetchData())}fetchData(){this.cur_dealer=this.me,this.curSort={},this.setInvoice(this.invoice)}setInvoice(e){this.o_invoice=e.invoice,this.payment=e.payment,this.invoice=Object.assign(this.invoice,this.o_invoice),this.summary=e.summary,this.items=e.items,this.manualItems=e.manual_items,this.tax=this.o_invoice.tax;const n=[],c=[];M().cloneDeep(e.items).forEach(s=>{let l=!1;n.forEach(d=>{d.plan_id===s.plan_id&&(l=!0,0!==s.plans.length&&(d.plans=d.plans.concat(s.plans)))}),(0===n.length||!l)&&n.push(s)});const a=M().cloneDeep(e.customers);0!==a.length&&a.forEach(s=>{s.fee=s.amount,s.customer_id!==this.me.dealer_id&&c.push(s)}),this.items=n,this.customers=c,this.filteredCustomers=this.customers,this.isLoading=!1,this.invoice.fee=e.amount,this.o_invoice.payment_id&&this.invoiceService.getReceipt(this.me.dealer_id,this.o_invoice.payment_id).subscribe(s=>{})}setDetailList(e){const c=[];e.details.forEach(o=>{let a={site_name:o.site_name,site_id:o.site_id,account_number:o.account_number,full_fee:o.full_fee,curUsage:o.usage_day?o.usage_day:this.calcUsage(o.usage),maxUsage:o.max_usage_day?o.max_usage_day:this.calcUsage(o.max_usage),fee:o.site_fee,customer_id:o.customer_id};if(a=Object.assign(a,o),e.isUseDeviceField){a.totalUsage=0,a.avgUsage=0,a.isFold=!0;const s=o.bridges.length;a.bridgeCount=s,c.push(a),0!==s&&(a.bridges=[],o.bridges.forEach((l,d)=>{let g=M().cloneDeep(a);g.device_name=l.name,g.device_id=l.device_id,g.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),g.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),l.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),l.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),g.fee=l.bridge_fee,a.totalUsage+=l.usage_day?l.usage_day:this.calcUsage(l.usage),a.bridges.push(g)}),0!==s&&(a.avgUsage=Math.ceil(a.totalUsage/s)))}else c.push(a)}),e.list=c.sort(this.dynamicSort("site_name"))}selectPlanTab(e,n){this.curTab=e,this.curPlan=this.filteredPlans[e.name],this.setFilterCustomer(),this.onSorted(this.curSort);let c=this.selDealer;n&&(c=n),this.curDetailList=c.customer_id?this.curPlan.list.filter(o=>o.customer_id===c.customer_id):this.curPlan.list}selectDealer(e){this.isDetailLoading=!0,e.isSelected=!0,setTimeout(()=>{let n=M().cloneDeep(this.plans);this.tabList.forEach(c=>{let o=0;n[c.name].details.forEach(a=>{a.customer_id===e.customer_id&&(o+=a.plan_id?a.site_fee:a.fee)}),n[c.name].fee=o}),this.filteredPlans=n,this.selDealer=e,this.selectPlanTab(this.curTab),this.isDetailLoading=!1,e.isSelected=!1},100)}setFilterCustomer(){const e=this.curPlan.name;this.filteredCustomers.forEach(n=>{let c=0,o=0;0!==this.curPlan.plan_id?this.filteredPlans[e].details.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.site_fee,o+=a.bridge_count)}):this.filteredPlans[e].list.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.fee,o+=a.bridge_count)}),n.bridge_count=o,n.fee=c})}goToPage(e){this.curPage=e,this.selDealer={}}unselectDealer(){this.selDealer={},this.filteredPlans=this.plans,this.curPlan=this.filteredPlans[this.curTab.name]}calcUsage(e){let n=0;return e&&0!==e&&(n=(e+1)/864e5),n=Math.ceil(n),n}setLabel(e){let n={};n=1===this.invoiceService.invoiceVersion?e.payment:e.payments,this.isEmpty(n)?0===e.status?(e.status_text="DRAFT",e.status_label="status-normal"):4===e.status?G()().isAfter(e.payment_due)?(e.status_text="OVERDUE",e.status_label="status-overdue"):(e.status_text="NOT PAID",e.status_label="status-unpaid"):(e.status_text="UNKNOWN",e.status_label="status-normal"):(e.status_text="PAID",e.status_label="status-success","Refund"===n.status&&(e.status_text="REFUNDED",e.status_label="status-success"))}isEmpty(e){return 0===Object.keys(e).length}openPayModal(){this.m_pay.data.invoice=this.invoice,this.m_pay.open()}closePayModal(){this.m_pay.close()}print(){let e,n,c;e=document.getElementById("invoice-body").innerHTML,n=document.getElementById("subdealer-body").innerHTML,c=window.open("","_blank","top=0,left=0,height=600px,width=1000px;"),c.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp">\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,500,600,700">\n          <title>Invoice</title>\n          <style>\n          @media print {\n            body {\n               -webkit-print-color-adjust: exact;\n            }\n          }\n          .invoice-body {\n            padding: 30px;\n            transition: 0.2s;\n            align-items: center;\n          }\n          .invoice-title {\n            margin-bottom: 36px;\n          }\n          .invoice-title .title {\n            font-size: 20px;\n            flex: 1;\n          }\n          .customer-name {\n            font-weight: bold;\n            font-size: 16px;\n            padding: 8px 0;\n          }\n          .invoice-info table {\n            width: 100%;\n          }\n          .invoice-info td {\n            padding: 8px;\n            text-align: right;\n            font-size: 14px;\n          }\n          .item-name {\n            display: "table-cell";\n            height: 20px;\n            margin: 0px 0px 0px 0px;\n          }\n          .sub-item {\n            height: 20px;\n            display: table-cell;\n            text-align: right;\n            width: 400px;\n            vertical-align: middle;\n          }\n          .flex-row {\n            display: flex;\n            flex-direction: row;\n          }\n          .price {\n            display: table-cell;\n            text-align: right;\n            padding-right: 30%;\n            width: 100%;\n          }\n          .invoice-title {\n            margin-bottom: 48px;\n          }\n          .invoice-title .invoice-title-row {\n            display: flex;\n            margin-top: 16px;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title .title-left {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-left .title-item-box {\n            margin-bottom: 10px;\n            font-size: 12px;\n          }\n          .invoice-title .title-left .title-item-box .title-item {\n            font-family: Helvetica;\n            font-size: 12px;\n            color: #000;\n          }\n          .invoice-title .title-left .title-item-box .email {\n            font-size: 16px;\n          }\n          .invoice-title .title-left .title-item-box .contents {\n            font-size: 12px;\n          }\n          .invoice-title .title-right {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-right .title-item-box {\n            font-size: 12px;\n          }\n          .invoice-title .title-right .title-item-box .title-item {\n            font-size: 11px;\n          }\n          .invoice-title .title-right .title-item-box .label {\n            font-size: 14px;\n            font-weight: bold;\n          }\n          .invoice-title .title-right .title-item-box .title-contents {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n          .invoice-title .title-right .title-item-box .line {\n            margin: 2px 0px;\n            border-bottom: 1px solid #ccc;\n          }\n          .invoice-title .title-right .title-item-box .line.bold {\n            border-bottom: 2px solid #ccc;\n          }\n          .invoice-informations {\n            display: flex;\n            flex-direction: row;\n          }\n          .invoice-informations .invoice-info-box {\n            flex: 1;\n            position: relative;\n            padding-bottom: 8px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-title {\n            font-weight: bold;\n            font-size: 18px;\n            padding: 8px 0;\n            color: #5a6574;\n            letter-spacing: -0.1px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents {\n            font-size: 12px;\n            letter-spacing: -0.1px;\n            color: #4a4a4a;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.small {\n            font-size: 10px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.big {\n            font-size: 11px;\n            color: #000;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-noti {\n            text-align: right;\n            font-size: 12px;\n            font-weight: 500;\n            letter-spacing: -0.1px;\n            color: #979797;\n          }\n          .invoice-items {\n            margin-top: 15px;\n          }\n          .invoice-items table {\n            width: 100%;\n            border-collapse: collapse;\n            border: solid 1px #ececed;\n          }\n          .invoice-items thead {\n            background: #ecfbff;\n          }\n          .invoice-items th {\n            padding: 12px 16px;\n            color: #5a6574;\n            text-transform: capitalize;\n            text-align: left;\n            font-size: 12px;\n            font-weight: bold;\n          }\n          .invoice-items tbody tr:nth-child(even) {\n            background: rgba(247, 247, 247, 1);\n          }\n          .invoice-items td {\n            position: relative;\n            padding: 12px 16px;\n            color: #4a4a4a;\n            font-size: 13px;\n            letter-spacing: -0.1px;\n          }\n          .invoice-items input {\n            width: 100%;\n            box-sizing: border-box;\n            padding: 8px;\n            border-radius: 4px;\n            border: 1px solid #bbb;\n          }\n          .invoice-items input:focus {\n            border: 1px solid #2383e2;\n            outline: none;\n          }\n          .invoice-items input[type="number"] {\n            text-align: right;\n          }\n          .invoice-title-row {\n            display: flex;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title-row .title-row-right {\n            flex: 1;\n          }\n          .invoice-title-row .title-row-left {\n            flex: 1;\n          }\n          .row {\n            display: flex;\n            width: 100%;\n            padding-top: 5px;\n          }\n          .row.between {\n            justify-content: space-between;\n          }\n          .row .cell {\n            flex: 1;\n          }\n          .row .right {\n            text-align: right;\n          }\n          .row center {\n            text-align: center;\n          }\n          .summary-box {\n            padding: 10px;\n            background-color: #f7f7f7;\n            font-size: 13px;\n            color: #5a6574;\n            font-family: Roboto;\n          }\n          .summary-box .summary-title {\n            font-weight: bold;\n            letter-spacing: -0.1px;\n          }\n          .center {\n            text-align: center !important;\n          }\n          .right {\n            text-align: right !important;\n          }\n          .pagebreak {\n            page-break-before: always;\n          }\n          </style>\n        </head>\n    <body onload="window.print();window.close()">${e}<div class="pagebreak"> </div>${n}</body>\n      </html>`),c.document.close()}downloadCSV(){const n=this.invoice.invoice_id;this.invoiceService.getInvoiceCSV(this.me.dealer_id,n).subscribe(c=>{const o=c.csv_url;let a=document.createElement("a");a.download="invoice_ID_"+n+".csv",a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)})}planAllToggle(){this.curPlan.isFold=!this.curPlan.isFold;let e=this.curPlan.isFold;this.curDetailList.forEach(n=>{n.isFold=e})}dynamicSort(e){var n=1;return"-"===e[0]&&(n=-1,e=e.substr(1)),function(c,o){const a=c[e].toLowerCase(),s=o[e].toLowerCase();return(a<s?-1:a>s?1:0)*n}}onSorted(e,n=!1){let c=this.curDetailList.slice();if(n){if(c=this.filteredCustomers.slice(),!e.sortColumn||""===e.sortDirection)return void(this.filteredCustomers=c)}else if(!e.sortColumn||""===e.sortDirection)return void(this.curDetailList=c);if("device_id"===e.sortColumn||"device_name"===e.sortColumn)return void c.forEach(a=>{a.bridges.sort((s,l)=>{const d="asc"===e.sortDirection;switch(e.sortColumn){case"device_id":return this.compare(s.device_id,l.device_id,d);case"device_name":return this.compare(s.device_name,l.device_name,d);default:return 0}})});const o=c.sort((a,s)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(a.name,s.name,l);case"site_name":return this.compare(a.site_name.toLowerCase(),s.site_name.toLowerCase(),l);case"site_id":return this.compare(a.site_id,s.site_id,l);case"account_number":return this.compare(a.account_number,s.account_number,l);case"occur_total_event_count":return this.compare(a.occur_total_event_count,s.occur_total_event_count,l);case"curUsage":return this.compare(a.curUsage,s.curUsage,l);case"fee":return this.compare(a.fee,s.fee,l);case"site_count":return this.compare(a.site_count,s.site_count,l);case"bridge_count":return this.compare(a.bridge_count,s.bridge_count,l);default:return 0}});n?this.filteredCustomers=o:this.curDetailList=o}compare(e,n,c){return(e<n?-1:1)*(c?1:-1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(D.x),t.Y36(I.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal-v1-detail"]],inputs:{active:"active",modal:"modal",dealer:"dealer",invoice:"invoice"},outputs:{onClose:"onClose"},features:[t.TTD],decls:62,vars:9,consts:[["id","40602","id","invoice-body",1,"invoice-body"],["id","invoice-detail-body"],["class","invoice-items",4,"ngFor","ngForOf"],[1,"invoice-items"],["width","40%"],["width","15%"],["width","5%"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"border-style","solid","border-width","2px","border-color","#a0a0a0","margin-top","48px"],["id","subdealer-detail-body"],[2,"margin-bottom","8px","font-weight","bold"],[2,"border-color","#aed7ff"],["width","60%"],["width","20%"],[2,"background","#d5eaff"],[2,"margin-top","15px"],[1,"invoice-informations"],[2,"display","flex","flex-direction","row","width","100%"],[1,"invoice-info-box",2,"flex","7"],[1,"invoice-info-contents",2,"margin-right","10px"],[1,"invoice-info-contents",2,"margin-right","10px","margin-left","6px"],[1,"invoice-info-box"],[1,"invoice-info-noti"],[3,"modal","invoice","active"],[3,"modal"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,Kt,16,3,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"table"),t.TgZ(5,"colgroup"),t._UZ(6,"col",4),t._UZ(7,"col",4),t._UZ(8,"col",5),t._UZ(9,"col",6),t.qZA(),t.TgZ(10,"thead"),t.TgZ(11,"th"),t._uU(12,"Item"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Description"),t.qZA(),t.TgZ(15,"th",7),t._uU(16,"Amount"),t.qZA(),t.qZA(),t.TgZ(17,"tbody"),t.YNc(18,Gt,10,4,"tr",8),t.YNc(19,Xt,6,1,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(20,"hr",10),t.TgZ(21,"div",11),t.TgZ(22,"div",3),t.TgZ(23,"div",12),t._uU(24,"Sub Dealers"),t.qZA(),t.TgZ(25,"table",13),t.TgZ(26,"colgroup"),t._UZ(27,"col",14),t._UZ(28,"col",15),t._UZ(29,"col",15),t.qZA(),t.TgZ(30,"thead",16),t.TgZ(31,"th"),t._uU(32,"Sub Dealer Name"),t.qZA(),t.TgZ(33,"th",7),t._uU(34,"Signals"),t.qZA(),t.TgZ(35,"th",7),t._uU(36,"Amount"),t.qZA(),t.qZA(),t.TgZ(37,"tbody"),t.YNc(38,te,7,4,"tr",8),t.YNc(39,ee,5,1,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(40,"div",17),t.TgZ(41,"div",18),t.TgZ(42,"div",19),t.TgZ(43,"div",20),t.TgZ(44,"div",21),t._uU(45," * All Invoice can be paid online or to the following address "),t.qZA(),t.TgZ(46,"div",22),t._uU(47," CHeKT Inc."),t._UZ(48,"br"),t._uU(49," Attn: Accounts Receivable"),t._UZ(50,"br"),t._uU(51," 5874 Greenwood Rd. Shreveport, LA 71119 "),t.qZA(),t.qZA(),t.TgZ(52,"div",23),t.TgZ(53,"div",24),t._uU(54," Service Provider"),t._UZ(55,"br"),t._uU(56," CHeKT, Inc."),t._UZ(57,"br"),t._UZ(58,"br"),t._UZ(59,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(60,"dealer-pay",25),t._UZ(61,"dealer-warning",26)),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.items),t.xp6(16),t.Q6J("ngForOf",n.manualItems),t.xp6(1),t.Q6J("ngIf",0===n.manualItems.length),t.xp6(19),t.Q6J("ngForOf",n.customers),t.xp6(1),t.Q6J("ngIf",0===n.customers.length),t.xp6(21),t.Q6J("modal",n.m_pay)("invoice",n.invoice)("active",n.m_pay.is_active),t.xp6(1),t.Q6J("modal",n.m_warning))},directives:[_.sg,_.O5,E,V.a],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();var X=f(28522),tt=f(39014);function ie(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",10),t._UZ(1,"div",11),t.TgZ(2,"div",12),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().selectPlanTab(o)}),t._UZ(3,"div"),t.TgZ(4,"div",13),t.TgZ(5,"div"),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"span",14),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(11,"div",11),t.qZA()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.ekj("selected-detail-tab",e.name===n.curTab.name),t.xp6(1),t.ekj("selected-detail-tab-line",e.name===n.curTab.name),t.xp6(4),t.Oqu(e.name),t.xp6(3),t.AsE("",n.invoice.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00","")}}function oe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"span"),t.TgZ(2,"i",15),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw();return c.stopPropagation(),o.unselectDealer()}),t._uU(3,"keyboard_backspace"),t.qZA(),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(5),t.lnq("",e.selDealer.name," ",e.selDealer.subInfo?e.selDealer.subInfo:""," (",e.curDetailList.length,")")}}function ce(i,r){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.hij("Dealers (",e.filteredCustomers.length,")")}}function ae(i,r){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Event Total"),t.qZA())}function re(i,r){1&i&&(t.TgZ(0,"th",29),t._uU(1,"\xa0"),t.qZA())}function le(i,r){1&i&&(t.TgZ(0,"th",30),t._uU(1,"Devices"),t.qZA())}function se(i,r){1&i&&(t.TgZ(0,"th",29),t._uU(1,"\xa0"),t.qZA())}function de(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",35),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function ge(i,r){1&i&&(t.TgZ(0,"div",36),t.O4$(),t.TgZ(1,"svg",37),t._UZ(2,"circle",38),t._UZ(3,"circle",39),t.qZA(),t.qZA())}function _e(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",31),t.NdJ("click",function(c){const a=t.CHM(e).$implicit,s=t.oxw(2);return c.stopPropagation(),s.selectDealer(a)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.qZA(),t.TgZ(5,"td",29),t._uU(6),t.qZA(),t.TgZ(7,"td",29),t._uU(8),t.qZA(),t.TgZ(9,"td",29),t._uU(10),t.qZA(),t.TgZ(11,"td",32),t.YNc(12,de,2,0,"i",33),t.YNc(13,ge,4,0,"div",34),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(2),t.Oqu(2===n.curPlan.plan_id?e.occur_total_event_count:"\xa0"),t.xp6(2),t.Oqu(e.site_count),t.xp6(2),t.Oqu(n.curPlan.isUseDeviceField?e.bridge_count:"\xa0"),t.xp6(2),t.AsE("",n.invoice.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function pe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"table",16),t.NdJ("sorted",function(c){return t.CHM(e),t.oxw().onSorted(c,!0)}),t.TgZ(1,"colgroup"),t._UZ(2,"col",17),t._UZ(3,"col",18),t._UZ(4,"col",18),t._UZ(5,"col",18),t._UZ(6,"col",19),t._UZ(7,"col",20),t.qZA(),t.TgZ(8,"thead"),t.TgZ(9,"th",21),t._uU(10,"Dealer Name"),t.qZA(),t.YNc(11,ae,2,0,"th",22),t.YNc(12,re,2,0,"th",23),t.TgZ(13,"th",24),t._uU(14,"Sites"),t.qZA(),t.YNc(15,le,2,0,"th",25),t.YNc(16,se,2,0,"th",23),t.TgZ(17,"th",26),t.TgZ(18,"span"),t._uU(19,"Amount"),t.qZA(),t.qZA(),t._UZ(20,"th"),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,_e,14,9,"tr",27),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngIf",2===e.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",2!==e.curPlan.plan_id),t.xp6(3),t.Q6J("ngIf",e.curPlan.isUseDeviceField),t.xp6(1),t.Q6J("ngIf",!e.curPlan.isUseDeviceField),t.xp6(6),t.Q6J("ngForOf",e.filteredCustomers)}}function ue(i,r){1&i&&(t._UZ(0,"col",42),t._UZ(1,"col",43),t._UZ(2,"col",18),t._UZ(3,"col",18),t._UZ(4,"col",19),t._UZ(5,"col",19),t._UZ(6,"col",44),t._UZ(7,"col",45))}function fe(i,r){1&i&&(t._UZ(0,"col",42),t._UZ(1,"col",43),t._UZ(2,"col",18),t._UZ(3,"col",18),t._UZ(4,"col",43),t._UZ(5,"col",18),t._UZ(6,"col",18))}function me(i,r){1&i&&(t.TgZ(0,"th",46),t._uU(1,"Site Name"),t.qZA(),t.TgZ(2,"th",47),t._uU(3,"Site ID"),t.qZA(),t.TgZ(4,"th",48),t._uU(5,"ACT"),t.qZA())}function xe(i,r){1&i&&(t.TgZ(0,"th",46),t._uU(1,"Name"),t.qZA(),t._UZ(2,"th"),t._UZ(3,"th"))}function be(i,r){1&i&&(t.TgZ(0,"th",49),t._uU(1,"Device Name"),t.qZA(),t.TgZ(2,"th",50),t._uU(3,"Device ID"),t.qZA())}function he(i,r){1&i&&(t._UZ(0,"th"),t._UZ(1,"th",29))}function ve(i,r){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Usage"),t.qZA())}function Ce(i,r){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Event Total"),t.qZA())}function Pe(i,r){1&i&&t._UZ(0,"th",29)}function Me(i,r){1&i&&t._UZ(0,"th",29)}function Oe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"i",52),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(3);return c.stopPropagation(),o.planAllToggle()}),t._uU(2,"keyboard_arrow_down"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.ekj("rotate-reverse",!e.curPlan.isFold)}}function Ze(i,r){if(1&i&&(t.TgZ(0,"th"),t.YNc(1,Oe,3,2,"span",5),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.curPlan.isUseDeviceField)}}const ye=function(i,r,e){return{white:i,gray:r,fold:e}};function we(i,r){if(1&i&&(t.TgZ(0,"tr",54),t._UZ(1,"td"),t._UZ(2,"td",29),t._UZ(3,"td",29),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",29),t._uU(7),t.qZA(),t.TgZ(8,"td",29),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"td",57),t._uU(12),t.qZA(),t._UZ(13,"td"),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(),c=n.index,o=n.$implicit,a=t.oxw(3);t.Q6J("ngClass",t.kEZ(7,ye,c%2==0,c%2==1,o.isFold)),t.xp6(5),t.Oqu(e.device_name),t.xp6(2),t.Oqu(e.device_id),t.xp6(3),t.AsE("",e.curUsage,"/",e.maxUsage," days"),t.xp6(2),t.AsE("",a.invoice.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00","")}}const Te=function(i,r){return{white:i,gray:r}};function Ae(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",54),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.qZA(),t.TgZ(5,"td",29),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",29),t._uU(10),t.qZA(),t.TgZ(11,"td",29),t.TgZ(12,"span"),t._uU(13),t._UZ(14,"br"),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"td",55),t.TgZ(17,"div"),t._uU(18),t.qZA(),t.qZA(),t.TgZ(19,"td"),t.TgZ(20,"div"),t.TgZ(21,"i",52),t.NdJ("click",function(c){const a=t.CHM(e).$implicit;return c.stopPropagation(),a.isFold=!a.isFold}),t._uU(22,"keyboard_arrow_down"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(23,we,14,11,"tr",56)}if(2&i){const e=r.$implicit,n=r.index,c=t.oxw(3);t.Q6J("ngClass",t.WLB(13,Te,n%2==0,n%2==1)),t.xp6(2),t.Oqu(e.site_name),t.xp6(2),t.Oqu(e.site_id),t.xp6(2),t.Oqu(e.account_number),t.xp6(2),t.Oqu(e.device_name),t.xp6(2),t.Oqu(e.device_id),t.xp6(3),t.hij("",e.avgUsage," days"),t.xp6(2),t.hij("/ ",e.bridgeCount," devices"),t.xp6(3),t.AsE("",c.invoice.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(3),t.ekj("rotate-reverse",!e.isFold),t.xp6(2),t.Q6J("ngForOf",e.bridges)}}function qe(i,r){if(1&i&&t.YNc(0,Ae,24,16,"ng-template",53),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function Ue(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",29),t._UZ(4,"td",29),t._UZ(5,"td",29),t._UZ(6,"td",29),t._UZ(7,"td",29),t.TgZ(8,"td",55),t._uU(9),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(7),t.AsE("",n.invoice.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function ke(i,r){if(1&i&&t.YNc(0,Ue,10,3,"tr",58),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function De(i,r){if(1&i&&(t.TgZ(0,"td",29),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.AsE("",e.curUsage,"/",e.maxUsage," days")}}function Ie(i,r){if(1&i&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.occur_total_event_count)}}function ze(i,r){1&i&&t._UZ(0,"td",29)}function Se(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.qZA(),t.TgZ(5,"td",29),t._uU(6),t.qZA(),t._UZ(7,"td"),t._UZ(8,"td",29),t.YNc(9,De,3,2,"ng-template",40),t.YNc(10,Ie,2,1,"ng-template",40),t.YNc(11,ze,1,0,"ng-template",40),t.TgZ(12,"td",55),t._uU(13),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.site_name),t.xp6(2),t.Oqu(e.site_id),t.xp6(2),t.Oqu(e.account_number),t.xp6(3),t.Q6J("ngIf",2!==n.curPlan.plan_id&&4!==n.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",2===n.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",4===n.curPlan.plan_id),t.xp6(2),t.AsE("",n.invoice.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function Fe(i,r){if(1&i&&t.YNc(0,Se,14,8,"tr",58),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function Ne(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"table",16),t.NdJ("sorted",function(c){return t.CHM(e),t.oxw().onSorted(c)}),t.TgZ(1,"colgroup"),t.YNc(2,ue,8,0,"ng-template",40),t.YNc(3,fe,7,0,"ng-template",40),t.qZA(),t.TgZ(4,"thead"),t.YNc(5,me,6,0,"ng-template",40),t.YNc(6,xe,4,0,"ng-template",40),t.YNc(7,be,4,0,"ng-template",40),t.YNc(8,he,2,0,"ng-template",40),t.YNc(9,ve,2,0,"ng-template",40),t.YNc(10,Ce,2,0,"ng-template",40),t.YNc(11,Pe,1,0,"ng-template",40),t.YNc(12,Me,1,0,"ng-template",40),t.TgZ(13,"th",41),t.TgZ(14,"span"),t._uU(15,"Amount"),t.qZA(),t.qZA(),t.YNc(16,Ze,2,1,"ng-template",40),t.qZA(),t.TgZ(17,"tbody"),t.YNc(18,qe,1,1,"ng-template",40),t.YNc(19,ke,1,1,"ng-template",40),t.YNc(20,Fe,1,1,"ng-template",40),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.curPlan.isUseDeviceField),t.xp6(1),t.Q6J("ngIf",!e.curPlan.isUseDeviceField),t.xp6(2),t.Q6J("ngIf",0!==e.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",0===e.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",e.curPlan.isUseDeviceField),t.xp6(1),t.Q6J("ngIf",!e.curPlan.isUseDeviceField),t.xp6(1),t.Q6J("ngIf",2!==e.curPlan.plan_id&&4!==e.curPlan.plan_id&&0!==e.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",2===e.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",4===e.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",0===e.curPlan.plan_id),t.xp6(4),t.Q6J("ngIf",e.curPlan.isUseDeviceField),t.xp6(2),t.Q6J("ngIf",e.curPlan.isUseDeviceField),t.xp6(1),t.Q6J("ngIf",0===e.curPlan.plan_id),t.xp6(1),t.Q6J("ngIf",!e.curPlan.isUseDeviceField&&0!==e.curPlan.plan_id)}}let Ve=(()=>{class i{constructor(e,n,c){this.usersService=e,this.invoiceService=n,this.helper=c,this.dealer={},this.onClose=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.isDetailLoading=!1,this.tail_status="none",this.m_warning=new y.u,this.m_pay=new y.u,this.o_invoice={},this.payment={},this.summary=[],this.items=[],this.manualItems=[],this.sites=[],this.tax=0,this.customers=[],this.filteredCustomers=[],this.cur_dealer={},this.curPage="invoice",this.tabList=[],this.filteredTabList=[],this.curTab="",this.plans={},this.filteredPlans={},this.curPlan={},this.curSubDealerPlan={},this.curDetailList=[],this.curDealerList=[],this.selDealer={},this.summaryV2=[],this.curSort={},this.dealers=[]}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.isLoading=!0,this.me=e,this.customers=[],this.filteredCustomers=[],this.selDealer={},this.fetchData()})}ngOnChanges(e){e.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.curPage="invoice")}fetchData(){return(0,x.mG)(this,void 0,void 0,function*(){this.cur_dealer=this.me,this.curSort={},yield this.getDealerList(),this.setInvoiceV2(this.invoice)})}setInvoiceV2(e){this.payment=e.payment,this.manualItems=e.manuals;const n=[],c={},o=[];e.plans.forEach(l=>{let d={};l.isFold=!0,1===l.plan_id||8===l.plan_id||9===l.plan_id||10===l.plan_id?(d.plan_name=l.plan_name,l.name=l.plan_name,l.isUseDeviceField=!0,d.isUseDeviceField=!0):2===l.plan_id?(d.plan_name="Events",l.name="Events"):5===l.plan_id?(d.plan_name="Playback",l.name="Playback"):(d.plan_name=l.plan_name,l.name=l.plan_name),d.fee=l.fee,n.push({name:d.plan_name,fee:d.fee}),o.push(d),this.setDetailList(l),c[d.plan_name]=l});let a=0;if(e.manuals.forEach(l=>{let d={};d.plan_name=l.name,d.fee=l.fee,o.push(d),a+=l.fee}),n.push({name:"Other",fee:a}),c.Other={name:"Other",fee:a,plan_id:0},c.Other.list=M().cloneDeep(e.manuals),c.Other.details=M().cloneDeep(e.manuals),this.plans=c,this.filteredPlans=this.plans,this.tabList=n,this.filteredTabList=this.tabList,this.curTab=this.tabList[0],2===this.me.type){const l=[],d=M().cloneDeep(e.retails);0!==d.length&&d.forEach(g=>{g.company_name=g.name,g.customer_id!==this.me.dealer_id&&(g.name=this.computedSiteDealer(g),l.push(g))}),this.customers=l.sort(this.dynamicSort("name"))}this.filteredCustomers=[];const s={customer_id:e.customer_id,name:e.name,company_name:e.name,site_count:e.site_count,bridge_count:e.bridge_count,fee:e.fee,occur_total_event_count:e.occur_total_event_count};2===e.type&&(s.subInfo="(WCS.M)"),this.customers.unshift(s),this.filteredCustomers=M().cloneDeep(this.customers),this.selectPlanTab(this.curTab),this.summaryV2=o,this.isLoading=!1,this.o_invoice.payment_id&&this.invoiceService.getReceipt(this.me.dealer_id,this.o_invoice.payment_id).subscribe(l=>{})}setDetailList(e){const c=[];e.details.forEach(o=>{let a={site_name:o.site_name,site_id:o.site_id,account_number:o.account_number,curUsage:o.usage_day?o.usage_day:this.calcUsage(o.usage),maxUsage:o.max_usage_day?o.max_usage_day:this.calcUsage(o.max_usage),fee:o.site_fee,customer_id:o.customer_id};if(a=Object.assign(a,o),e.isUseDeviceField){a.totalUsage=0,a.avgUsage=0,a.isFold=!0;const s=o.bridges.length;a.bridgeCount=s,c.push(a),0!==s&&(a.bridges=[],o.bridges.forEach((l,d)=>{let g=M().cloneDeep(a);g.device_name=l.name,g.device_id=l.device_id,g.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),g.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),l.curUsage=l.usage_day?l.usage_day:this.calcUsage(l.usage),l.maxUsage=l.max_usage_day?l.max_usage_day:this.calcUsage(l.max_usage),g.fee=l.bridge_fee,a.totalUsage+=l.usage_day?l.usage_day:this.calcUsage(l.usage),a.bridges.push(g)}),0!==s&&(a.avgUsage=Math.ceil(a.totalUsage/s)))}else c.push(a)}),e.list=c.sort(this.dynamicSort("site_name"))}selectPlanTab(e,n){this.curTab=e,this.curPlan=this.filteredPlans[e.name],this.setFilterCustomer(),this.onSorted(this.curSort);let c=this.selDealer;n&&(c=n),this.curDetailList=c.customer_id?this.curPlan.list.filter(o=>o.customer_id===c.customer_id):this.curPlan.list}selectDealer(e){this.isDetailLoading=!0,e.isSelected=!0,setTimeout(()=>{let n=M().cloneDeep(this.plans);this.tabList.forEach(c=>{let o=0;n[c.name].details.forEach(a=>{a.customer_id===e.customer_id&&(o+=a.plan_id?a.site_fee:a.fee)}),n[c.name].fee=o}),this.filteredPlans=n,this.selDealer=e,this.selectPlanTab(this.curTab),this.isDetailLoading=!1,e.isSelected=!1},100)}setFilterCustomer(){const e=this.curPlan.name;this.filteredCustomers.forEach(n=>{let c=0,o=0;0!==this.curPlan.plan_id?this.filteredPlans[e].details.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.site_fee,o+=a.bridge_count)}):this.filteredPlans[e].list.forEach(a=>{a.customer_id===n.customer_id&&(c+=a.fee,o+=a.bridge_count)}),n.bridge_count=o,n.fee=c})}goToPage(e){this.curPage=e,this.selDealer={}}unselectDealer(){this.selDealer={},this.filteredPlans=this.plans,this.curPlan=this.filteredPlans[this.curTab.name]}calcUsage(e){let n=0;return e&&0!==e&&(n=(e+1)/864e5),n=Math.ceil(n),n}setLabel(e){let n={};n=1===this.invoiceService.invoiceVersion?e.payment:e.payments,this.isEmpty(n)?0===e.status?(e.status_text="DRAFT",e.status_label="status-normal"):4===e.status?G()().isAfter(e.payment_due)?(e.status_text="OVERDUE",e.status_label="status-overdue"):(e.status_text="NOT PAID",e.status_label="status-unpaid"):(e.status_text="UNKNOWN",e.status_label="status-normal"):(e.status_text="PAID",e.status_label="status-success","Refund"===n.status&&(e.status_text="REFUNDED",e.status_label="status-success"))}isEmpty(e){return 0===Object.keys(e).length}openPayModal(){this.m_pay.data.invoice=this.invoice,this.m_pay.open()}closePayModal(){this.m_pay.close()}print(){let e,n,c;e=document.getElementById("invoice-body").innerHTML,n=document.getElementById("subdealer-body").innerHTML,c=window.open("","_blank","top=0,left=0,height=600px,width=1000px;"),c.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp">\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,500,600,700">\n          <title>Invoice</title>\n          <style>\n          @media print {\n            body {\n               -webkit-print-color-adjust: exact;\n            }\n          }\n          .invoice-body {\n            padding: 30px;\n            transition: 0.2s;\n            align-items: center;\n          }\n          .invoice-title {\n            margin-bottom: 36px;\n          }\n          .invoice-title .title {\n            font-size: 20px;\n            flex: 1;\n          }\n          .customer-name {\n            font-weight: bold;\n            font-size: 16px;\n            padding: 8px 0;\n          }\n          .invoice-info table {\n            width: 100%;\n          }\n          .invoice-info td {\n            padding: 8px;\n            text-align: right;\n            font-size: 14px;\n          }\n          .item-name {\n            display: "table-cell";\n            height: 20px;\n            margin: 0px 0px 0px 0px;\n          }\n          .sub-item {\n            height: 20px;\n            display: table-cell;\n            text-align: right;\n            width: 400px;\n            vertical-align: middle;\n          }\n          .flex-row {\n            display: flex;\n            flex-direction: row;\n          }\n          .price {\n            display: table-cell;\n            text-align: right;\n            padding-right: 30%;\n            width: 100%;\n          }\n          .invoice-title {\n            margin-bottom: 48px;\n          }\n          .invoice-title .invoice-title-row {\n            display: flex;\n            margin-top: 16px;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title .title-left {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-left .title-item-box {\n            margin-bottom: 10px;\n            font-size: 12px;\n          }\n          .invoice-title .title-left .title-item-box .title-item {\n            font-family: Helvetica;\n            font-size: 12px;\n            color: #000;\n          }\n          .invoice-title .title-left .title-item-box .email {\n            font-size: 16px;\n          }\n          .invoice-title .title-left .title-item-box .contents {\n            font-size: 12px;\n          }\n          .invoice-title .title-right {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-right .title-item-box {\n            font-size: 12px;\n          }\n          .invoice-title .title-right .title-item-box .title-item {\n            font-size: 11px;\n          }\n          .invoice-title .title-right .title-item-box .label {\n            font-size: 14px;\n            font-weight: bold;\n          }\n          .invoice-title .title-right .title-item-box .title-contents {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n          .invoice-title .title-right .title-item-box .line {\n            margin: 2px 0px;\n            border-bottom: 1px solid #ccc;\n          }\n          .invoice-title .title-right .title-item-box .line.bold {\n            border-bottom: 2px solid #ccc;\n          }\n          .invoice-informations {\n            display: flex;\n            flex-direction: row;\n          }\n          .invoice-informations .invoice-info-box {\n            flex: 1;\n            position: relative;\n            padding-bottom: 8px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-title {\n            font-weight: bold;\n            font-size: 18px;\n            padding: 8px 0;\n            color: #5a6574;\n            letter-spacing: -0.1px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents {\n            font-size: 12px;\n            letter-spacing: -0.1px;\n            color: #4a4a4a;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.small {\n            font-size: 10px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.big {\n            font-size: 11px;\n            color: #000;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-noti {\n            text-align: right;\n            font-size: 12px;\n            font-weight: 500;\n            letter-spacing: -0.1px;\n            color: #979797;\n          }\n          .invoice-items {\n            margin-top: 15px;\n          }\n          .invoice-items table {\n            width: 100%;\n            border-collapse: collapse;\n            border: solid 1px #ececed;\n          }\n          .invoice-items thead {\n            background: #ecfbff;\n          }\n          .invoice-items th {\n            padding: 12px 16px;\n            color: #5a6574;\n            text-transform: capitalize;\n            text-align: left;\n            font-size: 12px;\n            font-weight: bold;\n          }\n          .invoice-items tbody tr:nth-child(even) {\n            background: rgba(247, 247, 247, 1);\n          }\n          .invoice-items td {\n            position: relative;\n            padding: 12px 16px;\n            color: #4a4a4a;\n            font-size: 13px;\n            letter-spacing: -0.1px;\n          }\n          .invoice-items input {\n            width: 100%;\n            box-sizing: border-box;\n            padding: 8px;\n            border-radius: 4px;\n            border: 1px solid #bbb;\n          }\n          .invoice-items input:focus {\n            border: 1px solid #2383e2;\n            outline: none;\n          }\n          .invoice-items input[type="number"] {\n            text-align: right;\n          }\n          .invoice-title-row {\n            display: flex;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title-row .title-row-right {\n            flex: 1;\n          }\n          .invoice-title-row .title-row-left {\n            flex: 1;\n          }\n          .row {\n            display: flex;\n            width: 100%;\n            padding-top: 5px;\n          }\n          .row.between {\n            justify-content: space-between;\n          }\n          .row .cell {\n            flex: 1;\n          }\n          .row .right {\n            text-align: right;\n          }\n          .row center {\n            text-align: center;\n          }\n          .summary-box {\n            padding: 10px;\n            background-color: #f7f7f7;\n            font-size: 13px;\n            color: #5a6574;\n            font-family: Roboto;\n          }\n          .summary-box .summary-title {\n            font-weight: bold;\n            letter-spacing: -0.1px;\n          }\n          .center {\n            text-align: center !important;\n          }\n          .right {\n            text-align: right !important;\n          }\n          .pagebreak {\n            page-break-before: always;\n          }\n          </style>\n        </head>\n    <body onload="window.print();window.close()">${e}<div class="pagebreak"> </div>${n}</body>\n      </html>`),c.document.close()}downloadCSV(){const n=this.invoice.invoice_id;this.invoiceService.getInvoiceCSV(this.me.dealer_id,n).subscribe(c=>{const o=c.csv_url;let a=document.createElement("a");a.download="invoice_ID_"+n+".csv",a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)})}planAllToggle(){this.curPlan.isFold=!this.curPlan.isFold;let e=this.curPlan.isFold;this.curDetailList.forEach(n=>{n.isFold=e})}dynamicSort(e){var n=1;return"-"===e[0]&&(n=-1,e=e.substr(1)),function(c,o){var a,s;const l=null===(a=c[e])||void 0===a?void 0:a.toLowerCase(),d=null===(s=o[e])||void 0===s?void 0:s.toLowerCase();return(l<d?-1:l>d?1:0)*n}}onSorted(e,n=!1){let c=this.curDetailList.slice();if(n){if(c=this.filteredCustomers.slice(),!e.sortColumn||""===e.sortDirection)return void(this.filteredCustomers=c)}else if(!e.sortColumn||""===e.sortDirection)return void(this.curDetailList=c);if("device_id"===e.sortColumn||"device_name"===e.sortColumn)return void c.forEach(a=>{a.bridges.sort((s,l)=>{const d="asc"===e.sortDirection;switch(e.sortColumn){case"device_id":return this.compare(s.device_id,l.device_id,d);case"device_name":return this.compare(s.device_name,l.device_name,d);default:return 0}})});const o=c.sort((a,s)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(a.name,s.name,l);case"site_name":return this.compare(a.site_name.toLowerCase(),s.site_name.toLowerCase(),l);case"site_id":return this.compare(a.site_id,s.site_id,l);case"account_number":return this.compare(a.account_number,s.account_number,l);case"occur_total_event_count":return this.compare(a.occur_total_event_count,s.occur_total_event_count,l);case"curUsage":return this.compare(a.curUsage,s.curUsage,l);case"fee":return this.compare(a.fee,s.fee,l);case"site_count":return this.compare(a.site_count,s.site_count,l);case"bridge_count":return this.compare(a.bridge_count,s.bridge_count,l);default:return 0}});n?this.filteredCustomers=o:this.curDetailList=o}compare(e,n,c){return(e<n?-1:1)*(c?1:-1)}getDealerList(){return(0,x.mG)(this,void 0,void 0,function*(){try{if(2!==this.me.type)return;this.dealers=yield this.helper.partner.get_partners()}catch(e){console.debug(e)}})}computedSiteDealer(e){var n;const c=this.dealers.find(o=>o.dealer_id===e.dealer_id);return e.dealer==this.me.dealer_id?e.name:null!==(n=null==c?void 0:c.external_dealer_id_with_company_name)&&void 0!==n?n:e.name}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(D.x),t.Y36(z.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal-v2-detail"]],inputs:{active:"active",modal:"modal",dealer:"dealer",invoice:"invoice"},outputs:{onClose:"onClose"},features:[t.TTD],decls:15,vars:11,consts:[["id","invoice-body",1,"invoice-body"],[1,"detail-tab-container"],["style","display: flex;",4,"ngFor","ngForOf"],[2,"flex","1","border-bottom","solid 1px #e5e5e6"],[1,"detail-list-header"],[4,"ngIf"],[1,"invoice-items","invoice-detail-items"],["sortable-table","",3,"sorted",4,"ngIf"],[3,"modal","invoice","active"],[3,"modal"],[2,"display","flex"],[2,"width","2px","height","99%","border-bottom","solid 1px #e5e5e6"],[1,"detail-tab",3,"click"],[1,"tab-label"],[1,"detail-tab-fee"],[1,"material-icons","fold-icon",2,"color","#5a6574",3,"click"],["sortable-table","",3,"sorted"],["width","40%"],["width","15%"],["width","12%"],["width","3%"],["sortable-column","name"],["class","center","sortable-column","occur_total_event_count",4,"ngIf"],["class","center",4,"ngIf"],["sortable-column","site_count",1,"center"],["class","center","sortable-column","bridge_count",4,"ngIf"],["sortable-column","fee",1,"center"],["class","dealer-items",3,"click",4,"ngFor","ngForOf"],["sortable-column","occur_total_event_count",1,"center"],[1,"center"],["sortable-column","bridge_count",1,"center"],[1,"dealer-items",3,"click"],[1,"center",2,"padding","6px 8px 6px 0px"],["class","material-icons fold-icon",3,"click",4,"ngIf"],["class","loader","style","width:22px",4,"ngIf"],[1,"material-icons","fold-icon",3,"click"],[1,"loader",2,"width","22px"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",2,"stroke","hsla(210, 100%, 56%, 0.2)"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"invoice-loading-path"],[3,"ngIf"],["sortable-column","fee",1,"right"],["width","20%"],["width","10%"],["width","11%"],["width","5%"],["sortable-column","site_name"],["sortable-column","site_id",1,"center"],["sortable-column","account_number",1,"center"],["sortable-column","device_name"],["sortable-column","device_id",1,"center"],["sortable-column","curUsage",1,"center"],[1,"material-icons","transition","fold-icon",3,"click"],["ngFor","",3,"ngForOf"],[3,"ngClass"],[1,"right"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"right",2,"padding-right","38px"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,ie,12,7,"div",2),t._UZ(3,"div",3),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div"),t.YNc(6,oe,6,3,"div",5),t.YNc(7,ce,3,1,"div",5),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",6),t.YNc(11,pe,23,5,"table",7),t.YNc(12,Ne,21,14,"table",7),t.qZA(),t.qZA(),t._UZ(13,"dealer-pay",8),t._UZ(14,"dealer-warning",9)),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.tabList),t.xp6(4),t.Q6J("ngIf",n.selDealer.customer_id),t.xp6(1),t.Q6J("ngIf",!n.selDealer.customer_id),t.xp6(2),t.AsE("Total ",n.invoice.currency_symbol,"",n.curPlan.fee?n.curPlan.fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!n.selDealer.customer_id),t.xp6(1),t.Q6J("ngIf",n.selDealer.customer_id),t.xp6(1),t.Q6J("modal",n.m_pay)("invoice",n.invoice)("active",n.m_pay.is_active),t.xp6(1),t.Q6J("modal",n.m_warning))},directives:[_.sg,_.O5,E,V.a,X.Q,tt.a,_.mk],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function Ee(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t._UZ(1,"div",9),t.TgZ(2,"div",10),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().selectPlanTab(o)}),t._UZ(3,"div"),t.TgZ(4,"div",11),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"span",12),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(10,"div",9),t.qZA()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.ekj("selected-detail-tab",e.name===n.curTab.name),t.xp6(1),t.ekj("selected-detail-tab-line",e.name===n.curTab.name),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.AsE("",n.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00","")}}function Je(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"i",13),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw();return c.stopPropagation(),o.unselectDealer()}),t._uU(2,"keyboard_backspace"),t.qZA(),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.lnq("",e.selDealer.name," ",e.selDealer.subInfo?e.selDealer.subInfo:""," (",e.curDetailList.length,")")}}function Qe(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("Dealers (",e.filteredCustomers.length,")")}}function Ye(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",22),t._uU(7,"Plan"),t.qZA(),t.TgZ(8,"th",21),t._uU(9,"Usage Date"),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function Le(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",21),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"th",24),t._uU(9,"Activation Fee Sites / Total Sites"),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function je(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Sites"),t.qZA(),t.TgZ(8,"th",25),t._uU(9,"Devices"),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function Re(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",21),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"th",24),t._uU(9,"Sites"),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function Be(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Sites"),t.qZA(),t.TgZ(8,"th",26),t._uU(9,"Event Total"),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function $e(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Sites"),t.qZA(),t.TgZ(8,"th",26),t._uU(9,"Total amount "),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function We(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Sites"),t.qZA(),t.TgZ(8,"th",26),t._uU(9,"Total amount"),t.qZA(),t._UZ(10,"th"))}function He(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",26),t._uU(7,"Total amount"),t.qZA(),t.TgZ(8,"th",23),t._uU(9,"Amount"),t.qZA(),t._UZ(10,"th"))}function Ke(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",24),t._uU(3,"Event Vault Sites"),t.qZA(),t.TgZ(4,"th",24),t._uU(5,"Event Vault+ Sites"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Total Sites"),t.qZA(),t.TgZ(8,"th",26),t._uU(9,"Total amount"),t.qZA(),t._UZ(10,"th"))}function Ge(i,r){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Sites"),t.qZA(),t.TgZ(8,"th",27),t._uU(9,"Devices"),t.qZA(),t.TgZ(10,"th",23),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function Xe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"i",31),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw().$implicit;return c.stopPropagation(),(null==o?null:o.dealer_plan_type_list).isFold=!(null!=o&&null!=o.dealer_plan_type_list&&o.dealer_plan_type_list.isFold)}),t._uU(2,"keyboard_arrow_down"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.ekj("rotate-reverse",!(null!=e&&null!=e.dealer_plan_type_list&&e.dealer_plan_type_list.isFold))}}function tn(i,r){if(1&i&&(t.TgZ(0,"tr",29),t.TgZ(1,"td",21),t._uU(2,"\xa0"),t.qZA(),t.TgZ(3,"td",21),t._uU(4,"\xa0"),t.qZA(),t.TgZ(5,"td",21),t._uU(6,"\xa0"),t.qZA(),t.TgZ(7,"td",21),t._uU(8),t.qZA(),t.TgZ(9,"td",21),t._uU(10),t.qZA(),t.TgZ(11,"td",21),t._uU(12),t.qZA(),t._UZ(13,"td",30),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2),c=n.index,o=n.$implicit,a=t.oxw(3);t.Q6J("ngClass",a.computedSecondColumnStyleClass(c,null==o?null:o.dealer_plan_type_list)),t.xp6(8),t.Oqu(null!=e&&e.dealer_plan_name?null==e?null:e.dealer_plan_name:"Basic"),t.xp6(2),t.hij("",null==e?null:e.dealer_plan_usage," day(s)"),t.xp6(2),t.AsE("",a.usersService.me.currency_symbol,"",e.plan_fee?e.plan_fee.toFixed(2):"0.00","")}}function en(i,r){if(1&i&&(t.ynx(0),t.YNc(1,tn,14,5,"tr",32),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.dealer_plan_type_list)}}function nn(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"tr",29),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t._UZ(10,"br"),t._uU(11,"(Current Plan)"),t.qZA(),t.TgZ(12,"td",21),t._uU(13,"-"),t.qZA(),t.TgZ(14,"td",21),t._uU(15),t.qZA(),t.TgZ(16,"td",30),t.YNc(17,Xe,3,2,"div",7),t.qZA(),t.qZA(),t.YNc(18,en,2,1,"ng-container",7),t.BQk()),2&i){const e=r.$implicit,n=r.index,c=t.oxw(3);t.xp6(1),t.Q6J("ngClass",c.computedFirstColumnStyleClass(n)),t.xp6(2),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(6),t.Oqu(null!=e&&e.dealer_plan_name?null==e?null:e.dealer_plan_name:"Basic"),t.xp6(6),t.AsE("",c.usersService.me.currency_symbol,"",e.plan_total_fee?e.plan_total_fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",(null==e?null:e.dealer_plan_type_list.length)>1),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.dealer_plan_type_list.length)>1)}}function on(i,r){if(1&i&&t.YNc(0,nn,19,8,"ng-container",28),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.filteredCustomers)}}function cn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(5);return c.stopPropagation(),o.planAllToggle()}),t._uU(1,"keyboard_arrow_right"),t.qZA()}if(2&i){const e=t.oxw(5);t.ekj("rotate-reverse",!e.curPlan.isFold)}}function an(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function rn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",30),t.YNc(13,cn,2,2,"i",35),t.YNc(14,an,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(8),t.Oqu(null!=e&&e.dealer_plan_name?null==e?null:e.dealer_plan_name:"Basic"),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.plan_fee?e.plan_fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function ln(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw(3);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function sn(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function dn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",30),t.YNc(13,ln,2,0,"i",41),t.YNc(14,sn,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(8),t.Oqu(null!=e&&e.activation_fee_site?null==e?null:e.activation_fee_site:"0/"+e.site_count),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.activation_fee?e.activation_fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function gn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw(3);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function _n(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function pn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",30),t.YNc(13,gn,2,0,"i",41),t.YNc(14,_n,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(6),t.Oqu(e.site_count),t.xp6(2),t.Oqu(e.bridge_count),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function un(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw(3);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function fn(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function mn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",30),t.YNc(13,un,2,0,"i",41),t.YNc(14,fn,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(8),t.Oqu(e.site_count),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.talk_down_fee?e.talk_down_fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function xn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw(3);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function bn(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function hn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",30),t.YNc(13,xn,2,0,"i",41),t.YNc(14,bn,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(6),t.Oqu(e.site_count),t.xp6(2),t.Oqu(e.occur_total_event_count),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!(e.isSelected&&n.isDetailLoading||n.isDealerFeePlan(n.curPlan.plan_id))),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function vn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw(3);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function Cn(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function Pn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",30),t.YNc(13,vn,2,0,"i",41),t.YNc(14,Cn,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(6),t.Oqu(e.site_count),t.xp6(2),t.Oqu(e.count?e.count:0),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.remote_access_fee?e.remote_access_fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function Mn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t._UZ(10,"td",30)),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(6),t.Oqu(e.site_count),t.xp6(2),t.Oqu(e.video_ai_events)}}function On(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t._UZ(10,"td",30)),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(6),t.Oqu(e.sms_verification_events),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.sms_verification_fee?e.sms_verification_fee.toFixed(2):"0.00","")}}function Zn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw(3);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function yn(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function wn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3),t.qZA(),t.TgZ(4,"td",21),t._uU(5),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",30),t.YNc(11,Zn,2,0,"i",41),t.YNc(12,yn,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);let c,o;t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(2),t.Oqu(null!==(c=e.event_vault_site)&&void 0!==c?c:0),t.xp6(2),t.Oqu(null!==(o=e.event_vault_plus_site)&&void 0!==o?o:0),t.xp6(2),t.Oqu(e.site_count),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function Tn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",36),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw(3);return c.stopPropagation(),a.selectDealer(o)}),t._uU(1,"keyboard_arrow_right"),t.qZA()}}function An(i,r){1&i&&(t.TgZ(0,"div",37),t.O4$(),t.TgZ(1,"svg",38),t._UZ(2,"circle",39),t._UZ(3,"circle",40),t.qZA(),t.qZA())}function qn(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",21),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",21),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t._uU(9),t.qZA(),t.TgZ(10,"td",21),t._uU(11),t.qZA(),t.TgZ(12,"td",30),t.YNc(13,Tn,2,0,"i",41),t.YNc(14,An,4,0,"ng-template",5),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.AsE("",e.name," ",e.subInfo?e.subInfo:"",""),t.xp6(6),t.Oqu(e.site_count),t.xp6(2),t.Oqu(e.camera_count),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.device_plan_fee?e.device_plan_fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!e.isSelected||!n.isDetailLoading),t.xp6(1),t.Q6J("ngIf",e.isSelected&&n.isDetailLoading)}}function Un(i,r){if(1&i&&(t.TgZ(0,"tr",34),t.NdJ("click",function(n){return n.stopPropagation()}),t.YNc(1,rn,15,7,"ng-template",5),t.YNc(2,dn,15,7,"ng-template",5),t.YNc(3,pn,15,8,"ng-template",5),t.YNc(4,mn,15,7,"ng-template",5),t.YNc(5,hn,15,8,"ng-template",5),t.YNc(6,Pn,15,8,"ng-template",5),t.YNc(7,Mn,11,4,"ng-template",5),t.YNc(8,On,11,5,"ng-template",5),t.YNc(9,wn,13,9,"ng-template",5),t.YNc(10,qn,15,8,"ng-template",5),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isDealerFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isActivationFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isTalDownForStandardPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isVideoEventChargePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isRemoteDeviceAccessForStandardPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isVideoAIEventsPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isSMSVerificationPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isSitePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isDevicePlan(e.curPlan.plan_id))}}function kn(i,r){if(1&i&&t.YNc(0,Un,11,10,"tr",33),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.filteredCustomers)}}function Dn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"table",14),t.NdJ("sorted",function(c){return t.CHM(e),t.oxw().onSorted(c,!0)}),t.TgZ(1,"colgroup"),t._UZ(2,"col",15),t._UZ(3,"col",16),t._UZ(4,"col",16),t._UZ(5,"col",16),t._UZ(6,"col",17),t._UZ(7,"col",18),t._UZ(8,"col",19),t.qZA(),t.TgZ(9,"thead"),t.YNc(10,Ye,13,0,"ng-template",5),t.YNc(11,Le,13,0,"ng-template",5),t.YNc(12,je,13,0,"ng-template",5),t.YNc(13,Re,13,0,"ng-template",5),t.YNc(14,Be,13,0,"ng-template",5),t.YNc(15,$e,13,0,"ng-template",5),t.YNc(16,We,11,0,"ng-template",5),t.YNc(17,He,11,0,"ng-template",5),t.YNc(18,Ke,11,0,"ng-template",5),t.YNc(19,Ge,13,0,"ng-template",5),t.qZA(),t.TgZ(20,"tbody"),t.YNc(21,on,1,1,"ng-template",5),t.YNc(22,kn,1,1,"ng-template",5),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.isDealerFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isActivationFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isTalDownForStandardPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isVideoEventChargePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isRemoteDeviceAccessForStandardPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isVideoAIEventsPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isSMSVerificationPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isSitePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isDevicePlan(e.curPlan.plan_id)),t.xp6(2),t.Q6J("ngIf",e.isDealerFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isDealerFeePlan(e.curPlan.plan_id))}}function In(i,r){1&i&&(t._UZ(0,"col",17),t._UZ(1,"col",43),t._UZ(2,"col",16),t._UZ(3,"col",16),t._UZ(4,"col",18),t._UZ(5,"col",18),t._UZ(6,"col",44),t._UZ(7,"col",45))}function zn(i,r){1&i&&(t._UZ(0,"col",17),t._UZ(1,"col",43),t._UZ(2,"col",16),t._UZ(3,"col",16),t._UZ(4,"col",43),t._UZ(5,"col",16),t._UZ(6,"col",16))}function Sn(i,r){1&i&&(t.TgZ(0,"th",46),t._uU(1,"Site Name"),t.qZA(),t.TgZ(2,"th",47),t._uU(3,"Site ID"),t.qZA(),t.TgZ(4,"th",48),t._uU(5,"ACT"),t.qZA())}function Fn(i,r){1&i&&(t.TgZ(0,"th",46),t._uU(1,"Name"),t.qZA(),t._UZ(2,"th"),t._UZ(3,"th"))}function Nn(i,r){1&i&&(t.TgZ(0,"th",49),t._uU(1,"Device Name"),t.qZA(),t.TgZ(2,"th",50),t._uU(3,"Device ID"),t.qZA())}function Vn(i,r){1&i&&(t._UZ(0,"th"),t._UZ(1,"th",21),t._UZ(2,"th"))}function En(i,r){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Usage"),t.qZA())}function Jn(i,r){1&i&&(t.TgZ(0,"th",26),t._uU(1,"Event Total"),t.qZA())}function Qn(i,r){1&i&&t._UZ(0,"th",21)}function Yn(i,r){1&i&&t._UZ(0,"th",21)}function Ln(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",31),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(3);return c.stopPropagation(),o.planAllToggle()}),t._uU(1,"keyboard_arrow_down"),t.qZA()}if(2&i){const e=t.oxw(3);t.ekj("rotate-reverse",!e.curPlan.isFold)}}function jn(i,r){if(1&i&&(t.TgZ(0,"th"),t.YNc(1,Ln,2,2,"i",52),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)||e.isDevicePlan(e.curPlan.plan_id))}}function Rn(i,r){if(1&i&&(t.TgZ(0,"tr",54),t._UZ(1,"td"),t._UZ(2,"td",21),t._UZ(3,"td",21),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"td",57),t._uU(12),t.qZA(),t._UZ(13,"td"),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(),c=n.index,o=n.$implicit,a=t.oxw(3);t.Q6J("ngClass",a.computedSecondColumnStyleClass(c,o)),t.xp6(5),t.Oqu(e.device_name?e.device_name:"No Name Camera"),t.xp6(2),t.Oqu(e.device_id),t.xp6(3),t.AsE("",e.curUsage,"/",e.maxUsage," days"),t.xp6(2),t.AsE("",a.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00","")}}function Bn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",54),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.qZA(),t.TgZ(5,"td",21),t._uU(6),t.qZA(),t._UZ(7,"td"),t._UZ(8,"td"),t.TgZ(9,"td",21),t.TgZ(10,"span"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"td",55),t.TgZ(15,"div"),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"td"),t.TgZ(18,"div"),t.TgZ(19,"i",31),t.NdJ("click",function(c){const a=t.CHM(e).$implicit;return c.stopPropagation(),a.isFold=!a.isFold}),t._uU(20,"keyboard_arrow_down"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,Rn,14,7,"tr",56)}if(2&i){const e=r.$implicit,n=r.index,c=t.oxw(3);t.Q6J("ngClass",c.computedFirstColumnStyleClass(n)),t.xp6(2),t.Oqu(e.site_name),t.xp6(2),t.Oqu(e.site_id),t.xp6(2),t.Oqu(e.account_number),t.xp6(5),t.hij("",e.avgUsage," days"),t.xp6(2),t.hij("/ ",e.bridgeCount," devices"),t.xp6(3),t.AsE("",c.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(3),t.ekj("rotate-reverse",!e.isFold),t.xp6(2),t.Q6J("ngForOf",e.bridges)}}function $n(i,r){if(1&i&&t.YNc(0,Bn,22,11,"ng-template",53),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function Wn(i,r){if(1&i&&(t.TgZ(0,"tr",54),t._UZ(1,"td"),t._UZ(2,"td",21),t._UZ(3,"td",21),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.qZA(),t.TgZ(8,"td",21),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"td",57),t._uU(12),t.qZA(),t._UZ(13,"td"),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(),c=n.index,o=n.$implicit,a=t.oxw(3);t.Q6J("ngClass",a.computedSecondColumnStyleClass(c,o)),t.xp6(5),t.Oqu(e.device_name?e.device_name:"No Name Camera"),t.xp6(2),t.Oqu(e.device_id),t.xp6(3),t.AsE("",e.curUsage,"/",e.maxUsage," days"),t.xp6(2),t.AsE("",a.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00","")}}function Hn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",54),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.qZA(),t.TgZ(5,"td",21),t._uU(6),t.qZA(),t._UZ(7,"td"),t._UZ(8,"td"),t.TgZ(9,"td",21),t._uU(10),t.qZA(),t.TgZ(11,"td",55),t.TgZ(12,"div"),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"td"),t.TgZ(15,"div"),t.TgZ(16,"i",31),t.NdJ("click",function(c){const a=t.CHM(e).$implicit;return c.stopPropagation(),a.isFold=!a.isFold}),t._uU(17,"keyboard_arrow_down"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,Wn,14,7,"tr",56)}if(2&i){const e=r.$implicit,n=r.index,c=t.oxw(3);t.Q6J("ngClass",c.computedFirstColumnStyleClass(n)),t.xp6(2),t.Oqu(e.site_name),t.xp6(2),t.Oqu(e.site_id),t.xp6(2),t.Oqu(e.account_number),t.xp6(4),t.hij("",e.cameraCount," devices"),t.xp6(3),t.AsE("",c.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(3),t.ekj("rotate-reverse",!e.isFold),t.xp6(2),t.Q6J("ngForOf",e.cameras)}}function Kn(i,r){if(1&i&&t.YNc(0,Hn,19,10,"ng-template",53),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function Gn(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",21),t._UZ(4,"td",21),t._UZ(5,"td",21),t._UZ(6,"td",21),t._UZ(7,"td",21),t.TgZ(8,"td",55),t._uU(9),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(7),t.AsE("",n.usersService.me.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function Xn(i,r){if(1&i&&t.YNc(0,Gn,10,3,"tr",28),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function ti(i,r){if(1&i&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.count)}}function ei(i,r){1&i&&t._UZ(0,"td",21)}function ni(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.qZA(),t.TgZ(5,"td",21),t._uU(6),t.qZA(),t._UZ(7,"td"),t._UZ(8,"td",21),t._UZ(9,"td"),t.YNc(10,ti,2,1,"ng-template",5),t.YNc(11,ei,1,0,"ng-template",5),t.TgZ(12,"td",55),t._uU(13),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.site_name),t.xp6(2),t.Oqu(e.site_id),t.xp6(2),t.Oqu(e.account_number),t.xp6(4),t.Q6J("ngIf",n.isVideoEventChargePlan(n.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",n.isActivationFeePlan(n.curPlan.plan_id)),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function ii(i,r){if(1&i&&t.YNc(0,ni,14,7,"tr",28),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function oi(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"table",14),t.NdJ("sorted",function(c){return t.CHM(e),t.oxw().onSorted(c)}),t.TgZ(2,"colgroup"),t.YNc(3,In,8,0,"ng-template",5),t.YNc(4,zn,7,0,"ng-template",5),t.qZA(),t.TgZ(5,"thead"),t.YNc(6,Sn,6,0,"ng-template",5),t.YNc(7,Fn,4,0,"ng-template",5),t.YNc(8,Nn,4,0,"ng-template",5),t.YNc(9,Vn,3,0,"ng-template",5),t.YNc(10,En,2,0,"ng-template",5),t.YNc(11,Jn,2,0,"ng-template",5),t.YNc(12,Qn,1,0,"ng-template",5),t.YNc(13,Yn,1,0,"ng-template",5),t.TgZ(14,"th",42),t.TgZ(15,"span"),t._uU(16,"Amount"),t.qZA(),t.qZA(),t.YNc(17,jn,2,1,"ng-template",5),t.qZA(),t.TgZ(18,"tbody"),t.YNc(19,$n,1,1,"ng-template",5),t.YNc(20,Kn,1,1,"ng-template",5),t.YNc(21,Xn,1,1,"ng-template",5),t.YNc(22,ii,1,1,"ng-template",5),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)||e.isDevicePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isPlanForBridge(e.curPlan.plan_id)&&!e.isDevicePlan(e.curPlan.plan_id)),t.xp6(2),t.Q6J("ngIf",!e.isManualPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isManualPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)||e.isDevicePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isPlanForBridge(e.curPlan.plan_id)&&!e.isDevicePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)||e.isDevicePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isVideoEventChargePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isActivationFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isManualPlan(e.curPlan.plan_id)),t.xp6(4),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)||e.isDevicePlan(e.curPlan.plan_id)),t.xp6(2),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isDevicePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isManualPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isPlanForBridge(e.curPlan.plan_id)&&!e.isDevicePlan(e.curPlan.plan_id)&&!e.isManualPlan(e.curPlan.plan_id))}}let ci=(()=>{class i{constructor(e,n){this.usersService=e,this.helper=n,this.dealer={},this.onClose=new t.vpe,this.isDetailLoading=!1,this.isLoading=!1,this.manualItems=[],this.sites=[],this.customers=[],this.filteredCustomers=[],this.cur_dealer={},this.tabList=[],this.filteredTabList=[],this.plans={},this.filteredPlans={},this.curPlan={},this.curSubDealerPlan={},this.curDetailList=[],this.curDealerList=[],this.selDealer={},this.curSort={},this.dealers=[]}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.isLoading=!0,this.me=e,this.customers=[],this.filteredCustomers=[],this.selDealer={},this.fetchData()})}isDealerFeePlan(e){return 1===e}isActivationFeePlan(e){return 2===e}isCKB304BridgePlan(e){return 3===e}isCKB308BridgePlan(e){return 4===e}isCKB312BridgePlan(e){return 5===e}isCKB416BridgePlan(e){return 6===e}isPlanForBridge(e){return e>=3&&e<=6}isTalDownForStandardPlan(e){return 7===e}isVideoEventChargePlan(e){return 9===e}isRemoteDeviceAccessForStandardPlan(e){return 11===e}isVideoAIEventsPlan(e){return 13===e}isSMSVerificationPlan(e){return 14===e}isSitePlan(e){return 15===e}isDevicePlan(e){return 18===e}isTalkDownFree(e){return 8===parseInt(e)}isTwoMinPlayBack(e){return 10===parseInt(e)}isRemoteDeviceAccessFree(e){return 12===parseInt(e)}isManualPlan(e){return 0===parseInt(e)}fetchData(){return(0,x.mG)(this,void 0,void 0,function*(){this.cur_dealer=this.me,this.curSort={},yield this.getDealerList(),this.setInvoiceV3(this.invoice)})}getDealerList(){return(0,x.mG)(this,void 0,void 0,function*(){try{this.dealers=yield this.helper.partner.get_partners()}catch(e){console.debug(e)}})}setInvoiceV3(e){var n,c;this.sites=e.sites,this.manualItems=e.manuals;const o=[],a={};e.plans.forEach(d=>{if(this.isTalkDownFree(d.plan_id)||this.isRemoteDeviceAccessFree(d.plan_id)||this.isTwoMinPlayBack(d.plan_id)||15===d.plan_id||18===d.plan_id||20===d.plan_id)return;let g={};d.isFold=!0,this.isPlanForBridge(d.plan_id)&&(d.isUseDeviceField=!0,g.isUseDeviceField=!0),g.plan_name=d.plan_name,d.name=d.plan_name,g.fee=d.fee,o.push({name:g.plan_name,fee:g.fee}),this.setDetailList(d),a[g.plan_name]=d});let s=0;if(e.manuals.forEach(d=>{let g={};g.plan_name=d.name,g.fee=d.fee,s+=d.fee}),o.push({name:"Other",fee:s}),a.Other={name:"Other",fee:s,id:0},a.Other.list=P.cloneDeep(e.manuals),a.Other.details=P.cloneDeep(e.manuals),this.plans=a,this.filteredPlans=this.plans,this.tabList=o,this.filteredTabList=this.tabList,this.curTab=this.tabList[0],2===this.me.type){const d=[],g=P.cloneDeep(e.retails);0!==g.length&&(this.accumulateActivationFeeSiteNumberByCustomer(g),g.forEach(p=>{this.setDealerPlan(p),this.setActivationFeePlan(p),this.setTalkDownPlan(p),this.setRemoteAccessPlan(p),this.setVideoAIEventPlan(p),this.setSMSVerificationEventPlan(p),this.setSitePlan(p),this.setDevicePlan(p),p.customer_id!==this.me.dealer_id&&(p.name=this.computedSiteDealer(p),d.push(p))})),this.customers=d.sort(this.dynamicSort("name"))}this.filteredCustomers=[],this.accumulateActivationFeeSiteNumberByMyOwnSite();const l={customer_id:e.customer_id,name:this.me.company_name,company_name:this.me.company_name,site_count:e.site_count,activation_fee_site:e.activation_fee_site,bridge_count:e.bridge_count,event_vault_site:this.setSitePlan(e).event_vault_site,event_vault_plus_site:this.setSitePlan(e).event_vault_plus_site,camera_count:null!==(n=this.setDevicePlan(e).totalCameraCount)&&void 0!==n?n:0,device_plan_fee:null!==(c=this.setDevicePlan(e).devicePlanFee)&&void 0!==c?c:0,fee:e.fee,occur_total_event_count:e.occur_total_event_count,plan_fee:this.setDealerPlan(e).plan_fee,plan_total_fee:this.setDealerPlan(e).plan_total_fee,dealer_plan_name:this.setDealerPlan(e).dealer_plan_name,dealer_plan_type_list:this.setDealerPlan(e).dealer_plan_type_list,activation_fee:this.setActivationFeePlan(e),video_ai_events:this.setVideoAIEventPlan(e),talk_down_fee:this.setTalkDownPlan(e),remote_access_fee:this.setRemoteAccessPlan(e),sms_verification_events:this.setSMSVerificationEventPlan(e).sms_verification_events,sms_verification_fee:this.setSMSVerificationEventPlan(e).sms_verification_fee};this.customers.unshift(l),this.filteredCustomers=P.cloneDeep(this.customers),this.selectPlanTab(this.curTab),this.isLoading=!1}setDetailList(e){if(this.isDevicePlan(e.plan_id))return;const c=[];e.details.forEach(o=>{var a;if(!(null==o?void 0:o.site_id))return;o.dealer_id&&(o.customer_id=null==o?void 0:o.dealer_id),o.price&&(o.fee=o.price);let s={site_name:null!==(a=null==o?void 0:o.site_name)&&void 0!==a?a:"No Site Name",site_id:null==o?void 0:o.site_id,account_number:null==o?void 0:o.account_number,curUsage:(null==o?void 0:o.usage_day)?null==o?void 0:o.usage_day:this.calcUsage(null==o?void 0:o.usage),maxUsage:(null==o?void 0:o.max_usage_day)?null==o?void 0:o.max_usage_day:this.calcUsage(null==o?void 0:o.max_usage),fee:null==o?void 0:o.site_fee,customer_id:null==o?void 0:o.customer_id};if(s=Object.assign(s,o),this.isPlanForBridge(e.plan_id)){s.totalUsage=0,s.avgUsage=0,s.isFold=!0;const l=null==o?void 0:o.bridges.length;s.bridgeCount=l,c.push(s),0!==l&&(s.bridges=[],o.bridges.forEach((d,g)=>{let p=P.cloneDeep(s);p.device_name=d.name,p.device_id=d.device_id,p.curUsage=d.usage_day?d.usage_day:this.calcUsage(d.usage),p.maxUsage=d.max_usage_day?d.max_usage_day:this.calcUsage(d.max_usage),d.curUsage=d.usage_day?d.usage_day:this.calcUsage(d.usage),d.maxUsage=d.max_usage_day?d.max_usage_day:this.calcUsage(d.max_usage),p.fee=d.bridge_fee,s.totalUsage+=d.usage_day?d.usage_day:this.calcUsage(d.usage),s.bridges.push(p)}),0!==l&&(s.avgUsage=Math.ceil(s.totalUsage/l)))}else c.push(s)}),e.list=c.sort(this.dynamicSort("site_name"))}setDealerPlan(e){var n,c;const a=null!==(c=(null!==(n=this.invoice.plans.find(m=>this.isDealerFeePlan(m.plan_id)))&&void 0!==n?n:{details:[]}).details.filter(m=>m.dealer_id==e.customer_id))&&void 0!==c?c:[],s=a.length?a[a.length-1]:{},l=this.parseDealerPlanName(null==s?void 0:s.plan_id),d=a.reduce((m,h)=>m+h.usage_fee,0),g=(null==s?void 0:s.usage_fee)||0;let p=[];return e.plan_total_fee=d,e.dealer_plan_type_list=[],e.dealer_plan_name=l,a.forEach(m=>{const h=this.parseDealerPlanName(null==m?void 0:m.plan_id),U={name:null==e?void 0:e.name,dealer_plan_name:h,plan_fee:null==m?void 0:m.usage_fee,dealer_plan_usage:m.usage_day,plan_total_fee:d,isFold:!0};e.dealer_plan_type_list.push(U),p.push(U)}),{name:e.name,dealer_plan_name:l,plan_fee:g,plan_total_fee:d,dealer_plan_type_list:p,isFold:!0}}setActivationFeePlan(e){var n,c;const s=(null!==(c=(null!==(n=this.invoice.plans.find(l=>this.isActivationFeePlan(l.plan_id)))&&void 0!==n?n:{details:[]}).details.filter(l=>l.dealer_id==e.customer_id))&&void 0!==c?c:[]).reduce((l,d)=>l+d.price,0);return e.activation_fee=s}setTalkDownPlan(e){var n,c;const s=(null!==(c=(null!==(n=this.invoice.plans.find(l=>this.isTalDownForStandardPlan(l.plan_id)))&&void 0!==n?n:{details:[]}).details.filter(l=>l.dealer_id==e.customer_id))&&void 0!==c?c:[]).reduce((l,d)=>l+(null==d?void 0:d.fee),0);return e.talk_down_fee=s}setRemoteAccessPlan(e){var n,c;const s=(null!==(c=(null!==(n=this.invoice.plans.find(l=>this.isRemoteDeviceAccessForStandardPlan(l.plan_id)))&&void 0!==n?n:{details:[]}).details.filter(l=>l.dealer_id==e.customer_id))&&void 0!==c?c:[]).reduce((l,d)=>l+(null==d?void 0:d.fee),0);return e.remote_access_fee=s}setVideoAIEventPlan(e){var n,c,o;const a=null!==(n=this.invoice.plans.find(d=>this.isVideoAIEventsPlan(d.plan_id)))&&void 0!==n?n:{details:[]},s=a.details.find(d=>d.dealer_id==e.customer_id);let l=null!==(c=null==s?void 0:s.count)&&void 0!==c?c:0;return this.me.dealer_id==e.customer_id&&l>0&&(l-=(null!==(o=a.details.filter(p=>p.dealer_id!==e.customer_id))&&void 0!==o?o:[]).reduce((p,m)=>p+m.count,0)),e.video_ai_events=l}setSMSVerificationEventPlan(e){var n,c,o;const s=(null!==(n=this.invoice.plans.find(g=>this.isSMSVerificationPlan(g.plan_id)))&&void 0!==n?n:{details:[]}).details.find(g=>g.dealer_id==e.customer_id),l=null!==(c=null==s?void 0:s.count)&&void 0!==c?c:0,d=null!==(o=null==s?void 0:s.fee)&&void 0!==o?o:0;return e.sms_verification_events=l,e.sms_verification_fee=d,{sms_verification_events:l,sms_verification_fee:d}}setSitePlan(e){var n,c,o,a,s,l;const d=null!==(n=this.invoice.plans.find(h=>this.isSitePlan(h.plan_id)))&&void 0!==n?n:{details:[]},g=null!==(c=null==d?void 0:d.details.filter(h=>h.customer_id==e.customer_id))&&void 0!==c?c:[],p=null!==(a=null===(o=g.filter(h=>2===h.plan_id))||void 0===o?void 0:o.length)&&void 0!==a?a:0,m=null!==(l=null===(s=g.filter(h=>3===h.plan_id))||void 0===s?void 0:s.length)&&void 0!==l?l:0;return e.event_vault_site=p,e.event_vault_plus_site=m,{event_vault_site:p,event_vault_plus_site:m}}setDevicePlan(e){var n,c;const o=null!==(n=this.invoice.plans.find(g=>this.isDevicePlan(g.plan_id)))&&void 0!==n?n:{details:[]},a=null!==(c=null==o?void 0:o.details.filter(g=>g.customer_id==e.customer_id))&&void 0!==c?c:[],s=a.length,l=a.reduce((g,p)=>g+p.usage_fee,0);e.camera_count=s,e.device_plan_fee=l;let d=[];return a.forEach(g=>{var p;const m={site_name:null!==(p=null==g?void 0:g.site_name)&&void 0!==p?p:"No Site Name",site_id:null==g?void 0:g.site_id,account_number:null==g?void 0:g.account_number,curUsage:(null==g?void 0:g.usage_day)?null==g?void 0:g.usage_day:this.calcUsage(null==g?void 0:g.usage),maxUsage:(null==g?void 0:g.max_usage_day)?null==g?void 0:g.max_usage_day:this.calcUsage(null==g?void 0:g.max_usage),fee:null==g?void 0:g.usage_fee,customer_id:null==g?void 0:g.customer_id,cameraCount:s,cameras:[],isFold:!0},h={device_name:g.device_name,device_id:g.device_id,curUsage:g.usage_day?g.usage_day:this.calcUsage(g.usage),maxUsage:g.max_usage_day?g.max_usage_day:this.calcUsage(g.max_usage),fee:g.usage_fee};m.totalUsage=g.usage_day?g.usage_day:this.calcUsage(g.usage),m.cameras.push(h),d.push(m)}),o.list=d.sort(this.dynamicSort("site_name")),{totalCameraCount:s,devicePlanFee:l}}parseDealerPlanName(e){let n="";switch(e){case 1:default:n="Basic";break;case 2:n="Professional";break;case 3:n="Premium";break;case 4:n="Reseller"}return n}accumulateActivationFeeSiteNumberByMyOwnSite(){var e;const n=(null===(e=this.invoice.plans.find(c=>2===c.plan_id))||void 0===e?void 0:e.details)||[];if(n.length){this.invoice.activation_fee_site=0;for(let c=0;c<n.length;c++)this.invoice.customer_id===n[c].customer_id&&(this.invoice.activation_fee_site+=1)}}accumulateActivationFeeSiteNumberByCustomer(e){var n;const c=(null===(n=this.invoice.plans.find(o=>2===o.plan_id))||void 0===n?void 0:n.details)||[];if(c.length)for(let o=0;o<e.length;o++){let a=e[o];a.activation_fee_site=0;for(let s=0;s<c.length;s++)a.customer_id===c[s].customer_id&&(a.activation_fee_site+=1)}}selectPlanTab(e,n){this.curTab=e,this.curPlan=this.filteredPlans[e.name],this.setFilterCustomer(),this.onSorted(this.curSort);let c=this.selDealer;n&&(c=n),this.curDetailList=c.customer_id?this.curPlan.list.filter(o=>o.customer_id===c.customer_id):this.curPlan.list}selectDealer(e){var n,c,o;this.isDealerFeePlan(null===(n=this.curPlan)||void 0===n?void 0:n.plan_id)||this.isVideoAIEventsPlan(null===(c=this.curPlan)||void 0===c?void 0:c.plan_id)||this.isSMSVerificationPlan(null===(o=this.curPlan)||void 0===o?void 0:o.plan_id)||(this.isDetailLoading=!0,e.isSelected=!0,setTimeout(()=>{let a=P.cloneDeep(this.plans);this.tabList.forEach(s=>{let l=0;a[s.name].details.forEach(d=>{var g;if(d.customer_id===e.customer_id){if(!(d instanceof Object))return;Object.keys(d).includes("site_fee")?l+=d.site_fee:l+=null!==(g=d.fee)&&void 0!==g?g:null==d?void 0:d.usage_fee}}),a[s.name].fee=l}),this.filteredPlans=a,this.selDealer=e,this.selectPlanTab(this.curTab),this.isDetailLoading=!1,e.isSelected=!1},100))}setFilterCustomer(){const e=this.curPlan.name;this.filteredCustomers.forEach(n=>{var c;let o=0,a=0;const s=this.curPlan.plan_id;!this.isManualPlan(s)&&!this.isDealerFeePlan(s)&&(null===(c=this.filteredPlans[e])||void 0===c||c.details.forEach(l=>{l.customer_id===n.customer_id&&(o+=l.site_fee,a+=l.bridge_count)})),this.isManualPlan(s)&&this.filteredPlans[e].list.forEach(l=>{l.customer_id===n.customer_id&&(o+=l.fee,a+=l.bridge_count)}),n.bridge_count=a,n.fee=o})}unselectDealer(){this.selDealer={},this.filteredPlans=this.plans,this.curPlan=this.filteredPlans[this.curTab.name]}calcUsage(e){let n=0;return e&&0!==e&&(n=(e+1)/864e5),n=Math.ceil(n),n}planAllToggle(){this.curPlan.isFold=!this.curPlan.isFold;let e=this.curPlan.isFold;console.debug(e),this.curDetailList.forEach(n=>{n.isFold=e})}dynamicSort(e){return function(c,o){var a,s;const l=null===(a=c[e])||void 0===a?void 0:a.toLowerCase(),d=null===(s=o[e])||void 0===s?void 0:s.toLowerCase();return 1*(l<d?-1:l>d?1:0)}}onSorted(e,n=!1){let c=this.curDetailList.slice();if(n){if(c=this.filteredCustomers.slice(),!e.sortColumn||""===e.sortDirection)return void(this.filteredCustomers=c)}else if(!e.sortColumn||""===e.sortDirection)return void(this.curDetailList=c);if("device_id"===e.sortColumn||"device_name"===e.sortColumn)return void c.forEach(a=>{a.bridges.sort((s,l)=>{const d="asc"===e.sortDirection;switch(e.sortColumn){case"device_id":return this.compare(s.device_id,l.device_id,d);case"device_name":return this.compare(s.device_name,l.device_name,d);default:return 0}})});const o=c.sort((a,s)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(a.name,s.name,l);case"site_name":return this.compare(a.site_name.toLowerCase(),s.site_name.toLowerCase(),l);case"site_id":return this.compare(a.site_id,s.site_id,l);case"account_number":return this.compare(a.account_number,s.account_number,l);case"occur_total_event_count":return this.compare(a.occur_total_event_count,s.occur_total_event_count,l);case"curUsage":return this.compare(a.curUsage,s.curUsage,l);case"fee":return this.compare(a.fee,s.fee,l);case"dealer_plan_type":return this.compare(a.dealer_plan_type,s.dealer_plan_type,l);case"site_count":return this.compare(a.site_count,s.site_count,l);case"bridge_count":return this.compare(a.bridge_count,s.bridge_count,l);case"device_count":return this.compare(a.device_count,s.device_count,l);default:return 0}});n?this.filteredCustomers=o:this.curDetailList=o}compare(e,n,c){return(e<n?-1:1)*(c?1:-1)}computedSiteDealer(e){var n;const c=this.dealers.find(o=>o.dealer_id===e.dealer_id);return e.dealer==this.me.dealer_id?e.name:null!==(n=null==c?void 0:c.external_dealer_id_with_company_name)&&void 0!==n?n:e.name}computedFirstColumnStyleClass(e){return{white:e%2==0,gray:e%2==1}}computedSecondColumnStyleClass(e,n){return{white:e%2==0,gray:e%2==1,fold:n.isFold}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(z.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal-v3-detail-wcs"]],inputs:{active:"active",modal:"modal",dealer:"dealer",invoice:"invoice"},outputs:{onClose:"onClose"},decls:13,vars:7,consts:[["id","invoice-body",1,"invoice-body"],[1,"detail-tab-container"],["style","display: flex;",4,"ngFor","ngForOf"],[2,"flex","1","border-bottom","solid 1px #e5e5e6"],[1,"detail-list-header"],[3,"ngIf"],[1,"invoice-items","invoice-detail-items"],[4,"ngIf"],[2,"display","flex"],[2,"width","2px","height","99%","border-bottom","solid 1px #e5e5e6"],[1,"detail-tab",3,"click"],[1,"tab-label"],[1,"detail-tab-fee"],[1,"material-icons","fold-icon",2,"color","#5a6574",3,"click"],["sortable-table","",3,"sorted"],["width","35%"],["width","15%"],["width","20%"],["width","12%"],["width","3%"],["sortable-column","name"],[1,"center"],["sortable-column","dealer_plan_type",1,"center"],["sortable-column","fee",1,"center"],["sortable-column","site_count",1,"center"],["sortable-column","bridge_count",1,"center"],["sortable-column","occur_total_event_count",1,"center"],["sortable-column","device_count",1,"center"],[4,"ngFor","ngForOf"],[1,"dealer-items",3,"ngClass"],[1,"center",2,"padding","6px 8px 6px 0px"],[1,"material-icons","transition","fold-icon",3,"click"],["class","dealer-items",3,"ngClass",4,"ngFor","ngForOf"],["class","dealer-items",3,"click",4,"ngFor","ngForOf"],[1,"dealer-items",3,"click"],["class","material-icons fold-icon",3,"rotate-reverse","click",4,"ngIf"],[1,"material-icons","fold-icon",3,"click"],[1,"loader",2,"width","22px"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",2,"stroke","hsla(210, 100%, 56%, 0.2)"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"invoice-loading-path"],["class","material-icons fold-icon",3,"click",4,"ngIf"],["sortable-column","fee",1,"right"],["width","10%"],["width","11%"],["width","5%"],["sortable-column","site_name"],["sortable-column","site_id",1,"center"],["sortable-column","account_number",1,"center"],["sortable-column","device_name"],["sortable-column","device_id",1,"center"],["sortable-column","curUsage",1,"center"],["class","material-icons transition fold-icon",3,"rotate-reverse","click",4,"ngIf"],["ngFor","",3,"ngForOf"],[3,"ngClass"],[1,"right"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"right",2,"padding-right","38px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,Ee,11,7,"div",2),t._UZ(3,"div",3),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div"),t.YNc(6,Je,5,3,"ng-template",5),t.YNc(7,Qe,2,1,"ng-template",5),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",6),t.YNc(11,Dn,23,12,"ng-template",5),t.YNc(12,oi,23,15,"ng-container",7),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.tabList),t.xp6(4),t.Q6J("ngIf",n.selDealer.customer_id),t.xp6(1),t.Q6J("ngIf",!n.selDealer.customer_id),t.xp6(2),t.AsE("Total ",n.usersService.me.currency_symbol,"",n.curPlan.fee?n.curPlan.fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",!n.selDealer.customer_id),t.xp6(1),t.Q6J("ngIf",n.selDealer.customer_id))},directives:[_.sg,_.O5,X.Q,tt.a,_.mk],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function ai(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",7),t._UZ(1,"div",8),t.TgZ(2,"div",9),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().selectPlanTab(o)}),t._UZ(3,"div"),t.TgZ(4,"div",10),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"span",11),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(10,"div",8),t.qZA()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.ekj("selected-detail-tab",e.name===n.curTab.name),t.xp6(1),t.ekj("selected-detail-tab-line",e.name===n.curTab.name),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.AsE("",n.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00","")}}function ri(i,r){1&i&&(t.TgZ(0,"th",19),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",20),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",20),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",21),t._uU(7,"Plan"),t.qZA(),t.TgZ(8,"th",20),t._uU(9,"Usage (days)"),t.qZA(),t.TgZ(10,"th",22),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"th"))}function li(i,r){1&i&&(t.TgZ(0,"th",19),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",20),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",20),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",23),t._uU(7,"Sites"),t.qZA(),t.TgZ(8,"th",24),t._uU(9,"Total amount"),t.qZA(),t._UZ(10,"th"))}function si(i,r){1&i&&(t.TgZ(0,"th",19),t._uU(1,"Dealer Name"),t.qZA(),t.TgZ(2,"th",20),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"th",20),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Total amount"),t.qZA(),t.TgZ(8,"th",22),t._uU(9,"Amount"),t.qZA(),t._UZ(10,"th"))}function di(i,r){}function gi(i,r){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("",null==e.curPlan?null:e.curPlan.dealer_plan_usage," day(s)")}}function _i(i,r){1&i&&(t.ynx(0),t._uU(1,"-"),t.BQk())}function pi(i,r){if(1&i&&(t.TgZ(0,"tr",25),t.TgZ(1,"td",20),t._uU(2,"\xa0"),t.qZA(),t.TgZ(3,"td",20),t._uU(4,"\xa0"),t.qZA(),t.TgZ(5,"td",20),t._uU(6,"\xa0"),t.qZA(),t.TgZ(7,"td",20),t._uU(8),t.qZA(),t.TgZ(9,"td",20),t._uU(10),t.qZA(),t.TgZ(11,"td",20),t._uU(12),t.qZA(),t._UZ(13,"td",27),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(4);t.xp6(8),t.Oqu(null!=e&&e.dealer_plan_name?null==e?null:e.dealer_plan_name:"Basic"),t.xp6(2),t.hij("",null==e?null:e.dealer_plan_usage," day(s)"),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol,"",e.plan_fee?e.plan_fee.toFixed(2):"0.00","")}}function ui(i,r){if(1&i&&(t.ynx(0),t.YNc(1,pi,14,4,"tr",28),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",null==e.curPlan?null:e.curPlan.dealer_plan_type_list)}}function fi(i,r){if(1&i&&(t.TgZ(0,"tr",25),t.YNc(1,di,0,0,"ng-template",18),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td",20),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",20),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"td",20),t._uU(9),t._UZ(10,"br"),t._uU(11,"(Current Plan)"),t.qZA(),t.TgZ(12,"td",20),t.YNc(13,gi,2,1,"ng-container",26),t.YNc(14,_i,2,0,"ng-container",26),t.qZA(),t.TgZ(15,"td",20),t._uU(16),t.qZA(),t._UZ(17,"td",27),t.qZA(),t.YNc(18,ui,2,1,"ng-container",26)),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isDealerFeePlan(e.curPlan.plan_id)),t.xp6(2),t.Oqu(e.me.company_name),t.xp6(6),t.Oqu(null!=e.curPlan&&e.curPlan.dealer_plan_name?e.curPlan.dealer_plan_name:"Basic"),t.xp6(4),t.Q6J("ngIf",(null==e.curPlan||null==e.curPlan.dealer_plan_type_list?null:e.curPlan.dealer_plan_type_list.length)>1),t.xp6(1),t.Q6J("ngIf",(null==e.curPlan||null==e.curPlan.dealer_plan_type_list?null:e.curPlan.dealer_plan_type_list.length)<2),t.xp6(2),t.AsE("",e.usersService.me.currency_symbol,"",e.curPlan.plan_total_fee?e.curPlan.plan_total_fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",(null==e.curPlan||null==e.curPlan.dealer_plan_type_list?null:e.curPlan.dealer_plan_type_list.length)>1)}}function mi(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",20),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",20),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",20),t._uU(7),t.qZA(),t.TgZ(8,"td",20),t._uU(9),t.qZA(),t._UZ(10,"td",27)),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.me.company_name),t.xp6(6),t.Oqu(null!=e.curPlan&&null!=e.curPlan.details[0]&&e.curPlan.details[0].site_count?e.curPlan.details[0].site_count:0),t.xp6(2),t.Oqu(null!=e.curPlan&&e.curPlan.video_ai_events?e.curPlan.video_ai_events:0)}}function xi(i,r){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",20),t._uU(3,"\xa0"),t.qZA(),t.TgZ(4,"td",20),t._uU(5,"\xa0"),t.qZA(),t.TgZ(6,"td",20),t._uU(7),t.qZA(),t.TgZ(8,"td",20),t._uU(9),t.qZA(),t._UZ(10,"td",27)),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.me.company_name),t.xp6(6),t.Oqu(null!=e.curPlan&&e.curPlan.sms_verification_events?null==e.curPlan?null:e.curPlan.sms_verification_events:0),t.xp6(2),t.AsE("",e.usersService.me.currency_symbol,"",e.curPlan.sms_verification_fee?e.curPlan.sms_verification_fee.toFixed(2):"0.00","")}}function bi(i,r){if(1&i&&(t.TgZ(0,"tr",29),t.NdJ("click",function(n){return n.stopPropagation()}),t.YNc(1,mi,11,3,"ng-template",18),t.YNc(2,xi,11,4,"ng-template",18),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isVideoAIEventsPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isSMSVerificationPlan(e.curPlan.plan_id))}}function hi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"table",12),t.NdJ("sorted",function(c){return t.CHM(e),t.oxw().onSorted(c,!0)}),t.TgZ(1,"colgroup"),t._UZ(2,"col",13),t._UZ(3,"col",14),t._UZ(4,"col",14),t._UZ(5,"col",14),t._UZ(6,"col",15),t._UZ(7,"col",16),t._UZ(8,"col",17),t.qZA(),t.TgZ(9,"thead"),t.YNc(10,ri,13,0,"ng-template",18),t.YNc(11,li,11,0,"ng-template",18),t.YNc(12,si,11,0,"ng-template",18),t.qZA(),t.TgZ(13,"tbody"),t.YNc(14,fi,19,8,"ng-template",18),t.YNc(15,bi,3,2,"ng-template",18),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",e.isDealerFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isVideoAIEventsPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isSMSVerificationPlan(e.curPlan.plan_id)),t.xp6(2),t.Q6J("ngIf",e.isDealerFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isDealerFeePlan(e.curPlan.plan_id))}}function vi(i,r){1&i&&(t._UZ(0,"col",15),t._UZ(1,"col",31),t._UZ(2,"col",14),t._UZ(3,"col",14),t._UZ(4,"col",16),t._UZ(5,"col",16),t._UZ(6,"col",32),t._UZ(7,"col",33))}function Ci(i,r){1&i&&(t._UZ(0,"col",15),t._UZ(1,"col",31),t._UZ(2,"col",14),t._UZ(3,"col",14),t._UZ(4,"col",31),t._UZ(5,"col",14),t._UZ(6,"col",14))}function Pi(i,r){1&i&&(t.TgZ(0,"th",34),t._uU(1,"Site Name"),t.qZA(),t.TgZ(2,"th",35),t._uU(3,"Site ID"),t.qZA(),t.TgZ(4,"th",36),t._uU(5,"ACT"),t.qZA())}function Mi(i,r){1&i&&(t.TgZ(0,"th",34),t._uU(1,"Name"),t.qZA(),t._UZ(2,"th"),t._UZ(3,"th"))}function Oi(i,r){1&i&&(t.TgZ(0,"th",37),t._uU(1,"Device Name"),t.qZA(),t.TgZ(2,"th",38),t._uU(3,"Device ID"),t.qZA())}function Zi(i,r){1&i&&(t._UZ(0,"th"),t._UZ(1,"th",20),t._UZ(2,"th"))}function yi(i,r){1&i&&(t.TgZ(0,"th",39),t._uU(1,"Usage"),t.qZA())}function wi(i,r){1&i&&(t.TgZ(0,"th",24),t._uU(1,"Event Total"),t.qZA())}function Ti(i,r){1&i&&t._UZ(0,"th",20)}function Ai(i,r){1&i&&t._UZ(0,"th",20)}function qi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"i",41),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw(3);return c.stopPropagation(),o.planAllToggle()}),t._uU(1,"keyboard_arrow_down"),t.qZA()}if(2&i){const e=t.oxw(3);t.ekj("rotate-reverse",!e.curPlan.isFold)}}function Ui(i,r){if(1&i&&(t.TgZ(0,"th"),t.YNc(1,qi,2,2,"i",40),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id))}}function ki(i,r){if(1&i&&(t.TgZ(0,"tr",43),t._UZ(1,"td"),t._UZ(2,"td",20),t._UZ(3,"td",20),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",20),t._uU(7),t.qZA(),t.TgZ(8,"td",20),t.TgZ(9,"span"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"td",46),t._uU(12),t.qZA(),t._UZ(13,"td"),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(),c=n.index,o=n.$implicit,a=t.oxw(3);t.Q6J("ngClass",a.computedSecondColumnStyleClass(c,o)),t.xp6(5),t.Oqu(e.device_name?e.device_name:"No Name Camera"),t.xp6(2),t.Oqu(e.device_id),t.xp6(3),t.AsE("",e.curUsage,"/",e.maxUsage," days"),t.xp6(2),t.AsE("",a.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00","")}}function Di(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",43),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",20),t._uU(4),t.qZA(),t.TgZ(5,"td",20),t._uU(6),t.qZA(),t._UZ(7,"td"),t._UZ(8,"td"),t.TgZ(9,"td",20),t.TgZ(10,"span"),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"td",44),t.TgZ(15,"div"),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"td"),t.TgZ(18,"div"),t.TgZ(19,"i",41),t.NdJ("click",function(c){const a=t.CHM(e).$implicit;return c.stopPropagation(),a.isFold=!a.isFold}),t._uU(20,"keyboard_arrow_down"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,ki,14,7,"tr",45)}if(2&i){const e=r.$implicit,n=r.index,c=t.oxw(3);t.Q6J("ngClass",c.computedFirstColumnStyleClass(n)),t.xp6(2),t.Oqu(e.site_name),t.xp6(2),t.Oqu(e.site_id),t.xp6(2),t.Oqu(e.account_number),t.xp6(5),t.hij("",e.avgUsage," days"),t.xp6(2),t.hij("/ ",e.bridgeCount," devices"),t.xp6(3),t.AsE("",c.usersService.me.currency_symbol,"",e.fee?e.fee.toFixed(2):"0.00",""),t.xp6(3),t.ekj("rotate-reverse",!e.isFold),t.xp6(2),t.Q6J("ngForOf",e.bridges)}}function Ii(i,r){if(1&i&&t.YNc(0,Di,22,11,"ng-template",42),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function zi(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",20),t._UZ(4,"td",20),t._UZ(5,"td",20),t._UZ(6,"td",20),t._UZ(7,"td",20),t.TgZ(8,"td",44),t._uU(9),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(7),t.AsE("",n.usersService.me.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function Si(i,r){if(1&i&&t.YNc(0,zi,10,3,"tr",47),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function Fi(i,r){if(1&i&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.count)}}function Ni(i,r){1&i&&t._UZ(0,"td",20)}function Vi(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",20),t._uU(4),t.qZA(),t.TgZ(5,"td",20),t._uU(6),t.qZA(),t._UZ(7,"td"),t._UZ(8,"td",20),t._UZ(9,"td"),t.YNc(10,Fi,2,1,"ng-template",18),t.YNc(11,Ni,1,0,"ng-template",18),t.TgZ(12,"td",44),t._uU(13),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.site_name),t.xp6(2),t.Oqu(e.site_id),t.xp6(2),t.Oqu(e.account_number),t.xp6(4),t.Q6J("ngIf",n.isVideoEventChargePlan(n.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",n.isActivationFeePlan(n.curPlan.plan_id)),t.xp6(2),t.AsE("",n.usersService.me.currency_symbol," ",e.fee?e.fee.toFixed(2):"0.00","")}}function Ei(i,r){if(1&i&&t.YNc(0,Vi,14,7,"tr",47),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.curDetailList)}}function Ji(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"table",12),t.NdJ("sorted",function(c){return t.CHM(e),t.oxw().onSorted(c)}),t.TgZ(1,"colgroup"),t.YNc(2,vi,8,0,"ng-template",18),t.YNc(3,Ci,7,0,"ng-template",18),t.qZA(),t.TgZ(4,"thead"),t.YNc(5,Pi,6,0,"ng-template",18),t.YNc(6,Mi,4,0,"ng-template",18),t.YNc(7,Oi,4,0,"ng-template",18),t.YNc(8,Zi,3,0,"ng-template",18),t.YNc(9,yi,2,0,"ng-template",18),t.YNc(10,wi,2,0,"ng-template",18),t.YNc(11,Ti,1,0,"ng-template",18),t.YNc(12,Ai,1,0,"ng-template",18),t.TgZ(13,"th",30),t.TgZ(14,"span"),t._uU(15,"Amount"),t.qZA(),t.qZA(),t.YNc(16,Ui,2,1,"ng-template",18),t.qZA(),t.TgZ(17,"tbody"),t.YNc(18,Ii,1,1,"ng-template",18),t.YNc(19,Si,1,1,"ng-template",18),t.YNc(20,Ei,1,1,"ng-template",18),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(2),t.Q6J("ngIf",!e.isManualPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isManualPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isVideoEventChargePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isActivationFeePlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isManualPlan(e.curPlan.plan_id)),t.xp6(4),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(2),t.Q6J("ngIf",e.isPlanForBridge(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",e.isManualPlan(e.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",!e.isPlanForBridge(e.curPlan.plan_id)&&!e.isManualPlan(e.curPlan.plan_id))}}let Qi=(()=>{class i{constructor(e){this.usersService=e,this.dealer={},this.onClose=new t.vpe,this.isDetailLoading=!1,this.isLoading=!1,this.manualItems=[],this.sites=[],this.tabList=[],this.filteredTabList=[],this.plans={},this.filteredPlans={},this.curPlan={},this.curSubDealerPlan={},this.curDetailList=[],this.curDealerList=[],this.selDealer={},this.curSort={}}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.isLoading=!0,this.me=e,this.selDealer={},this.fetchData()})}isDealerFeePlan(e){return 1===e}isActivationFeePlan(e){return 2===e}isCKB304BridgePlan(e){return 3===e}isCKB308BridgePlan(e){return 4===e}isCKB312BridgePlan(e){return 5===e}isCKB416BridgePlan(e){return 6===e}isPlanForBridge(e){return e>=3&&e<=6}isTalDownForStandardPlan(e){return 7===e}isVideoEventChargePlan(e){return 9===e}isRemoteDeviceAccessForStandardPlan(e){return 11===e}isVideoAIEventsPlan(e){return 13===e}isSMSVerificationPlan(e){return 14===e}isTalkDownFree(e){return 8===parseInt(e)}isTwoMinPlayBack(e){return 10===parseInt(e)}isRemoteDeviceAccessFree(e){return 12===parseInt(e)}isManualPlan(e){return 0===parseInt(e)}isShowingOnlyDealerData(e){return this.isDealerFeePlan(e)||this.isVideoAIEventsPlan(e)||this.isSMSVerificationPlan(e)}isShowingOnlySiteData(e){return!this.isDealerFeePlan(e)&&!this.isVideoAIEventsPlan(e)&&!this.isSMSVerificationPlan(e)}fetchData(){this.curSort={},this.setInvoiceV3(this.invoice)}setInvoiceV3(e){this.sites=e.sites,this.manualItems=e.manuals;const n=[],c={};e.plans.forEach(a=>{if(this.isTalkDownFree(a.plan_id)||this.isRemoteDeviceAccessFree(a.plan_id)||this.isTwoMinPlayBack(a.plan_id)||15===a.plan_id||18===a.plan_id||20===a.plan_id)return;let s={};a.isFold=!0,this.isPlanForBridge(a.plan_id)&&(a.isUseDeviceField=!0,s.isUseDeviceField=!0),s.plan_name=a.plan_name,a.name=a.plan_name,s.fee=a.fee,n.push({name:s.plan_name,fee:s.fee}),this.setDetailList(a),c[s.plan_name]=a});let o=0;e.manuals.forEach(a=>{let s={};s.plan_name=a.name,s.fee=a.fee,o+=a.fee}),n.push({name:"Other",fee:o}),c.Other={name:"Other",fee:o,id:0},c.Other.list=P.cloneDeep(e.manuals),c.Other.details=P.cloneDeep(e.manuals),this.plans=c,this.filteredPlans=this.plans,this.parseDetailDataForFilteredPlans(),this.tabList=n,this.filteredTabList=this.tabList,this.curTab=this.tabList[0],this.accumulateActivationFeeSiteNumberByMyOwnSite(),this.selectPlanTab(this.curTab),this.isLoading=!1}setDetailList(e){const c=[];e.details.forEach(o=>{var a;if(!(null==o?void 0:o.site_id))return;o.dealer_id&&(o.customer_id=null==o?void 0:o.dealer_id),o.price&&(o.fee=o.price);let s={site_name:null!==(a=null==o?void 0:o.site_name)&&void 0!==a?a:"No Site Name",site_id:null==o?void 0:o.site_id,account_number:null==o?void 0:o.account_number,curUsage:(null==o?void 0:o.usage_day)?null==o?void 0:o.usage_day:this.calcUsage(null==o?void 0:o.usage),maxUsage:(null==o?void 0:o.max_usage_day)?null==o?void 0:o.max_usage_day:this.calcUsage(null==o?void 0:o.max_usage),fee:null==o?void 0:o.site_fee,customer_id:null==o?void 0:o.customer_id};if(s=Object.assign(s,o),this.isPlanForBridge(e.plan_id)){s.totalUsage=0,s.avgUsage=0,s.isFold=!0;const l=null==o?void 0:o.bridges.length;s.bridgeCount=l,c.push(s),0!==l&&(s.bridges=[],o.bridges.forEach((d,g)=>{let p=P.cloneDeep(s);p.device_name=d.name,p.device_id=d.device_id,p.curUsage=d.usage_day?d.usage_day:this.calcUsage(d.usage),p.maxUsage=d.max_usage_day?d.max_usage_day:this.calcUsage(d.max_usage),d.curUsage=d.usage_day?d.usage_day:this.calcUsage(d.usage),d.maxUsage=d.max_usage_day?d.max_usage_day:this.calcUsage(d.max_usage),p.fee=d.bridge_fee,s.totalUsage+=d.usage_day?d.usage_day:this.calcUsage(d.usage),s.bridges.push(p)}),0!==l&&(s.avgUsage=Math.ceil(s.totalUsage/l)))}else c.push(s)}),e.list=c.sort(this.dynamicSort("site_name"))}parseDealerPlanName(e){let n="";switch(e){case 1:n="Basic";break;case 2:n="Professional";break;case 3:n="Premium";break;case 4:n="Reseller"}return n}accumulateActivationFeeSiteNumberByMyOwnSite(){var e;const n=(null===(e=this.invoice.plans.find(c=>2===c.plan_id))||void 0===e?void 0:e.details)||[];if(n.length){this.invoice.activation_fee_site=0;for(let c=0;c<n.length;c++)this.invoice.customer_id===n[c].customer_id&&(this.invoice.activation_fee_site+=1)}}selectPlanTab(e,n){this.curTab=e,this.curPlan=this.filteredPlans[e.name],this.onSorted(this.curSort);let c=this.selDealer;n&&(c=n),this.curDetailList=c.customer_id?this.curPlan.list.filter(o=>o.customer_id===c.customer_id):this.curPlan.list}parseDetailDataForFilteredPlans(){for(let e in this.filteredPlans){const n=this.filteredPlans[e];this.setDealerPlan(n),this.setVideoAIEventPlan(n),this.setSMSVerificationEventPlan(n)}}setDealerPlan(e){var n;const o=(null!==(n=this.invoice.plans.find(d=>this.isDealerFeePlan(d.plan_id)))&&void 0!==n?n:{details:[]}).details,a=o.length?o[o.length-1]:{},s=this.parseDealerPlanName(null==a?void 0:a.plan_id),l=o.reduce((d,g)=>d+g.usage_fee,0);e.plan_total_fee=l,e.dealer_plan_type_list=[],e.dealer_plan_name=s,e.dealer_plan_usage=a.usage_day,o.forEach(d=>{const g=this.parseDealerPlanName(null==d?void 0:d.plan_id);e.dealer_plan_type_list.push({name:null==e?void 0:e.name,dealer_plan_name:g,plan_fee:null==d?void 0:d.usage_fee,dealer_plan_usage:d.usage_day,plan_total_fee:l,isFold:!0})})}setVideoAIEventPlan(e){var n,c;const a=null!==(n=this.invoice.plans.find(p=>this.isVideoAIEventsPlan(p.plan_id)))&&void 0!==n?n:[],l=a.details[a.details.length>-1?a.details.length-1:0],d=null!==(c=null==l?void 0:l.count)&&void 0!==c?c:0;e.video_ai_events=d}setSMSVerificationEventPlan(e){var n,c,o;const a=null!==(n=this.invoice.plans.find(p=>this.isSMSVerificationPlan(p.plan_id)))&&void 0!==n?n:[],l=a.details[a.details.length>-1?a.details.length-1:0],d=null!==(c=null==l?void 0:l.count)&&void 0!==c?c:0,g=null!==(o=null==l?void 0:l.fee)&&void 0!==o?o:0;e.sms_verification_events=d,e.sms_verification_fee=g}calcUsage(e){let n=0;return e&&0!==e&&(n=(e+1)/864e5),n=Math.ceil(n),n}planAllToggle(){this.curPlan.isFold=!this.curPlan.isFold;let e=this.curPlan.isFold;this.curDetailList.forEach(n=>{n.isFold=e})}dynamicSort(e){return function(c,o){const a=c[e].toLowerCase(),s=o[e].toLowerCase();return 1*(a<s?-1:a>s?1:0)}}onSorted(e,n=!1){let c=this.curDetailList.slice();if(!e.sortColumn||""===e.sortDirection)return void(this.curDetailList=c);if("device_id"===e.sortColumn||"device_name"===e.sortColumn)return void c.forEach(a=>{a.bridges.sort((s,l)=>{const d="asc"===e.sortDirection;switch(e.sortColumn){case"device_id":return this.compare(s.device_id,l.device_id,d);case"device_name":return this.compare(s.device_name,l.device_name,d);default:return 0}})});const o=c.sort((a,s)=>{const l="asc"===e.sortDirection;switch(e.sortColumn){case"name":return this.compare(a.name,s.name,l);case"site_name":return this.compare(a.site_name.toLowerCase(),s.site_name.toLowerCase(),l);case"site_id":return this.compare(a.site_id,s.site_id,l);case"account_number":return this.compare(a.account_number,s.account_number,l);case"occur_total_event_count":return this.compare(a.occur_total_event_count,s.occur_total_event_count,l);case"curUsage":return this.compare(a.curUsage,s.curUsage,l);case"fee":return this.compare(a.fee,s.fee,l);case"dealer_plan_type":return this.compare(a.dealer_plan_type,s.dealer_plan_type,l);case"site_count":return this.compare(a.site_count,s.site_count,l);case"bridge_count":return this.compare(a.bridge_count,s.bridge_count,l);default:return 0}});this.curDetailList=o}compare(e,n,c){return(e<n?-1:1)*(c?1:-1)}computedFirstColumnStyleClass(e){return{white:e%2==0,gray:e%2==1}}computedSecondColumnStyleClass(e,n){return{white:e%2==0,gray:e%2==1,fold:n.isFold}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal-v3-detail-dealer"]],inputs:{active:"active",modal:"modal",dealer:"dealer",invoice:"invoice"},outputs:{onClose:"onClose"},decls:11,vars:5,consts:[["id","invoice-body",1,"invoice-body"],[1,"detail-tab-container"],["style","display: flex;",4,"ngFor","ngForOf"],[2,"flex","1","border-bottom","solid 1px #e5e5e6"],[1,"detail-list-header"],[1,"invoice-items","invoice-detail-items"],["sortable-table","",3,"sorted",4,"ngIf"],[2,"display","flex"],[2,"width","2px","height","99%","border-bottom","solid 1px #e5e5e6"],[1,"detail-tab",3,"click"],[1,"tab-label"],[1,"detail-tab-fee"],["sortable-table","",3,"sorted"],["width","35%"],["width","15%"],["width","20%"],["width","12%"],["width","3%"],[3,"ngIf"],["sortable-column","name"],[1,"center"],["sortable-column","dealer_plan_type",1,"center"],["sortable-column","fee",1,"center"],["sortable-column","site_count",1,"center"],["sortable-column","occur_total_event_count",1,"center"],[1,"dealer-items"],[4,"ngIf"],[1,"center",2,"padding","6px 8px 6px 0px"],["class","dealer-items",4,"ngFor","ngForOf"],[1,"dealer-items",3,"click"],["sortable-column","fee",1,"right"],["width","10%"],["width","11%"],["width","5%"],["sortable-column","site_name"],["sortable-column","site_id",1,"center"],["sortable-column","account_number",1,"center"],["sortable-column","device_name"],["sortable-column","device_id",1,"center"],["sortable-column","curUsage",1,"center"],["class","material-icons transition fold-icon",3,"rotate-reverse","click",4,"ngIf"],[1,"material-icons","transition","fold-icon",3,"click"],["ngFor","",3,"ngForOf"],[3,"ngClass"],[1,"right"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"right",2,"padding-right","38px"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,ai,11,7,"div",2),t._UZ(3,"div",3),t.qZA(),t.TgZ(4,"div",4),t._UZ(5,"div"),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t.YNc(9,hi,16,5,"table",6),t.YNc(10,Ji,21,14,"table",6),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.tabList),t.xp6(5),t.AsE("Total ",n.usersService.me.currency_symbol,"",n.curPlan.fee?n.curPlan.fee.toFixed(2):"0.00",""),t.xp6(2),t.Q6J("ngIf",n.isShowingOnlyDealerData(n.curPlan.plan_id)),t.xp6(1),t.Q6J("ngIf",n.isShowingOnlySiteData(n.curPlan.plan_id)))},directives:[_.sg,_.O5,X.Q,tt.a,_.mk],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function Yi(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t.qZA(),t.BQk()}2&i&&(t.xp6(1),t.Q6J("@background",void 0))}function Li(i,r){1&i&&t.GkF(0)}function ji(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).openPayModal()}),t._uU(2,"Pay Now"),t.qZA(),t.BQk()}}function Ri(i,r){1&i&&(t.ynx(0),t.TgZ(1,"div",18),t.TgZ(2,"div",19),t.TgZ(3,"div"),t.TgZ(4,"div",20),t.O4$(),t.TgZ(5,"svg",21),t._UZ(6,"circle",22),t._UZ(7,"circle",23),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(8,"div",24),t.TgZ(9,"span"),t._uU(10,"Preparing invoice details."),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk())}function Bi(i,r){if(1&i&&(t.ynx(0),t._UZ(1,"app-invoice-modal-v1-summary",25),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("invoice",e.invoice)}}function $i(i,r){if(1&i&&(t.ynx(0),t._UZ(1,"app-invoice-modal-v2-summary",25),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("invoice",e.invoice)}}function Wi(i,r){if(1&i&&(t.ynx(0),t._UZ(1,"app-invoice-modal-v3-summary",25),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("invoice",e.invoice)}}function Hi(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._uU(3,"Invoice"),t.qZA(),t.TgZ(4,"div",7),t.TgZ(5,"i",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t._uU(6,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",9),t.TgZ(8,"div",10),t.TgZ(9,"div",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToPage("detail")}),t._uU(10,"Invoice Detail"),t.qZA(),t._UZ(11,"div",12),t.YNc(12,ji,3,0,"ng-container",0),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"div",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).print()}),t.TgZ(15,"div",14),t.TgZ(16,"i",15),t._uU(17,"print"),t.qZA(),t.TgZ(18,"span"),t._uU(19,"Print"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,Ri,11,0,"ng-container",0),t.YNc(21,Bi,2,1,"ng-container",0),t.YNc(22,$i,2,1,"ng-container",0),t.YNc(23,Wi,2,1,"ng-container",0),t._UZ(24,"div",16),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(7),t.ekj("disabled",e.isLoading),t.xp6(5),t.Q6J("ngIf",4===e.invoice.status&&!e.usersService.isTemporaryLogin),t.xp6(8),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("ngIf","v1.1"===e.invoice.version&&!e.isLoading),t.xp6(1),t.Q6J("ngIf","v1.2"===e.invoice.version&&!e.isLoading),t.xp6(1),t.Q6J("ngIf","v3"===e.invoice.version&&!e.isLoading)}}function Ki(i,r){if(1&i&&(t.ynx(0),t._UZ(1,"app-invoice-modal-v1-detail",25),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("invoice",e.invoice)}}function Gi(i,r){if(1&i&&(t.ynx(0),t._UZ(1,"app-invoice-modal-v2-detail",25),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("invoice",e.invoice)}}function Xi(i,r){if(1&i&&t._UZ(0,"app-invoice-modal-v3-detail-wcs",25),2&i){const e=t.oxw(4);t.Q6J("invoice",e.invoice)}}function to(i,r){if(1&i&&t._UZ(0,"app-invoice-modal-v3-detail-dealer",25),2&i){const e=t.oxw(4);t.Q6J("invoice",e.invoice)}}function eo(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Xi,1,1,"app-invoice-modal-v3-detail-wcs",30),t.YNc(2,to,1,1,"app-invoice-modal-v3-detail-dealer",30),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",2===e.me.type),t.xp6(1),t.Q6J("ngIf",2!=e.me.type)}}function no(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._uU(3,"Invoice Detail"),t.qZA(),t.TgZ(4,"div",7),t.TgZ(5,"i",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t._uU(6,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",9),t.TgZ(8,"div"),t.TgZ(9,"div",26),t.TgZ(10,"i",27),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToPage("invoice")}),t._uU(11,"keyboard_backspace"),t.qZA(),t.TgZ(12,"span",28),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",10),t.TgZ(15,"div",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).downloadCSV()}),t.TgZ(16,"div",14),t.TgZ(17,"i",15),t._uU(18,"archive"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Download CSV"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",29),t.YNc(22,Ki,2,1,"ng-container",0),t.YNc(23,Gi,2,1,"ng-container",0),t.YNc(24,eo,3,2,"ng-container",0),t.qZA(),t._UZ(25,"div",16),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(13),t.AsE("Invoice (Total ",e.usersService.me.currency_symbol," ",e.invoice.fee?e.invoice.fee.toFixed(2):"0.00",")"),t.xp6(9),t.Q6J("ngIf","v1.1"===e.invoice.version),t.xp6(1),t.Q6J("ngIf","v1.2"===e.invoice.version),t.xp6(1),t.Q6J("ngIf","v3"===e.invoice.version)}}function io(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,Yi,2,1,"ng-container",0),t.YNc(3,Li,1,0,"ng-container",0),t.TgZ(4,"div",3),t.YNc(5,Hi,25,7,"ng-container",0),t.YNc(6,no,26,5,"ng-container",0),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.modal.is_active),t.xp6(1),t.Q6J("ngIf",e.modal.is_active),t.xp6(1),t.Q6J("@dialog",void 0),t.xp6(1),t.Q6J("ngIf","invoice"===e.curPage),t.xp6(1),t.Q6J("ngIf","detail"===e.curPage)}}let oo=(()=>{class i{constructor(e,n){this.usersService=e,this.invoiceService=n,this.dealer={},this.onClose=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.isDetailLoading=!1,this.tail_status="none",this.invoice={},this.m_pay=new y.u,this.cur_dealer={},this.curPage="invoice",this.curPlan={},this.curDetailList=[],this.selDealer={},this.curSort={}}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.me=e})}ngOnChanges(e){e.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.curPage="invoice",this.selDealer={},this.modal.data.invoice&&this.fetchData())}fetchData(){this.cur_dealer=this.me,this.curSort={},this.getInvoice()}getInvoice(){this.isLoading=!0;const c=this.modal.data.invoice.version;this.invoiceService.get(this.dealer.dealer_id,this.modal.data.invoice.invoice_id,null,c).pipe((0,rt.x)(()=>this.isLoading=!1)).subscribe(o=>{var a,s;this.invoice=o,this.invoice.dealer_company_name=null!==(s=null===(a=this.me)||void 0===a?void 0:a.company_name)&&void 0!==s?s:"","v1.2"===c&&(this.invoice.amount=this.invoice.fee)})}goToPage(e){this.curPage=e,this.selDealer={}}openPayModal(){this.m_pay.data.invoice=this.invoice,this.m_pay.open()}closePayModal(){this.m_pay.close()}print(){var e;let n,c,o;n=document.getElementById("invoice-body").innerHTML,2===this.me.type&&(c=null===(e=document.getElementById("subdealer-body"))||void 0===e?void 0:e.innerHTML),o=window.open("Invoice","_blank","top=0,left=0,height=600px,width=1000px;"),o.document.write(`\n      <html>\n        <head>\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp">\n          <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,500,600,700">\n          <title>Invoice</title>\n          <style>\n          @media print {\n            body {\n               -webkit-print-color-adjust: exact;\n            }\n          }\n          .invoice-body {\n            padding: 30px;\n            transition: 0.2s;\n            align-items: center;\n          }\n          .invoice-title {\n            margin-bottom: 36px;\n          }\n          .invoice-title .title {\n            font-size: 20px;\n            flex: 1;\n          }\n          .customer-name {\n            font-weight: bold;\n            font-size: 16px;\n            padding: 8px 0;\n          }\n          .invoice-info table {\n            width: 100%;\n          }\n          .invoice-info td {\n            padding: 8px;\n            text-align: right;\n            font-size: 14px;\n          }\n          .item-name {\n            display: "table-cell";\n            height: 20px;\n            margin: 0px 0px 0px 0px;\n          }\n          .sub-item {\n            height: 20px;\n            display: table-cell;\n            text-align: right;\n            width: 400px;\n            vertical-align: middle;\n          }\n          .flex-row {\n            display: flex;\n            flex-direction: row;\n          }\n          .price {\n            display: table-cell;\n            text-align: right;\n            padding-right: 30%;\n            width: 100%;\n          }\n          .invoice-title {\n            margin-bottom: 48px;\n          }\n          .invoice-title .invoice-title-row {\n            display: flex;\n            margin-top: 16px;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title .title-left {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-left .title-item-box {\n            margin-bottom: 10px;\n            font-size: 12px;\n          }\n          .invoice-title .title-left .title-item-box .title-item {\n            font-family: Helvetica;\n            font-size: 12px;\n            color: #000;\n          }\n          .invoice-title .title-left .title-item-box .email {\n            font-size: 16px;\n          }\n          .invoice-title .title-left .title-item-box .contents {\n            font-size: 12px;\n          }\n          .invoice-title .title-right {\n            font-size: 20px;\n            flex: 1;\n          }\n          .invoice-title .title-right .title-item-box {\n            font-size: 12px;\n          }\n          .invoice-title .title-right .title-item-box .title-item {\n            font-size: 11px;\n          }\n          .invoice-title .title-right .title-item-box .label {\n            font-size: 14px;\n            font-weight: bold;\n          }\n          .invoice-title .title-right .title-item-box .title-contents {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n          .invoice-title .title-right .title-item-box .line {\n            margin: 2px 0px;\n            border-bottom: 1px solid #ccc;\n          }\n          .invoice-title .title-right .title-item-box .line.bold {\n            border-bottom: 2px solid #ccc;\n          }\n          .invoice-informations {\n            display: flex;\n            flex-direction: row;\n          }\n          .invoice-informations .invoice-info-box {\n            flex: 1;\n            position: relative;\n            padding-bottom: 8px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-title {\n            font-weight: bold;\n            font-size: 18px;\n            padding: 8px 0;\n            color: #5a6574;\n            letter-spacing: -0.1px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents {\n            font-size: 12px;\n            letter-spacing: -0.1px;\n            color: #4a4a4a;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.small {\n            font-size: 10px;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-contents.big {\n            font-size: 11px;\n            color: #000;\n          }\n          .invoice-informations .invoice-info-box .invoice-info-noti {\n            text-align: right;\n            font-size: 12px;\n            font-weight: 500;\n            letter-spacing: -0.1px;\n            color: #979797;\n          }\n          .invoice-items {\n            margin-top: 15px;\n          }\n          .invoice-items table {\n            width: 100%;\n            border-collapse: collapse;\n            border: solid 1px #ececed;\n          }\n          .invoice-items thead {\n            background: #ecfbff;\n          }\n          .invoice-items th {\n            padding: 12px 16px;\n            color: #5a6574;\n            text-transform: capitalize;\n            text-align: left;\n            font-size: 12px;\n            font-weight: bold;\n          }\n          .invoice-items tbody tr:nth-child(even) {\n            background: rgba(247, 247, 247, 1);\n          }\n          .invoice-items td {\n            position: relative;\n            padding: 12px 16px;\n            color: #4a4a4a;\n            font-size: 13px;\n            letter-spacing: -0.1px;\n          }\n          .invoice-items input {\n            width: 100%;\n            box-sizing: border-box;\n            padding: 8px;\n            border-radius: 4px;\n            border: 1px solid #bbb;\n          }\n          .invoice-items input:focus {\n            border: 1px solid #2383e2;\n            outline: none;\n          }\n          .invoice-items input[type="number"] {\n            text-align: right;\n          }\n          .invoice-title-row {\n            display: flex;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .invoice-title-row .title-row-right {\n            flex: 1;\n          }\n          .invoice-title-row .title-row-left {\n            flex: 1;\n          }\n          .row {\n            display: flex;\n            width: 100%;\n            padding-top: 5px;\n          }\n          .row.between {\n            justify-content: space-between;\n          }\n          .row .cell {\n            flex: 1;\n          }\n          .row .right {\n            text-align: right;\n          }\n          .row center {\n            text-align: center;\n          }\n          .summary-box {\n            padding: 10px;\n            background-color: #f7f7f7;\n            font-size: 13px;\n            color: #5a6574;\n            font-family: Roboto;\n          }\n          .summary-box .summary-title {\n            font-weight: bold;\n            letter-spacing: -0.1px;\n          }\n          .center {\n            text-align: center !important;\n          }\n          .right {\n            text-align: right !important;\n          }\n          .pagebreak {\n            page-break-before: always;\n          }\n          </style>\n        </head>\n        ${2===this.me.type?`<body>${n}<div class="pagebreak"> </div>${c}</body>`:`<body>${n}`}\n      </html>`),o.onload=function(){window.navigator.userAgent.toLowerCase().indexOf("chrome")?setTimeout(function(){o.print(),o.close()},200):(o.print(),o.close())},o.document.close()}downloadCSV(){return(0,x.mG)(this,void 0,void 0,function*(){try{const c=("v3"===this.modal.data.invoice.version?yield this.getInvoiceCSVv3():yield this.getInvoiceCSV()).csv_url,o=this.invoice.invoice_id;let a=document.createElement("a");a.download="invoice_ID_"+o+".csv",a.href=c,document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(e){this.isLoading=!1,console.debug(e)}})}getInvoiceCSV(){return(0,x.mG)(this,void 0,void 0,function*(){try{const e=this.me.dealer_id,n=this.invoice.invoice_id;return yield this.invoiceService.getInvoiceCSV(e,n).toPromise()}catch(e){this.isLoading=!1,console.debug(e)}})}getInvoiceCSVv3(){return(0,x.mG)(this,void 0,void 0,function*(){try{const e=this.me.dealer_id,n=this.invoice.invoice_id;return yield this.invoiceService.getInvoiceCSVv3(e,n).toPromise()}catch(e){this.isLoading=!1,console.debug(e)}})}close(e){this.onClose.next(e||{res:!1}),this.modal.close(),setTimeout(n=>{this.enable_modal=!1},200)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(D.x))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoice-modal"]],inputs:{active:"active",modal:"modal",dealer:"dealer"},outputs:{onClose:"onClose"},features:[t.TTD],decls:2,vars:4,consts:[[4,"ngIf"],[3,"modal","invoice","active"],[1,"align-center"],[1,"dialog"],[1,"overlay",3,"click"],[1,"header"],[1,"title"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"btn-container"],[2,"display","flex"],[1,"full-btn",3,"click"],[2,"width","10px","height","1px"],[1,"icon-btn",3,"click"],[1,"icon-row"],[1,"material-icons","icon-color"],[1,"tail"],[1,"full-btn","pay-btn",3,"click"],[1,"loading-body"],[2,"width","100%"],[1,"loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",2,"stroke","hsla(210, 100%, 56%, 0.2)"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"invoice-loading-path"],[2,"text-align","center","padding-top","14px","color","hsla(0, 0%, 0%, 0.6)"],[3,"invoice"],[2,"display","flex","align-items","center"],[1,"material-icons","back-btn",3,"click"],[1,"detail-title"],[1,"body"],[3,"invoice",4,"ngIf"]],template:function(e,n){1&e&&(t.YNc(0,io,7,5,"ng-container",0),t._UZ(1,"dealer-pay",1)),2&e&&(t.Q6J("ngIf",n.enable_modal),t.xp6(1),t.Q6J("modal",n.m_pay)("invoice",n.invoice)("active",n.m_pay.is_active))},directives:[_.O5,E,Ut,Et,$t,ne,Ve,ci,Qi],styles:['.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:initial;z-index:100}.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-flow:wrap;justify-content:center;background-color:#0009;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:500;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:500;color:#888;display:flex;justify-content:center;height:30px;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{padding-top:1px;padding-right:5px;color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:500}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   tr.white[_ngcontent-%COMP%]{background:#ffffff!important}.invoice-items[_ngcontent-%COMP%]   tr.gray[_ngcontent-%COMP%]{background:#f7f7f7!important}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none!important}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px;word-break:break-word}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:500;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px;padding-left:5px}.detail-tab-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#e5e5e6;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px none #fff;font-weight:500;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:500;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:500}.invoice-detail-items[_ngcontent-%COMP%]   .dealer-items[_ngcontent-%COMP%]{cursor:pointer}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.fold[_ngcontent-%COMP%]{display:none}.fold-icon[_ngcontent-%COMP%]{vertical-align:middle;cursor:pointer;font-size:18px;color:#bcbcbc}.fold-icon[_ngcontent-%COMP%]:hover{color:gray}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.loading-body[_ngcontent-%COMP%]{position:relative;display:flex;height:300px;align-items:center;justify-content:center}.invoice-loading-path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#2383e2}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function co(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw(4);t.xp6(2),t.AsE("",e.paidInfo.brand," ",e.cardNumber,"")}}function ao(i,r){1&i&&t.GkF(0)}function ro(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div"),t.YNc(2,co,3,2,"ng-container",0),t.YNc(3,ao,1,0,"ng-container",0),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf","card"===e.paidInfo.object),t.xp6(1),t.Q6J("ngIf","bank_account"===e.paidInfo.object),t.xp6(2),t.AsE("",e.paidInfo.bank_name," ",e.accountNumber,"")}}function lo(i,r){1&i&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2,"Cash"),t.qZA(),t.BQk())}function so(i,r){1&i&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2,"Manual Payment"),t.qZA(),t.BQk())}function go(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",28),t.TgZ(2,"div",29),t._uU(3,"Cardholder's Name:"),t.qZA(),t.TgZ(4,"div",30),t._uU(5),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(5),t.Oqu(e.metadata.nickname)}}function _o(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",28),t.TgZ(2,"div",29),t._uU(3,"Paid by:"),t.qZA(),t.TgZ(4,"div",30),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(6),t.Oqu(e.metadata.receipt_email)}}function po(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",28),t.TgZ(2,"div",29),t._uU(3,"Description:"),t.qZA(),t.TgZ(4,"div",30),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(6),t.Oqu(e.receipt.description)}}function uo(i,r){1&i&&(t.ynx(0),t.TgZ(1,"div",45),t.O4$(),t.TgZ(2,"svg",46),t._UZ(3,"circle",47),t.qZA(),t.qZA(),t.BQk())}function fo(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t.qZA(),t.TgZ(2,"div",4),t.TgZ(3,"div"),t.TgZ(4,"div",5),t.TgZ(5,"div",6),t._uU(6,"Invoice Receipt"),t.qZA(),t.TgZ(7,"div",7),t.TgZ(8,"i",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t._uU(9,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"div",10),t._UZ(12,"div",11),t.qZA(),t.TgZ(13,"div",10),t._UZ(14,"div",11),t.TgZ(15,"div",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).print()}),t.TgZ(16,"div",13),t.TgZ(17,"i",14),t._uU(18,"print"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Print"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",15),t.TgZ(22,"div",16),t.TgZ(23,"div",17),t.TgZ(24,"div",18),t.TgZ(25,"div",19),t.TgZ(26,"span"),t._uU(27,"RECEIPT"),t.qZA(),t.qZA(),t.TgZ(28,"div",20),t.TgZ(29,"div",21),t._uU(30,"Total Paid"),t.qZA(),t.TgZ(31,"div",22),t.TgZ(32,"span",23),t._uU(33),t.qZA(),t.TgZ(34,"span"),t._uU(35),t.qZA(),t._uU(36),t.qZA(),t.qZA(),t.TgZ(37,"div",20),t.TgZ(38,"div",21),t._uU(39,"Date Paid"),t.qZA(),t.TgZ(40,"div",22),t._uU(41),t.qZA(),t.qZA(),t.qZA(),t.TgZ(42,"div",24),t.TgZ(43,"div",25),t.TgZ(44,"div",26),t._uU(45,"Summary"),t.qZA(),t._UZ(46,"div",27),t.TgZ(47,"div",28),t.TgZ(48,"div",29),t._uU(49,"Invoice Number"),t.qZA(),t.TgZ(50,"div",30),t._uU(51),t.qZA(),t.qZA(),t.TgZ(52,"div",28),t.TgZ(53,"div",29),t._uU(54,"Receipt Number"),t.qZA(),t.TgZ(55,"div",30),t._uU(56),t.qZA(),t.qZA(),t.TgZ(57,"div",28),t.TgZ(58,"div",29),t._uU(59,"Date Issued:"),t.qZA(),t.TgZ(60,"div",30),t._uU(61),t.qZA(),t.qZA(),t.TgZ(62,"div",28),t.TgZ(63,"div",29),t._uU(64,"Payment method:"),t.qZA(),t.TgZ(65,"div",30),t.YNc(66,ro,6,4,"ng-container",0),t.YNc(67,lo,3,0,"ng-container",0),t.YNc(68,so,3,0,"ng-container",0),t.qZA(),t.qZA(),t.YNc(69,go,6,1,"ng-container",0),t.YNc(70,_o,7,1,"ng-container",0),t.YNc(71,po,7,1,"ng-container",0),t._UZ(72,"div",31),t.qZA(),t.qZA(),t.qZA(),t._UZ(73,"div",32),t.TgZ(74,"div",33),t.TgZ(75,"div",34),t.TgZ(76,"div"),t.TgZ(77,"span"),t._uU(78),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"div",35),t.TgZ(80,"div",36),t.TgZ(81,"div"),t._uU(82,"Invoice Total"),t.qZA(),t.TgZ(83,"div",37),t._uU(84),t.qZA(),t.qZA(),t.TgZ(85,"div",38),t.TgZ(86,"div"),t._uU(87,"Subtotal"),t.qZA(),t.TgZ(88,"div",37),t._uU(89),t.qZA(),t.qZA(),t.TgZ(90,"div",38),t.TgZ(91,"div"),t._uU(92,"Payment Received"),t.qZA(),t.TgZ(93,"div",37),t._uU(94),t.qZA(),t.qZA(),t.TgZ(95,"div",38),t.TgZ(96,"div"),t._uU(97,"Applied Balance"),t.qZA(),t.TgZ(98,"div",37),t._uU(99),t.qZA(),t.qZA(),t.TgZ(100,"div",39),t.TgZ(101,"div"),t._uU(102,"Amount Paid"),t.qZA(),t.TgZ(103,"div",37),t._uU(104),t.qZA(),t.qZA(),t.TgZ(105,"div",40),t.TgZ(106,"div",41),t.TgZ(107,"span"),t._uU(108,"Thank you for your payment"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(109,"div",42),t.TgZ(110,"div",43),t.TgZ(111,"div"),t._uU(112,"CHeKT LLC. 5870 Greenwood Rd, Shreveport, LA 71119, United States"),t.qZA(),t.TgZ(113,"div",44),t._uU(114,"Please contact us at support.chekt.com if you have any question."),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(115,uo,4,0,"ng-container",0),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("@background",void 0),t.xp6(1),t.Q6J("@dialog",void 0),t.xp6(31),t.Oqu(e.receipt.currency),t.xp6(2),t.Oqu(e.receipt.currency_symbol),t.xp6(1),t.Oqu(e.receipt.fee?e.receipt.fee.toFixed(2):"0.00"),t.xp6(5),t.Oqu(e.commonService.extractReceiptDate(e.receipt.payment_created_at)),t.xp6(10),t.Oqu(e.receipt.invoice_id),t.xp6(5),t.Oqu(e.receipt.receipt_id),t.xp6(5),t.Oqu(e.commonService.extractReceiptDate(e.receipt.payment_created_at)),t.xp6(5),t.Q6J("ngIf","stripe"===e.receipt.payment_type),t.xp6(1),t.Q6J("ngIf","cash"===e.receipt.payment_type),t.xp6(1),t.Q6J("ngIf","credit"===e.receipt.payment_type),t.xp6(1),t.Q6J("ngIf","card"===e.receipt.payment_type),t.xp6(1),t.Q6J("ngIf","card"===e.receipt.payment_type),t.xp6(1),t.Q6J("ngIf","cash"===e.receipt.payment_type),t.xp6(7),t.Oqu(e.commonService.periodReceiptDate(e.receipt.begin_period,e.receipt.end_period)),t.xp6(6),t.AsE("",e.receipt.currency_symbol,"",e.receipt.origin_fee?e.receipt.origin_fee.toFixed(2):"0.00",""),t.xp6(5),t.AsE("",e.receipt.currency_symbol,"",e.receipt.origin_fee?e.receipt.origin_fee.toFixed(2):"0.00",""),t.xp6(5),t.AsE("",e.receipt.currency_symbol,"",e.receipt.fee?e.receipt.fee.toFixed(2):"0.00",""),t.xp6(5),t.AsE("",e.receipt.currency_symbol,"",e.receipt.applied_balance?e.receipt.applied_balance.toFixed(2):"0.00",""),t.xp6(5),t.AsE("",e.receipt.currency_symbol,"",e.receipt.fee?e.receipt.fee.toFixed(2):"0.00",""),t.xp6(11),t.Q6J("ngIf",e.isLoading)}}function mo(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,fo,116,27,"ng-container",0),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.modal.is_active)}}let xo=(()=>{class i{constructor(e,n,c){this.usersService=e,this.invoiceService=n,this.commonService=c,this.dealer={},this.onClose=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.invoice={},this.m_pay=new y.u,this.payment={},this.paidInfo={},this.summary=[],this.cur_dealer={},this.receipt={},this.paymentMethod={},this.card={},this.metadata={},this.cardNumber="",this.accountNumber=""}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.me=e})}ngOnChanges(e){e.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.initData(),this.modal.data.invoice&&(this.invoice=this.modal.data.invoice,this.fetchData()))}initData(){this.receipt={},this.metadata={},this.card={},this.cardNumber=""}fetchData(){this.cur_dealer=this.me,this.getInvoice()}getInvoice(){this.getReceipt(this.invoice.payment_id)}getReceipt(e){this.isLoading=!0,this.invoiceService.getReceipt(this.me.dealer_id,e,this.modal.data.invoice.version).subscribe(o=>{this.receipt=o[0],this.receipt.data||(this.receipt.data={},this.receipt.data.metadata={}),this.metadata=this.receipt.data.metadata,"v1.1"===this.invoice.version?(this.receipt.fee=this.receipt.including_tax_amount,this.card=this.receipt.data.source):"stripe"===this.receipt.payment_type?(this.paidInfo=this.receipt.data.source,"card"===this.paidInfo.object?(this.cardNumber="****-****-****-"+this.paidInfo.last4,this.paidInfo.metadata&&(this.metadata.nickname=this.paidInfo.metadata.nickname)):"bank_account"===this.paidInfo.object&&(this.accountNumber="************"+this.paidInfo.last4)):"cash"===o.payment_type||"credit"===this.receipt.payment_type&&(this.paymentMethod=this.receipt.data.payment_method_details),"v3"===this.invoice.version&&(this.receipt.origin_fee=this.receipt.total_amount),this.isLoading=!1},o=>{this.isLoading=!1})}print(){let e,n;e=document.getElementById("receipt-body").innerHTML,n=window.open("","_blank","top=0,left=0,height=100%,width=auto"),n.document.open(),n.document.write(`\n      <html>\n        <head>\n          <title>Invoice Receipt</title>\n          <style>\n          @media print {\n            body {\n               -webkit-print-color-adjust: exact;\n            }\n          }\n          .receipt-body {\n            padding: 50px;\n            transition: 0.2s;\n            align-items: center;\n          }\n          .receipt-body .row {\n            display: flex;\n            width: 100%;\n            padding-top: 5px;\n          }\n          .receipt-body .row.between {\n            justify-content: space-between;\n          }\n          .receipt-body .row .cell {\n            flex: 1;\n          }\n          .receipt-body .row .right {\n            text-align: right;\n          }\n          .receipt-body .row center {\n            text-align: center;\n          }\n          .receipt-body .receipt-title {\n            margin-bottom: 20px;\n            display: flex;\n            justify-content: space-between;\n          }\n          .receipt-body .receipt-title .title-label {\n            padding-bottom: 22px;\n            font-size: 40px;\n            letter-spacing: -0.3px;\n            color: #a2a6ad;\n          }\n          .receipt-body .receipt-title .receipt-title-row {\n            display: flex;\n            margin-top: 16px;\n            width: 100%;\n            color: #4a4a4a;\n          }\n          .receipt-body .receipt-title .title-left {\n            justify-content: flex-end;\n            display: flex;\n            flex-direction: column;\n            font-size: 20px;\n            flex: 1;\n          }\n          .receipt-body .receipt-title .title-left .title-item-box {\n            margin-bottom: 10px;\n            font-size: 25px;\n            color: #5a6574;\n          }\n          .receipt-body .receipt-title .title-left .title-item-box .title-item {\n            font-size: 18px;\n            letter-spacing: -0.1px;\n            color: #979797;\n          }\n          .receipt-body .receipt-title .title-right {\n            font-size: 20px;\n            flex: 1;\n          }\n          .receipt-body .receipt-title .title-right .summary-box {\n            padding: 10px;\n            font-size: 13px;\n            color: #4a4a4a;\n            font-family: Roboto;\n          }\n          .receipt-body .receipt-title .title-right .summary-box .summary-title {\n            font-size: 20px;\n            font-weight: bold;\n            letter-spacing: -0.1px;\n          }\n          .receipt-body .receipt-title .title-right .title-item-box {\n            font-size: 12px;\n          }\n          .receipt-body .receipt-title .title-right .title-item-box .title-item {\n            font-size: 11px;\n          }\n          .receipt-body .receipt-title .title-right .title-item-box .label {\n            font-size: 14px;\n            font-weight: bold;\n          }\n          .receipt-body .receipt-title .title-right .title-item-box .title-contents {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n          .receipt-body .receipt-title .title-right .title-item-box .line {\n            margin: 2px 0px;\n            border-bottom: 1px solid #ccc;\n          }\n          .receipt-body .receipt-title .title-right .title-item-box .line.bold {\n            border-bottom: 2px solid #ccc;\n          }\n          .receipt-area {\n            margin-top: 24px;\n            height: 280px;\n            border: dotted 0.6px #a2a6ad;\n          }\n          .receipt-area .receipt-header {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            height: 35px;\n            text-align: center;\n            background-color: #ecfbff;\n            font-size: 15px;\n            letter-spacing: -0.1px;\n            color: #979797;\n          }\n          .receipt-area .receipt-box {\n            padding: 30px 25px;\n            font-size: 13px;\n          }\n          .receipt-area .receipt-box .receipt-label {\n            display: flex;\n            justify-content: space-between;\n            padding: 10px 20px;\n          }\n          .receipt-area .receipt-box .bold {\n            font-weight: bold;\n          }\n          .receipt-area .receipt-box .receipt-total {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 14px 20px;\n            background-color: #eae9dd;\n            border-top: solid 0.7px #f7f7f7;\n          }\n          .receipt-area .receipt-box .right {\n            text-align: right;\n          }\n          </style>\n        </head>\n    <body onload="window.print();window.close()">${e}</body>\n      </html>`),n.document.close()}close(e){this.onClose.next(e||{res:!1}),this.modal.close(),setTimeout(n=>{this.enable_modal=!1},200)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(D.x),t.Y36(I.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-receipt-modal"]],inputs:{active:"active",modal:"modal",dealer:"dealer"},outputs:{onClose:"onClose"},features:[t.TTD],decls:2,vars:4,consts:[[4,"ngIf"],[3,"modal","invoice","active"],[1,"align-center"],[1,"overlay",3,"click"],[1,"dialog"],[1,"header"],[1,"title"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"btn-container"],[2,"display","flex"],[2,"width","10px","height","1px"],[1,"icon-btn",3,"click"],[1,"icon-row"],[1,"material-icons","icon-color"],["id","receipt-body",1,"body"],[1,"receipt-body"],[1,"receipt-title"],[1,"title-left"],[1,"title-label"],[1,"title-item-box"],[1,"title-item"],[1,"contents"],[2,"text-transform","uppercase"],[1,"title-right"],[1,"summary-box"],[1,"summary-title"],[2,"border","solid 1px #bcbcbc","margin","10px 0px"],[1,"row","between"],[1,"cell"],[1,"cell","right"],[2,"border","solid 1px #d1d2d2","margin","10px 0px"],[2,"border","solid 0.7px #f8f8f8","margin-top","5px"],[1,"receipt-area"],[1,"receipt-header"],[1,"receipt-box"],[1,"receipt-label","bold"],[1,"right"],[1,"receipt-label"],[1,"receipt-total","bold"],[2,"padding","20px 0px 20px 30px","text-align","center"],[2,"letter-spacing","-0.1px","color","#a2a6ad"],[2,"margin-top","15px"],[2,"font-size","12px"],[2,"padding-top","5px"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(e,n){1&e&&(t.YNc(0,mo,3,1,"ng-container",0),t._UZ(1,"dealer-pay",1)),2&e&&(t.Q6J("ngIf",n.enable_modal),t.xp6(1),t.Q6J("modal",n.m_pay)("invoice",n.invoice)("active",n.m_pay.is_active))},directives:[_.O5,E],styles:['.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:930px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:bold;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:bold;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:bold;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;color:#4a4a4a;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.form-list[_ngcontent-%COMP%]{margin:8px;padding:4px;font-size:14px;color:#333}.form-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:8px 0}.form-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background:#f0f0f0;cursor:pointer}.customer-name[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:bold;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:bold}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:bold}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px}.detail-tab-container[_ngcontent-%COMP%]{display:flex}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#bcbcbc;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:none;font-weight:bold;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:bold;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:bold}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}.receipt-body[_ngcontent-%COMP%]{padding:50px;transition:.2s;align-items:center}.receipt-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.receipt-body[_ngcontent-%COMP%]   .row.between[_ngcontent-%COMP%]{justify-content:space-between}.receipt-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.receipt-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.receipt-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{padding-bottom:22px;font-size:40px;letter-spacing:-.3px;color:#a2a6ad}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .receipt-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{justify-content:flex-end;display:flex;flex-direction:column;font-size:20px;flex:1}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:25px;color:#5a6574}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:18px;letter-spacing:-.1px;color:#979797}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]{padding:10px;font-size:13px;color:#4a4a4a;font-family:Roboto}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:bold;letter-spacing:-.1px}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:bold}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.receipt-body[_ngcontent-%COMP%]   .receipt-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.receipt-area[_ngcontent-%COMP%]{margin-top:24px;height:320px;border:dotted .6px #a2a6ad}.receipt-area[_ngcontent-%COMP%]   .receipt-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:35px;text-align:center;background-color:#ecfbff;font-size:15px;letter-spacing:-.1px;margin-right:.9px;color:#979797}.receipt-area[_ngcontent-%COMP%]   .receipt-box[_ngcontent-%COMP%]{padding:30px 25px;font-size:13px}.receipt-area[_ngcontent-%COMP%]   .receipt-box[_ngcontent-%COMP%]   .receipt-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}.receipt-area[_ngcontent-%COMP%]   .receipt-box[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:bold}.receipt-area[_ngcontent-%COMP%]   .receipt-box[_ngcontent-%COMP%]   .receipt-total[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background-color:#eae9dd;border-top:solid .7px #f7f7f7}.receipt-area[_ngcontent-%COMP%]   .receipt-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();var bo=f(27787);function ho(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t.qZA()}2&i&&t.Q6J("@background",void 0)}function vo(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",45),t.TgZ(4,"td",45),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(5);t.xp6(2),t.Oqu(e.name),t.xp6(3),t.AsE("",n.me.currency_symbol," ",e.fee.toFixed(2),"")}}function Co(i,r){if(1&i&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t._UZ(2,"td",45),t.TgZ(3,"td",45),t._uU(4),t.qZA(),t.qZA()),2&i){const e=t.oxw(5);t.xp6(4),t.hij("",e.me.currency_symbol," 0")}}function Po(i,r){if(1&i&&(t.TgZ(0,"div",54),t.TgZ(1,"table",55),t.TgZ(2,"colgroup"),t._UZ(3,"col",43),t._UZ(4,"col",44),t._UZ(5,"col",44),t.qZA(),t.TgZ(6,"thead",56),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9,"Dealer Name"),t.qZA(),t._UZ(10,"th",45),t.TgZ(11,"th",45),t._uU(12,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"tbody"),t.YNc(14,vo,6,3,"tr",46),t.YNc(15,Co,5,1,"tr",47),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(14),t.Q6J("ngForOf",e.customers),t.xp6(1),t.Q6J("ngIf",0===e.customers.length)}}function Mo(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t._UZ(3,"td",45),t.TgZ(4,"td",45),t._uU(5),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(4);t.xp6(2),t.Oqu(e.name),t.xp6(3),t.AsE("",n.me.currency_symbol," ",e.fee.toFixed(2),"")}}function Oo(i,r){1&i&&t._UZ(0,"tr")}function Zo(i,r){if(1&i&&(t.TgZ(0,"div",15),t.TgZ(1,"div",16),t.TgZ(2,"div",17),t.TgZ(3,"div",18),t.TgZ(4,"div",19),t._UZ(5,"img",20),t.qZA(),t.TgZ(6,"div",21),t.TgZ(7,"div"),t.TgZ(8,"span",22),t._uU(9,"CHeKT Services Invoice"),t.qZA(),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"span",23),t._uU(12,"Email or talk us about your CHeKT account or bill, visit chekt.com/contact-us/"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",18),t.TgZ(14,"div",24),t.TgZ(15,"div",25),t.TgZ(16,"div",26),t._uU(17,"Dealer E-mail"),t.qZA(),t.TgZ(18,"div",27),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",25),t.TgZ(21,"div",26),t._uU(22,"Bill to Address"),t.qZA(),t.TgZ(23,"div",27),t._uU(24),t.qZA(),t.TgZ(25,"div",27),t._uU(26),t.qZA(),t.TgZ(27,"div",27),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",28),t.TgZ(30,"div",29),t.TgZ(31,"div",30),t._uU(32,"Invoice Summary"),t.qZA(),t.TgZ(33,"div",31),t.TgZ(34,"div",32),t._uU(35,"Billing Statement"),t.qZA(),t.TgZ(36,"div",33),t._uU(37),t.qZA(),t.qZA(),t._UZ(38,"div",34),t.TgZ(39,"div",35),t.TgZ(40,"div",36),t._uU(41),t.qZA(),t.TgZ(42,"div",33),t._uU(43),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",37),t.TgZ(45,"div",38),t.TgZ(46,"div",39),t._uU(47),t.qZA(),t.TgZ(48,"div",40),t._uU(49,"Greetings from CHeKT Services, we're writing to provide you with an electronic invoice for your use of CHeKT services. Additional information"),t.qZA(),t.qZA(),t.qZA(),t.YNc(50,Po,16,2,"div",41),t.TgZ(51,"div",42),t.TgZ(52,"table"),t.TgZ(53,"colgroup"),t._UZ(54,"col",43),t._UZ(55,"col",44),t._UZ(56,"col",44),t.qZA(),t.TgZ(57,"thead"),t.TgZ(58,"tr"),t.TgZ(59,"th"),t._uU(60,"Site Name"),t.qZA(),t._UZ(61,"th"),t.TgZ(62,"th",45),t._uU(63,"Amount"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"tbody"),t.YNc(65,Mo,6,3,"tr",46),t.YNc(66,Oo,1,0,"tr",47),t.qZA(),t.qZA(),t.qZA(),t._UZ(67,"div",48),t.TgZ(68,"div",37),t.TgZ(69,"div",49),t.TgZ(70,"div",50),t.TgZ(71,"div",51),t._uU(72,"* All Invoice can be paid online or to the following address"),t.qZA(),t.TgZ(73,"div",52),t._uU(74,"CHeKT Inc."),t._UZ(75,"br"),t._uU(76,"\nAttn: Accounts Receivable"),t._UZ(77,"br"),t._uU(78,"\n5874 Greenwood Rd. Shreveport, LA 71119"),t.qZA(),t.qZA(),t.TgZ(79,"div",38),t.TgZ(80,"div",53),t._uU(81,"Service Provider"),t._UZ(82,"br"),t._uU(83,"\nCHeKT, Inc."),t._UZ(84,"br"),t._UZ(85,"br"),t._UZ(86,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(19),t.Oqu(e.dealerInfo.company_email),t.xp6(5),t.Oqu(e.dealerInfo.company_name),t.xp6(2),t.Oqu(e.dealerInfo.company_address1),t.xp6(2),t.Oqu(e.dealerInfo.company_address2),t.xp6(9),t.Oqu(e.commonService.periodBillDate(e.recurring.begin_period,e.recurring.end_period)),t.xp6(4),t.hij("TOTAL AMOUNT DUE ON ",e.commonService.summaryDate(e.recurring.end_period),""),t.xp6(2),t.AsE("",e.me.currency_symbol," ",e.recurring.fee,""),t.xp6(4),t.hij(" This invoice is for the billing period ",e.commonService.periodBillDate(e.recurring.begin_period,e.recurring.end_period),""),t.xp6(3),t.Q6J("ngIf",e.isWCSMDealer),t.xp6(15),t.Q6J("ngForOf",e.sites),t.xp6(1),t.Q6J("ngIf",!e.sites.length)}}function yo(i,r){1&i&&(t.TgZ(0,"div",57),t.O4$(),t.TgZ(1,"svg",58),t._UZ(2,"circle",59),t.qZA(),t.qZA())}function wo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"div"),t.TgZ(2,"div",6),t.TgZ(3,"div",7),t._uU(4,"Current Month Invoice"),t.qZA(),t.TgZ(5,"div",8),t.TgZ(6,"i",9),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",10),t._UZ(9,"div",11),t.qZA(),t.YNc(10,Zo,87,12,"div",12),t._UZ(11,"div",13),t.YNc(12,yo,3,0,"div",14),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(10),t.Q6J("ngIf",!e.isLoading),t.xp6(2),t.Q6J("ngIf",e.isLoading)}}function To(i,r){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,ho,1,1,"div",2),t.YNc(2,wo,13,3,"div",3),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.modal.is_active),t.xp6(1),t.Q6J("ngIf",e.modal.is_active)}}let Ao=(()=>{class i{constructor(e,n,c,o,a){this.usersService=e,this.dealerService=n,this.invoiceService=c,this.commonService=o,this.helper=a,this.dealer={},this.onClose=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.isWCSMDealer=!1,this.cur_dealer={},this.dealerInfo={},this.invoice={},this.recurring={},this.sites=[],this.customers=[],this.dealers=[]}ngOnInit(){this.usersService.getMe().subscribe(e=>{this.me=e,this.isWCSMDealer=2===this.me.type})}ngOnChanges(e){e.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.fetchData())}fetchData(){return(0,x.mG)(this,void 0,void 0,function*(){this.cur_dealer=this.me,this.getDealerInfo(),yield this.getDealerList(),this.getReccuring()})}getDealerInfo(){this.dealerService.getDealerInfo(this.me.dealer_id).subscribe(e=>{this.dealerInfo=e[0]})}getReccuring(){this.isLoading=!0,this.invoiceService.getInvoiceRecurringV3(this.me.dealer_id).subscribe(n=>{var c,o,a,s,l,d,g,p,m,h,k,U,J,Q,et,nt;this.recurring=null==n?void 0:n.realTimeFeeInvoice,this.sites=null!==(o=null===(c=this.recurring)||void 0===c?void 0:c.sites)&&void 0!==o?o:[];const jo=C()(null===(s=null===(a=this.recurring)||void 0===a?void 0:a.begin_period)||void 0===s?void 0:s.split("T")[0]).daysInMonth();this.recurring.beginDate=C()(null===(d=null===(l=this.recurring)||void 0===l?void 0:l.begin_period)||void 0===d?void 0:d.split("T")[0]).format("M/D"),this.recurring.endDate=C()(null===(p=null===(g=this.recurring)||void 0===g?void 0:g.begin_period)||void 0===p?void 0:p.split("T")[0]).endOf("month").format("D"),this.recurring.curDate=C()(null===(h=null===(m=this.recurring)||void 0===m?void 0:m.end_period)||void 0===h?void 0:h.split("T")[0]).date()-C()(null===(k=this.recurring)||void 0===k?void 0:k.begin_period.split("T")[0]).date();const Ro=jo-C()(null===(J=null===(U=this.recurring)||void 0===U?void 0:U.begin_period)||void 0===J?void 0:J.split("T")[0]).date();if(this.recurring.curDayPosition=Math.floor((null===(Q=this.recurring)||void 0===Q?void 0:Q.curDate)/Ro*100),!this.isWCSMDealer)return this.isLoading=!1;const L=[],ot=(null===(et=this.recurring)||void 0===et?void 0:et.retails)?P.cloneDeep(null===(nt=this.recurring)||void 0===nt?void 0:nt.retails):[];0!==ot.length&&ot.forEach(F=>{F.customer_id!==this.me.dealer_id&&(F.name=this.computedSiteDealer(F),L.push(F))});const Bo=L.reduce((F,Wo)=>F+Wo.fee,0);L.unshift({customer_id:this.recurring.customer_id,name:this.me.company_name,company_name:this.me.company_name,site_count:this.recurring.site_count,bridge_count:this.recurring.bridge_count,fee:this.recurring.fee-Bo,occur_total_event_count:this.recurring.occur_total_event_count}),this.customers=L,this.isLoading=!1},n=>{this.isLoading=!1,this.customers=[],console.debug("getReccuring :>",n)})}close(e){this.onClose.next(e||{res:!1}),this.modal.close(),setTimeout(n=>{this.enable_modal=!1},200)}getDealerList(){return(0,x.mG)(this,void 0,void 0,function*(){try{this.dealers=yield this.helper.partner.get_partners()}catch(e){console.debug(e)}})}computedSiteDealer(e){const n=this.dealers.find(c=>c.dealer_id===e.dealer_id);return e.dealer==this.me.dealer_id?e.name:null==n?void 0:n.external_dealer_id_with_company_name}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(bo.X),t.Y36(D.x),t.Y36(I.v),t.Y36(z.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-realtime-fee-modal"]],inputs:{active:"active",modal:"modal",dealer:"dealer"},outputs:{onClose:"onClose"},features:[t.TTD],decls:1,vars:1,consts:[["class","align-center",4,"ngIf"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","dialog",4,"ngIf"],[1,"overlay",3,"click"],[1,"dialog"],[1,"header"],[1,"title"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"btn-container"],[2,"display","flex"],["class","body","id","invoice-body",4,"ngIf"],[1,"tail"],["class","loader absolute",4,"ngIf"],["id","invoice-body",1,"body"],[1,"invoice-body"],[1,"invoice-title"],[1,"invoice-title-row"],[1,"title-left",2,"display","flex","flex-direction","column","justify-content","flex-end"],["src","/assets/logo/logo-wide-blue-50.png",2,"width","100px"],[1,"title-row-right",2,"text-align","right"],[2,"font-size","20px"],[2,"font-size","12px"],[1,"title-left"],[1,"title-item-box"],[1,"title-item"],[1,"contents"],[1,"title-row-right"],[1,"summary-box"],[1,"summary-title",2,"font-size","15px"],[1,"row","between"],[1,"cell"],[1,"cell","right"],[2,"border","solid .7px #d1d2d2","margin-top","5px"],[1,"row","between","summary-title"],[1,"cell",2,"flex","2"],[1,"invoice-informations"],[1,"invoice-info-box"],[1,"invoice-info-title"],[1,"invoice-info-contents"],["class","invoice-items",4,"ngIf"],[1,"invoice-items",2,"margin-top","10px"],["width","60%"],["width","20%"],[2,"text-align","right"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"margin-top","15px"],[2,"display","flex","flex-direction","row","width","100%"],[1,"invoice-info-box",2,"flex","7"],[1,"invoice-info-contents",2,"margin-right","10px"],[1,"invoice-info-contents",2,"margin-right","10px","margin-left","6px"],[1,"invoice-info-noti"],[1,"invoice-items"],[2,"border-color","#aed7ff"],[2,"background","#d5eaff"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(e,n){1&e&&t.YNc(0,To,3,2,"div",0),2&e&&t.Q6J("ngIf",n.enable_modal)},directives:[_.O5,_.sg],styles:['.align-center[_ngcontent-%COMP%]{padding:50px 0;overflow-y:overlay;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;flex-wrap:wrap;justify-content:center;background-color:#0000004d;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;max-width:1010px;background-color:#f8f8f8;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:102;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;border-radius:5px}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:5px 18px;background-color:#1e90ff;border-radius:5px 5px 0 0;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:.2s;align-items:center;border-radius:22px;justify-content:center;display:flex;width:45px;height:45px}.header[_ngcontent-%COMP%]   .title-close[_ngcontent-%COMP%]:hover{background:#57aafb}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:bold;letter-spacing:-.1px;color:#fff;text-transform:capitalize;font-family:Roboto}.body[_ngcontent-%COMP%]{margin:12px 30px;min-height:660px;border-radius:5px;border:solid 1px #ececed;background-color:#ffffffd4}.btn-container[_ngcontent-%COMP%]{padding:32px 30px 0;display:flex;justify-content:space-between;height:28px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.full-btn[_ngcontent-%COMP%]{padding:6px 15px;background:#2383e2;font-family:Roboto;font-size:14px;font-weight:bold;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;cursor:pointer}.full-btn[_ngcontent-%COMP%]:hover{background-color:#1e90ffcc}.full-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#1e90ffcc}.full-btn.pay-btn[_ngcontent-%COMP%]{background:#7ed321}.full-btn.pay-btn[_ngcontent-%COMP%]:hover{background-color:#7ed321cc}.full-btn.pay-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 1px 3px #00000080;background-color:#7ed321cc}.icon-btn[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:bold;color:#fff;display:flex;justify-content:center;border-radius:5px;transition:.2s;width:-moz-fit-content;width:fit-content;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc);background-origin:border-box;background-clip:content-box,border-box;color:#4a4a4a;cursor:pointer}.icon-btn[_ngcontent-%COMP%]:hover{border-image-source:linear-gradient(to bottom,#c3c3c3,#9f9f9f);border-image-slice:1;background-image:linear-gradient(to bottom,#e4e4e4,#d9d9d9),linear-gradient(to bottom,#c3c3c3,#9f9f9f)}.icon-btn[_ngcontent-%COMP%]:active{box-shadow:inset 0 2px 3px #00000080;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;background-image:linear-gradient(to bottom,#f7f7f7,#ececed),linear-gradient(to bottom,#dfdfdf,#bcbcbc)}.icon-btn[_ngcontent-%COMP%]   .icon-row[_ngcontent-%COMP%]{display:flex;padding:6px 15px}.icon-btn[_ngcontent-%COMP%]   .icon-color[_ngcontent-%COMP%]{color:#888;line-height:14px;font-size:20px}.invoice-body[_ngcontent-%COMP%]{padding:30px;transition:.2s;align-items:center}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.customer-name[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:bold;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .invoice-title-row[_ngcontent-%COMP%]{display:flex;margin-top:16px;width:100%;color:#4a4a4a}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin-bottom:10px;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-family:Helvetica;font-size:12px;color:#000}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:bold}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;padding:8px 0;color:#5a6574;letter-spacing:-.1px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;color:#4a4a4a}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{text-align:right;font-size:12px;font-weight:500;letter-spacing:-.1px;color:#979797}.invoice-items[_ngcontent-%COMP%]{margin-top:15px}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:solid 1px #ececed}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecfbff}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;text-align:left;font-size:12px;font-weight:bold}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding:12px 16px;color:#4a4a4a;font-size:13px;letter-spacing:-.1px}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.invoice-title-row[_ngcontent-%COMP%]{display:flex;width:100%;color:#4a4a4a}.invoice-title-row[_ngcontent-%COMP%]   .title-row-right[_ngcontent-%COMP%]{flex:1}.invoice-title-row[_ngcontent-%COMP%]   .title-row-left[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]{display:flex;width:100%;padding-top:5px}.row.between[_ngcontent-%COMP%]{justify-content:space-between}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1}.row[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.row[_ngcontent-%COMP%]   center[_ngcontent-%COMP%]{text-align:center}.summary-box[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;font-size:13px;color:#5a6574;font-family:Roboto}.summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:bold;letter-spacing:-.1px}.back-btn[_ngcontent-%COMP%]{color:#888;cursor:pointer}.detail-title[_ngcontent-%COMP%]{letter-spacing:-.1px;color:#888;font-size:15px}.detail-tab-container[_ngcontent-%COMP%]{display:flex}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]{position:relative;min-width:130px;padding:14px 0 6px;border-radius:5px 5px 0 0;border-style:solid;border-color:#bcbcbc;border-width:1px;background-color:#f2f2f2;font-size:14px;transition:.2s;cursor:pointer}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{text-align:center}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]   .detail-tab-fee[_ngcontent-%COMP%]{font-size:12px;letter-spacing:-.1px;font-weight:500;color:#8d8d8d}.detail-tab-container[_ngcontent-%COMP%]   .detail-tab[_ngcontent-%COMP%]:hover{background-color:#fff}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab[_ngcontent-%COMP%]{background-color:#fff;border-bottom:none;font-weight:bold;color:#494949}.detail-tab-container[_ngcontent-%COMP%]   .selected-detail-tab-line[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:6.9px;background-color:#2383e2;border-radius:4px 4px 0 0}.detail-list-header[_ngcontent-%COMP%]{display:flex;margin-top:30px;margin-bottom:15px;justify-content:space-between;font-size:18px;font-weight:bold;letter-spacing:-.1px;color:#5a6574}.invoice-detail-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.invoice-detail-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;color:#5a6574;text-transform:capitalize;font-size:13px;font-weight:bold}.center[_ngcontent-%COMP%]{text-align:center!important}.right[_ngcontent-%COMP%]{text-align:right!important}'],data:{animation:[u.ge,u.ku,u.$r,u.OP]}}),i})();function qo(i,r){if(1&i&&(t.TgZ(0,"div",49),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.AsE(" Downgraded to ",e.nextMonthPlanName," starting on ",e.downgradeDate,"")}}function Uo(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",50),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Udp("left","calc("+e.recurring.curDayPosition+"% - 10px)"),t.xp6(1),t.Oqu(e.recurring.curDate+1)}}function ko(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",53),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).selectYear(o)}),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,n=t.oxw(2);t.ekj("selected-data",n.curInvoiceYear===e),t.xp6(2),t.Oqu(e)}}function Do(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",51),t.YNc(2,ko,3,3,"div",52),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.invoiceYearList)}}function Io(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",53),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(2).selectStatus(o)}),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,n=t.oxw(2);t.ekj("selected-data",n.invoiceStatus===e),t.xp6(2),t.Oqu(e)}}function zo(i,r){if(1&i&&(t.TgZ(0,"div",51),t.YNc(1,Io,3,3,"div",52),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.invoiceStatusList)}}function So(i,r){1&i&&(t.ynx(0),t.TgZ(1,"div",54),t.TgZ(2,"div",55),t.O4$(),t.TgZ(3,"svg",56),t._UZ(4,"circle",57),t.qZA(),t.qZA(),t.qZA(),t.BQk())}function Fo(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",65),t.TgZ(2,"span",64),t.NdJ("click",function(c){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return c.stopPropagation(),a.openReceipt(o)}),t._uU(3,"Receipt"),t.qZA(),t.qZA(),t.BQk()}}function No(i,r){1&i&&(t.ynx(0),t._UZ(1,"div",66),t.BQk())}function Vo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",60),t.TgZ(1,"td",43),t.TgZ(2,"span",61),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"td",44),t._uU(5),t.qZA(),t.TgZ(6,"td",44),t._uU(7),t.qZA(),t.TgZ(8,"td",44),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td",44),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td",45),t._uU(15),t.qZA(),t.TgZ(16,"td",45),t._uU(17),t.qZA(),t.TgZ(18,"td",45),t._uU(19),t.qZA(),t.TgZ(20,"td",62),t.TgZ(21,"div",63),t.TgZ(22,"span",64),t.NdJ("click",function(c){const a=t.CHM(e).$implicit,s=t.oxw(2);return c.stopPropagation(),s.openInvoice(a)}),t._uU(23,"Invoice"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"td",62),t.YNc(25,Fo,4,0,"ng-container",20),t.YNc(26,No,2,0,"ng-container",20),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngClass",null==e?null:e.status_label),t.xp6(1),t.Oqu(null==e?null:e.status_text),t.xp6(2),t.Oqu(n.commonService.periodDate(null==e?null:e.begin_period,null==e?null:e.end_period)),t.xp6(2),t.Oqu(null!=e&&e.dealer_invoice_id?null==e?null:e.dealer_invoice_id:null==e?null:e.invoice_id),t.xp6(2),t.Oqu(t.xi3(10,14,null==e?null:e.invoice_date,"mediumDate")),t.xp6(3),t.Oqu(t.xi3(13,17,null==e?null:e.payment_due,"mediumDate")),t.xp6(3),t.AsE("",null==e?null:e.currency_symbol," ",null!=e&&e.origin_fee?null==e?null:e.origin_fee.toFixed(2):"0.00",""),t.xp6(2),t.AsE("",null==e?null:e.currency_symbol," ",null!=e&&e.applied_balance?null==e?null:e.applied_balance.toFixed(2):"0.00",""),t.xp6(2),t.AsE("",null==e?null:e.currency_symbol," ",null!=e&&e.remained_fee?null==e?null:e.remained_fee.toFixed(2):"0.00",""),t.xp6(6),t.Q6J("ngIf",5===(null==e?null:e.status)&&(null==e?null:e.payment_id)),t.xp6(1),t.Q6J("ngIf",5!==(null==e?null:e.status))}}function Eo(i,r){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",67),t._uU(2,"Permission Denied"),t.qZA(),t.qZA())}function Jo(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",58),t.TgZ(2,"table"),t.TgZ(3,"colgroup"),t._UZ(4,"col",38),t._UZ(5,"col",39),t._UZ(6,"col",39),t._UZ(7,"col",39),t._UZ(8,"col",39),t._UZ(9,"col",39),t._UZ(10,"col",40),t._UZ(11,"col",40),t._UZ(12,"col",41),t._UZ(13,"col",42),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,Vo,27,20,"tr",59),t.YNc(16,Eo,3,0,"tr",20),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.filtered_invoices),t.xp6(1),t.Q6J("ngIf",0===e.filtered_invoices.length&&!1===e.hasInvoicePermission)}}const Yo=v.Bz.forChild([{path:"",component:(()=>{class i{constructor(e,n,c,o,a){this.usersService=e,this.invoicesService=n,this.commonService=c,this.dealerPlanService=o,this.helper=a,this.invoices=[],this.filtered_invoices=[],this.is_loading=!0,this.isInvoice=!1,this.isReceipt=!1,this.recurring=new Object,this.tab_list=["ALL"],this.tab=this.tab_list[0],this.unpaidCount=0,this.mode="list",this.isFoldInvoiceYear=!0,this.isFoldInvoiceStatus=!0,this.invoiceStatusList=["all","paid","not paid","overdue","refunded"],this.invoiceYearList=[2019,2018,2017],this.lastMonths="Last 12 Months",this.curInvoiceYear=this.invoiceYearList[0],this.invoiceStatus=this.invoiceStatusList[0],this.m_invoice=new y.u,this.m_receipt=new y.u,this.m_realtime=new y.u,this.m_warning=new y.u,this.hasInvoicePermission=null,this.isShowWarning=!1}ngOnInit(){this.setYearList(),this.usersService.getMe().subscribe(e=>{this.me=e,this.recurring={curData:0},this.fetchDealerPlan(),this.fetchInvoices()})}setYearList(){let e=[],n=C()();n.subtract(1,"months");for(let o=n.year();o>=2017;o--)e.push(o);e.unshift(this.lastMonths),this.invoiceYearList=e,this.curInvoiceYear=this.invoiceYearList[0]}fetchDealerPlan(){return(0,x.mG)(this,void 0,void 0,function*(){const e=this.me.dealer_id,n=yield this.dealerPlanService.getDealerPlan(e).toPromise(),c=n.next_month_service_plan_type;this.isShowWarning=n.current_month_service_plan_type>c,this.isShowWarning&&(this.nextMonthPlanName=this.parseServicePlanTypeToPlanName(c),this.setDowngradeDate())})}parseServicePlanTypeToPlanName(e){switch(e){case 1:default:return"Basic";case 2:return"Professional";case 3:return"Premium";case 4:return"Reseller"}}setDowngradeDate(){const e=C()().add(1,"month").startOf("month").format("D MMM YYYY");this.downgradeDate=e}fetchInvoices(){this.is_loading=!0,this.invoices=[],this.filtered_invoices=[],this.getInvoiceList(),this.getReccuring()}getInvoiceList(){return(0,x.mG)(this,void 0,void 0,function*(){try{const e=yield this.getInvoiceListV2(),n=yield this.getInvoiceListV3();this.invoices=n.concat(e),this.invoices.sort((c,o)=>this.compareByDesc(new Date(c.invoice_date),new Date(o.invoice_date))),this.parseInvoiceFilteredByLabelAndCalcFee()}catch(e){this.invoices=[],this.is_loading=!1,console.debug("getInvoiceList :>",e),this.commonService.showErrorToast(e,"Get Invoice List Info")}})}compareByDesc(e,n){return-1*(e<n?-1:1)}getInvoiceListV2(){var e;return(0,x.mG)(this,void 0,void 0,function*(){const[n,c]=this.setYearlyFilter();try{const o=null!==(e=yield this.invoicesService.getFilter(this.me.dealer_id,n,c).toPromise())&&void 0!==e?e:[];return this.hasInvoicePermission=!0,o}catch(o){this.invoices=[],this.is_loading=!1,console.debug("getInvoiceListV2 :>",o);let a="Request Invoice List V2 Info";403===o.status&&(this.hasInvoicePermission=!1),this.commonService.showErrorToast(o,a)}})}getInvoiceListV3(){var e;return(0,x.mG)(this,void 0,void 0,function*(){const[n,c]=this.setYearlyFilter();try{const o=null!==(e=yield this.invoicesService.getFilterV3(this.me.dealer_id,n,c).toPromise())&&void 0!==e?e:[];return this.hasInvoicePermission=!0,o.forEach(a=>{a.begin_period=a.begin_date,a.end_period=a.end_date}),o}catch(o){this.invoices=[],this.is_loading=!1,console.debug("getInvoiceListV3 :>",o);let a="Request Invoice List V3 Info";403===o.status&&(this.hasInvoicePermission=!1),this.commonService.showErrorToast(o,a)}})}parseInvoiceFilteredByLabelAndCalcFee(){this.invoices.forEach(e=>{this.setLabel(e),"v3"!=e.version?(e.amount||0===e.amount)&&(e.origin_fee=e.amount):(e.origin_fee=e.total_amount,e.remained_fee=e.amount_due)}),this.invoices=this.invoices.filter(e=>"DRAFT"!==e.status_text),this.filter(),this.calcInvoice(),this.is_loading=!1}getReccuring(){this.invoicesService.getInvoiceRecurringV3(this.me.dealer_id).subscribe(n=>{var c,o,a,s,l,d,g,p,m,h,k,U;this.recurring=null==n?void 0:n.realTimeFeeInvoice;const J=C()(null===(o=null===(c=this.recurring)||void 0===c?void 0:c.begin_period)||void 0===o?void 0:o.split("T")[0]).daysInMonth();this.recurring.beginDate=C()(null===(s=null===(a=this.recurring)||void 0===a?void 0:a.begin_period)||void 0===s?void 0:s.split("T")[0]).format("M/D"),this.recurring.endDate=C()(null===(d=null===(l=this.recurring)||void 0===l?void 0:l.begin_period)||void 0===d?void 0:d.split("T")[0]).endOf("month").format("D"),this.recurring.curDate=C()(null===(p=null===(g=this.recurring)||void 0===g?void 0:g.end_period)||void 0===p?void 0:p.split("T")[0]).date()-C()(null===(h=null===(m=this.recurring)||void 0===m?void 0:m.begin_period)||void 0===h?void 0:h.split("T")[0]).date();const Q=J-C()(null===(U=null===(k=this.recurring)||void 0===k?void 0:k.begin_period)||void 0===U?void 0:U.split("T")[0]).date();this.recurring.curDayPosition=Math.floor(this.recurring.curDate/Q*100)})}setLabel(e){var n;let c={};if(c=1===this.invoicesService.invoiceVersion?e.payment:null!==(n=null==e?void 0:e.payments)&&void 0!==n?n:{},this.isEmpty(c))if(0===e.status)e.status_text="DRAFT",e.status_label="status-normal";else if(4===e.status){const o=C()().isAfter(e.payment_due),a=e.is_pending;a&&(e.status_text="PENDING",e.status_label="status-pending"),o&&!a&&(e.status_text="OVERDUE",e.status_label="status-overdue"),!o&&!a&&(e.status_text="NOT PAID",e.status_label="status-unpaid")}else 5===e.status?(e.status_text="PAID",e.status_label="status-success","Refund"===c.status&&(e.status_text="REFUNDED",e.status_label="status-refunded")):(e.status_text="UNKNOWN",e.status_label="status-normal");else e.status_text="PAID",e.status_label="status-success","Refund"===c.status&&(e.status_text="REFUNDED",e.status_label="status-refunded")}filter(){switch(this.invoiceStatus){default:case"all":this.filtered_invoices=this.invoices;break;case"paid":this.filtered_invoices=this.invoices.filter(n=>"PAID"===n.status_text);break;case"not paid":this.filtered_invoices=this.invoices.filter(n=>4===n.status&&!n.payment_id);break;case"overdue":this.filtered_invoices=this.invoices.filter(n=>"OVERDUE"===n.status_text);break;case"refunded":this.filtered_invoices=this.invoices.filter(n=>"REFUNDED"===n.status_text)}}calcInvoice(){const e=this.invoices.filter(n=>4===n.status&&!n.payment_id);this.unpaidCount=e.length}toggleYear(){this.isFoldInvoiceYear=!this.isFoldInvoiceYear,this.isFoldInvoiceStatus=!0}selectYear(e){this.isFoldInvoiceYear=!0,this.curInvoiceYear=e,this.fetchInvoices()}setYearlyFilter(){const e=this.curInvoiceYear;let n=0,c=0;return e===this.lastMonths?(n=C()().subtract(12,"months").utc().startOf("month").unix(),c=C()().utc().unix()):(n=C()().utc().year(e).startOf("year").unix(),c=C()().utc().year(e).endOf("year").unix()),[n,c]}toggleStatus(){this.isFoldInvoiceStatus=!this.isFoldInvoiceStatus,this.isFoldInvoiceYear=!0}selectStatus(e){this.isFoldInvoiceStatus=!0,this.invoiceStatus=e,this.filter()}selectFilterTab(e){this.tab=e,this.filter()}isEmpty(e){return 0===Object.keys(e).length}moveToDetail(e){this.helper.router.navigate_to(`/settings/invoices/${e.invoice_id}/detail`)}moveToRealtime(e){this.helper.router.navigate_to("/settings/invoices/real-time")}moveToReceipt(e){this.helper.router.navigate_to(`/settings/invoices/${e.invoice_id}/receipt`)}openInvoice(e,n=!1){this.selInvoice=e,this.m_invoice.data.invoice=e,this.isInvoice=!0,this.m_invoice.open()}closeInvoice(){this.isInvoice=!1,this.m_invoice.close()}openReceipt(e){this.selInvoice=e,this.m_receipt.data.invoice=e,this.m_receipt.open()}closeReceipt(){this.m_invoice.close()}openRealtime(){this.m_realtime.open()}closeModal(e){this.m_invoice.data.invoice=null,this.fetchInvoices()}confirmDialog(e="",n="",c="done",o="green"){this.m_warning.data={header:e,contents:`\n        <p>${n}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:c,isConfirm:!0,color:o},this.m_warning.data.submit_func=()=>{},this.m_warning.open()}errorDialog(e,n,c="failed."){e.error&&e.error.message&&(c=e.error.message),e._body&&(c=JSON.parse(e._body).message),setTimeout(()=>{this.confirmDialog(n,c,"warning","orange")},200)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.f),t.Y36(D.x),t.Y36(I.v),t.Y36(at._),t.Y36(z.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-invoices"]],decls:105,vars:33,consts:[[1,"container"],["id","40601",1,"full-widget"],[1,"header"],[1,"title"],[2,"font-weight","500"],[1,"this-month-container"],[1,"this-month-layout"],[2,"display","flex"],[1,"this-month-amount"],[1,"label"],[2,"margin-top","10px"],[1,"amount"],["style","font-size: 14px; color: #CD3D64",4,"ngIf"],[1,"spt-line",2,"height","77px","border","solid .7px #d1d2d2"],[1,"this-month-billdate"],[2,"display","flex","margin-top","10px"],[2,"width","25px","text-align","center","margin-right","8px"],[1,"billdate"],[1,"bill-box"],[1,"bill-percent"],[4,"ngIf"],[2,"width","25px","text-align","center"],[1,"this-month-detail-box"],[1,"this-month-detail-inner"],[2,"margin-top","5px"],[1,"label-btn",3,"click"],[1,"table-title"],[1,"title-label"],[1,"invoice-select-container","unselectable"],[2,"position","relative"],[1,"invoice-select-box",2,"width","140px",3,"click"],[1,"invoice-select-label"],[1,"invoice-select-icon"],[1,"material-icons","transition",2,"color","#a3a7ae"],[2,"height","25px","border","solid 0.7px #bcbcbc","margin","3px 15px"],[1,"invoice-select-box",3,"click"],["class","invoice-select-list",4,"ngIf"],[1,"table-header",2,"margin-bottom","0"],["width","15%"],["width","10%"],["width","12%"],["width","8%"],["width","7%"],[2,"text-indent","12px"],[2,"text-align","left"],[2,"text-align","right"],[1,"th-place"],[3,"modal","active","dealer","onclose"],[3,"modal","active"],[2,"font-size","14px","color","#CD3D64"],[1,"bill-curdate"],[1,"invoice-select-list"],["class","invoice-select-data",3,"selected-data","click",4,"ngFor","ngForOf"],[1,"invoice-select-data",3,"click"],[1,"table-loading"],[1,"loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"table-body"],["class","has-child invoice-row","style","cursor:default",4,"ngFor","ngForOf"],[1,"has-child","invoice-row",2,"cursor","default"],[1,"status-label",3,"ngClass"],[1,"invoice-btn-field"],[2,"display","flex","justify-content","flex-end"],[1,"link",3,"click"],[2,"display","flex","justify-content","center"],[2,"width","67px","height","1px"],["colspan","7",2,"text-align","center"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._uU(5,"Current month-to-date spend"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"div"),t.TgZ(11,"span",9),t._uU(12,"Estimated Amount"),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"span",11),t._uU(15),t.qZA(),t.qZA(),t.YNc(16,qo,2,2,"div",12),t.qZA(),t._UZ(17,"div",13),t.TgZ(18,"div",14),t.TgZ(19,"div"),t.TgZ(20,"span",9),t._uU(21,"Service Month"),t.qZA(),t.qZA(),t.TgZ(22,"div",15),t.TgZ(23,"div",16),t.TgZ(24,"span",17),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"div",18),t._UZ(27,"div",19),t.YNc(28,Uo,3,3,"ng-container",20),t.qZA(),t.TgZ(29,"div",21),t.TgZ(30,"span",17),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",22),t.TgZ(33,"div",23),t.TgZ(34,"div"),t.TgZ(35,"span",9),t._uU(36,"Curious about invoice so far?"),t.qZA(),t.qZA(),t.TgZ(37,"div",24),t.TgZ(38,"span",25),t.NdJ("click",function(){return n.openRealtime()}),t._uU(39,"View bill details"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",26),t.TgZ(41,"div"),t.TgZ(42,"span",27),t._uU(43,"Invoice/Receipts"),t.qZA(),t.qZA(),t.TgZ(44,"div",28),t.TgZ(45,"div",29),t.TgZ(46,"div",30),t.NdJ("click",function(){return n.toggleYear()}),t.TgZ(47,"div",31),t.TgZ(48,"span"),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"div",32),t.TgZ(51,"i",33),t._uU(52,"arrow_drop_down"),t.qZA(),t.qZA(),t.qZA(),t.YNc(53,Do,3,1,"ng-container",20),t.qZA(),t._UZ(54,"div",34),t.TgZ(55,"div",29),t.TgZ(56,"div",35),t.NdJ("click",function(){return n.toggleStatus()}),t.TgZ(57,"div",31),t._uU(58),t.qZA(),t.TgZ(59,"div",32),t.TgZ(60,"i",33),t._uU(61,"arrow_drop_down"),t.qZA(),t.qZA(),t.qZA(),t.YNc(62,zo,2,1,"div",36),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"table",37),t.TgZ(64,"colgroup"),t._UZ(65,"col",38),t._UZ(66,"col",39),t._UZ(67,"col",39),t._UZ(68,"col",39),t._UZ(69,"col",39),t._UZ(70,"col",39),t._UZ(71,"col",40),t._UZ(72,"col",40),t._UZ(73,"col",41),t._UZ(74,"col",42),t.qZA(),t.TgZ(75,"thead"),t.TgZ(76,"tr"),t.TgZ(77,"th",43),t._uU(78,"Status"),t.qZA(),t.TgZ(79,"th",44),t._uU(80,"Service Month"),t.qZA(),t.TgZ(81,"th",44),t._uU(82,"Invoice #"),t.qZA(),t.TgZ(83,"th",44),t._uU(84,"Invoice Date"),t.qZA(),t.TgZ(85,"th",44),t._uU(86,"Due Date"),t.qZA(),t.TgZ(87,"th",45),t._uU(88,"Total Amount"),t.qZA(),t.TgZ(89,"th",45),t._uU(90,"Applied Payment"),t.qZA(),t.TgZ(91,"th",45),t._uU(92,"Amount Due"),t.qZA(),t.TgZ(93,"th"),t.TgZ(94,"div",46),t._uU(95,"\xa0"),t.qZA(),t.qZA(),t.TgZ(96,"th"),t.TgZ(97,"div",46),t._uU(98,"\xa0"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(99,So,5,0,"ng-container",20),t.YNc(100,Jo,17,2,"ng-container",20),t.qZA(),t.qZA(),t.TgZ(101,"app-invoice-modal",47),t.NdJ("onclose",function(o){return n.closeModal(o)}),t.qZA(),t.TgZ(102,"app-receipt-modal",47),t.NdJ("onclose",function(o){return n.closeModal(o)}),t.qZA(),t.TgZ(103,"app-realtime-fee-modal",47),t.NdJ("onclose",function(o){return n.closeModal(o)}),t.qZA(),t._UZ(104,"dealer-warning",48)),2&e&&(t.xp6(15),t.AsE("",n.me.currency_symbol,"",n.recurring.fee?n.recurring.fee.toFixed(2):"0.00",""),t.xp6(1),t.Q6J("ngIf",n.isShowWarning),t.xp6(9),t.Oqu(n.recurring.beginDate),t.xp6(2),t.Udp("width",n.recurring.curDayPosition+"%"),t.xp6(1),t.Q6J("ngIf",n.recurring.curDate),t.xp6(3),t.Oqu(n.recurring.endDate),t.xp6(15),t.ekj("unfold",!n.isFoldInvoiceYear),t.xp6(3),t.Oqu(n.curInvoiceYear),t.xp6(2),t.ekj("rotate-reverse",!n.isFoldInvoiceYear),t.xp6(2),t.Q6J("ngIf",!n.isFoldInvoiceYear),t.xp6(3),t.ekj("unfold",!n.isFoldInvoiceStatus),t.xp6(2),t.Oqu(n.invoiceStatus),t.xp6(2),t.ekj("rotate-reverse",!n.isFoldInvoiceStatus),t.xp6(2),t.Q6J("ngIf",!n.isFoldInvoiceStatus),t.xp6(37),t.Q6J("ngIf",n.is_loading),t.xp6(1),t.Q6J("ngIf",!n.is_loading),t.xp6(1),t.Q6J("modal",n.m_invoice)("active",n.m_invoice.is_active)("dealer",n.me),t.xp6(1),t.Q6J("modal",n.m_receipt)("active",n.m_receipt.is_active)("dealer",n.me),t.xp6(1),t.Q6J("modal",n.m_realtime)("active",n.m_realtime.is_active)("dealer",n.me),t.xp6(1),t.Q6J("modal",n.m_warning)("active",n.m_warning.is_active))},directives:[_.O5,oo,xo,Ao,V.a,_.sg,_.mk],pipes:[_.uU],styles:['[_nghost-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-y:overlay;height:100%;position:relative;-webkit-user-select:none;user-select:none}.full-widget[_ngcontent-%COMP%]{min-width:600px;max-width:1200px;width:100%;margin:12px 12px 40px;padding:32px;flex:1;background:white;display:flex;flex-direction:column;overflow:auto}.full-widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px;display:flex;flex-direction:row;align-items:center}.full-widget[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.full-widget[_ngcontent-%COMP%]   .table-loading[_ngcontent-%COMP%]{padding:32px;text-align:center}.table-loading[_ngcontent-%COMP%]   .loading-image[_ngcontent-%COMP%]{width:48px;height:16px}.full-widget[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay}.full-widget[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{margin-bottom:2px;border-bottom:1px solid #f0f0f0;color:#252525;font-size:14px}.full-widget[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.full-widget[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f7f7f7}.full-widget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 8px;color:#252525;text-transform:capitalize;text-align:left;font-size:14px}.full-widget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .th-place[_ngcontent-%COMP%]{width:67px;height:1px}.full-widget[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0}.full-widget[_ngcontent-%COMP%]   .has-child[_ngcontent-%COMP%]:hover{background:#fafafa;cursor:pointer}.full-widget[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;color:#717171;font-size:14px;font-family:Roboto;font-weight:500}.full-widget[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.full-widget[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:after{content:"";background:#f1f1f1;display:block;position:absolute;padding-top:300%;padding-left:350%;margin-left:-20px!important;margin-top:-120%;opacity:0;transition:all .8s}.full-widget[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;pointer-events:none}.full-widget[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle}.search[_ngcontent-%COMP%]{margin:0 16px;padding:12px 12px 12px 36px;box-sizing:border-box;border:0;border-bottom:2px solid #ddd;background-color:transparent;background-image:url(/assets/icons/ic_search_72pt.png);background-size:24px;background-position:4px 8px;background-repeat:no-repeat;transition:.3s}.search[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #777}.modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:8px;margin-bottom:8px;display:flex;flex-direction:row;align-items:center}.modal[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px}.modal[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:8px 0}.form-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;margin-bottom:16px}.form-group[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:8px;padding:8px;font-size:12px;font-weight:500;text-transform:uppercase;color:#2383e2}.form-inline[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1;box-sizing:border-box;padding:4px;border:0;border-bottom:1px solid #ccc;background:rgba(0,0,0,0);transition:.2s;margin:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #2383e2}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1;box-sizing:border-box;padding:4px;border:0;border-bottom:1px solid #ccc;background:rgba(0,0,0,0);transition:.2s;margin:8px}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;background:white;box-sizing:border-box;margin:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #2383e2}.tail[_ngcontent-%COMP%]{padding:16px 8px 0 0;display:flex;flex-direction:row-reverse}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:after{content:"";background:#f1f1f1;display:block;position:absolute;padding-top:300%;padding-left:350%;margin-left:-20px!important;margin-top:-120%;opacity:0;transition:all .8s}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.tail[_ngcontent-%COMP%]   .flat-button[_ngcontent-%COMP%]{background:rgba(0,0,0,0);color:#333}.tab-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.tab[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,0);border-top:2px solid rgba(255,255,255,0);border-bottom:none;font-size:12px;font-weight:500;color:#aaa;transition:.2s;padding:8px 24px}.tab[_ngcontent-%COMP%]:hover{color:#333;cursor:pointer}.tab-active[_ngcontent-%COMP%]{border:1px solid #eee;border-top:2px solid #2383e2;border-bottom:none;color:#333}.status-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;font-family:Roboto}.status-normal[_ngcontent-%COMP%]{color:#ccc}.status-warning[_ngcontent-%COMP%]{color:#dc143c}.status-unpaid[_ngcontent-%COMP%]{color:#d0021b}.status-success[_ngcontent-%COMP%]{color:#66c300}.status-primary[_ngcontent-%COMP%]{color:#fff}.status-refunded[_ngcontent-%COMP%]{color:#417505}.status-overdue[_ngcontent-%COMP%]{color:#f67474}.invoice-body[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;padding:32px;background:white;box-shadow:0 0 10px #888;width:800px;display:block;transition:.2s;align-items:center}.invoice-menu[_ngcontent-%COMP%]{margin:16px}.customer-info[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-info[_ngcontent-%COMP%]{flex:1;text-align:right;padding-left:64px}.info-item[_ngcontent-%COMP%]{margin:8px 0;font-size:14px}.invoice-items[_ngcontent-%COMP%]{margin-top:18px}.select-dealer[_ngcontent-%COMP%]{width:80%;height:100%;display:flex;align-items:center;justify-content:center;border-radius:4px;border:1px solid #2383e2;color:#2383e2;cursor:pointer;transition:.2s}.select-dealer[_ngcontent-%COMP%]:hover{background:rgba(30,144,255,.1)}.invoice-summary[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:16px}.invoice-summary[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.invoice-summary[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{flex:1}.invoice-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-summary[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-weight:500}.invoice-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;box-sizing:border-box;padding:4px;border:0;border-bottom:1px solid #ccc;background:rgba(0,0,0,0);transition:.2s;margin:4px 8px}.invoice-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #2383e2}.step-bar[_ngcontent-%COMP%]{padding:32px;display:flex;flex-direction:row}.step-bar[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-right:32px;cursor:pointer}.step-circle[_ngcontent-%COMP%]{background:#999;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;width:36px;height:36px}.step-label[_ngcontent-%COMP%]{margin-left:16px;color:#999;font-size:14px}.step-circle-active[_ngcontent-%COMP%]{background:#2383e2}.step-label-active[_ngcontent-%COMP%]{color:#2383e2}.invoice-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-color:#e9e9e9;border-style:solid;border-width:2px}.invoice-items[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f0f0f0}.invoice-items[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f7f7f7}.invoice-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;color:#555;font-size:14px;position:relative}.invoice-items[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #E9E9E9}.invoice-items[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 8px;color:#252525;text-transform:capitalize;text-align:left;font-size:12px}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.add-an-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:12px 8px;text-align:center;font-size:14px}.add-an-item[_ngcontent-%COMP%]:hover{background:#fafafa;cursor:pointer}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.invoice-body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.invoice-body.button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.invoice-body.button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.invoice-body.button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.invoice-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:36px}.invoice-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;flex:1}.form-list[_ngcontent-%COMP%]{margin:8px;padding:4px;font-size:14px;color:#333}.form-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:8px 0}.form-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background:#f0f0f0;cursor:pointer}.customer-name[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.customer-detail[_ngcontent-%COMP%]{font-size:14px;color:#555}.sel-diff-dealer[_ngcontent-%COMP%]{font-weight:500;color:#2383e2;margin-top:16px;cursor:pointer;font-size:14px}.invoice-info[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.invoice-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:right;font-size:14px}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;box-sizing:border-box;padding:8px;border-radius:4px;border:1px solid #bbb}.invoice-summary[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #2383e2;outline:none}.invoice-summary[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.item-name[_ngcontent-%COMP%]{display:"table-cell";height:20px;margin:0}.sub-item[_ngcontent-%COMP%]{height:20px;display:table-cell;text-align:right;width:400px;vertical-align:middle}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.price[_ngcontent-%COMP%]{display:table-cell;text-align:right;padding-right:30%;width:100%}.invoice-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:48px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{margin:16px 0;font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:16px}.invoice-title[_ngcontent-%COMP%]   .title-left[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{font-size:13px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]{font-size:20px;flex:1}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]{font-size:12px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-item[_ngcontent-%COMP%]{font-size:11px}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .title-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2px 0;border-bottom:1px solid #ccc}.invoice-title[_ngcontent-%COMP%]   .title-right[_ngcontent-%COMP%]   .title-item-box[_ngcontent-%COMP%]   .line.bold[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.invoice-informations[_ngcontent-%COMP%]{display:flex;flex-direction:row}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]{flex:1;position:relative;padding-bottom:8px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;padding:8px 0}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents[_ngcontent-%COMP%]{font-size:12px;color:#555}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.small[_ngcontent-%COMP%]{font-size:10px}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-contents.big[_ngcontent-%COMP%]{font-size:11px;color:#000}.invoice-informations[_ngcontent-%COMP%]   .invoice-info-box[_ngcontent-%COMP%]   .invoice-info-noti[_ngcontent-%COMP%]{font-size:11px;color:#000;font-weight:500}.pay[_ngcontent-%COMP%]{text-align:left;margin:4px 0 0;padding:8px 8px 8px 56px;background:white;box-shadow:0 0 10px #888;width:800px}.pay[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.pay[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#51a8ff}.pay[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:after{content:"";background:#f1f1f1;display:block;position:absolute;padding-top:300%;padding-left:350%;margin-left:-20px!important;margin-top:-120%;opacity:0;transition:all .8s}.pay[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active:after{padding:0;margin:0;opacity:1;transition:0s}.pay[_ngcontent-%COMP%]   .button.highlight[_ngcontent-%COMP%]{opacity:.8;border-color:#1f8fff;background-color:#1f8fff;color:#fff;box-shadow:0 2px 8px #999}.pay[_ngcontent-%COMP%]   .button-succeed[_ngcontent-%COMP%]{background-color:green;cursor:default}.pay[_ngcontent-%COMP%]   .button-succeed[_ngcontent-%COMP%]:hover{background-color:green}.link[_ngcontent-%COMP%]{width:65px;height:24px;color:#2383e2;background:#fff;border-radius:5px;border:solid 1px #1e90ff;font-size:14px;transition:.2s;display:flex;justify-content:center;align-items:center;cursor:pointer}.link[_ngcontent-%COMP%]:hover{background:#1e90ff;color:#fff}.page-loading[_ngcontent-%COMP%]{position:absolute;top:40%}.this-month-container[_ngcontent-%COMP%]{height:117px;width:100%;margin-bottom:50px;background:#f7f7f7}.this-month-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#494949;font-weight:500;letter-spacing:-.1px}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]{display:flex;height:calc(100% - 40px);padding:20px 30px;justify-content:space-between}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]   .this-month-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding-right:50px}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]   .this-month-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:22px;color:#252525;letter-spacing:.6px;font-weight:500}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]   .this-month-billdate[_ngcontent-%COMP%]{padding-top:10px;padding-left:30px}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]   .this-month-billdate[_ngcontent-%COMP%]   .billdate[_ngcontent-%COMP%]{color:#979797;font-size:13px;font-weight:500}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]   .this-month-billdate[_ngcontent-%COMP%]   .bill-box[_ngcontent-%COMP%]{height:18px;width:120px;background:#d1d2d2;position:relative}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]   .this-month-billdate[_ngcontent-%COMP%]   .bill-box[_ngcontent-%COMP%]   .bill-percent[_ngcontent-%COMP%]{position:absolute;transition:.5s;left:0;height:100%;width:0%;background:#f5a623}.this-month-container[_ngcontent-%COMP%]   .this-month-layout[_ngcontent-%COMP%]   .this-month-billdate[_ngcontent-%COMP%]   .bill-box[_ngcontent-%COMP%]   .bill-curdate[_ngcontent-%COMP%]{width:20px;text-align:center;position:absolute;top:100%;left:0%;padding-top:3px;font-size:15px;font-weight:500;color:#494949}.this-month-container[_ngcontent-%COMP%]   .this-month-detail-box[_ngcontent-%COMP%]{width:300px;height:100%;background-color:#ededed}.this-month-container[_ngcontent-%COMP%]   .this-month-detail-box[_ngcontent-%COMP%]   .this-month-detail-inner[_ngcontent-%COMP%]{padding:18px 30px}.this-month-container[_ngcontent-%COMP%]   .this-month-detail-box[_ngcontent-%COMP%]   .this-month-detail-inner[_ngcontent-%COMP%]   .label-btn[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#2694ff;cursor:pointer}.this-month-container[_ngcontent-%COMP%]   .this-month-detail-box[_ngcontent-%COMP%]   .this-month-detail-inner[_ngcontent-%COMP%]   .label-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.table-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.table-title[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#252525}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]{height:34px;display:flex}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-box[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100px;height:34px;border-radius:5px;background-color:#f2f2f3;cursor:pointer}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-box.unfold[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-box[_ngcontent-%COMP%]:hover{background:#e7e7ea}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-box[_ngcontent-%COMP%]   .invoice-select-label[_ngcontent-%COMP%]{padding:9px 0 9px 20px;font-size:12px;letter-spacing:-.1px;text-transform:capitalize;color:#2e323a}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-box[_ngcontent-%COMP%]   .invoice-select-icon[_ngcontent-%COMP%]{padding-top:4px;margin-right:6px}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;cursor:pointer;transition:.1s;background:#f2f2f3}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-list[_ngcontent-%COMP%]   .invoice-select-data[_ngcontent-%COMP%]{display:flex;padding:6px 0 6px 24px;text-align:center;font-size:12px;text-transform:capitalize}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-list[_ngcontent-%COMP%]   .invoice-select-data[_ngcontent-%COMP%]:hover{background:#e7e7ea}.table-title[_ngcontent-%COMP%]   .invoice-select-container[_ngcontent-%COMP%]   .invoice-select-list[_ngcontent-%COMP%]   .invoice-select-data.selected-data[_ngcontent-%COMP%]{background:#e7e7ea}.transition[_ngcontent-%COMP%]{transition:.3s}.transition.rotate-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.invoice-row[_ngcontent-%COMP%]{color:#717171}.invoice-btn-field[_ngcontent-%COMP%]{text-align:center;color:#2383e2;padding:8px;height:26px;justify-content:center}.unselectable[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@media screen and (max-width: 750px){.spt-line[_ngcontent-%COMP%]{display:none}.this-month-container[_ngcontent-%COMP%]{height:auto}.this-month-billdate[_ngcontent-%COMP%]{padding-top:0;padding-left:0}.this-month-layout[_ngcontent-%COMP%]{flex-wrap:wrap}.this-month-detail-box[_ngcontent-%COMP%]{height:auto!important;margin-top:30px}td[_ngcontent-%COMP%]{font-size:12px!important}.status-label[_ngcontent-%COMP%]{font-size:11px!important}th[_ngcontent-%COMP%]{font-size:12px!important}.link[_ngcontent-%COMP%]{font-size:12px!important;width:50px}.th-place[_ngcontent-%COMP%]{width:60px!important;height:1px!important}}']}),i})()}]);let Lo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,O.u5,w.q,K,b,A,Yo]]}),i})()}}]);