(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[9926],{71687:(It,Z)=>{var t;!function(e,h,d,f){"use strict";var c,s={URL:e.URL||e.webkitURL||e.mozURL||e.msURL,getUserMedia:(c=d.getUserMedia||d.webkitGetUserMedia||d.mozGetUserMedia||d.msGetUserMedia,c&&c.bind(d)),requestAnimFrame:e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,requestTimeout:function(a,k){if(a=a||s.noop,k=k||0,!s.requestAnimFrame)return setTimeout(a,k);var T=(new Date).getTime(),m=new Object,G=s.requestAnimFrame;return m.value=G(function $(){(new Date).getTime()-T>=k?a.call():m.value=G($)}),m},Blob:e.Blob||e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,btoa:function(){var c=e.btoa||function(a){for(var k="",T=0,m=a.length,G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rt=void 0,$=void 0,at=void 0,lt=void 0,ft=void 0,xt=void 0,_t=void 0;T<m;)lt=(rt=a.charCodeAt(T++))>>2,ft=(3&rt)<<4|($=a.charCodeAt(T++))>>4,xt=(15&$)<<2|(at=a.charCodeAt(T++))>>6,_t=63&at,isNaN($)?xt=_t=64:isNaN(at)&&(_t=64),k=k+G.charAt(lt)+G.charAt(ft)+G.charAt(xt)+G.charAt(_t);return k};return c?c.bind(e):s.noop}(),isObject:function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)},isEmptyObject:function(a){return s.isObject(a)&&!Object.keys(a).length},isArray:function(a){return a&&Array.isArray(a)},isFunction:function(a){return a&&"function"==typeof a},isElement:function(a){return a&&1===a.nodeType},isString:function(a){return"string"==typeof a||"[object String]"===Object.prototype.toString.call(a)},isSupported:{canvas:function(){var a=h.createElement("canvas");return a&&a.getContext&&a.getContext("2d")},webworkers:function(){return e.Worker},blob:function(){return s.Blob},Uint8Array:function(){return e.Uint8Array},Uint32Array:function(){return e.Uint32Array},videoCodecs:function(){var c=h.createElement("video"),a={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{c&&c.canPlayType&&(a.mp4=""!==c.canPlayType('video/mp4; codecs="mp4v.20.8"'),a.h264=""!==(c.canPlayType('video/mp4; codecs="avc1.42E01E"')||c.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),a.ogv=""!==c.canPlayType('video/ogg; codecs="theora"'),a.ogg=""!==c.canPlayType('video/ogg; codecs="theora"'),a.webm=-1!==c.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(k){}return a}()},noop:function(){},each:function(a,k){var T=void 0,m=void 0;if(s.isArray(a))for(T=-1,m=a.length;++T<m&&!1!==k(T,a[T]););else if(s.isObject(a))for(T in a)if(a.hasOwnProperty(T)&&!1===k(T,a[T]))break},mergeOptions:function(a,k){if(s.isObject(a)&&s.isObject(k)&&Object.keys){var T={};return s.each(a,function(m,G){T[m]=a[m]}),s.each(k,function(m,G){var rt=k[m];T[m]=s.isObject(rt)&&a[m]?s.mergeOptions(a[m],rt):rt}),T}},setCSSAttr:function(a,k,T){!s.isElement(a)||(s.isString(k)&&s.isString(T)?a.style[k]=T:s.isObject(k)&&s.each(k,function(m,G){a.style[m]=G}))},removeElement:function(a){!s.isElement(a)||a.parentNode&&a.parentNode.removeChild(a)},createWebWorker:function(a){if(!s.isString(a))return{};try{var k=new s.Blob([a],{type:"text/javascript"}),T=s.URL.createObjectURL(k);return{objectUrl:T,worker:new Worker(T)}}catch(G){return""+G}},getExtension:function(a){return a.substr(a.lastIndexOf(".")+1,a.length)},getFontSize:function(){var a=arguments.length>0&&arguments[0]!==f?arguments[0]:{};if(!h.body||!1===a.resizeFont)return a.fontSize;var k=a.text,T=a.gifWidth,m=parseInt(a.fontSize,10),G=parseInt(a.minFontSize,10),rt=h.createElement("div"),$=h.createElement("span");for(rt.setAttribute("width",T),rt.appendChild($),$.innerHTML=k,$.style.fontSize=m+"px",$.style.textIndent="-9999px",$.style.visibility="hidden",h.body.appendChild($);$.offsetWidth>T&&m>=G;)$.style.fontSize=--m+"px";return h.body.removeChild($),m+"px"},webWorkerError:!1},S=Object.freeze({default:s}),M={validate:function(a){a=s.isObject(a)?a:{};var k={};return s.each(M.validators,function(T,m){if(!a[m.errorCode]&&!m.condition)return(k=m).error=!0,!1}),delete k.condition,k},isValid:function(a){return!0!==M.validate(a).error},validators:[{condition:s.isFunction(s.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:s.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:s.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:s.isFunction(s.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:s.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:s.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:s.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},E=Object.freeze({default:M}),g=function(){},P={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:g,completeCallback:g,saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},l=Object.freeze({default:P});function v(){return M.isValid()}function N(){var ct,r,i,u,w,c=256,a=499,k=491,T=487,m=503,G=3*m,rt=c-1,$=4,at=100,lt=16,ft=1<<lt,xt=10,n=10,W=ft>>n,V=ft<<xt-n,x=c>>3,p=6,z=1<<p,K=x*z,X=30,R=10,nt=1<<R,st=8,gt=1<<st,j=R+st,L=1<<j,J=[],tt=[],dt=[],bt=[];function Mt(mt,vt,Zt){var Ct,Ot;for(r=mt,i=vt,u=Zt,w=new Array(c),Ct=0;Ct<c;Ct++)w[Ct]=new Array(4),(Ot=w[Ct])[0]=Ot[1]=Ot[2]=(Ct<<$+8)/c|0,dt[Ct]=ft/c|0,tt[Ct]=0}function wt(){for(var mt=[],vt=new Array(c),Zt=0;Zt<c;Zt++)vt[w[Zt][3]]=Zt;for(var Ct=0,Ot=0;Ot<c;Ot++){var ut=vt[Ot];mt[Ct++]=w[ut][0],mt[Ct++]=w[ut][1],mt[Ct++]=w[ut][2]}return mt}function Pt(){var mt,vt,Zt,Ct,Ot,ut,ht,yt;for(ht=0,yt=0,mt=0;mt<c;mt++){for(Zt=mt,Ct=(Ot=w[mt])[1],vt=mt+1;vt<c;vt++)(ut=w[vt])[1]<Ct&&(Zt=vt,Ct=ut[1]);if(ut=w[Zt],mt!=Zt&&(vt=ut[0],ut[0]=Ot[0],Ot[0]=vt,vt=ut[1],ut[1]=Ot[1],Ot[1]=vt,vt=ut[2],ut[2]=Ot[2],Ot[2]=vt,vt=ut[3],ut[3]=Ot[3],Ot[3]=vt),Ct!=ht){for(J[ht]=yt+mt>>1,vt=ht+1;vt<Ct;vt++)J[vt]=mt;ht=Ct,yt=mt}}for(J[ht]=yt+rt>>1,vt=ht+1;vt<256;vt++)J[vt]=rt}function At(){var mt,vt,Zt,Ct,Ot,ut,ht,yt,kt,Lt,Rt,St,Ut,Bt;for(i<G&&(u=1),ct=30+(u-1)/3,St=r,Ut=0,Bt=i,Lt=(Rt=i/(3*u))/at|0,yt=nt,(ht=(ut=K)>>p)<=1&&(ht=0),mt=0;mt<ht;mt++)bt[mt]=yt*((ht*ht-mt*mt)*gt/(ht*ht));for(kt=i<G?3:i%a!=0?3*a:i%k!=0?3*k:i%T!=0?3*T:3*m,mt=0;mt<Rt;)if(Ft(yt,vt=Nt(Zt=(255&St[Ut+0])<<$,Ct=(255&St[Ut+1])<<$,Ot=(255&St[Ut+2])<<$),Zt,Ct,Ot),0!==ht&&qt(ht,vt,Zt,Ct,Ot),(Ut+=kt)>=Bt&&(Ut-=i),0===Lt&&(Lt=1),++mt%Lt==0)for(yt-=yt/ct,(ht=(ut-=ut/X)>>p)<=1&&(ht=0),vt=0;vt<ht;vt++)bt[vt]=yt*((ht*ht-vt*vt)*gt/(ht*ht))}function zt(mt,vt,Zt){var Ct,Ot,ut,ht,yt,kt,Lt;for(yt=1e3,Lt=-1,Ot=(Ct=J[vt])-1;Ct<c||Ot>=0;)Ct<c&&((ut=(kt=w[Ct])[1]-vt)>=yt?Ct=c:(Ct++,ut<0&&(ut=-ut),(ht=kt[0]-mt)<0&&(ht=-ht),(ut+=ht)<yt&&((ht=kt[2]-Zt)<0&&(ht=-ht),(ut+=ht)<yt&&(yt=ut,Lt=kt[3])))),Ot>=0&&((ut=vt-(kt=w[Ot])[1])>=yt?Ot=-1:(Ot--,ut<0&&(ut=-ut),(ht=kt[0]-mt)<0&&(ht=-ht),(ut+=ht)<yt&&((ht=kt[2]-Zt)<0&&(ht=-ht),(ut+=ht)<yt&&(yt=ut,Lt=kt[3]))));return Lt}function Et(){return At(),Tt(),Pt(),wt()}function Tt(){var mt;for(mt=0;mt<c;mt++)w[mt][0]>>=$,w[mt][1]>>=$,w[mt][2]>>=$,w[mt][3]=mt}function qt(mt,vt,Zt,Ct,Ot){var ut,ht,yt,kt,Lt,Rt,St;for((yt=vt-mt)<-1&&(yt=-1),(kt=vt+mt)>c&&(kt=c),ut=vt+1,ht=vt-1,Rt=1;ut<kt||ht>yt;){if(Lt=bt[Rt++],ut<kt){St=w[ut++];try{St[0]-=Lt*(St[0]-Zt)/L|0,St[1]-=Lt*(St[1]-Ct)/L|0,St[2]-=Lt*(St[2]-Ot)/L|0}catch(Ut){}}if(ht>yt){St=w[ht--];try{St[0]-=Lt*(St[0]-Zt)/L|0,St[1]-=Lt*(St[1]-Ct)/L|0,St[2]-=Lt*(St[2]-Ot)/L|0}catch(Ut){}}}}function Ft(mt,vt,Zt,Ct,Ot){var ut=w[vt],ht=mt/nt;ut[0]-=ht*(ut[0]-Zt)|0,ut[1]-=ht*(ut[1]-Ct)|0,ut[2]-=ht*(ut[2]-Ot)|0}function Nt(mt,vt,Zt){var Ct,Ot,ut,ht,yt,kt,Lt,Rt,St,Ut;for(St=Rt=~(1<<31),Lt=kt=-1,Ct=0;Ct<c;Ct++)(Ot=(Ut=w[Ct])[0]-mt)<0&&(Ot=-Ot),(ut=Ut[1]-vt)<0&&(ut=-ut),Ot+=ut,(ut=Ut[2]-Zt)<0&&(ut=-ut),(Ot+=ut)<Rt&&(Rt=Ot,kt=Ct),(ht=Ot-(tt[Ct]>>lt-$))<St&&(St=ht,Lt=Ct),dt[Ct]-=yt=dt[Ct]>>n,tt[Ct]+=yt<<xt;return dt[kt]+=W,tt[kt]-=V,Lt}Mt.apply(this,arguments);var Dt={};return Dt.map=zt,Dt.process=Et,Dt}function F(){try{this.onmessage=function(k){var m,T=k.data||{};T.gifshot&&(m=a.run(T),postMessage(m))}}catch(k){}var a={dataToRGB:function(T,m,G){for(var rt=m*G*4,$=0,at=[];$<rt;)at.push(T[$++]),at.push(T[$++]),at.push(T[$++]),$++;return at},componentizedPaletteToArray:function(T){T=T||[];for(var m=[],G=0;G<T.length;G+=3)m.push(T[G]<<16|T[G+1]<<8|T[G+2]);return m},processFrameWithQuantizer:function(T,m,G,rt){for(var $=this.dataToRGB(T,m,G),at=new N($,$.length,rt),lt=at.process(),ft=new Uint32Array(this.componentizedPaletteToArray(lt)),xt=m*G,_t=new Uint8Array(xt),n=0,W=0;W<xt;W++){var V=$[n++],x=$[n++],p=$[n++];_t[W]=at.map(V,x,p)}return{pixels:_t,palette:ft}},run:function(T){return this.processFrameWithQuantizer((T=T||{}).data,T.width,T.height,T.sampleInterval)}};return a}function et(c,a,k,T){var m=0,G=(T=T===f?{}:T).loop===f?null:T.loop,rt=T.palette===f?null:T.palette;if(a<=0||k<=0||a>65535||k>65535)throw"Width/Height invalid.";if(c[m++]=71,c[m++]=73,c[m++]=70,c[m++]=56,c[m++]=57,c[m++]=97,c[m++]=255&a,c[m++]=a>>8&255,c[m++]=255&k,c[m++]=k>>8&255,c[m++]=0|(null!==rt?128:0),c[m++]=0,c[m++]=0,null!==G){if(G<0||G>65535)throw"Loop count invalid.";c[m++]=33,c[m++]=255,c[m++]=11,c[m++]=78,c[m++]=69,c[m++]=84,c[m++]=83,c[m++]=67,c[m++]=65,c[m++]=80,c[m++]=69,c[m++]=50,c[m++]=46,c[m++]=48,c[m++]=3,c[m++]=1,c[m++]=255&G,c[m++]=G>>8&255,c[m++]=0}var ft=!1;this.addFrame=function(_t,n,W,V,x,p){if(!0===ft&&(--m,ft=!1),_t<0||n<0||_t>65535||n>65535)throw"x/y invalid.";if(W<=0||V<=0||W>65535||V>65535)throw"Width/Height invalid.";if(x.length<W*V)throw"Not enough pixels for the frame size.";var z=!0,K=(p=p===f?{}:p).palette;if((K===f||null===K)&&(z=!1,K=rt),K===f||null===K)throw"Must supply either a local or global palette.";for(var X=function(_t){var n=_t.length;if(n<2||n>256||n&n-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return n}(K),R=0;X>>=1;)++R;X=1<<R;var nt=p.delay===f?0:p.delay,ct=p.disposal===f?0:p.disposal;if(ct<0||ct>3)throw"Disposal out of range.";var st=!1,gt=0;if(p.transparent!==f&&null!==p.transparent&&(st=!0,(gt=p.transparent)<0||gt>=X))throw"Transparent color index.";if((0!==ct||st||0!==nt)&&(c[m++]=33,c[m++]=249,c[m++]=4,c[m++]=ct<<2|(!0===st?1:0),c[m++]=255&nt,c[m++]=nt>>8&255,c[m++]=gt,c[m++]=0),c[m++]=44,c[m++]=255&_t,c[m++]=_t>>8&255,c[m++]=255&n,c[m++]=n>>8&255,c[m++]=255&W,c[m++]=W>>8&255,c[m++]=255&V,c[m++]=V>>8&255,c[m++]=!0===z?128|R-1:0,!0===z)for(var j=0,L=K.length;j<L;++j){var r=K[j];c[m++]=r>>16&255,c[m++]=r>>8&255,c[m++]=255&r}m=function(_t,n,W,V){_t[n++]=W;var x=n++,p=1<<W,z=p-1,K=p+1,X=K+1,R=W+1,nt=0,ct=0;function st(tt){for(;nt>=tt;)_t[n++]=255&ct,ct>>=8,nt-=8,n===x+256&&(_t[x]=255,x=n++)}function gt(tt){ct|=tt<<nt,nt+=R,st(8)}var j=V[0]&z,L={};gt(p);for(var r=1,i=V.length;r<i;++r){var u=V[r]&z,w=j<<8|u,J=L[w];if(J===f){for(ct|=j<<nt,nt+=R;nt>=8;)_t[n++]=255&ct,ct>>=8,nt-=8,n===x+256&&(_t[x]=255,x=n++);4096===X?(gt(p),X=K+1,R=W+1,L={}):(X>=1<<R&&++R,L[w]=X++),j=u}else j=J}return gt(j),gt(K),st(1),x+1===n?_t[x]=0:(_t[x]=n-x-1,_t[n++]=0),n}(c,m,R<2?2:R,x)},this.end=function(){return!1===ft&&(c[m++]=59,ft=!0),m}}var Y=function(){},H=function(a){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=Y,this.onRenderProgressCallback=Y,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=a,this.initializeWebWorkers(a)};function q(c,a){c.getBase64GIF(function(k){a({error:!1,errorCode:"",errorMsg:"",image:k})})}H.prototype={workerMethods:F(),initializeWebWorkers:function(a){var $,T=N.toString()+"("+F.toString()+"());",m=void 0,rt=void 0,at=-1,lt="";for($=a.numWorkers;++at<$;)m=s.createWebWorker(T),s.isObject(m)?(this.workers.push({worker:rt=m.worker,objectUrl:m.objectUrl}),this.availableWorkers.push(rt)):(lt=m,s.webWorkerError=!!m);this.workerError=lt,this.canvas=h.createElement("canvas"),this.canvas.width=a.gifWidth,this.canvas.height=a.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(a){this.availableWorkers.push(a)},byteMap:function(){for(var c=[],a=0;a<256;a++)c[a]=String.fromCharCode(a);return c}(),bufferToString:function(a){for(var k=a.length,T="",m=-1;++m<k;)T+=this.byteMap[a[m]];return T},onFrameFinished:function(a){var k=this,T=k.frames,G=!!(k.options.images||[]).length,rt=T.every(function($){return!$.beingProcessed&&$.done});k.numRenderedFrames++,G&&a(k.numRenderedFrames/T.length),k.onRenderProgressCallback(.75*k.numRenderedFrames/T.length),rt?k.generatingGIF||k.generateGIF(T,k.onRenderCompleteCallback):s.requestTimeout(function(){k.processNextFrame()},1)},processFrame:function(a){var k=this,m=this.options,G=m.progressCallback,rt=m.sampleInterval,at=void 0,lt=void 0,ft=function(){var _t=arguments.length>0&&arguments[0]!==f?arguments[0]:{},n=_t.data;delete at.data,at.pixels=Array.prototype.slice.call(n.pixels),at.palette=Array.prototype.slice.call(n.palette),at.done=!0,at.beingProcessed=!1,k.freeWorker(lt),k.onFrameFinished(G)};(at=this.frames[a]).beingProcessed||at.done?this.onFrameFinished():(at.sampleInterval=rt,at.beingProcessed=!0,at.gifshot=!0,(lt=this.getWorker())?(lt.onmessage=ft,lt.postMessage(at)):ft({data:k.workerMethods.run(at)}))},startRendering:function(a){this.onRenderCompleteCallback=a;for(var k=0;k<this.options.numWorkers&&k<this.frames.length;k++)this.processFrame(k)},processNextFrame:function(){for(var a=-1,k=0;k<this.frames.length;k++){var T=this.frames[k];if(!T.done&&!T.beingProcessed){a=k;break}}a>=0&&this.processFrame(a)},generateGIF:function(a,k){var T=[],G=this.options,rt=G.interval,$=G.frameDuration,lt=!!G.images.length,ft=G.gifHeight,xt=G.gifWidth,_t=new et(T,xt,ft,{loop:this.repeat}),n=this.onRenderProgressCallback,W=lt?100*rt:0,V=void 0;this.generatingGIF=!0,s.each(a,function(p,z){var K=z.palette;n(.75+.25*z.position*1/a.length);for(var X=0;X<$;X++)_t.addFrame(0,0,xt,ft,z.pixels,{palette:K,delay:W})}),_t.end(),n(1),this.frames=[],this.generatingGIF=!1,s.isFunction(k)&&(V=this.bufferToString(T),k("data:image/gif;base64,"+s.btoa(V)))},setRepeat:function(a){this.repeat=a},addFrame:function(a,k){k=s.isObject(k)?k:{};var T=this,m=T.ctx,G=T.options,rt=G.gifWidth,$=G.gifHeight,at=s.getFontSize(k),ft=k.filter,xt=k.fontColor,x=k.text,p=k.textAlign,z=k.textBaseline,K=k.textXCoordinate?k.textXCoordinate:"left"===p?1:"right"===p?rt:rt/2,X=k.textYCoordinate?k.textYCoordinate:"top"===z?1:"center"===z?$/2:$,R=k.fontWeight+" "+at+" "+k.fontFamily,nt=void 0;try{m.filter=ft,m.drawImage(a,0,0,rt,$),x&&(m.font=R,m.fillStyle=xt,m.textAlign=p,m.textBaseline=z,m.fillText(x,K,X)),nt=m.getImageData(0,0,rt,$),T.addFrameImageData(nt)}catch(ct){return""+ct}},addFrameImageData:function(){var a=arguments.length>0&&arguments[0]!==f?arguments[0]:{},k=this.frames,T=a.data;this.frames.push({data:T,width:a.width,height:a.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:k.length})},onRenderProgress:function(a){this.onRenderProgressCallback=a},isRendering:function(){return this.generatingGIF},getBase64GIF:function(a){var k=this;k.startRendering(function(G){k.destroyWorkers(),s.requestTimeout(function(){a(G)},0)})},destroyWorkers:function(){this.workerError||s.each(this.workers,function(k,T){var G=T.objectUrl;T.worker.terminate(),s.URL.revokeObjectURL(G)})}};var D=function(){},C_getGIF=function(){var a=arguments.length>0&&arguments[0]!==f?arguments[0]:{},k=arguments[1];k=s.isFunction(k)?k:D;var T=h.createElement("canvas"),m=void 0,G=a.images,rt=!!G.length,$=a.cameraStream,at=a.crop,lt=a.filter,ft=a.fontColor,xt=a.fontFamily,_t=a.fontWeight,n=a.keepCameraOn,V=a.progressCallback,x=a.saveRenderingContexts,p=a.savedRenderingContexts,z=a.text,K=a.textAlign,X=a.textBaseline,R=a.videoElement,nt=a.videoHeight,ct=a.videoWidth,st=a.webcamVideoElement,gt=Number(a.gifWidth),j=Number(a.gifHeight),L=Number(a.interval),i=(Number(a.sampleInterval),rt?0:1e3*L),u=[],w=p.length?p.length:a.numFrames,J=w,tt=new H(a),dt=s.getFontSize(a),bt=a.textXCoordinate?a.textXCoordinate:"left"===K?1:"right"===K?gt:gt/2,Mt=a.textYCoordinate?a.textYCoordinate:"top"===X?1:"center"===X?j/2:j,wt=_t+" "+dt+" "+xt,Pt=at?Math.floor(at.scaledWidth/2):0,At=at?ct-at.scaledWidth:0,zt=at?Math.floor(at.scaledHeight/2):0,Et=at?nt-at.scaledHeight:0,Tt=function qt(){var Ft=J-1;function Dt(){var mt;x&&u.push(m.getImageData(0,0,gt,j)),z&&(m.font=wt,m.fillStyle=ft,m.textAlign=K,m.textBaseline=X,m.fillText(z,bt,Mt)),mt=m.getImageData(0,0,gt,j),tt.addFrameImageData(mt),V((w-(J=Ft))/w),Ft>0&&s.requestTimeout(qt,i),J||tt.getBase64GIF(function(vt){k({error:!1,errorCode:"",errorMsg:"",image:vt,cameraStream:$,videoElement:R,webcamVideoElement:st,savedRenderingContexts:u,keepCameraOn:n})})}p.length?(m.putImageData(p[w-J],0,0),Dt()):function Nt(){try{At>ct&&(At=ct),Et>nt&&(Et=nt),Pt<0&&(Pt=0),zt<0&&(zt=0),m.filter=lt,m.drawImage(R,Pt,zt,At,Et,0,0,gt,j),Dt()}catch(mt){if("NS_ERROR_NOT_AVAILABLE"!==mt.name)throw mt;s.requestTimeout(Nt,100)}}()};w=w!==f?w:10,L=L!==f?L:.1,T.width=gt,T.height=j,m=T.getContext("2d"),function qt(){p.length||0!==R.currentTime?Tt():s.requestTimeout(qt,100)}()},_={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function c(a){c.attempts=c.attempts||0;var k=a.cameraStream,T=a.completedCallback,m=a.videoElement;!m||(m.videoWidth>0&&m.videoHeight>0?(m.removeEventListener("loadeddata",_.findVideoSize),T({videoElement:m,cameraStream:k,videoWidth:m.videoWidth,videoHeight:m.videoHeight})):c.attempts<10?(c.attempts+=1,s.requestTimeout(function(){_.findVideoSize(a)},400)):T({videoElement:m,cameraStream:k,videoWidth:_.defaultVideoDimensions.width,videoHeight:_.defaultVideoDimensions.height}))},onStreamingTimeout:function(a){s.isFunction(a)&&a({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(a){var k=s.isArray(a.existingVideo)?a.existingVideo[0]:a.existingVideo,T=a.cameraStream,m=a.completedCallback,G=a.streamedCallback,rt=a.videoElement;if(s.isFunction(G)&&G(),k){if(s.isString(k))rt.src=k,rt.innerHTML='<source src="'+k+'" type="video/'+s.getExtension(k)+'" />';else if(k instanceof Blob){try{rt.src=s.URL.createObjectURL(k)}catch($){}rt.innerHTML='<source src="'+k+'" type="'+k.type+'" />'}}else if(rt.mozSrcObject)rt.mozSrcObject=T;else if(s.URL)try{rt.srcObject=T,rt.src=s.URL.createObjectURL(T)}catch($){rt.srcObject=T}rt.play(),s.requestTimeout(function $(){$.count=$.count||0,!0===_.loadedData?(_.findVideoSize({videoElement:rt,cameraStream:T,completedCallback:m}),_.loadedData=!1):($.count+=1)>10?_.findVideoSize({videoElement:rt,cameraStream:T,completedCallback:m}):$()},0)},startStreaming:function(a){var k=s.isFunction(a.error)?a.error:s.noop,T=s.isFunction(a.streamed)?a.streamed:s.noop,m=s.isFunction(a.completed)?a.completed:s.noop,G=a.crossOrigin,rt=a.existingVideo,$=a.lastCameraStream,at=a.options,lt=a.webcamVideoElement,ft=s.isElement(rt)?rt:lt||h.createElement("video");G&&(ft.crossOrigin=at.crossOrigin),ft.autoplay=!0,ft.loop=!0,ft.muted=!0,ft.addEventListener("loadeddata",function(_t){_.loadedData=!0,at.offset&&(ft.currentTime=at.offset)}),rt?_.stream({videoElement:ft,existingVideo:rt,completedCallback:m}):$?_.stream({videoElement:ft,cameraStream:$,streamedCallback:T,completedCallback:m}):s.getUserMedia({video:!0},function(_t){_.stream({videoElement:ft,cameraStream:_t,streamedCallback:T,completedCallback:m})},k)},startVideoStreaming:function(a){var k=arguments.length>1&&arguments[1]!==f?arguments[1]:{},T=k.timeout!==f?k.timeout:0,m=k.callback,G=k.webcamVideoElement,rt=void 0;T>0&&(rt=s.requestTimeout(function(){_.onStreamingTimeout(m)},1e4)),_.startStreaming({error:function(){m({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(rt)},completed:function(){var at=arguments.length>0&&arguments[0]!==f?arguments[0]:{},lt=at.cameraStream,ft=at.videoElement,xt=at.videoHeight,_t=at.videoWidth;a({cameraStream:lt,videoElement:ft,videoHeight:xt,videoWidth:_t})},lastCameraStream:k.lastCameraStream,webcamVideoElement:G,crossOrigin:k.crossOrigin,options:k})},stopVideoStreaming:function(a){var T=(a=s.isObject(a)?a:{}).keepCameraOn,m=a.videoElement,G=a.webcamVideoElement,rt=a.cameraStream||{},$=rt.getTracks&&rt.getTracks()||[],lt=$[0];!T&&!!$.length&&s.isFunction(lt.stop)&&lt.stop(),s.isElement(m)&&!G&&(m.pause(),s.isFunction(s.URL.revokeObjectURL)&&!s.webWorkerError&&m.src&&s.URL.revokeObjectURL(m.src),s.removeElement(m))}};function o(c){c=s.isObject(c)?c:{},_.stopVideoStreaming(c)}function b(c,a){var k=c.options||{},T=k.images,m=k.video,G=Number(k.gifWidth),rt=Number(k.gifHeight),at=(Number(k.numFrames),c.cameraStream),lt=c.videoElement,ft=c.videoWidth,xt=c.videoHeight,_t=function(){var a=arguments.length>0&&arguments[0]!==f?arguments[0]:{},k=a.videoWidth,T=a.videoHeight,m=a.gifWidth,G=a.gifHeight,rt={width:0,height:0,scaledWidth:0,scaledHeight:0};return k>T?(rt.width=Math.round(k*(G/T))-m,rt.scaledWidth=Math.round(rt.width*(T/G))):(rt.height=Math.round(T*(m/k))-G,rt.scaledHeight=Math.round(rt.height*(k/m))),rt}({videoWidth:ft,videoHeight:xt,gifHeight:rt,gifWidth:G}),n=a;k.crop=_t,k.videoElement=lt,k.videoWidth=ft,k.videoHeight=xt,k.cameraStream=at,s.isElement(lt)&&(lt.width=G+_t.width,lt.height=rt+_t.height,k.webcamVideoElement||(s.setCSSAttr(lt,{position:"fixed",opacity:"0"}),h.body.appendChild(lt)),lt.play(),C_getGIF(k,function(W){(!T||!T.length)&&(!m||!m.length)&&o(W),n(W)}))}function it(c,a){if(a=s.isFunction(c)?c:a,c=s.isObject(c)?c:{},s.isFunction(a)){var k=s.mergeOptions(P,c)||{},T=c.cameraStream,m=k.images,G=m?m.length:0,rt=k.video,$=k.webcamVideoElement;k=s.mergeOptions(k,{gifWidth:Math.floor(k.gifWidth),gifHeight:Math.floor(k.gifHeight)}),G?function(){var c=arguments.length>0&&arguments[0]!==f?arguments[0]:{},k=c.callback,T=c.images,m=c.options,G=c.imagesLength,$=M.validate({getUserMedia:!0,"window.URL":!0}),at=[],lt=0,ft=void 0,xt=void 0;if($.error)return k($);function _t(){s.each(at,function(n,W){W&&(W.text?xt.addFrame(W.img,m,W.text):xt.addFrame(W,m))}),q(xt,k)}xt=new H(m),s.each(T,function(n,W){var x,V=W;W.src&&(V=V.src),s.isElement(V)?(m.crossOrigin&&(V.crossOrigin=m.crossOrigin),at[n]=V,(lt+=1)===G&&_t()):s.isString(V)&&(ft=new Image,m.crossOrigin&&(ft.crossOrigin=m.crossOrigin),x=ft,W.text&&(x.text=W.text),x.onerror=function(p){var z=void 0;if(0==--G)return(z={}).error="None of the requested images was capable of being retrieved",k(z)},x.onload=function(p){at[n]=W.text?{img:x,text:x.text}:x,(lt+=1)===G&&_t(),s.removeElement(x)},x.src=V,s.setCSSAttr(ft,{position:"fixed",opacity:"0"}),h.body.appendChild(ft))})}({images:m,imagesLength:G,callback:a,options:k}):rt?function(){var c=arguments.length>0&&arguments[0]!==f?arguments[0]:{},a=c.callback,k=c.existingVideo,T=c.options,G=M.validate({getUserMedia:!0,"window.URL":!0}),$=void 0;if(G.error)return a(G);if(s.isElement(k)&&k.src){if($=s.getExtension(k.src),!s.isSupported.videoCodecs[$])return a(M.messages.videoCodecs)}else s.isArray(k)&&s.each(k,function(xt,_t){if($=_t instanceof Blob?_t.type.substr(_t.type.lastIndexOf("/")+1,_t.length):_t.substr(_t.lastIndexOf(".")+1,_t.length),s.isSupported.videoCodecs[$])return k=_t,!1});_.startStreaming({completed:function(_t){_t.options=T||{},b(_t,a)},existingVideo:k,crossOrigin:T.crossOrigin,options:T})}({existingVideo:rt,callback:a,options:k}):function(){var c=arguments.length>0&&arguments[0]!==f?arguments[0]:{},a=c.callback,k=c.lastCameraStream,T=c.options,m=c.webcamVideoElement;if(!v())return a(M.validate());T.savedRenderingContexts.length?C_getGIF(T,function(G){a(G)}):_.startVideoStreaming(function(){var G=arguments.length>0&&arguments[0]!==f?arguments[0]:{};G.options=T||{},b(G,a)},{lastCameraStream:k,callback:a,webcamVideoElement:m,crossOrigin:T.crossOrigin})}({lastCameraStream:T,callback:a,webcamVideoElement:$,options:k})}}var pt={utils:S,error:E,defaultOptions:l,createGIF:it,takeSnapShot:function(c,a){if(a=s.isFunction(c)?c:a,c=s.isObject(c)?c:{},s.isFunction(a)){var k=s.mergeOptions(P,c);it(s.mergeOptions(k,{interval:.1,numFrames:1,gifWidth:Math.floor(k.gifWidth),gifHeight:Math.floor(k.gifHeight)}),a)}},stopVideoStreaming:o,isSupported:function(){return M.isValid()},isWebCamGIFSupported:v,isExistingVideoGIFSupported:function(c){var a=!1;if(s.isArray(c)&&c.length){if(s.each(c,function(k,T){s.isSupported.videoCodecs[T]&&(a=!0)}),!a)return!1}else if(s.isString(c)&&c.length&&!s.isSupported.videoCodecs[c])return!1;return M.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function(){return M.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(t=function(){return pt}.apply(Z,[]))!==f&&(It.exports=t)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},70897:It=>{It.exports=function Z(A,t,e){function h(s,S){if(!t[s]){if(!A[s]){if(d)return d(s,!0);var E=new Error("Cannot find module '"+s+"'");throw E.code="MODULE_NOT_FOUND",E}var g=t[s]={exports:{}};A[s][0].call(g.exports,function(P){return h(A[s][1][P]||P)},g,g.exports,Z,A,t,e)}return t[s].exports}for(var d=void 0,f=0;f<e.length;f++)h(e[f]);return h}({1:[function(Z,A,t){"use strict";var e=Z("./utils"),h=Z("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(f){for(var s,S,M,g,P,l,O=[],v=0,y=f.length,I=y,N="string"!==e.getTypeOf(f);v<f.length;)I=y-v,M=N?(s=f[v++],S=v<y?f[v++]:0,v<y?f[v++]:0):(s=f.charCodeAt(v++),S=v<y?f.charCodeAt(v++):0,v<y?f.charCodeAt(v++):0),g=(3&s)<<4|S>>4,P=1<I?(15&S)<<2|M>>6:64,l=2<I?63&M:64,O.push(d.charAt(s>>2)+d.charAt(g)+d.charAt(P)+d.charAt(l));return O.join("")},t.decode=function(f){var s,S,M,E,g,P,l=0,O=0,v="data:";if(f.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,I=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===d.charAt(64)&&I--,f.charAt(f.length-2)===d.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=h.uint8array?new Uint8Array(0|I):new Array(0|I);l<f.length;)s=d.indexOf(f.charAt(l++))<<2|(E=d.indexOf(f.charAt(l++)))>>4,S=(15&E)<<4|(g=d.indexOf(f.charAt(l++)))>>2,M=(3&g)<<6|(P=d.indexOf(f.charAt(l++))),y[O++]=s,64!==g&&(y[O++]=S),64!==P&&(y[O++]=M);return y}},{"./support":30,"./utils":32}],2:[function(Z,A,t){"use strict";var e=Z("./external"),h=Z("./stream/DataWorker"),d=Z("./stream/Crc32Probe"),f=Z("./stream/DataLengthProbe");function s(S,M,E,g,P){this.compressedSize=S,this.uncompressedSize=M,this.crc32=E,this.compression=g,this.compressedContent=P}s.prototype={getContentWorker:function(){var S=new h(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),M=this;return S.on("end",function(){if(this.streamInfo.data_length!==M.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new h(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(S,M,E){return S.pipe(new d).pipe(new f("uncompressedSize")).pipe(M.compressWorker(E)).pipe(new f("compressedSize")).withStreamInfo("compression",M)},A.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Z,A,t){"use strict";var e=Z("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new e("STORE compression")},uncompressWorker:function(){return new e("STORE decompression")}},t.DEFLATE=Z("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Z,A,t){"use strict";var e=Z("./utils"),h=function(){for(var d,f=[],s=0;s<256;s++){d=s;for(var S=0;S<8;S++)d=1&d?3988292384^d>>>1:d>>>1;f[s]=d}return f}();A.exports=function(d,f){return void 0!==d&&d.length?"string"!==e.getTypeOf(d)?function(s,S,M,E){var g=h,P=0+M;s^=-1;for(var l=0;l<P;l++)s=s>>>8^g[255&(s^S[l])];return-1^s}(0|f,d,d.length):function(s,S,M,E){var g=h,P=0+M;s^=-1;for(var l=0;l<P;l++)s=s>>>8^g[255&(s^S.charCodeAt(l))];return-1^s}(0|f,d,d.length):0}},{"./utils":32}],5:[function(Z,A,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(Z,A,t){"use strict";var e;e="undefined"!=typeof Promise?Promise:Z("lie"),A.exports={Promise:e}},{lie:37}],7:[function(Z,A,t){"use strict";var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,h=Z("pako"),d=Z("./utils"),f=Z("./stream/GenericWorker"),s=e?"uint8array":"array";function S(M,E){f.call(this,"FlateWorker/"+M),this._pako=null,this._pakoAction=M,this._pakoOptions=E,this.meta={}}t.magic="\b\0",d.inherits(S,f),S.prototype.processChunk=function(M){this.meta=M.meta,null===this._pako&&this._createPako(),this._pako.push(d.transformTo(s,M.data),!1)},S.prototype.flush=function(){f.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var M=this;this._pako.onData=function(E){M.push({data:E,meta:M.meta})}},t.compressWorker=function(M){return new S("Deflate",M)},t.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Z,A,t){"use strict";function e(g,P){var l,O="";for(l=0;l<P;l++)O+=String.fromCharCode(255&g),g>>>=8;return O}function h(g,P,l,O,v,y){var I,N,F=g.file,et=g.compression,Y=y!==s.utf8encode,H=d.transformTo("string",y(F.name)),q=d.transformTo("string",s.utf8encode(F.name)),U=F.comment,D=d.transformTo("string",y(U)),C=d.transformTo("string",s.utf8encode(U)),_=q.length!==F.name.length,o=C.length!==U.length,b="",Q="",B="",it=F.dir,ot=F.date,pt={crc32:0,compressedSize:0,uncompressedSize:0};P&&!l||(pt.crc32=g.crc32,pt.compressedSize=g.compressedSize,pt.uncompressedSize=g.uncompressedSize);var c=0;P&&(c|=8),Y||!_&&!o||(c|=2048);var m,rt,a=0,k=0;it&&(a|=16),"UNIX"===v?(k=798,a|=(rt=m=F.unixPermissions,m||(rt=it?16893:33204),(65535&rt)<<16)):(k=20,a|=function(m){return 63&(m||0)}(F.dosPermissions)),I=ot.getUTCHours(),I<<=6,I|=ot.getUTCMinutes(),I<<=5,I|=ot.getUTCSeconds()/2,N=ot.getUTCFullYear()-1980,N<<=4,N|=ot.getUTCMonth()+1,N<<=5,N|=ot.getUTCDate(),_&&(Q=e(1,1)+e(S(H),4)+q,b+="up"+e(Q.length,2)+Q),o&&(B=e(1,1)+e(S(D),4)+C,b+="uc"+e(B.length,2)+B);var T="";return T+="\n\0",T+=e(c,2),T+=et.magic,T+=e(I,2),T+=e(N,2),T+=e(pt.crc32,4),T+=e(pt.compressedSize,4),T+=e(pt.uncompressedSize,4),T+=e(H.length,2),T+=e(b.length,2),{fileRecord:M.LOCAL_FILE_HEADER+T+H+b,dirRecord:M.CENTRAL_FILE_HEADER+e(k,2)+T+e(D.length,2)+"\0\0\0\0"+e(a,4)+e(O,4)+H+b+D}}var d=Z("../utils"),f=Z("../stream/GenericWorker"),s=Z("../utf8"),S=Z("../crc32"),M=Z("../signature");function E(g,P,l,O){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=P,this.zipPlatform=l,this.encodeFileName=O,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(E,f),E.prototype.push=function(g){var P=g.meta.percent||0,l=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,f.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:l?(P+100*(l-O-1))/l:100}}))},E.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var P=this.streamFiles&&!g.file.dir;if(P){var l=h(g,P,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(g){this.accumulate=!1;var O,P=this.streamFiles&&!g.file.dir,l=h(g,P,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),P)this.push({data:(O=g,M.DATA_DESCRIPTOR+e(O.crc32,4)+e(O.compressedSize,4)+e(O.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var g=this.bytesWritten,P=0;P<this.dirRecords.length;P++)this.push({data:this.dirRecords[P],meta:{percent:100}});var v,y,I,et,O=(v=this.dirRecords.length,y=this.bytesWritten-g,I=g,et=d.transformTo("string",(0,this.encodeFileName)(this.zipComment)),M.CENTRAL_DIRECTORY_END+"\0\0\0\0"+e(v,2)+e(v,2)+e(y,4)+e(I,4)+e(et.length,2)+et);this.push({data:O,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(g){this._sources.push(g);var P=this;return g.on("data",function(l){P.processChunk(l)}),g.on("end",function(){P.closedSource(P.previous.streamInfo),P._sources.length?P.prepareNextSource():P.end()}),g.on("error",function(l){P.error(l)}),this},E.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(g){var P=this._sources;if(!f.prototype.error.call(this,g))return!1;for(var l=0;l<P.length;l++)try{P[l].error(g)}catch(O){}return!0},E.prototype.lock=function(){f.prototype.lock.call(this);for(var g=this._sources,P=0;P<g.length;P++)g[P].lock()},A.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Z,A,t){"use strict";var e=Z("../compressions"),h=Z("./ZipFileWorker");t.generateWorker=function(d,f,s){var S=new h(f.streamFiles,s,f.platform,f.encodeFileName),M=0;try{d.forEach(function(E,g){M++;var P=function(y,I){var N=y||I,F=e[N];if(!F)throw new Error(N+" is not a valid compression method !");return F}(g.options.compression,f.compression),O=g.dir,v=g.date;g._compressWorker(P,g.options.compressionOptions||f.compressionOptions||{}).withStreamInfo("file",{name:E,dir:O,date:v,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(S)}),S.entriesCount=M}catch(E){S.error(E)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Z,A,t){"use strict";function e(){if(!(this instanceof e))return new e;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new e;for(var d in this)"function"!=typeof this[d]&&(h[d]=this[d]);return h}}(e.prototype=Z("./object")).loadAsync=Z("./load"),e.support=Z("./support"),e.defaults=Z("./defaults"),e.version="3.10.1",e.loadAsync=function(h,d){return(new e).loadAsync(h,d)},e.external=Z("./external"),A.exports=e},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Z,A,t){"use strict";var e=Z("./utils"),h=Z("./external"),d=Z("./utf8"),f=Z("./zipEntries"),s=Z("./stream/Crc32Probe"),S=Z("./nodejsUtils");function M(E){return new h.Promise(function(g,P){var l=E.decompressed.getContentWorker().pipe(new s);l.on("error",function(O){P(O)}).on("end",function(){l.streamInfo.crc32!==E.decompressed.crc32?P(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}A.exports=function(E,g){var P=this;return g=e.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),S.isNode&&S.isStream(E)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",E,!0,g.optimizedBinaryString,g.base64).then(function(l){var O=new f(g);return O.load(l),O}).then(function(l){var O=[h.Promise.resolve(l)],v=l.files;if(g.checkCRC32)for(var y=0;y<v.length;y++)O.push(M(v[y]));return h.Promise.all(O)}).then(function(l){for(var O=l.shift(),v=O.files,y=0;y<v.length;y++){var I=v[y],N=I.fileNameStr,F=e.resolve(I.fileNameStr);P.file(F,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:g.createFolders}),I.dir||(P.file(F).unsafeOriginalName=N)}return O.zipComment.length&&(P.comment=O.zipComment),P})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Z,A,t){"use strict";var e=Z("../utils"),h=Z("../stream/GenericWorker");function d(f,s){h.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(s)}e.inherits(d,h),d.prototype._bindStream=function(f){var s=this;(this._stream=f).pause(),f.on("data",function(S){s.push({data:S,meta:{percent:0}})}).on("error",function(S){s.isPaused?this.generatedError=S:s.error(S)}).on("end",function(){s.isPaused?s._upstreamEnded=!0:s.end()})},d.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},A.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Z,A,t){"use strict";var e=Z("readable-stream").Readable;function h(d,f,s){e.call(this,f),this._helper=d;var S=this;d.on("data",function(M,E){S.push(M)||S._helper.pause(),s&&s(E)}).on("error",function(M){S.emit("error",M)}).on("end",function(){S.push(null)})}Z("../utils").inherits(h,e),h.prototype._read=function(){this._helper.resume()},A.exports=h},{"../utils":32,"readable-stream":16}],14:[function(Z,A,t){"use strict";A.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,h);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,h)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var h=new Buffer(e);return h.fill(0),h},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(Z,A,t){"use strict";function e(F,et,Y){var H,q=d.getTypeOf(et),U=d.extend(Y||{},S);U.date=U.date||new Date,null!==U.compression&&(U.compression=U.compression.toUpperCase()),"string"==typeof U.unixPermissions&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(F=v(F)),U.createFolders&&(H=O(F))&&y.call(this,H,!0),Y&&void 0!==Y.binary||(U.binary=!("string"===q&&!1===U.binary&&!1===U.base64)),(et instanceof M&&0===et.uncompressedSize||U.dir||!et||0===et.length)&&(U.base64=!1,U.binary=!0,et="",U.compression="STORE",q="string");var C;C=et instanceof M||et instanceof f?et:P.isNode&&P.isStream(et)?new l(F,et):d.prepareContent(F,et,U.binary,U.optimizedBinaryString,U.base64);var _=new E(F,C,U);this.files[F]=_}var h=Z("./utf8"),d=Z("./utils"),f=Z("./stream/GenericWorker"),s=Z("./stream/StreamHelper"),S=Z("./defaults"),M=Z("./compressedObject"),E=Z("./zipObject"),g=Z("./generate"),P=Z("./nodejsUtils"),l=Z("./nodejs/NodejsStreamInputAdapter"),O=function(F){"/"===F.slice(-1)&&(F=F.substring(0,F.length-1));var et=F.lastIndexOf("/");return 0<et?F.substring(0,et):""},v=function(F){return"/"!==F.slice(-1)&&(F+="/"),F},y=function(F,et){return et=void 0!==et?et:S.createFolders,F=v(F),this.files[F]||e.call(this,F,null,{dir:!0,createFolders:et}),this.files[F]};function I(F){return"[object RegExp]"===Object.prototype.toString.call(F)}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var et,Y,H;for(et in this.files)H=this.files[et],(Y=et.slice(this.root.length,et.length))&&et.slice(0,this.root.length)===this.root&&F(Y,H)},filter:function(F){var et=[];return this.forEach(function(Y,H){F(Y,H)&&et.push(H)}),et},file:function(F,et,Y){if(1!==arguments.length)return e.call(this,F=this.root+F,et,Y),this;if(I(F)){var H=F;return this.filter(function(U,D){return!D.dir&&H.test(U)})}var q=this.files[this.root+F];return q&&!q.dir?q:null},folder:function(F){if(!F)return this;if(I(F))return this.filter(function(q,U){return U.dir&&F.test(q)});var Y=y.call(this,this.root+F),H=this.clone();return H.root=Y.name,H},remove:function(F){var et=this.files[F=this.root+F];if(et||("/"!==F.slice(-1)&&(F+="/"),et=this.files[F]),et&&!et.dir)delete this.files[F];else for(var Y=this.filter(function(q,U){return U.name.slice(0,F.length)===F}),H=0;H<Y.length;H++)delete this.files[Y[H].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var et,Y={};try{if((Y=d.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=Y.type.toLowerCase(),Y.compression=Y.compression.toUpperCase(),"binarystring"===Y.type&&(Y.type="string"),!Y.type)throw new Error("No output type specified.");d.checkSupport(Y.type),"darwin"!==Y.platform&&"freebsd"!==Y.platform&&"linux"!==Y.platform&&"sunos"!==Y.platform||(Y.platform="UNIX"),"win32"===Y.platform&&(Y.platform="DOS"),et=g.generateWorker(this,Y,Y.comment||this.comment||"")}catch(q){(et=new f("error")).error(q)}return new s(et,Y.type||"string",Y.mimeType)},generateAsync:function(F,et){return this.generateInternalStream(F).accumulate(et)},generateNodeStream:function(F,et){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(et)}};A.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Z,A,t){"use strict";A.exports=Z("stream")},{stream:void 0}],17:[function(Z,A,t){"use strict";var e=Z("./DataReader");function h(d){e.call(this,d);for(var f=0;f<this.data.length;f++)d[f]=255&d[f]}Z("../utils").inherits(h,e),h.prototype.byteAt=function(d){return this.data[this.zero+d]},h.prototype.lastIndexOfSignature=function(d){for(var f=d.charCodeAt(0),s=d.charCodeAt(1),S=d.charCodeAt(2),M=d.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===f&&this.data[E+1]===s&&this.data[E+2]===S&&this.data[E+3]===M)return E-this.zero;return-1},h.prototype.readAndCheckSignature=function(d){var f=d.charCodeAt(0),s=d.charCodeAt(1),S=d.charCodeAt(2),M=d.charCodeAt(3),E=this.readData(4);return f===E[0]&&s===E[1]&&S===E[2]&&M===E[3]},h.prototype.readData=function(d){if(this.checkOffset(d),0===d)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},A.exports=h},{"../utils":32,"./DataReader":18}],18:[function(Z,A,t){"use strict";var e=Z("../utils");function h(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var f,s=0;for(this.checkOffset(d),f=this.index+d-1;f>=this.index;f--)s=(s<<8)+this.byteAt(f);return this.index+=d,s},readString:function(d){return e.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},A.exports=h},{"../utils":32}],19:[function(Z,A,t){"use strict";var e=Z("./Uint8ArrayReader");function h(d){e.call(this,d)}Z("../utils").inherits(h,e),h.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},A.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Z,A,t){"use strict";var e=Z("./DataReader");function h(d){e.call(this,d)}Z("../utils").inherits(h,e),h.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},h.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},h.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},h.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},A.exports=h},{"../utils":32,"./DataReader":18}],21:[function(Z,A,t){"use strict";var e=Z("./ArrayReader");function h(d){e.call(this,d)}Z("../utils").inherits(h,e),h.prototype.readData=function(d){if(this.checkOffset(d),0===d)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},A.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(Z,A,t){"use strict";var e=Z("../utils"),h=Z("../support"),d=Z("./ArrayReader"),f=Z("./StringReader"),s=Z("./NodeBufferReader"),S=Z("./Uint8ArrayReader");A.exports=function(M){var E=e.getTypeOf(M);return e.checkSupport(E),"string"!==E||h.uint8array?"nodebuffer"===E?new s(M):h.uint8array?new S(e.transformTo("uint8array",M)):new d(e.transformTo("array",M)):new f(M)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Z,A,t){"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Z,A,t){"use strict";var e=Z("./GenericWorker"),h=Z("../utils");function d(f){e.call(this,"ConvertWorker to "+f),this.destType=f}h.inherits(d,e),d.prototype.processChunk=function(f){this.push({data:h.transformTo(this.destType,f.data),meta:f.meta})},A.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(Z,A,t){"use strict";var e=Z("./GenericWorker"),h=Z("../crc32");function d(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Z("../utils").inherits(d,e),d.prototype.processChunk=function(f){this.streamInfo.crc32=h(f.data,this.streamInfo.crc32||0),this.push(f)},A.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Z,A,t){"use strict";var e=Z("../utils"),h=Z("./GenericWorker");function d(f){h.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}e.inherits(d,h),d.prototype.processChunk=function(f){f&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+f.data.length),h.prototype.processChunk.call(this,f)},A.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(Z,A,t){"use strict";var e=Z("../utils"),h=Z("./GenericWorker");function d(f){h.call(this,"DataWorker");var s=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(S){s.dataIsReady=!0,s.data=S,s.max=S&&S.length||0,s.type=e.getTypeOf(S),s.isPaused||s._tickAndRepeat()},function(S){s.error(S)})}e.inherits(d,h),d.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,s=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,s);break;case"uint8array":f=this.data.subarray(this.index,s);break;case"array":case"nodebuffer":f=this.data.slice(this.index,s)}return this.index=s,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},A.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(Z,A,t){"use strict";function e(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}e.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,d){return this._listeners[h].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,d){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,d)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var d=this;return h.on("data",function(f){d.processChunk(f)}),h.on("end",function(){d.end()}),h.on("error",function(f){d.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,d){return this.extraStreamInfo[h]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},A.exports=e},{}],29:[function(Z,A,t){"use strict";var e=Z("../utils"),h=Z("./ConvertWorker"),d=Z("./GenericWorker"),f=Z("../base64"),s=Z("../support"),S=Z("../external"),M=null;if(s.nodestream)try{M=Z("../nodejs/NodejsStreamOutputAdapter")}catch(P){}function g(P,l,O){var v=l;switch(l){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=l,this._mimeType=O,e.checkSupport(v),this._worker=P.pipe(new h(v)),P.lock()}catch(y){this._worker=new d("error"),this._worker.error(y)}}g.prototype={accumulate:function(P){return function(P,l){return new S.Promise(function(O,v){var y=[],I=P._internalType,N=P._outputType,F=P._mimeType;P.on("data",function(et,Y){y.push(et),l&&l(Y)}).on("error",function(et){y=[],v(et)}).on("end",function(){try{var et=function(Y,H,q){switch(Y){case"blob":return e.newBlob(e.transformTo("arraybuffer",H),q);case"base64":return f.encode(H);default:return e.transformTo(Y,H)}}(N,function(Y,H){var q,U=0,D=null,C=0;for(q=0;q<H.length;q++)C+=H[q].length;switch(Y){case"string":return H.join("");case"array":return Array.prototype.concat.apply([],H);case"uint8array":for(D=new Uint8Array(C),q=0;q<H.length;q++)D.set(H[q],U),U+=H[q].length;return D;case"nodebuffer":return Buffer.concat(H);default:throw new Error("concat : unsupported type '"+Y+"'")}}(I,y),F);O(et)}catch(Y){v(Y)}y=[]}).resume()})}(this,P)},on:function(P,l){var O=this;return this._worker.on(P,"data"===P?function(v){l.call(O,v.data,v.meta)}:function(){e.delay(l,arguments,O)}),this},resume:function(){return e.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(e.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new M(this,{objectMode:"nodebuffer"!==this._outputType},P)}},A.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Z,A,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var e=new ArrayBuffer(0);try{t.blob=0===new Blob([e],{type:"application/zip"}).size}catch(d){try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(e),t.blob=0===h.getBlob("application/zip").size}catch(f){t.blob=!1}}}try{t.nodestream=!!Z("readable-stream").Readable}catch(d){t.nodestream=!1}},{"readable-stream":16}],31:[function(Z,A,t){"use strict";for(var e=Z("./utils"),h=Z("./support"),d=Z("./nodejsUtils"),f=Z("./stream/GenericWorker"),s=new Array(256),S=0;S<256;S++)s[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;function M(){f.call(this,"utf-8 decode"),this.leftOver=null}function E(){f.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(g){return h.nodebuffer?d.newBufferFrom(g,"utf-8"):function(P){var l,O,v,y,I,N=P.length,F=0;for(y=0;y<N;y++)55296==(64512&(O=P.charCodeAt(y)))&&y+1<N&&56320==(64512&(v=P.charCodeAt(y+1)))&&(O=65536+(O-55296<<10)+(v-56320),y++),F+=O<128?1:O<2048?2:O<65536?3:4;for(l=h.uint8array?new Uint8Array(F):new Array(F),y=I=0;I<F;y++)55296==(64512&(O=P.charCodeAt(y)))&&y+1<N&&56320==(64512&(v=P.charCodeAt(y+1)))&&(O=65536+(O-55296<<10)+(v-56320),y++),O<128?l[I++]=O:(O<2048?l[I++]=192|O>>>6:(O<65536?l[I++]=224|O>>>12:(l[I++]=240|O>>>18,l[I++]=128|O>>>12&63),l[I++]=128|O>>>6&63),l[I++]=128|63&O);return l}(g)},t.utf8decode=function(g){return h.nodebuffer?e.transformTo("nodebuffer",g).toString("utf-8"):function(P){var l,O,v,y,I=P.length,N=new Array(2*I);for(l=O=0;l<I;)if((v=P[l++])<128)N[O++]=v;else if(4<(y=s[v]))N[O++]=65533,l+=y-1;else{for(v&=2===y?31:3===y?15:7;1<y&&l<I;)v=v<<6|63&P[l++],y--;1<y?N[O++]=65533:v<65536?N[O++]=v:(N[O++]=55296|(v-=65536)>>10&1023,N[O++]=56320|1023&v)}return N.length!==O&&(N.subarray?N=N.subarray(0,O):N.length=O),e.applyFromCharCode(N)}(g=e.transformTo(h.uint8array?"uint8array":"array",g))},e.inherits(M,f),M.prototype.processChunk=function(g){var P=e.transformTo(h.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var l=P;(P=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),P.set(l,this.leftOver.length)}else P=this.leftOver.concat(P);this.leftOver=null}var O=function(y,I){var N;for((I=I||y.length)>y.length&&(I=y.length),N=I-1;0<=N&&128==(192&y[N]);)N--;return N<0||0===N?I:N+s[y[N]]>I?N:I}(P),v=P;O!==P.length&&(h.uint8array?(v=P.subarray(0,O),this.leftOver=P.subarray(O,P.length)):(v=P.slice(0,O),this.leftOver=P.slice(O,P.length))),this.push({data:t.utf8decode(v),meta:g.meta})},M.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=M,e.inherits(E,f),E.prototype.processChunk=function(g){this.push({data:t.utf8encode(g.data),meta:g.meta})},t.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Z,A,t){"use strict";var e=Z("./support"),h=Z("./base64"),d=Z("./nodejsUtils"),f=Z("./external");function s(l){return l}function S(l,O){for(var v=0;v<l.length;++v)O[v]=255&l.charCodeAt(v);return O}Z("setimmediate"),t.newBlob=function(l,O){t.checkSupport("blob");try{return new Blob([l],{type:O})}catch(y){try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(l),v.getBlob(O)}catch(I){throw new Error("Bug : can't construct the Blob.")}}};var M={stringifyByChunk:function(l,O,v){var y=[],I=0,N=l.length;if(N<=v)return String.fromCharCode.apply(null,l);for(;I<N;)y.push(String.fromCharCode.apply(null,"array"===O||"nodebuffer"===O?l.slice(I,Math.min(I+v,N)):l.subarray(I,Math.min(I+v,N)))),I+=v;return y.join("")},stringifyByChar:function(l){for(var O="",v=0;v<l.length;v++)O+=String.fromCharCode(l[v]);return O},applyCanBeUsed:{uint8array:function(){try{return e.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(l){return!1}}(),nodebuffer:function(){try{return e.nodebuffer&&1===String.fromCharCode.apply(null,d.allocBuffer(1)).length}catch(l){return!1}}()}};function E(l){var O=65536,v=t.getTypeOf(l),y=!0;if("uint8array"===v?y=M.applyCanBeUsed.uint8array:"nodebuffer"===v&&(y=M.applyCanBeUsed.nodebuffer),y)for(;1<O;)try{return M.stringifyByChunk(l,v,O)}catch(I){O=Math.floor(O/2)}return M.stringifyByChar(l)}function g(l,O){for(var v=0;v<l.length;v++)O[v]=l[v];return O}t.applyFromCharCode=E;var P={};P.string={string:s,array:function(l){return S(l,new Array(l.length))},arraybuffer:function(l){return P.string.uint8array(l).buffer},uint8array:function(l){return S(l,new Uint8Array(l.length))},nodebuffer:function(l){return S(l,d.allocBuffer(l.length))}},P.array={string:E,array:s,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return d.newBufferFrom(l)}},P.arraybuffer={string:function(l){return E(new Uint8Array(l))},array:function(l){return g(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:s,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return d.newBufferFrom(new Uint8Array(l))}},P.uint8array={string:E,array:function(l){return g(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:s,nodebuffer:function(l){return d.newBufferFrom(l)}},P.nodebuffer={string:E,array:function(l){return g(l,new Array(l.length))},arraybuffer:function(l){return P.nodebuffer.uint8array(l).buffer},uint8array:function(l){return g(l,new Uint8Array(l.length))},nodebuffer:s},t.transformTo=function(l,O){if(O=O||"",!l)return O;t.checkSupport(l);var v=t.getTypeOf(O);return P[v][l](O)},t.resolve=function(l){for(var O=l.split("/"),v=[],y=0;y<O.length;y++){var I=O[y];"."===I||""===I&&0!==y&&y!==O.length-1||(".."===I?v.pop():v.push(I))}return v.join("/")},t.getTypeOf=function(l){return"string"==typeof l?"string":"[object Array]"===Object.prototype.toString.call(l)?"array":e.nodebuffer&&d.isBuffer(l)?"nodebuffer":e.uint8array&&l instanceof Uint8Array?"uint8array":e.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(l){if(!e[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(l){var O,v,y="";for(v=0;v<(l||"").length;v++)y+="\\x"+((O=l.charCodeAt(v))<16?"0":"")+O.toString(16).toUpperCase();return y},t.delay=function(l,O,v){setImmediate(function(){l.apply(v||null,O||[])})},t.inherits=function(l,O){function v(){}v.prototype=O.prototype,l.prototype=new v},t.extend=function(){var l,O,v={};for(l=0;l<arguments.length;l++)for(O in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],O)&&void 0===v[O]&&(v[O]=arguments[l][O]);return v},t.prepareContent=function(l,O,v,y,I){return f.Promise.resolve(O).then(function(N){return e.blob&&(N instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N)))&&"undefined"!=typeof FileReader?new f.Promise(function(F,et){var Y=new FileReader;Y.onload=function(H){F(H.target.result)},Y.onerror=function(H){et(H.target.error)},Y.readAsArrayBuffer(N)}):N}).then(function(N){var et,F=t.getTypeOf(N);return F?("arraybuffer"===F?N=t.transformTo("uint8array",N):"string"===F&&(I?N=h.decode(N):v&&!0!==y&&(N=S(et=N,e.uint8array?new Uint8Array(et.length):new Array(et.length)))),N):f.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(Z,A,t){"use strict";var e=Z("./reader/readerFor"),h=Z("./utils"),d=Z("./signature"),f=Z("./zipEntry"),s=Z("./support");function S(M){this.files=[],this.loadOptions=M}S.prototype={checkSignature:function(M){if(!this.reader.readAndCheckSignature(M)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(E)+", expected "+h.pretty(M)+")")}},isSignature:function(M,E){var g=this.reader.index;this.reader.setIndex(M);var P=this.reader.readString(4)===E;return this.reader.setIndex(g),P},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var M=this.reader.readData(this.zipCommentLength),g=h.transformTo(s.uint8array?"uint8array":"array",M);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var M,E,g,P=this.zip64EndOfCentralSize-44;0<P;)M=this.reader.readInt(2),E=this.reader.readInt(4),g=this.reader.readData(E),this.zip64ExtensibleData[M]={id:M,length:E,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var M,E;for(M=0;M<this.files.length;M++)this.reader.setIndex((E=this.files[M]).localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var M;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(M=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(M);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var M=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(M<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(M);var E=M;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(M=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(M),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var P=E-g;if(0<P)this.isSignature(E,d.CENTRAL_FILE_HEADER)||(this.reader.zero=P);else if(P<0)throw new Error("Corrupted zip: missing "+Math.abs(P)+" bytes.")},prepareReader:function(M){this.reader=e(M)},load:function(M){this.prepareReader(M),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},A.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(Z,A,t){"use strict";var e=Z("./reader/readerFor"),h=Z("./utils"),d=Z("./compressedObject"),f=Z("./crc32"),s=Z("./utf8"),S=Z("./compressions"),M=Z("./support");function E(g,P){this.options=g,this.loadOptions=P}E.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(g){var P,l;if(g.skip(22),this.fileNameLength=g.readInt(2),l=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(l),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(P=function(O){for(var v in S)if(Object.prototype.hasOwnProperty.call(S,v)&&S[v].magic===O)return S[v];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,P,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var P=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(P),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==g&&(this.dosPermissions=63&this.externalFileAttributes),3==g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=e(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var P,l,O,v=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<v;)P=g.readInt(2),l=g.readInt(2),O=g.readData(l),this.extraFields[P]={id:P,length:l,value:O};g.setIndex(v)},handleUTF8:function(){var g=M.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var P=this.findExtraFieldUnicodePath();if(null!==P)this.fileNameStr=P;else{var l=h.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var O=this.findExtraFieldUnicodeComment();if(null!==O)this.fileCommentStr=O;else{var v=h.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var P=e(g.value);return 1!==P.readInt(1)||f(this.fileName)!==P.readInt(4)?null:s.utf8decode(P.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var P=e(g.value);return 1!==P.readInt(1)||f(this.fileComment)!==P.readInt(4)?null:s.utf8decode(P.readData(g.length-5))}return null}},A.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Z,A,t){"use strict";function e(P,l,O){this.name=P,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=l,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var h=Z("./stream/StreamHelper"),d=Z("./stream/DataWorker"),f=Z("./utf8"),s=Z("./compressedObject"),S=Z("./stream/GenericWorker");e.prototype={internalStream:function(P){var l=null,O="string";try{if(!P)throw new Error("No output type specified.");var v="string"===(O=P.toLowerCase())||"text"===O;"binarystring"!==O&&"text"!==O||(O="string"),l=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(l=l.pipe(new f.Utf8EncodeWorker)),!y&&v&&(l=l.pipe(new f.Utf8DecodeWorker))}catch(I){(l=new S("error")).error(I)}return new h(l,O,"")},async:function(P,l){return this.internalStream(P).accumulate(l)},nodeStream:function(P,l){return this.internalStream(P||"nodebuffer").toNodejsStream(l)},_compressWorker:function(P,l){if(this._data instanceof s&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new f.Utf8EncodeWorker)),s.createWorkerFrom(O,P,l)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof S?this._data:new d(this._data)}};for(var M=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<M.length;g++)e.prototype[M[g]]=E;A.exports=e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Z,A,t){(function(e){"use strict";var h,d,f=e.MutationObserver||e.WebKitMutationObserver;if(f){var s=0,S=new f(P),M=e.document.createTextNode("");S.observe(M,{characterData:!0}),h=function(){M.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)h="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var l=e.document.createElement("script");l.onreadystatechange=function(){P(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},e.document.documentElement.appendChild(l)}:function(){setTimeout(P,0)};else{var E=new e.MessageChannel;E.port1.onmessage=P,h=function(){E.port2.postMessage(0)}}var g=[];function P(){var l,O;d=!0;for(var v=g.length;v;){for(O=g,g=[],l=-1;++l<v;)O[l]();v=g.length}d=!1}A.exports=function(l){1!==g.push(l)||d||h()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(Z,A,t){"use strict";var e=Z("immediate");function h(){}var d={},f=["REJECTED"],s=["FULFILLED"],S=["PENDING"];function M(v){if("function"!=typeof v)throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,v!==h&&l(this,v)}function E(v,y,I){this.promise=v,"function"==typeof y&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),"function"==typeof I&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function g(v,y,I){e(function(){var N;try{N=y(I)}catch(F){return d.reject(v,F)}N===v?d.reject(v,new TypeError("Cannot resolve promise with itself")):d.resolve(v,N)})}function P(v){var y=v&&v.then;if(v&&("object"==typeof v||"function"==typeof v)&&"function"==typeof y)return function(){y.apply(v,arguments)}}function l(v,y){var I=!1;function N(Y){I||(I=!0,d.reject(v,Y))}function F(Y){I||(I=!0,d.resolve(v,Y))}var et=O(function(){y(F,N)});"error"===et.status&&N(et.value)}function O(v,y){var I={};try{I.value=v(y),I.status="success"}catch(N){I.status="error",I.value=N}return I}(A.exports=M).prototype.finally=function(v){if("function"!=typeof v)return this;var y=this.constructor;return this.then(function(I){return y.resolve(v()).then(function(){return I})},function(I){return y.resolve(v()).then(function(){throw I})})},M.prototype.catch=function(v){return this.then(null,v)},M.prototype.then=function(v,y){if("function"!=typeof v&&this.state===s||"function"!=typeof y&&this.state===f)return this;var I=new this.constructor(h);return this.state!==S?g(I,this.state===s?v:y,this.outcome):this.queue.push(new E(I,v,y)),I},E.prototype.callFulfilled=function(v){d.resolve(this.promise,v)},E.prototype.otherCallFulfilled=function(v){g(this.promise,this.onFulfilled,v)},E.prototype.callRejected=function(v){d.reject(this.promise,v)},E.prototype.otherCallRejected=function(v){g(this.promise,this.onRejected,v)},d.resolve=function(v,y){var I=O(P,y);if("error"===I.status)return d.reject(v,I.value);var N=I.value;if(N)l(v,N);else{v.state=s,v.outcome=y;for(var F=-1,et=v.queue.length;++F<et;)v.queue[F].callFulfilled(y)}return v},d.reject=function(v,y){v.state=f,v.outcome=y;for(var I=-1,N=v.queue.length;++I<N;)v.queue[I].callRejected(y);return v},M.resolve=function(v){return v instanceof this?v:d.resolve(new this(h),v)},M.reject=function(v){var y=new this(h);return d.reject(y,v)},M.all=function(v){var y=this;if("[object Array]"!==Object.prototype.toString.call(v))return this.reject(new TypeError("must be an array"));var I=v.length,N=!1;if(!I)return this.resolve([]);for(var F=new Array(I),et=0,Y=-1,H=new this(h);++Y<I;)q(v[Y],Y);return H;function q(U,D){y.resolve(U).then(function(C){F[D]=C,++et!==I||N||(N=!0,d.resolve(H,F))},function(C){N||(N=!0,d.reject(H,C))})}},M.race=function(v){if("[object Array]"!==Object.prototype.toString.call(v))return this.reject(new TypeError("must be an array"));var I=v.length,N=!1;if(!I)return this.resolve([]);for(var F=-1,et=new this(h);++F<I;)this.resolve(v[F]).then(function(H){N||(N=!0,d.resolve(et,H))},function(H){N||(N=!0,d.reject(et,H))});return et}},{immediate:36}],38:[function(Z,A,t){"use strict";var e={};(0,Z("./lib/utils/common").assign)(e,Z("./lib/deflate"),Z("./lib/inflate"),Z("./lib/zlib/constants")),A.exports=e},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Z,A,t){"use strict";var e=Z("./zlib/deflate"),h=Z("./utils/common"),d=Z("./utils/strings"),f=Z("./zlib/messages"),s=Z("./zlib/zstream"),S=Object.prototype.toString;function l(v){if(!(this instanceof l))return new l(v);this.options=h.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var I=e.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(0!==I)throw new Error(f[I]);if(y.header&&e.deflateSetHeader(this.strm,y.header),y.dictionary){var N;if(N="string"==typeof y.dictionary?d.string2buf(y.dictionary):"[object ArrayBuffer]"===S.call(y.dictionary)?new Uint8Array(y.dictionary):y.dictionary,0!==(I=e.deflateSetDictionary(this.strm,N)))throw new Error(f[I]);this._dict_set=!0}}function O(v,y){var I=new l(y);if(I.push(v,!0),I.err)throw I.msg||f[I.err];return I.result}l.prototype.push=function(v,y){var I,N,F=this.strm,et=this.options.chunkSize;if(this.ended)return!1;N=y===~~y?y:!0===y?4:0,F.input="string"==typeof v?d.string2buf(v):"[object ArrayBuffer]"===S.call(v)?new Uint8Array(v):v,F.next_in=0,F.avail_in=F.input.length;do{if(0===F.avail_out&&(F.output=new h.Buf8(et),F.next_out=0,F.avail_out=et),1!==(I=e.deflate(F,N))&&0!==I)return this.onEnd(I),!(this.ended=!0);0!==F.avail_out&&(0!==F.avail_in||4!==N&&2!==N)||this.onData("string"===this.options.to?d.buf2binstring(h.shrinkBuf(F.output,F.next_out)):h.shrinkBuf(F.output,F.next_out))}while((0<F.avail_in||0===F.avail_out)&&1!==I);return 4===N?(I=e.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,0===I):2!==N||(this.onEnd(0),!(F.avail_out=0))},l.prototype.onData=function(v){this.chunks.push(v)},l.prototype.onEnd=function(v){0===v&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},t.Deflate=l,t.deflate=O,t.deflateRaw=function(v,y){return(y=y||{}).raw=!0,O(v,y)},t.gzip=function(v,y){return(y=y||{}).gzip=!0,O(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Z,A,t){"use strict";var e=Z("./zlib/inflate"),h=Z("./utils/common"),d=Z("./utils/strings"),f=Z("./zlib/constants"),s=Z("./zlib/messages"),S=Z("./zlib/zstream"),M=Z("./zlib/gzheader"),E=Object.prototype.toString;function g(l){if(!(this instanceof g))return new g(l);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},l||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,0===O.windowBits&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||l&&l.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&0==(15&O.windowBits)&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var v=e.inflateInit2(this.strm,O.windowBits);if(v!==f.Z_OK)throw new Error(s[v]);this.header=new M,e.inflateGetHeader(this.strm,this.header)}function P(l,O){var v=new g(O);if(v.push(l,!0),v.err)throw v.msg||s[v.err];return v.result}g.prototype.push=function(l,O){var v,y,I,N,F,et,Y=this.strm,H=this.options.chunkSize,q=this.options.dictionary,U=!1;if(this.ended)return!1;y=O===~~O?O:!0===O?f.Z_FINISH:f.Z_NO_FLUSH,Y.input="string"==typeof l?d.binstring2buf(l):"[object ArrayBuffer]"===E.call(l)?new Uint8Array(l):l,Y.next_in=0,Y.avail_in=Y.input.length;do{if(0===Y.avail_out&&(Y.output=new h.Buf8(H),Y.next_out=0,Y.avail_out=H),(v=e.inflate(Y,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&q&&(et="string"==typeof q?d.string2buf(q):"[object ArrayBuffer]"===E.call(q)?new Uint8Array(q):q,v=e.inflateSetDictionary(this.strm,et)),v===f.Z_BUF_ERROR&&!0===U&&(v=f.Z_OK,U=!1),v!==f.Z_STREAM_END&&v!==f.Z_OK)return this.onEnd(v),!(this.ended=!0);Y.next_out&&(0!==Y.avail_out&&v!==f.Z_STREAM_END&&(0!==Y.avail_in||y!==f.Z_FINISH&&y!==f.Z_SYNC_FLUSH)||("string"===this.options.to?(I=d.utf8border(Y.output,Y.next_out),N=Y.next_out-I,F=d.buf2string(Y.output,I),Y.next_out=N,Y.avail_out=H-N,N&&h.arraySet(Y.output,Y.output,I,N,0),this.onData(F)):this.onData(h.shrinkBuf(Y.output,Y.next_out)))),0===Y.avail_in&&0===Y.avail_out&&(U=!0)}while((0<Y.avail_in||0===Y.avail_out)&&v!==f.Z_STREAM_END);return v===f.Z_STREAM_END&&(y=f.Z_FINISH),y===f.Z_FINISH?(v=e.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===f.Z_OK):y!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(Y.avail_out=0))},g.prototype.onData=function(l){this.chunks.push(l)},g.prototype.onEnd=function(l){l===f.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},t.Inflate=g,t.inflate=P,t.inflateRaw=function(l,O){return(O=O||{}).raw=!0,P(l,O)},t.ungzip=P},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Z,A,t){"use strict";var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(f){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var S=s.shift();if(S){if("object"!=typeof S)throw new TypeError(S+"must be non-object");for(var M in S)S.hasOwnProperty(M)&&(f[M]=S[M])}}return f},t.shrinkBuf=function(f,s){return f.length===s?f:f.subarray?f.subarray(0,s):(f.length=s,f)};var h={arraySet:function(f,s,S,M,E){if(s.subarray&&f.subarray)f.set(s.subarray(S,S+M),E);else for(var g=0;g<M;g++)f[E+g]=s[S+g]},flattenChunks:function(f){var s,S,M,E,g,P;for(s=M=0,S=f.length;s<S;s++)M+=f[s].length;for(P=new Uint8Array(M),s=E=0,S=f.length;s<S;s++)P.set(g=f[s],E),E+=g.length;return P}},d={arraySet:function(f,s,S,M,E){for(var g=0;g<M;g++)f[E+g]=s[S+g]},flattenChunks:function(f){return[].concat.apply([],f)}};t.setTyped=function(f){f?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,h)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,d))},t.setTyped(e)},{}],42:[function(Z,A,t){"use strict";var e=Z("./common"),h=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch(M){h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(M){d=!1}for(var f=new e.Buf8(256),s=0;s<256;s++)f[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function S(M,E){if(E<65537&&(M.subarray&&d||!M.subarray&&h))return String.fromCharCode.apply(null,e.shrinkBuf(M,E));for(var g="",P=0;P<E;P++)g+=String.fromCharCode(M[P]);return g}f[254]=f[254]=1,t.string2buf=function(M){var E,g,P,l,O,v=M.length,y=0;for(l=0;l<v;l++)55296==(64512&(g=M.charCodeAt(l)))&&l+1<v&&56320==(64512&(P=M.charCodeAt(l+1)))&&(g=65536+(g-55296<<10)+(P-56320),l++),y+=g<128?1:g<2048?2:g<65536?3:4;for(E=new e.Buf8(y),l=O=0;O<y;l++)55296==(64512&(g=M.charCodeAt(l)))&&l+1<v&&56320==(64512&(P=M.charCodeAt(l+1)))&&(g=65536+(g-55296<<10)+(P-56320),l++),g<128?E[O++]=g:(g<2048?E[O++]=192|g>>>6:(g<65536?E[O++]=224|g>>>12:(E[O++]=240|g>>>18,E[O++]=128|g>>>12&63),E[O++]=128|g>>>6&63),E[O++]=128|63&g);return E},t.buf2binstring=function(M){return S(M,M.length)},t.binstring2buf=function(M){for(var E=new e.Buf8(M.length),g=0,P=E.length;g<P;g++)E[g]=M.charCodeAt(g);return E},t.buf2string=function(M,E){var g,P,l,O,v=E||M.length,y=new Array(2*v);for(g=P=0;g<v;)if((l=M[g++])<128)y[P++]=l;else if(4<(O=f[l]))y[P++]=65533,g+=O-1;else{for(l&=2===O?31:3===O?15:7;1<O&&g<v;)l=l<<6|63&M[g++],O--;1<O?y[P++]=65533:l<65536?y[P++]=l:(y[P++]=55296|(l-=65536)>>10&1023,y[P++]=56320|1023&l)}return S(y,P)},t.utf8border=function(M,E){var g;for((E=E||M.length)>M.length&&(E=M.length),g=E-1;0<=g&&128==(192&M[g]);)g--;return g<0||0===g?E:g+f[M[g]]>E?g:E}},{"./common":41}],43:[function(Z,A,t){"use strict";A.exports=function(e,h,d,f){for(var s=65535&e|0,S=e>>>16&65535|0,M=0;0!==d;){for(d-=M=2e3<d?2e3:d;S=S+(s=s+h[f++]|0)|0,--M;);s%=65521,S%=65521}return s|S<<16|0}},{}],44:[function(Z,A,t){"use strict";A.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Z,A,t){"use strict";var e=function(){for(var h,d=[],f=0;f<256;f++){h=f;for(var s=0;s<8;s++)h=1&h?3988292384^h>>>1:h>>>1;d[f]=h}return d}();A.exports=function(h,d,f,s){var S=e,M=s+f;h^=-1;for(var E=s;E<M;E++)h=h>>>8^S[255&(h^d[E])];return-1^h}},{}],46:[function(Z,A,t){"use strict";var e,h=Z("../utils/common"),d=Z("./trees"),f=Z("./adler32"),s=Z("./crc32"),S=Z("./messages"),P=-2,U=258,D=262,_=113;function it(n,W){return n.msg=S[W],W}function ot(n){return(n<<1)-(4<n?9:0)}function pt(n){for(var W=n.length;0<=--W;)n[W]=0}function c(n){var W=n.state,V=W.pending;V>n.avail_out&&(V=n.avail_out),0!==V&&(h.arraySet(n.output,W.pending_buf,W.pending_out,V,n.next_out),n.next_out+=V,W.pending_out+=V,n.total_out+=V,n.avail_out-=V,W.pending-=V,0===W.pending&&(W.pending_out=0))}function a(n,W){d._tr_flush_block(n,0<=n.block_start?n.block_start:-1,n.strstart-n.block_start,W),n.block_start=n.strstart,c(n.strm)}function k(n,W){n.pending_buf[n.pending++]=W}function T(n,W){n.pending_buf[n.pending++]=W>>>8&255,n.pending_buf[n.pending++]=255&W}function m(n,W){var V,x,p=n.max_chain_length,z=n.strstart,K=n.prev_length,X=n.nice_match,R=n.strstart>n.w_size-D?n.strstart-(n.w_size-D):0,nt=n.window,ct=n.w_mask,st=n.prev,gt=n.strstart+U,j=nt[z+K-1],L=nt[z+K];n.prev_length>=n.good_match&&(p>>=2),X>n.lookahead&&(X=n.lookahead);do{if(nt[(V=W)+K]===L&&nt[V+K-1]===j&&nt[V]===nt[z]&&nt[++V]===nt[z+1]){z+=2,V++;do{}while(nt[++z]===nt[++V]&&nt[++z]===nt[++V]&&nt[++z]===nt[++V]&&nt[++z]===nt[++V]&&nt[++z]===nt[++V]&&nt[++z]===nt[++V]&&nt[++z]===nt[++V]&&nt[++z]===nt[++V]&&z<gt);if(x=U-(gt-z),z=gt-U,K<x){if(n.match_start=W,X<=(K=x))break;j=nt[z+K-1],L=nt[z+K]}}}while((W=st[W&ct])>R&&0!=--p);return K<=n.lookahead?K:n.lookahead}function G(n){var W,V,x,p,z,K,X,R,nt,ct,st=n.w_size;do{if(p=n.window_size-n.lookahead-n.strstart,n.strstart>=st+(st-D)){for(h.arraySet(n.window,n.window,st,st,0),n.match_start-=st,n.strstart-=st,n.block_start-=st,W=V=n.hash_size;x=n.head[--W],n.head[W]=st<=x?x-st:0,--V;);for(W=V=st;x=n.prev[--W],n.prev[W]=st<=x?x-st:0,--V;);p+=st}if(0===n.strm.avail_in)break;if(X=n.window,R=n.strstart+n.lookahead,ct=void 0,(nt=p)<(ct=(K=n.strm).avail_in)&&(ct=nt),V=0===ct?0:(K.avail_in-=ct,h.arraySet(X,K.input,K.next_in,ct,R),1===K.state.wrap?K.adler=f(K.adler,X,ct,R):2===K.state.wrap&&(K.adler=s(K.adler,X,ct,R)),K.next_in+=ct,K.total_in+=ct,ct),n.lookahead+=V,n.lookahead+n.insert>=3)for(n.ins_h=n.window[z=n.strstart-n.insert],n.ins_h=(n.ins_h<<n.hash_shift^n.window[z+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[z+3-1])&n.hash_mask,n.prev[z&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=z,z++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<D&&0!==n.strm.avail_in)}function rt(n,W){for(var V,x;;){if(n.lookahead<D){if(G(n),n.lookahead<D&&0===W)return 1;if(0===n.lookahead)break}if(V=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,V=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==V&&n.strstart-V<=n.w_size-D&&(n.match_length=m(n,V)),n.match_length>=3)if(x=d._tr_tally(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){for(n.match_length--;n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,V=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart,0!=--n.match_length;);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else x=d._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(x&&(a(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,4===W?(a(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(a(n,!1),0===n.strm.avail_out)?1:2}function $(n,W){for(var V,x,p;;){if(n.lookahead<D){if(G(n),n.lookahead<D&&0===W)return 1;if(0===n.lookahead)break}if(V=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,V=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==V&&n.prev_length<n.max_lazy_match&&n.strstart-V<=n.w_size-D&&(n.match_length=m(n,V),n.match_length<=5&&(1===n.strategy||3===n.match_length&&4096<n.strstart-n.match_start)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){for(p=n.strstart+n.lookahead-3,x=d._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;++n.strstart<=p&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,V=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!=--n.prev_length;);if(n.match_available=0,n.match_length=2,n.strstart++,x&&(a(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if((x=d._tr_tally(n,0,n.window[n.strstart-1]))&&a(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(x=d._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,4===W?(a(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(a(n,!1),0===n.strm.avail_out)?1:2}function at(n,W,V,x,p){this.good_length=n,this.max_lazy=W,this.nice_length=V,this.max_chain=x,this.func=p}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(1146),this.dyn_dtree=new h.Buf16(122),this.bl_tree=new h.Buf16(78),pt(this.dyn_ltree),pt(this.dyn_dtree),pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(16),this.heap=new h.Buf16(573),pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(573),pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(n){var W;return n&&n.state?(n.total_in=n.total_out=0,n.data_type=2,(W=n.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?42:_,n.adler=2===W.wrap?0:1,W.last_flush=0,d._tr_init(W),0):it(n,P)}function xt(n){var V,W=ft(n);return 0===W&&((V=n.state).window_size=2*V.w_size,pt(V.head),V.max_lazy_match=e[V.level].max_lazy,V.good_match=e[V.level].good_length,V.nice_match=e[V.level].nice_length,V.max_chain_length=e[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=2,V.match_available=0,V.ins_h=0),W}function _t(n,W,V,x,p,z){if(!n)return P;var K=1;if(-1===W&&(W=6),x<0?(K=0,x=-x):15<x&&(K=2,x-=16),p<1||9<p||8!==V||x<8||15<x||W<0||9<W||z<0||4<z)return it(n,P);8===x&&(x=9);var X=new lt;return(n.state=X).strm=n,X.wrap=K,X.gzhead=null,X.w_bits=x,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=p+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+3-1)/3),X.window=new h.Buf8(2*X.w_size),X.head=new h.Buf16(X.hash_size),X.prev=new h.Buf16(X.w_size),X.lit_bufsize=1<<p+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new h.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=W,X.strategy=z,X.method=V,xt(n)}e=[new at(0,0,0,0,function(n,W){var V=65535;for(V>n.pending_buf_size-5&&(V=n.pending_buf_size-5);;){if(n.lookahead<=1){if(G(n),0===n.lookahead&&0===W)return 1;if(0===n.lookahead)break}n.strstart+=n.lookahead,n.lookahead=0;var x=n.block_start+V;if((0===n.strstart||n.strstart>=x)&&(n.lookahead=n.strstart-x,n.strstart=x,a(n,!1),0===n.strm.avail_out)||n.strstart-n.block_start>=n.w_size-D&&(a(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,4===W?(a(n,!0),0===n.strm.avail_out?3:4):(n.strstart>n.block_start&&a(n,!1),1)}),new at(4,4,8,4,rt),new at(4,5,16,8,rt),new at(4,6,32,32,rt),new at(4,4,16,16,$),new at(8,16,32,32,$),new at(8,16,128,128,$),new at(8,32,128,256,$),new at(32,128,258,1024,$),new at(32,258,258,4096,$)],t.deflateInit=function(n,W){return _t(n,W,8,15,8,0)},t.deflateInit2=_t,t.deflateReset=xt,t.deflateResetKeep=ft,t.deflateSetHeader=function(n,W){return n&&n.state?2!==n.state.wrap?P:(n.state.gzhead=W,0):P},t.deflate=function(n,W){var V,x,p,z;if(!n||!n.state||5<W||W<0)return n?it(n,P):P;if(x=n.state,!n.output||!n.input&&0!==n.avail_in||666===x.status&&4!==W)return it(n,0===n.avail_out?-5:P);if(x.strm=n,V=x.last_flush,x.last_flush=W,42===x.status)if(2===x.wrap)n.adler=0,k(x,31),k(x,139),k(x,8),x.gzhead?(k(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),k(x,255&x.gzhead.time),k(x,x.gzhead.time>>8&255),k(x,x.gzhead.time>>16&255),k(x,x.gzhead.time>>24&255),k(x,9===x.level?2:2<=x.strategy||x.level<2?4:0),k(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(k(x,255&x.gzhead.extra.length),k(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(n.adler=s(n.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(k(x,0),k(x,0),k(x,0),k(x,0),k(x,0),k(x,9===x.level?2:2<=x.strategy||x.level<2?4:0),k(x,3),x.status=_);else{var K=8+(x.w_bits-8<<4)<<8;K|=(2<=x.strategy||x.level<2?0:x.level<6?1:6===x.level?2:3)<<6,0!==x.strstart&&(K|=32),K+=31-K%31,x.status=_,T(x,K),0!==x.strstart&&(T(x,n.adler>>>16),T(x,65535&n.adler)),n.adler=1}if(69===x.status)if(x.gzhead.extra){for(p=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>p&&(n.adler=s(n.adler,x.pending_buf,x.pending-p,p)),c(n),p=x.pending,x.pending!==x.pending_buf_size));)k(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>p&&(n.adler=s(n.adler,x.pending_buf,x.pending-p,p)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(73===x.status)if(x.gzhead.name){p=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>p&&(n.adler=s(n.adler,x.pending_buf,x.pending-p,p)),c(n),p=x.pending,x.pending===x.pending_buf_size)){z=1;break}z=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,k(x,z)}while(0!==z);x.gzhead.hcrc&&x.pending>p&&(n.adler=s(n.adler,x.pending_buf,x.pending-p,p)),0===z&&(x.gzindex=0,x.status=91)}else x.status=91;if(91===x.status)if(x.gzhead.comment){p=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>p&&(n.adler=s(n.adler,x.pending_buf,x.pending-p,p)),c(n),p=x.pending,x.pending===x.pending_buf_size)){z=1;break}z=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,k(x,z)}while(0!==z);x.gzhead.hcrc&&x.pending>p&&(n.adler=s(n.adler,x.pending_buf,x.pending-p,p)),0===z&&(x.status=103)}else x.status=103;if(103===x.status&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&c(n),x.pending+2<=x.pending_buf_size&&(k(x,255&n.adler),k(x,n.adler>>8&255),n.adler=0,x.status=_)):x.status=_),0!==x.pending){if(c(n),0===n.avail_out)return x.last_flush=-1,0}else if(0===n.avail_in&&ot(W)<=ot(V)&&4!==W)return it(n,-5);if(666===x.status&&0!==n.avail_in)return it(n,-5);if(0!==n.avail_in||0!==x.lookahead||0!==W&&666!==x.status){var X=2===x.strategy?function(R,nt){for(var ct;;){if(0===R.lookahead&&(G(R),0===R.lookahead)){if(0===nt)return 1;break}if(R.match_length=0,ct=d._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,ct&&(a(R,!1),0===R.strm.avail_out))return 1}return R.insert=0,4===nt?(a(R,!0),0===R.strm.avail_out?3:4):R.last_lit&&(a(R,!1),0===R.strm.avail_out)?1:2}(x,W):3===x.strategy?function(R,nt){for(var ct,st,gt,j,L=R.window;;){if(R.lookahead<=U){if(G(R),R.lookahead<=U&&0===nt)return 1;if(0===R.lookahead)break}if(R.match_length=0,R.lookahead>=3&&0<R.strstart&&(st=L[gt=R.strstart-1])===L[++gt]&&st===L[++gt]&&st===L[++gt]){j=R.strstart+U;do{}while(st===L[++gt]&&st===L[++gt]&&st===L[++gt]&&st===L[++gt]&&st===L[++gt]&&st===L[++gt]&&st===L[++gt]&&st===L[++gt]&&gt<j);R.match_length=U-(j-gt),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=3?(ct=d._tr_tally(R,1,R.match_length-3),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(ct=d._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),ct&&(a(R,!1),0===R.strm.avail_out))return 1}return R.insert=0,4===nt?(a(R,!0),0===R.strm.avail_out?3:4):R.last_lit&&(a(R,!1),0===R.strm.avail_out)?1:2}(x,W):e[x.level].func(x,W);if(3!==X&&4!==X||(x.status=666),1===X||3===X)return 0===n.avail_out&&(x.last_flush=-1),0;if(2===X&&(1===W?d._tr_align(x):5!==W&&(d._tr_stored_block(x,0,0,!1),3===W&&(pt(x.head),0===x.lookahead&&(x.strstart=0,x.block_start=0,x.insert=0))),c(n),0===n.avail_out))return x.last_flush=-1,0}return 4!==W?0:x.wrap<=0?1:(2===x.wrap?(k(x,255&n.adler),k(x,n.adler>>8&255),k(x,n.adler>>16&255),k(x,n.adler>>24&255),k(x,255&n.total_in),k(x,n.total_in>>8&255),k(x,n.total_in>>16&255),k(x,n.total_in>>24&255)):(T(x,n.adler>>>16),T(x,65535&n.adler)),c(n),0<x.wrap&&(x.wrap=-x.wrap),0!==x.pending?0:1)},t.deflateEnd=function(n){var W;return n&&n.state?42!==(W=n.state.status)&&69!==W&&73!==W&&91!==W&&103!==W&&W!==_&&666!==W?it(n,P):(n.state=null,W===_?it(n,-3):0):P},t.deflateSetDictionary=function(n,W){var V,x,p,z,K,X,R,nt,ct=W.length;if(!n||!n.state||2===(z=(V=n.state).wrap)||1===z&&42!==V.status||V.lookahead)return P;for(1===z&&(n.adler=f(n.adler,W,ct,0)),V.wrap=0,ct>=V.w_size&&(0===z&&(pt(V.head),V.strstart=0,V.block_start=0,V.insert=0),nt=new h.Buf8(V.w_size),h.arraySet(nt,W,ct-V.w_size,V.w_size,0),W=nt,ct=V.w_size),K=n.avail_in,X=n.next_in,R=n.input,n.avail_in=ct,n.next_in=0,n.input=W,G(V);V.lookahead>=3;){for(x=V.strstart,p=V.lookahead-2;V.ins_h=(V.ins_h<<V.hash_shift^V.window[x+3-1])&V.hash_mask,V.prev[x&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=x,x++,--p;);V.strstart=x,V.lookahead=2,G(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,n.next_in=X,n.input=R,n.avail_in=K,V.wrap=z,0},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Z,A,t){"use strict";A.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(Z,A,t){"use strict";A.exports=function(e,h){var d,f,s,S,M,E,g,P,l,O,v,y,I,N,F,et,Y,H,q,U,D,C,_,o,b;o=e.input,s=(f=e.next_in)+(e.avail_in-5),b=e.output,M=(S=e.next_out)-(h-e.avail_out),E=S+(e.avail_out-257),g=(d=e.state).dmax,P=d.wsize,l=d.whave,O=d.wnext,v=d.window,y=d.hold,I=d.bits,N=d.lencode,F=d.distcode,et=(1<<d.lenbits)-1,Y=(1<<d.distbits)-1;t:do{I<15&&(y+=o[f++]<<I,y+=o[f++]<<(I+=8),I+=8),H=N[y&et];e:for(;;){if(y>>>=q=H>>>24,I-=q,0==(q=H>>>16&255))b[S++]=65535&H;else{if(!(16&q)){if(0==(64&q)){H=N[(65535&H)+(y&(1<<q)-1)];continue e}if(32&q){d.mode=12;break t}e.msg="invalid literal/length code",d.mode=30;break t}U=65535&H,(q&=15)&&(I<q&&(y+=o[f++]<<I,I+=8),U+=y&(1<<q)-1,y>>>=q,I-=q),I<15&&(y+=o[f++]<<I,y+=o[f++]<<(I+=8),I+=8),H=F[y&Y];n:for(;;){if(y>>>=q=H>>>24,I-=q,!(16&(q=H>>>16&255))){if(0==(64&q)){H=F[(65535&H)+(y&(1<<q)-1)];continue n}e.msg="invalid distance code",d.mode=30;break t}if(D=65535&H,I<(q&=15)&&(y+=o[f++]<<I,(I+=8)<q&&(y+=o[f++]<<I,I+=8)),g<(D+=y&(1<<q)-1)){e.msg="invalid distance too far back",d.mode=30;break t}if(y>>>=q,I-=q,(q=S-M)<D){if(l<(q=D-q)&&d.sane){e.msg="invalid distance too far back",d.mode=30;break t}if(_=v,(C=0)===O){if(C+=P-q,q<U){for(U-=q;b[S++]=v[C++],--q;);C=S-D,_=b}}else if(O<q){if(C+=P+O-q,(q-=O)<U){for(U-=q;b[S++]=v[C++],--q;);if(C=0,O<U){for(U-=q=O;b[S++]=v[C++],--q;);C=S-D,_=b}}}else if(C+=O-q,q<U){for(U-=q;b[S++]=v[C++],--q;);C=S-D,_=b}for(;2<U;)b[S++]=_[C++],b[S++]=_[C++],b[S++]=_[C++],U-=3;U&&(b[S++]=_[C++],1<U&&(b[S++]=_[C++]))}else{for(C=S-D;b[S++]=b[C++],b[S++]=b[C++],b[S++]=b[C++],2<(U-=3););U&&(b[S++]=b[C++],1<U&&(b[S++]=b[C++]))}break}}break}}while(f<s&&S<E);f-=U=I>>3,y&=(1<<(I-=U<<3))-1,e.next_in=f,e.next_out=S,e.avail_in=f<s?s-f+5:5-(f-s),e.avail_out=S<E?E-S+257:257-(S-E),d.hold=y,d.bits=I}},{}],49:[function(Z,A,t){"use strict";var e=Z("../utils/common"),h=Z("./adler32"),d=Z("./crc32"),f=Z("./inffast"),s=Z("./inftrees"),g=-2;function v(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(C){var _;return C&&C.state?(C.total_in=C.total_out=(_=C.state).total=0,C.msg="",_.wrap&&(C.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new e.Buf32(852),_.distcode=_.distdyn=new e.Buf32(592),_.sane=1,_.back=-1,0):g}function N(C){var _;return C&&C.state?((_=C.state).wsize=0,_.whave=0,_.wnext=0,I(C)):g}function F(C,_){var o,b;return C&&C.state?(b=C.state,_<0?(o=0,_=-_):(o=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?g:(null!==b.window&&b.wbits!==_&&(b.window=null),b.wrap=o,b.wbits=_,N(C))):g}function et(C,_){var o,b;return C?(b=new y,(C.state=b).window=null,0!==(o=F(C,_))&&(C.state=null),o):g}var Y,H,q=!0;function U(C){if(q){var _;for(Y=new e.Buf32(512),H=new e.Buf32(32),_=0;_<144;)C.lens[_++]=8;for(;_<256;)C.lens[_++]=9;for(;_<280;)C.lens[_++]=7;for(;_<288;)C.lens[_++]=8;for(s(1,C.lens,0,288,Y,0,C.work,{bits:9}),_=0;_<32;)C.lens[_++]=5;s(2,C.lens,0,32,H,0,C.work,{bits:5}),q=!1}C.lencode=Y,C.lenbits=9,C.distcode=H,C.distbits=5}function D(C,_,o,b){var Q,B=C.state;return null===B.window&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new e.Buf8(B.wsize)),b>=B.wsize?(e.arraySet(B.window,_,o-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(b<(Q=B.wsize-B.wnext)&&(Q=b),e.arraySet(B.window,_,o-b,Q,B.wnext),(b-=Q)?(e.arraySet(B.window,_,o-b,b,0),B.wnext=b,B.whave=B.wsize):(B.wnext+=Q,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=Q))),0}t.inflateReset=N,t.inflateReset2=F,t.inflateResetKeep=I,t.inflateInit=function(C){return et(C,15)},t.inflateInit2=et,t.inflate=function(C,_){var o,b,Q,B,it,ot,pt,c,a,k,T,m,G,rt,$,at,lt,ft,xt,_t,n,W,V,x,p=0,z=new e.Buf8(4),K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&0!==C.avail_in)return g;12===(o=C.state).mode&&(o.mode=13),it=C.next_out,Q=C.output,B=C.next_in,b=C.input,c=o.hold,a=o.bits,k=ot=C.avail_in,T=pt=C.avail_out,W=0;t:for(;;)switch(o.mode){case 1:if(0===o.wrap){o.mode=13;break}for(;a<16;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(2&o.wrap&&35615===c){z[o.check=0]=255&c,z[1]=c>>>8&255,o.check=d(o.check,z,2,0),a=c=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&c)<<8)+(c>>8))%31){C.msg="incorrect header check",o.mode=30;break}if(8!=(15&c)){C.msg="unknown compression method",o.mode=30;break}if(a-=4,n=8+(15&(c>>>=4)),0===o.wbits)o.wbits=n;else if(n>o.wbits){C.msg="invalid window size",o.mode=30;break}o.dmax=1<<n,C.adler=o.check=1,o.mode=512&c?10:12,a=c=0;break;case 2:for(;a<16;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(o.flags=c,8!=(255&o.flags)){C.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){C.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=c>>8&1),512&o.flags&&(z[0]=255&c,z[1]=c>>>8&255,o.check=d(o.check,z,2,0)),a=c=0,o.mode=3;case 3:for(;a<32;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}o.head&&(o.head.time=c),512&o.flags&&(z[0]=255&c,z[1]=c>>>8&255,z[2]=c>>>16&255,z[3]=c>>>24&255,o.check=d(o.check,z,4,0)),a=c=0,o.mode=4;case 4:for(;a<16;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}o.head&&(o.head.xflags=255&c,o.head.os=c>>8),512&o.flags&&(z[0]=255&c,z[1]=c>>>8&255,o.check=d(o.check,z,2,0)),a=c=0,o.mode=5;case 5:if(1024&o.flags){for(;a<16;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}o.length=c,o.head&&(o.head.extra_len=c),512&o.flags&&(z[0]=255&c,z[1]=c>>>8&255,o.check=d(o.check,z,2,0)),a=c=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(ot<(m=o.length)&&(m=ot),m&&(o.head&&(n=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),e.arraySet(o.head.extra,b,B,m,n)),512&o.flags&&(o.check=d(o.check,b,m,B)),ot-=m,B+=m,o.length-=m),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(0===ot)break t;for(m=0;n=b[B+m++],o.head&&n&&o.length<65536&&(o.head.name+=String.fromCharCode(n)),n&&m<ot;);if(512&o.flags&&(o.check=d(o.check,b,m,B)),ot-=m,B+=m,n)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(0===ot)break t;for(m=0;n=b[B+m++],o.head&&n&&o.length<65536&&(o.head.comment+=String.fromCharCode(n)),n&&m<ot;);if(512&o.flags&&(o.check=d(o.check,b,m,B)),ot-=m,B+=m,n)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;a<16;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(c!==(65535&o.check)){C.msg="header crc mismatch",o.mode=30;break}a=c=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),C.adler=o.check=0,o.mode=12;break;case 10:for(;a<32;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}C.adler=o.check=v(c),a=c=0,o.mode=11;case 11:if(0===o.havedict)return C.next_out=it,C.avail_out=pt,C.next_in=B,C.avail_in=ot,o.hold=c,o.bits=a,2;C.adler=o.check=1,o.mode=12;case 12:if(5===_||6===_)break t;case 13:if(o.last){c>>>=7&a,a-=7&a,o.mode=27;break}for(;a<3;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}switch(o.last=1&c,a-=1,3&(c>>>=1)){case 0:o.mode=14;break;case 1:if(U(o),o.mode=20,6!==_)break;c>>>=2,a-=2;break t;case 2:o.mode=17;break;case 3:C.msg="invalid block type",o.mode=30}c>>>=2,a-=2;break;case 14:for(c>>>=7&a,a-=7&a;a<32;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if((65535&c)!=(c>>>16^65535)){C.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&c,a=c=0,o.mode=15,6===_)break t;case 15:o.mode=16;case 16:if(m=o.length){if(ot<m&&(m=ot),pt<m&&(m=pt),0===m)break t;e.arraySet(Q,b,B,m,it),ot-=m,B+=m,pt-=m,it+=m,o.length-=m;break}o.mode=12;break;case 17:for(;a<14;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(o.nlen=257+(31&c),a-=5,o.ndist=1+(31&(c>>>=5)),a-=5,o.ncode=4+(15&(c>>>=5)),c>>>=4,a-=4,286<o.nlen||30<o.ndist){C.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;a<3;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}o.lens[K[o.have++]]=7&c,c>>>=3,a-=3}for(;o.have<19;)o.lens[K[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,W=s(0,o.lens,0,19,o.lencode,0,o.work,V={bits:o.lenbits}),o.lenbits=V.bits,W){C.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;at=(p=o.lencode[c&(1<<o.lenbits)-1])>>>16&255,lt=65535&p,!(($=p>>>24)<=a);){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(lt<16)c>>>=$,a-=$,o.lens[o.have++]=lt;else{if(16===lt){for(x=$+2;a<x;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(c>>>=$,a-=$,0===o.have){C.msg="invalid bit length repeat",o.mode=30;break}n=o.lens[o.have-1],m=3+(3&c),c>>>=2,a-=2}else if(17===lt){for(x=$+3;a<x;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}a-=$,n=0,m=3+(7&(c>>>=$)),c>>>=3,a-=3}else{for(x=$+7;a<x;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}a-=$,n=0,m=11+(127&(c>>>=$)),c>>>=7,a-=7}if(o.have+m>o.nlen+o.ndist){C.msg="invalid bit length repeat",o.mode=30;break}for(;m--;)o.lens[o.have++]=n}}if(30===o.mode)break;if(0===o.lens[256]){C.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,W=s(1,o.lens,0,o.nlen,o.lencode,0,o.work,V={bits:o.lenbits}),o.lenbits=V.bits,W){C.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,W=s(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,V={bits:o.distbits}),o.distbits=V.bits,W){C.msg="invalid distances set",o.mode=30;break}if(o.mode=20,6===_)break t;case 20:o.mode=21;case 21:if(6<=ot&&258<=pt){C.next_out=it,C.avail_out=pt,C.next_in=B,C.avail_in=ot,o.hold=c,o.bits=a,f(C,T),it=C.next_out,Q=C.output,pt=C.avail_out,B=C.next_in,b=C.input,ot=C.avail_in,c=o.hold,a=o.bits,12===o.mode&&(o.back=-1);break}for(o.back=0;at=(p=o.lencode[c&(1<<o.lenbits)-1])>>>16&255,lt=65535&p,!(($=p>>>24)<=a);){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(at&&0==(240&at)){for(ft=$,xt=at,_t=lt;at=(p=o.lencode[_t+((c&(1<<ft+xt)-1)>>ft)])>>>16&255,lt=65535&p,!(ft+($=p>>>24)<=a);){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}c>>>=ft,a-=ft,o.back+=ft}if(c>>>=$,a-=$,o.back+=$,o.length=lt,0===at){o.mode=26;break}if(32&at){o.back=-1,o.mode=12;break}if(64&at){C.msg="invalid literal/length code",o.mode=30;break}o.extra=15&at,o.mode=22;case 22:if(o.extra){for(x=o.extra;a<x;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}o.length+=c&(1<<o.extra)-1,c>>>=o.extra,a-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;at=(p=o.distcode[c&(1<<o.distbits)-1])>>>16&255,lt=65535&p,!(($=p>>>24)<=a);){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(0==(240&at)){for(ft=$,xt=at,_t=lt;at=(p=o.distcode[_t+((c&(1<<ft+xt)-1)>>ft)])>>>16&255,lt=65535&p,!(ft+($=p>>>24)<=a);){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}c>>>=ft,a-=ft,o.back+=ft}if(c>>>=$,a-=$,o.back+=$,64&at){C.msg="invalid distance code",o.mode=30;break}o.offset=lt,o.extra=15&at,o.mode=24;case 24:if(o.extra){for(x=o.extra;a<x;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}o.offset+=c&(1<<o.extra)-1,c>>>=o.extra,a-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){C.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(0===pt)break t;if(o.offset>(m=T-pt)){if((m=o.offset-m)>o.whave&&o.sane){C.msg="invalid distance too far back",o.mode=30;break}G=m>o.wnext?o.wsize-(m-=o.wnext):o.wnext-m,m>o.length&&(m=o.length),rt=o.window}else rt=Q,G=it-o.offset,m=o.length;for(pt<m&&(m=pt),pt-=m,o.length-=m;Q[it++]=rt[G++],--m;);0===o.length&&(o.mode=21);break;case 26:if(0===pt)break t;Q[it++]=o.length,pt--,o.mode=21;break;case 27:if(o.wrap){for(;a<32;){if(0===ot)break t;ot--,c|=b[B++]<<a,a+=8}if(C.total_out+=T-=pt,o.total+=T,T&&(C.adler=o.check=o.flags?d(o.check,Q,T,it-T):h(o.check,Q,T,it-T)),T=pt,(o.flags?c:v(c))!==o.check){C.msg="incorrect data check",o.mode=30;break}a=c=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;a<32;){if(0===ot)break t;ot--,c+=b[B++]<<a,a+=8}if(c!==(4294967295&o.total)){C.msg="incorrect length check",o.mode=30;break}a=c=0}o.mode=29;case 29:W=1;break t;case 30:W=-3;break t;case 31:return-4;default:return g}return C.next_out=it,C.avail_out=pt,C.next_in=B,C.avail_in=ot,o.hold=c,o.bits=a,(o.wsize||T!==C.avail_out&&o.mode<30&&(o.mode<27||4!==_))&&D(C,C.output,C.next_out,T-C.avail_out)?(o.mode=31,-4):(T-=C.avail_out,C.total_in+=k-=C.avail_in,C.total_out+=T,o.total+=T,o.wrap&&T&&(C.adler=o.check=o.flags?d(o.check,Q,T,C.next_out-T):h(o.check,Q,T,C.next_out-T)),C.data_type=o.bits+(o.last?64:0)+(12===o.mode?128:0)+(20===o.mode||15===o.mode?256:0),(0==k&&0===T||4===_)&&0===W&&(W=-5),W)},t.inflateEnd=function(C){if(!C||!C.state)return g;var _=C.state;return _.window&&(_.window=null),C.state=null,0},t.inflateGetHeader=function(C,_){var o;return C&&C.state?0==(2&(o=C.state).wrap)?g:((o.head=_).done=!1,0):g},t.inflateSetDictionary=function(C,_){var o,b=_.length;return C&&C.state?0!==(o=C.state).wrap&&11!==o.mode?g:11===o.mode&&h(1,_,b,0)!==o.check?-3:D(C,_,b,b)?(o.mode=31,-4):(o.havedict=1,0):g},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Z,A,t){"use strict";var e=Z("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function(S,M,E,g,P,l,O,v){var y,I,N,F,et,Y,H,q,U,D=v.bits,C=0,_=0,o=0,b=0,Q=0,B=0,it=0,ot=0,pt=0,c=0,a=null,k=0,T=new e.Buf16(16),m=new e.Buf16(16),G=null,rt=0;for(C=0;C<=15;C++)T[C]=0;for(_=0;_<g;_++)T[M[E+_]]++;for(Q=D,b=15;1<=b&&0===T[b];b--);if(b<Q&&(Q=b),0===b)return P[l++]=20971520,P[l++]=20971520,v.bits=1,0;for(o=1;o<b&&0===T[o];o++);for(Q<o&&(Q=o),C=ot=1;C<=15;C++)if(ot<<=1,(ot-=T[C])<0)return-1;if(0<ot&&(0===S||1!==b))return-1;for(m[1]=0,C=1;C<15;C++)m[C+1]=m[C]+T[C];for(_=0;_<g;_++)0!==M[E+_]&&(O[m[M[E+_]]++]=_);if(Y=0===S?(a=G=O,19):1===S?(a=h,k-=257,G=d,rt-=257,256):(a=f,G=s,-1),C=o,et=l,it=_=c=0,N=-1,F=(pt=1<<(B=Q))-1,1===S&&852<pt||2===S&&592<pt)return 1;for(;;){for(H=C-it,U=O[_]<Y?(q=0,O[_]):O[_]>Y?(q=G[rt+O[_]],a[k+O[_]]):(q=96,0),y=1<<C-it,o=I=1<<B;P[et+(c>>it)+(I-=y)]=H<<24|q<<16|U|0,0!==I;);for(y=1<<C-1;c&y;)y>>=1;if(0!==y?(c&=y-1,c+=y):c=0,_++,0==--T[C]){if(C===b)break;C=M[E+O[_]]}if(Q<C&&(c&F)!==N){for(0===it&&(it=Q),et+=o,ot=1<<(B=C-it);B+it<b&&!((ot-=T[B+it])<=0);)B++,ot<<=1;if(pt+=1<<B,1===S&&852<pt||2===S&&592<pt)return 1;P[N=c&F]=Q<<24|B<<16|et-l|0}}return 0!==c&&(P[et+c]=C-it<<24|64<<16|0),v.bits=Q,0}},{"../utils/common":41}],51:[function(Z,A,t){"use strict";A.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Z,A,t){"use strict";var e=Z("../utils/common");function f(p){for(var z=p.length;0<=--z;)p[z]=0}var M=256,E=286,g=30,O=15,Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(576);f(D);var C=new Array(60);f(C);var _=new Array(512);f(_);var o=new Array(256);f(o);var b=new Array(29);f(b);var Q,B,it,ot=new Array(g);function pt(p,z,K,X,R){this.static_tree=p,this.extra_bits=z,this.extra_base=K,this.elems=X,this.max_length=R,this.has_stree=p&&p.length}function c(p,z){this.dyn_tree=p,this.max_code=0,this.stat_desc=z}function a(p){return p<256?_[p]:_[256+(p>>>7)]}function k(p,z){p.pending_buf[p.pending++]=255&z,p.pending_buf[p.pending++]=z>>>8&255}function T(p,z,K){p.bi_valid>16-K?(p.bi_buf|=z<<p.bi_valid&65535,k(p,p.bi_buf),p.bi_buf=z>>16-p.bi_valid,p.bi_valid+=K-16):(p.bi_buf|=z<<p.bi_valid&65535,p.bi_valid+=K)}function m(p,z,K){T(p,K[2*z],K[2*z+1])}function G(p,z){for(var K=0;K|=1&p,p>>>=1,K<<=1,0<--z;);return K>>>1}function rt(p,z,K){var X,R,nt=new Array(16),ct=0;for(X=1;X<=O;X++)nt[X]=ct=ct+K[X-1]<<1;for(R=0;R<=z;R++){var st=p[2*R+1];0!==st&&(p[2*R]=G(nt[st]++,st))}}function $(p){var z;for(z=0;z<E;z++)p.dyn_ltree[2*z]=0;for(z=0;z<g;z++)p.dyn_dtree[2*z]=0;for(z=0;z<19;z++)p.bl_tree[2*z]=0;p.dyn_ltree[512]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function at(p){8<p.bi_valid?k(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function lt(p,z,K,X){var R=2*z,nt=2*K;return p[R]<p[nt]||p[R]===p[nt]&&X[z]<=X[K]}function ft(p,z,K){for(var X=p.heap[K],R=K<<1;R<=p.heap_len&&(R<p.heap_len&&lt(z,p.heap[R+1],p.heap[R],p.depth)&&R++,!lt(z,X,p.heap[R],p.depth));)p.heap[K]=p.heap[R],K=R,R<<=1;p.heap[K]=X}function xt(p,z,K){var X,R,nt,ct,st=0;if(0!==p.last_lit)for(;X=p.pending_buf[p.d_buf+2*st]<<8|p.pending_buf[p.d_buf+2*st+1],R=p.pending_buf[p.l_buf+st],st++,0===X?m(p,R,z):(m(p,(nt=o[R])+M+1,z),0!==(ct=Y[nt])&&T(p,R-=b[nt],ct),m(p,nt=a(--X),K),0!==(ct=H[nt])&&T(p,X-=ot[nt],ct)),st<p.last_lit;);m(p,256,z)}function _t(p,z){var K,X,R,nt=z.dyn_tree,ct=z.stat_desc.static_tree,st=z.stat_desc.has_stree,gt=z.stat_desc.elems,j=-1;for(p.heap_len=0,p.heap_max=573,K=0;K<gt;K++)0!==nt[2*K]?(p.heap[++p.heap_len]=j=K,p.depth[K]=0):nt[2*K+1]=0;for(;p.heap_len<2;)nt[2*(R=p.heap[++p.heap_len]=j<2?++j:0)]=1,p.depth[R]=0,p.opt_len--,st&&(p.static_len-=ct[2*R+1]);for(z.max_code=j,K=p.heap_len>>1;1<=K;K--)ft(p,nt,K);for(R=gt;K=p.heap[1],p.heap[1]=p.heap[p.heap_len--],ft(p,nt,1),X=p.heap[1],p.heap[--p.heap_max]=K,p.heap[--p.heap_max]=X,nt[2*R]=nt[2*K]+nt[2*X],p.depth[R]=(p.depth[K]>=p.depth[X]?p.depth[K]:p.depth[X])+1,nt[2*K+1]=nt[2*X+1]=R,p.heap[1]=R++,ft(p,nt,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(L,r){var i,u,w,J,tt,dt,bt=r.dyn_tree,Mt=r.max_code,wt=r.stat_desc.static_tree,Pt=r.stat_desc.has_stree,At=r.stat_desc.extra_bits,zt=r.stat_desc.extra_base,Et=r.stat_desc.max_length,Tt=0;for(J=0;J<=O;J++)L.bl_count[J]=0;for(bt[2*L.heap[L.heap_max]+1]=0,i=L.heap_max+1;i<573;i++)Et<(J=bt[2*bt[2*(u=L.heap[i])+1]+1]+1)&&(J=Et,Tt++),bt[2*u+1]=J,Mt<u||(L.bl_count[J]++,tt=0,zt<=u&&(tt=At[u-zt]),L.opt_len+=(dt=bt[2*u])*(J+tt),Pt&&(L.static_len+=dt*(wt[2*u+1]+tt)));if(0!==Tt){do{for(J=Et-1;0===L.bl_count[J];)J--;L.bl_count[J]--,L.bl_count[J+1]+=2,L.bl_count[Et]--,Tt-=2}while(0<Tt);for(J=Et;0!==J;J--)for(u=L.bl_count[J];0!==u;)Mt<(w=L.heap[--i])||(bt[2*w+1]!==J&&(L.opt_len+=(J-bt[2*w+1])*bt[2*w],bt[2*w+1]=J),u--)}}(p,z),rt(nt,j,p.bl_count)}function n(p,z,K){var X,R,nt=-1,ct=z[1],st=0,gt=7,j=4;for(0===ct&&(gt=138,j=3),z[2*(K+1)+1]=65535,X=0;X<=K;X++)R=ct,ct=z[2*(X+1)+1],++st<gt&&R===ct||(st<j?p.bl_tree[2*R]+=st:0!==R?(R!==nt&&p.bl_tree[2*R]++,p.bl_tree[32]++):st<=10?p.bl_tree[34]++:p.bl_tree[36]++,nt=R,j=(st=0)===ct?(gt=138,3):R===ct?(gt=6,3):(gt=7,4))}function W(p,z,K){var X,R,nt=-1,ct=z[1],st=0,gt=7,j=4;for(0===ct&&(gt=138,j=3),X=0;X<=K;X++)if(R=ct,ct=z[2*(X+1)+1],!(++st<gt&&R===ct)){if(st<j)for(;m(p,R,p.bl_tree),0!=--st;);else 0!==R?(R!==nt&&(m(p,R,p.bl_tree),st--),m(p,16,p.bl_tree),T(p,st-3,2)):st<=10?(m(p,17,p.bl_tree),T(p,st-3,3)):(m(p,18,p.bl_tree),T(p,st-11,7));nt=R,j=(st=0)===ct?(gt=138,3):R===ct?(gt=6,3):(gt=7,4)}}f(ot);var V=!1;function x(p,z,K,X){var R,nt,ct;T(p,0+(X?1:0),3),nt=z,ct=K,at(R=p),k(R,ct),k(R,~ct),e.arraySet(R.pending_buf,R.window,nt,ct,R.pending),R.pending+=ct}t._tr_init=function(p){V||(function(){var z,K,X,R,nt,ct=new Array(16);for(R=X=0;R<28;R++)for(b[R]=X,z=0;z<1<<Y[R];z++)o[X++]=R;for(o[X-1]=R,R=nt=0;R<16;R++)for(ot[R]=nt,z=0;z<1<<H[R];z++)_[nt++]=R;for(nt>>=7;R<g;R++)for(ot[R]=nt<<7,z=0;z<1<<H[R]-7;z++)_[256+nt++]=R;for(K=0;K<=O;K++)ct[K]=0;for(z=0;z<=143;)D[2*z+1]=8,z++,ct[8]++;for(;z<=255;)D[2*z+1]=9,z++,ct[9]++;for(;z<=279;)D[2*z+1]=7,z++,ct[7]++;for(;z<=287;)D[2*z+1]=8,z++,ct[8]++;for(rt(D,287,ct),z=0;z<g;z++)C[2*z+1]=5,C[2*z]=G(z,5);Q=new pt(D,Y,257,E,O),B=new pt(C,H,0,g,O),it=new pt(new Array(0),q,0,19,7)}(),V=!0),p.l_desc=new c(p.dyn_ltree,Q),p.d_desc=new c(p.dyn_dtree,B),p.bl_desc=new c(p.bl_tree,it),p.bi_buf=0,p.bi_valid=0,$(p)},t._tr_stored_block=x,t._tr_flush_block=function(p,z,K,X){var R,nt,ct=0;0<p.level?(2===p.strm.data_type&&(p.strm.data_type=function(st){var gt,j=4093624447;for(gt=0;gt<=31;gt++,j>>>=1)if(1&j&&0!==st.dyn_ltree[2*gt])return 0;if(0!==st.dyn_ltree[18]||0!==st.dyn_ltree[20]||0!==st.dyn_ltree[26])return 1;for(gt=32;gt<M;gt++)if(0!==st.dyn_ltree[2*gt])return 1;return 0}(p)),_t(p,p.l_desc),_t(p,p.d_desc),ct=function(st){var gt;for(n(st,st.dyn_ltree,st.l_desc.max_code),n(st,st.dyn_dtree,st.d_desc.max_code),_t(st,st.bl_desc),gt=18;3<=gt&&0===st.bl_tree[2*U[gt]+1];gt--);return st.opt_len+=3*(gt+1)+5+5+4,gt}(p),(nt=p.static_len+3+7>>>3)<=(R=p.opt_len+3+7>>>3)&&(R=nt)):R=nt=K+5,K+4<=R&&-1!==z?x(p,z,K,X):4===p.strategy||nt===R?(T(p,2+(X?1:0),3),xt(p,D,C)):(T(p,4+(X?1:0),3),function(st,gt,j,L){var r;for(T(st,gt-257,5),T(st,j-1,5),T(st,L-4,4),r=0;r<L;r++)T(st,st.bl_tree[2*U[r]+1],3);W(st,st.dyn_ltree,gt-1),W(st,st.dyn_dtree,j-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,ct+1),xt(p,p.dyn_ltree,p.dyn_dtree)),$(p),X&&at(p)},t._tr_tally=function(p,z,K){return p.pending_buf[p.d_buf+2*p.last_lit]=z>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&z,p.pending_buf[p.l_buf+p.last_lit]=255&K,p.last_lit++,0===z?p.dyn_ltree[2*K]++:(p.matches++,z--,p.dyn_ltree[2*(o[K]+M+1)]++,p.dyn_dtree[2*a(z)]++),p.last_lit===p.lit_bufsize-1},t._tr_align=function(p){var z;T(p,2,3),m(p,256,D),16===(z=p).bi_valid?(k(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}},{"../utils/common":41}],53:[function(Z,A,t){"use strict";A.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(Z,A,t){(function(e){!function(h,d){"use strict";if(!h.setImmediate){var f,s,S,M,E=1,g={},P=!1,l=h.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(h);O=O&&O.setTimeout?O:h,f="[object process]"==={}.toString.call(h.process)?function(N){process.nextTick(function(){y(N)})}:function(){if(h.postMessage&&!h.importScripts){var N=!0,F=h.onmessage;return h.onmessage=function(){N=!1},h.postMessage("","*"),h.onmessage=F,N}}()?(M="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",I,!1):h.attachEvent("onmessage",I),function(N){h.postMessage(M+N,"*")}):h.MessageChannel?((S=new MessageChannel).port1.onmessage=function(N){y(N.data)},function(N){S.port2.postMessage(N)}):l&&"onreadystatechange"in l.createElement("script")?(s=l.documentElement,function(N){var F=l.createElement("script");F.onreadystatechange=function(){y(N),F.onreadystatechange=null,s.removeChild(F),F=null},s.appendChild(F)}):function(N){setTimeout(y,0,N)},O.setImmediate=function(N){"function"!=typeof N&&(N=new Function(""+N));for(var F=new Array(arguments.length-1),et=0;et<F.length;et++)F[et]=arguments[et+1];return g[E]={callback:N,args:F},f(E),E++},O.clearImmediate=v}function v(N){delete g[N]}function y(N){if(P)setTimeout(y,0,N);else{var F=g[N];if(F){P=!0;try{!function(et){var Y=et.callback,H=et.args;switch(H.length){case 0:Y();break;case 1:Y(H[0]);break;case 2:Y(H[0],H[1]);break;case 3:Y(H[0],H[1],H[2]);break;default:Y.apply(undefined,H)}}(F)}finally{v(N),P=!1}}}}function I(N){N.source===h&&"string"==typeof N.data&&0===N.data.indexOf(M)&&y(+N.data.slice(M.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},90803:(It,Z,A)=>{"use strict";A.d(Z,{Y:()=>gt});var t=A(61855),e=A(42741),h=A(29026),d=A(72898),f=A(76052),s=A.n(f),S=A(46243),E=A(7611),g=A(84784),P=A(54414),l=A(50692),O=A(93220),v=A(16274),y=A(21929),I=A(95974),N=A(50319),F=A(93324);const et=["audioControl"];function Y(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){return e.CHM(r),e.oxw(2).close()}),e.qZA()}2&j&&e.Q6J("@background",void 0)}function H(j,L){1&j&&e._UZ(0,"comp-icon",22),2&j&&e.Q6J("icon","open_in_new")("color","#1E88E5")("size",18)}function q(j,L){1&j&&e._UZ(0,"div",23)}function U(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const u=e.CHM(r),w=u.index,J=u.$implicit;return e.oxw(3).selectLogTab(w,J)}),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.YNc(5,H,1,3,"comp-icon",20),e.qZA(),e.YNc(6,q,1,0,"div",21),e.qZA(),e.qZA()}if(2&j){const r=L.$implicit,i=e.oxw(3);e.ekj("btn-selected",i.curLogTab==r),e.xp6(4),e.Oqu(r),e.xp6(1),e.Q6J("ngIf","VERIFICATION LOG"===r),e.xp6(1),e.Q6J("ngIf",i.curLogTab==r)}}function D(j,L){if(1&j&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&j){const r=e.oxw(5);e.xp6(1),e.hij("(",r.item.code_description,")")}}function C(j,L){if(1&j&&(e.TgZ(0,"td",29),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.YNc(3,D,2,1,"span",33),e.qZA()),2&j){const r=e.oxw(4);e.xp6(1),e.ekj("disable-txt",!r.item.event_code),e.xp6(1),e.Oqu(r.item.event_code?r.item.event_code:"No Event Code"),e.xp6(1),e.Q6J("ngIf",r.item.event_code)}}function _(j,L){if(1&j&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.BQk()),2&j){const r=L.$implicit;e.xp6(2),e.AsE("",r.code," (",null!=r&&r.name?r.name:"No Event Code",")")}}function o(j,L){if(1&j&&(e.TgZ(0,"td",36),e.YNc(1,_,3,2,"ng-container",37),e.qZA()),2&j){const r=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",r.item.eventCodeList)}}function b(j,L){1&j&&(e.TgZ(0,"div"),e._UZ(1,"comp-icon",38),e.qZA()),2&j&&(e.xp6(1),e.Q6J("icon","open_in_new")("color","#1E88E5")("size",18))}function Q(j,L){if(1&j&&(e.TgZ(0,"tr"),e.TgZ(1,"td",41),e.TgZ(2,"div"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._uU(5),e._UZ(6,"br"),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&j){const r=L.$implicit,i=L.index,u=e.oxw(5);e.ekj("border-botttom",u.item.to.length!==i+1),e.xp6(3),e.Udp("color",r.labelColor),e.xp6(1),e.Oqu(r.description),e.xp6(1),e.hij(" (",r.eventTime,")"),e.xp6(3),e.Oqu(r.to)}}function B(j,L){if(1&j&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"To"),e.qZA(),e.TgZ(3,"td",39),e.TgZ(4,"table"),e.TgZ(5,"tbody"),e.YNc(6,Q,9,7,"tr",40),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&j){const r=e.oxw(4);e.xp6(6),e.Q6J("ngForOf",r.item.to)}}function it(j,L){if(1&j&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&j){const r=e.oxw(4);e.xp6(1),e.Oqu(r.item.warningMsg)}}function ot(j,L){1&j&&(e.TgZ(0,"div"),e.TgZ(1,"div",49),e.O4$(),e.TgZ(2,"svg",50),e._UZ(3,"circle",51),e.qZA(),e.qZA(),e.qZA())}function pt(j,L){1&j&&(e.TgZ(0,"div",52),e.O4$(),e.TgZ(1,"svg",53),e.TgZ(2,"defs"),e.TgZ(3,"clipPath",54),e._UZ(4,"rect",55),e.qZA(),e.qZA(),e.TgZ(5,"g",56),e._UZ(6,"circle",57),e._UZ(7,"circle",58),e._UZ(8,"circle",59),e.qZA(),e._UZ(9,"polygon",60),e.qZA(),e.qZA())}function c(j,L){1&j&&(e.TgZ(0,"div",52),e.TgZ(1,"i",61),e._uU(2,"volume_up"),e.qZA(),e.qZA())}function a(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){e.CHM(r);const u=e.oxw(6);return u.toggleAudioPlay(u.TTS)}),e.TgZ(1,"div",46),e.YNc(2,ot,4,0,"div",33),e.YNc(3,pt,10,0,"div",47),e.YNc(4,c,3,0,"div",47),e.qZA(),e.TgZ(5,"span",48),e._uU(6,"TTS"),e.qZA(),e.qZA()}if(2&j){const r=e.oxw(6);e.ekj("audio-playing",r.TTS.isAudioLoad)("disabled",!r.TTS.isAudioLoad&&r.isAudioPlay),e.xp6(2),e.Q6J("ngIf",r.TTS.isAudioLoading),e.xp6(1),e.Q6J("ngIf",r.TTS.isAudioPlay&&r.isAudioPlay&&!r.TTS.isAudioLoading),e.xp6(1),e.Q6J("ngIf",!r.TTS.isAudioLoad&&!r.TTS.isAudioLoading)}}function k(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",42),e.YNc(2,a,7,7,"div",43),e.TgZ(3,"div",44),e.NdJ("click",function(){return e.CHM(r),e.oxw(5).downloadAudioFile()}),e._UZ(4,"comp-icon",38),e.qZA(),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.qZA()}if(2&j){const r=e.oxw(5);e.xp6(2),e.Q6J("ngIf",!r.TTS.isFailed),e.xp6(2),e.Q6J("icon","file_download")("color","#55647B")("size",18),e.xp6(2),e.Oqu(r.TTS.ttsMsg)}}function T(j,L){1&j&&(e.TgZ(0,"div"),e.TgZ(1,"span",62),e._uU(2,"No Audio File"),e.qZA(),e.qZA())}function m(j,L){if(1&j&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"Audio File"),e.qZA(),e.TgZ(3,"td",29),e.YNc(4,k,7,5,"div",33),e.YNc(5,T,3,0,"div",33),e.qZA(),e.qZA()),2&j){const r=e.oxw(4);e.xp6(4),e.Q6J("ngIf",r.item.signedUrl),e.xp6(1),e.Q6J("ngIf",!r.item.signedUrl)}}function G(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"View Event"),e.qZA(),e.TgZ(3,"td",29),e.TgZ(4,"div"),e.TgZ(5,"span",63),e.NdJ("click",function(){return e.CHM(r),e.oxw(4).openEventViewer()}),e._uU(6,"Open Event Viewer"),e.TgZ(7,"i",64),e._uU(8,"arrow_forward"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&j){const r=e.oxw(4);e.xp6(5),e.ekj("disabled",!r.item.detail||!r.item.is_snapshot_upload&&!r.item.is_video_upload||r.item.isExpired)}}function rt(j,L){if(1&j&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&j){const r=e.oxw(6);e.xp6(1),e.Oqu(r.OE.detail)}}function $(j,L){1&j&&(e.TgZ(0,"span",69),e._uU(1,"No Data"),e.qZA())}function at(j,L){if(1&j&&(e.TgZ(0,"div"),e.TgZ(1,"div",65),e.TgZ(2,"div",66),e._uU(3,"Topic"),e.qZA(),e.TgZ(4,"div",67),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",65),e.TgZ(7,"div",66),e._uU(8,"Operation"),e.qZA(),e.TgZ(9,"div",67),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"div",65),e.TgZ(12,"div",66),e._uU(13,"Source"),e.qZA(),e.TgZ(14,"div",67),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",65),e.TgZ(17,"div",66),e._uU(18,"Data"),e.qZA(),e.TgZ(19,"div",67),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",65),e.TgZ(22,"div",66),e._uU(23,"Detail"),e.qZA(),e.TgZ(24,"div",67),e.YNc(25,rt,2,1,"span",33),e.YNc(26,$,2,0,"span",68),e.qZA(),e.qZA(),e.qZA()),2&j){const r=e.oxw(5);e.xp6(5),e.Oqu(r.OE.topic),e.xp6(5),e.Oqu(r.OE.operation),e.xp6(5),e.Oqu(r.OE.source),e.xp6(5),e.Oqu(r.OE.data),e.xp6(5),e.Q6J("ngIf",r.OE.detail),e.xp6(1),e.Q6J("ngIf",!r.OE.detail)}}function lt(j,L){1&j&&(e.TgZ(0,"div"),e.TgZ(1,"span",69),e._uU(2,"Not Supported. Please update bridge firmware version."),e.qZA(),e.qZA())}function ft(j,L){if(1&j&&(e.TgZ(0,"tr"),e.TgZ(1,"td",28),e._uU(2,"ONVIF Event"),e.qZA(),e.TgZ(3,"td",29),e.YNc(4,at,27,6,"div",33),e.YNc(5,lt,3,0,"div",33),e.qZA(),e.qZA()),2&j){const r=e.oxw(4);e.xp6(4),e.Q6J("ngIf",r.isV3),e.xp6(1),e.Q6J("ngIf",!r.isV3)}}function xt(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"audio",25,26),e.NdJ("ended",function(){return e.CHM(r),e.oxw(3).endSpeak()})("timeupdate",function(){return e.CHM(r),e.oxw(3).updateAudioTime()}),e.qZA(),e.TgZ(3,"table",27),e.TgZ(4,"tbody"),e.TgZ(5,"tr"),e.TgZ(6,"td",28),e._uU(7,"Event Time"),e.qZA(),e.TgZ(8,"td",29),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"tr"),e.TgZ(11,"td",28),e._uU(12,"Storage Time"),e.qZA(),e.TgZ(13,"td",29),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"tr"),e.TgZ(16,"td",28),e._uU(17,"Event ID"),e.qZA(),e.TgZ(18,"td",29),e.TgZ(19,"span"),e._uU(20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tr"),e.TgZ(22,"td",28),e._uU(23,"Category"),e.qZA(),e.TgZ(24,"td",29),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"tr"),e.TgZ(27,"td",28),e._uU(28,"Status"),e.qZA(),e.TgZ(29,"td",29),e._uU(30),e.qZA(),e.qZA(),e.TgZ(31,"tr"),e.TgZ(32,"td",28),e._uU(33,"Trigger"),e.qZA(),e.TgZ(34,"td",29),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"tr"),e.TgZ(37,"td",28),e._uU(38,"Event Code"),e.qZA(),e.YNc(39,C,4,4,"td",30),e.YNc(40,o,2,1,"td",31),e.qZA(),e.TgZ(41,"tr"),e.TgZ(42,"td",28),e._uU(43),e.qZA(),e.TgZ(44,"td",29),e.TgZ(45,"span"),e._uU(46),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td",28),e._uU(49,"Device ID"),e.qZA(),e.TgZ(50,"td",29),e.TgZ(51,"span"),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"tr"),e.TgZ(54,"td",28),e.TgZ(55,"div",32),e.NdJ("click",function(){return e.CHM(r),e.oxw(3).openXmlLogModal()}),e.TgZ(56,"span"),e._uU(57,"XML"),e.qZA(),e.YNc(58,b,2,3,"div",33),e.qZA(),e.qZA(),e.TgZ(59,"td",29),e.TgZ(60,"div",34),e.TgZ(61,"span"),e._uU(62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"tr"),e.TgZ(64,"td",28),e._uU(65,"User"),e.qZA(),e.TgZ(66,"td",29),e.TgZ(67,"span"),e._uU(68),e.qZA(),e.qZA(),e.qZA(),e.YNc(69,B,7,1,"tr",33),e.TgZ(70,"tr"),e.TgZ(71,"td",28),e._uU(72,"Description"),e.qZA(),e.TgZ(73,"td",29),e.TgZ(74,"div",35),e._uU(75),e.qZA(),e.YNc(76,it,2,1,"div",33),e.qZA(),e.qZA(),e.YNc(77,m,6,2,"tr",33),e.YNc(78,G,9,2,"tr",33),e.YNc(79,ft,6,2,"tr",33),e.qZA(),e.qZA(),e.qZA()}if(2&j){const r=e.oxw(3);e.xp6(9),e.AsE("",r.item.eventCreated," (",(null==r.modal.data?null:r.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.AsE("",r.item.localCreated," (",(null==r.modal.data?null:r.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.ekj("disable-txt",!r.item.event_id),e.xp6(1),e.Oqu(r.item.event_id?r.item.event_id:"No Event ID"),e.xp6(5),e.Oqu(r.item.category),e.xp6(5),e.Oqu(r.item.action),e.xp6(5),e.Oqu(r.item.trigger),e.xp6(4),e.Q6J("ngIf",!(null!=r.item.eventCodeList&&r.item.eventCodeList.length)),e.xp6(1),e.Q6J("ngIf",r.item.eventCodeList),e.xp6(3),e.Oqu(r.item.event_id||r.item.device_id?"Device":"Site"),e.xp6(2),e.ekj("disable-txt",!r.item.name),e.xp6(1),e.Oqu(r.item.name?r.item.name:"No Name"),e.xp6(5),e.ekj("disable-txt",!r.item.device_id),e.xp6(1),e.Oqu(r.item.device_id?r.item.device_id:"No Device ID"),e.xp6(3),e.ekj("xml-link",r.item.is_send_xml_signal),e.xp6(3),e.Q6J("ngIf",r.item.is_send_xml_signal),e.xp6(3),e.ekj("enable-xml",r.item.is_send_xml_signal),e.xp6(1),e.Oqu(r.item.is_send_xml_signal?"Yes":"No"),e.xp6(5),e.ekj("disable-txt",!r.item.email),e.xp6(1),e.Oqu(r.item.email?r.item.email:"Unknown"),e.xp6(1),e.Q6J("ngIf",r.item.to),e.xp6(6),e.Oqu(r.item.eventDescription),e.xp6(1),e.Q6J("ngIf",r.item.warningMsg),e.xp6(1),e.Q6J("ngIf",r.item.isAudioLog),e.xp6(1),e.Q6J("ngIf",!r.item.signedUrl),e.xp6(1),e.Q6J("ngIf","OE trigger"===r.item.trigger)}}function _t(j,L){1&j&&e._UZ(0,"div",79)}function n(j,L){if(1&j&&(e.TgZ(0,"div"),e.TgZ(1,"div",71),e.TgZ(2,"div",72),e._UZ(3,"div",73),e.qZA(),e.TgZ(4,"div",74),e._uU(5),e.qZA(),e.TgZ(6,"div",75),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",71),e.TgZ(9,"div",72),e.YNc(10,_t,1,0,"div",76),e.qZA(),e._UZ(11,"div",77),e.TgZ(12,"div"),e.TgZ(13,"span",78),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&j){const r=L.$implicit,i=L.index,u=e.oxw(4);e.xp6(3),e.ekj("target-log",r.id===u.item.id),e.xp6(2),e.Oqu(r.siteEventTime),e.xp6(2),e.AsE("",r.description," - ",r.action,""),e.xp6(3),e.Q6J("ngIf",u.eventLogs.length!==i+1),e.xp6(4),e.Oqu(r.subInfo)}}function W(j,L){if(1&j&&(e.TgZ(0,"div",24),e.TgZ(1,"div",70),e.YNc(2,n,15,7,"div",37),e.qZA(),e.qZA()),2&j){const r=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",r.eventLogs)}}function V(j,L){if(1&j&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&j){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(r.email)}}function x(j,L){if(1&j&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&j){const r=e.oxw().$implicit;e.xp6(1),e.AsE("",r.IPName," (",r.ip,")")}}function p(j,L){1&j&&e._UZ(0,"div",79)}function z(j,L){if(1&j&&(e.TgZ(0,"div"),e.TgZ(1,"div",71),e.TgZ(2,"div",72),e._UZ(3,"div",73),e.qZA(),e.TgZ(4,"div",74),e._uU(5),e.qZA(),e.YNc(6,V,2,1,"div",80),e.YNc(7,x,2,2,"div",80),e.qZA(),e.TgZ(8,"div",71),e.TgZ(9,"div",72),e.YNc(10,p,1,0,"div",76),e.qZA(),e._UZ(11,"div",77),e.qZA(),e.qZA()),2&j){const r=L.$implicit,i=L.index,u=e.oxw(4);e.xp6(3),e.ekj("target-log",0===i),e.xp6(2),e.Oqu(r.eventTime),e.xp6(1),e.Q6J("ngIf",!r.IPName),e.xp6(1),e.Q6J("ngIf",r.IPName),e.xp6(3),e.Q6J("ngIf",u.viewedHistory.length!==i+1)}}function K(j,L){if(1&j&&(e.TgZ(0,"div",24),e.TgZ(1,"div",70),e.YNc(2,z,12,6,"div",37),e.qZA(),e.qZA()),2&j){const r=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",r.viewedHistory)}}function X(j,L){if(1&j){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",81),e._uU(2,"LE Request Body"),e.qZA(),e.TgZ(3,"div",82),e.TgZ(4,"ngx-codemirror",83,84),e.NdJ("ngModelChange",function(u){return e.CHM(r),e.oxw(4).item.rawEventInfo=u}),e.qZA(),e.qZA(),e.BQk()}if(2&j){const r=e.oxw(4);e.xp6(4),e.Q6J("options",r.codeMirrorOptions)("ngModel",r.item.rawEventInfo)}}function R(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div",81),e._uU(2,"METADATA"),e.qZA(),e.TgZ(3,"div",82),e.TgZ(4,"ngx-codemirror",83,84),e.NdJ("ngModelChange",function(u){return e.CHM(r),e.oxw(3).item.metaData=u}),e.qZA(),e.qZA(),e.YNc(6,X,6,2,"ng-container",33),e.qZA()}if(2&j){const r=e.oxw(3);e.xp6(4),e.Q6J("options",r.codeMirrorOptions)("ngModel",r.item.metaData),e.xp6(2),e.Q6J("ngIf",null==r.item?null:r.item.rawEventInfo)}}function nt(j,L){1&j&&(e.TgZ(0,"div",85),e.O4$(),e.TgZ(1,"svg",50),e._UZ(2,"circle",51),e.qZA(),e.qZA())}function ct(j,L){if(1&j){const r=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e._uU(3,"Activity Log Details"),e.qZA(),e.TgZ(4,"div",9),e.TgZ(5,"div",10),e.TgZ(6,"i",11),e.NdJ("click",function(){return e.CHM(r),e.oxw(2).close()}),e._uU(7,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",12),e.TgZ(9,"div",13),e.YNc(10,U,7,5,"div",14),e.qZA(),e.YNc(11,xt,80,34,"div",15),e.YNc(12,W,3,1,"div",15),e.YNc(13,K,3,1,"div",15),e.YNc(14,R,7,3,"div",15),e.qZA(),e.YNc(15,nt,3,0,"div",16),e.qZA()}if(2&j){const r=e.oxw(2);e.Q6J("@dialog",void 0),e.xp6(10),e.Q6J("ngForOf",r.logTabs),e.xp6(1),e.Q6J("ngIf",r.curLogTab===r.logTabs[0]),e.xp6(1),e.Q6J("ngIf","HISTORY OF EVENT"===r.curLogTab),e.xp6(1),e.Q6J("ngIf","VIEWED HISTORY"===r.curLogTab),e.xp6(1),e.Q6J("ngIf","METADATA"===r.curLogTab),e.xp6(1),e.Q6J("ngIf",r.isLoading)}}function st(j,L){if(1&j&&(e.TgZ(0,"div",2),e.YNc(1,Y,1,1,"div",3),e.YNc(2,ct,16,7,"div",4),e.qZA()),2&j){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.modal.is_active),e.xp6(1),e.Q6J("ngIf",r.modal.is_active)}}let gt=(()=>{class j{constructor(r,i,u,w,J){this.usersService=r,this.logsService=i,this.sitesService=u,this.eventViewerService=w,this.sanitizer=J,this.onClose=new e.vpe,this.onOpenModal=new e.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new d.u,this.item={},this.logs=[],this.eventLogs=[],this.viewedHistory=[],this.site={},this.logTabs=["INFORMATION","HISTORY OF EVENT"],this.curLogTab=this.logTabs[0],this.TTS={},this.audioElement=new Audio,this.curCtrlTTS=null,this.isAudioPlay=!1,this.fileDuration="0:00",this.curDuration="0:00",this.OE={},this.isExistOEMeta=!1,this.isV3=!1,this.codeMirrorOptions={theme:"default",mode:"application/ld+json",indentWithTabs:!0,statementIndent:4,smartIndent:!0,lineNumbers:!0,lineWrapping:!1,extraKeys:{"Ctrl-Space":"autocomplete"},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],autoCloseBrackets:!0,matchBrackets:!0,readOnly:"nocursor"}}ngOnInit(){this.usersService.getMe().subscribe(r=>{this.me=r})}ngOnChanges(r){r.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.initLogData())}initLogData(){this.item=S.cloneDeep(this.modal.data.log),this.logTabs=["INFORMATION","HISTORY OF EVENT"],this.curLogTab=this.logTabs[0],this.logs=this.modal.data.logs,this.site=this.modal.data.site,this.eventLogs=[],this.viewedHistory=[],this.TTS={},this.audioElement=new Audio,this.OE={},this.isExistOEMeta=!1,this.isV3=!1,this.item.id&&this.getActivityLogDetail()}getActivityLogDetail(){const r=this.me.dealer_id,i=this.item.id;this.isLoading=!0,this.logsService.getActivityLogDetail(r,i).subscribe(u=>(0,t.mG)(this,void 0,void 0,function*(){var w,J;if(this.item.detail=u,this.item.event_type=u.event.type,this.item.isExpired=!u.event.has_video&&!u.event.has_snapshots,this.item.event_code&&(null===(J=null===(w=u.receiver)||void 0===w?void 0:w.code_description)||void 0===J||J.forEach(tt=>{(this.item.event_code===tt.event_code||this.item.event_code===tt.restore_code)&&(this.item.code_description=tt.name)}),!this.item.code_description)){const dt=this.eventViewerService.getXmlEventCodeList().find(bt=>bt.event_code==this.item.event_code.code);this.item.code_description=dt.name}this.item.eventCodeList&&this.item.eventCodeList.forEach(tt=>{const bt=this.eventViewerService.getXmlEventCodeList().find(Mt=>Mt.event_code==tt.code);bt&&(tt.name=bt.name)}),this.setEventDescription(),this.checkIsHasViewedHistory(),this.checkIsHasVerificationLog(),yield this.getXmlCode(),this.parseLogInfo(this.item),this.isLoading=!1}),u=>{this.isLoading=!1})}setEventDescription(){var r,i,u;let w,J,tt;try{w=null===(r=JSON.parse(this.item.meta))||void 0===r?void 0:r.req,J=null===(i=JSON.parse(this.item.meta))||void 0===i?void 0:i.res,tt=null===(u=JSON.parse(this.item.meta))||void 0===u?void 0:u.info}catch(Pt){w={body:null},J={},tt={dealer_name:null,site_name:null}}this.isV3=this.checkIfV3(w);const{actionType:dt}=this.getActionTypeAndRes(w);let Mt=this.getActionText(this.item.method),wt=`${this.item.description} is ${Mt} '${dt}' by '${this.item.trigger}'.`;wt=this.handleSpecialCases(w,J,wt),wt=this.setLogDescriptionByCategory(w,tt,wt),this.parseRelatedEventLogs(),this.handleEventStatus(J),this.item.eventDescription=wt}checkIfV3(r){var i;return!!(null===(i=r.body)||void 0===i?void 0:i.event_source)}getActionTypeAndRes(r){let i=this.item.action,u="";return Object.keys(r.body||{}).forEach(w=>{i||(i=w.replace(/_/g," "),u=r.body[w].toString(),"name"===w?(i="name",u=r.body.name):("address1"===w||"address2"===w)&&(i="address",u=`${r.body.address1} ${r.body.address2}`))}),{actionType:i,res:u}}getActionText(r){switch(r){case"POST":return"created";case"PUT":return"changed to";case"DELETED":return"deleted";default:return""}}handleSpecialCases(r,i,u){return"upload"===this.item.action?("Bridge"===this.item.trigger&&i&&(this.item.is_snapshot_upload=null==i?void 0:i.is_snapshot_upload,this.item.is_video_upload=null==i?void 0:i.is_video_upload),u):(0===Object.keys(r.body||{}).length&&(u+=` Parameters: ${JSON.stringify(null==r?void 0:r.params)}`),u)}setLogDescriptionByCategory(r,i,u){var w,J,tt,dt,bt,Mt,wt,Pt,At,zt,Et,Tt,qt,Ft,Nt;if("videoai"===this.item.trigger.toLowerCase()){let Dt=s()(null===(w=r.body)||void 0===w?void 0:w.requested_at).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),mt=s()(null===(J=r.body)||void 0===J?void 0:J.responded_at).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a");if(u+=`\n- Provider: '${null!==(dt=null===(tt=r.body)||void 0===tt?void 0:tt.brand)&&void 0!==dt?dt:"No Provider"}'`,u+=`\n- Reference Id: ${(null===(bt=r.body)||void 0===bt?void 0:bt.reference_id)||"No Reference Id"}\n`,"success"===(null===(Mt=r.body)||void 0===Mt?void 0:Mt.result)){u+=`\n- Time Sent & Returned: \n    sent on ${Dt}, \n    returned result on ${mt}`;const vt=(null===(wt=r.body)||void 0===wt?void 0:wt.path_filters)?JSON.parse(null===(Pt=r.body)||void 0===Pt?void 0:Pt.path_filters).join(", "):"No Filter";u+=`\n- Results of the Provider: '${this.parseCloudAIResult(null===(At=r.body)||void 0===At?void 0:At.summary_entity_ids)}'`,u+=`\n- Rules for Object Classification: '${vt}'\n`}else"skipped"===(null===(zt=r.body)||void 0===zt?void 0:zt.result)?u+="\n- Results of the Provider: 'Skipped'":"failure"===(null===(Et=r.body)||void 0===Et?void 0:Et.result)?(u+=`\n- Time Sent & Returned: \n    sent on ${Dt}, \n    returned result on ${mt}`,u+=`\n- Error: ${(null===(Tt=r.body)||void 0===Tt?void 0:Tt.error_text)||"No Error Message"}\n`):u+=`\n- Error: ${(null===(qt=r.body)||void 0===qt?void 0:qt.error_text)||"No Error Message"}\n`}if("procedure"===this.item.trigger.toLowerCase()){const Dt=(null===(Ft=Object.keys(i))||void 0===Ft?void 0:Ft.includes("device_name"))?null==i?void 0:i.device_name:null==i?void 0:i.site_name;return u=`\nSite Procedure Action ${this.item.action}`,(u+=`\n- Direction name: '${null!=Dt?Dt:"No Name"}'`)+`\n- Procedure name: '${null!==(Nt=null==i?void 0:i.procedure_name)&&void 0!==Nt?Nt:"No Procedure"}'`}return"Audio"!==this.item.category&&(u+="\r\nSnapshot file upload: "+(this.item.is_snapshot_upload?"Yes":"No"),u+="\r\nVideo file upload: "+(this.item.is_video_upload?"Yes":"No")),u}parseCloudAIResult(r){if(!r)return"";let i="";const u=JSON.parse(r),w=Object.values(u);let J="",tt="";const dt=w.every(Mt=>Mt.includes("person")),bt=w.every(Mt=>Mt.includes("vehicle"));return u.static.length&&(u.static.includes("person")&&(J="Stationary Person"),u.static.includes("vehicle")&&(tt="Stationary Vehicle")),u.motion.length&&(u.motion.includes("person")&&(J="Moving Person"),u.motion.includes("vehicle")&&(tt="Moving Vehicle")),dt&&(J="Person"),bt&&(tt="Vehicle"),J&&tt?i=`${J} and ${tt}`:J||tt?i=`${J||tt}`:!J&&!tt&&(i="Nothing Detected"),i}parseRelatedEventLogs(){let r=this.item.detail.related_logs[0]?this.item.detail.related_logs:[];r.forEach(i=>{var u,w;let J,tt;try{J=JSON.parse(null==i?void 0:i.meta),tt=J.req.body}catch(dt){J={res:{},req:{body:{}}},tt={to:null}}i.siteEventTime=s()(i.created).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),J.res&&((null===(u=J.res)||void 0===u?void 0:u.is_snapshot_upload)&&(this.item.is_snapshot_upload=!0),(null===(w=J.res)||void 0===w?void 0:w.is_video_upload)&&(this.item.is_video_upload=!0)),tt&&(null==tt?void 0:tt.to)&&(this.item.to||(this.item.to=[]),i.subInfo=tt.to,this.item.to.push({to:tt.to,description:i.description,eventTime:i.siteEventTime,labelColor:"#2f96fb"}))}),this.eventLogs=r}handleEventStatus(r){this.item.status>300&&r.message&&(this.item.warningMsg=r.message)}checkIsHasViewedHistory(){var r,i,u;const w=null===(r=this.item.detail)||void 0===r?void 0:r.related_logs;if(null===(u=null===(i=this.item.detail)||void 0===i?void 0:i.related_logs)||void 0===u?void 0:u.length)return!(!w||!Array.isArray(w))&&(w.find(tt=>!!tt.email)&&this.logTabs.push("VIEWED HISTORY"),void this.parseViewedHistory())}parseViewedHistory(){this.item.detail.related_logs.filter(i=>i.email).forEach(i=>(0,t.mG)(this,void 0,void 0,function*(){const u=yield this.getIPUserName(i),w={eventTime:s()(i.created).utc().tz(this.site.timezone).format("MM/DD/YY hh:mm:ss a"),email:i.email,ip:i.ip,IPName:u};this.viewedHistory.push(w)}))}getIPUserName(r){var i,u;return(0,t.mG)(this,void 0,void 0,function*(){try{if(!r.email||!r.user_id||r.email!=r.ip)return"";const w=this.me.dealer_id,J=r.user_id;return null!==(u=null===(i=(yield this.usersService.getIpMember(w,J).toPromise())[0])||void 0===i?void 0:i.name)&&void 0!==u?u:"No Name"}catch(w){console.debug("getIPUserName:>",w)}})}checkIsHasVerificationLog(){var r;(null===(r=this.item)||void 0===r?void 0:r.isHasVerification)&&this.logTabs.push("VERIFICATION LOG")}getXmlCode(){var r,i,u,w,J,tt;return(0,t.mG)(this,void 0,void 0,function*(){if(!(null===(r=this.item)||void 0===r?void 0:r.eventCodeList)||!(null===(u=null===(i=this.item)||void 0===i?void 0:i.eventCodeList)||void 0===u?void 0:u.length))return;const dt=this.eventViewerService.getXmlEventCodeList();if(!Array.isArray(dt))return;const bt=dt.filter(Tt=>"di"!=Tt.event_type);if(!Array.isArray(bt))return;let Mt=null,wt=null;for(let Tt=0;Tt<(null===(w=this.item)||void 0===w?void 0:w.eventCodeList.length);Tt++){const qt=this.item.eventCodeList[Tt].code;if(Mt=null==bt?void 0:bt.find(Ft=>Ft.event_code==qt),Mt)break}if(!Mt||!Array.isArray(null===(J=this.item.detail)||void 0===J?void 0:J.related_logs))return;wt=this.item.detail.related_logs.find(Tt=>Tt.event_code==Mt.event_code);const Pt=this.me.dealer_id,At=wt.id,zt=yield this.logsService.getActivityLogDetail(Pt,At).toPromise();if(this.item.receiver=zt.receiver,!this.item.receiver||!(null===(tt=Object.keys(this.item.receiver))||void 0===tt?void 0:tt.length))return;const Et=this.item.receiver.logs.find(Tt=>Tt.event_code===Mt.event_code);!Et||!(null==Et?void 0:Et.id)||(this.item.receiver_log_id=Et.id)})}parseLogInfo(r){var i,u;let w=null;try{w=JSON.parse(r.meta)}catch(J){w=null}if(w){const J=null===(u=null===(i=w.req)||void 0===i?void 0:i.body)||void 0===u?void 0:u.optional_info,tt=null==J?void 0:J.metadata;if(r.email||(r.email=null==J?void 0:J.requested_user_email),tt)if("Audio"===r.category)this.item.isAudioLog=!0,this.logsService.getSiteTtsUrl(this.me.dealer_id,this.site.site_id,r.id).subscribe(wt=>{r.signedUrl=wt.pre_signed_url,this.TTS.signedUrl=wt.pre_signed_url,this.getTTSFile(this.TTS)});else if("Sensor"===r.category&&"OE trigger"===r.trigger){tt.event_topic_raw&&(this.isExistOEMeta=!0);let dt={};dt.topic=tt.event_topic_raw,dt.data=tt.event_data_items,dt.source=tt.event_source_items,dt.token=tt.source_token,dt.operation="Change",dt.detail="",this.OE=dt}else{this.checkIsHasLocalEventBodyLog(tt,r),delete tt.request_body_dump;for(const dt in tt)if("string"==typeof tt[dt])try{tt[dt]=JSON.parse(tt[dt])}catch(bt){tt[dt]=tt[dt]}r.metaData=JSON.stringify(tt,null,"   "),this.logTabs.push("METADATA")}}}checkIsHasLocalEventBodyLog(r,i){if(!(r instanceof Object&&Object.keys(r).find(J=>"request_body_dump"===J)))return;let w=null;try{w=JSON.parse(r.request_body_dump),w=JSON.stringify(w,null,"   ")}catch(J){w=null}i.rawEventInfo=w}toggleAudioPlay(r){this.curCtrlTTS=r,r.isAudioLoad?this.stopAudio(r):this.playAudio(r)}setAudioPlayer(r){if(!this.audioControl)return;const i=this.audioControl.nativeElement;var u=URL.createObjectURL(r);i.src=u,i.play()}parseAudioUrl(r){var i;const J=r.audioFile,tt=new FileReader;this.audioElement=null===(i=this.audioControl)||void 0===i?void 0:i.nativeElement;const dt=new Audio;tt.onload=bt=>{var Mt;dt.src=bt.target.result,dt.addEventListener("loadeddata",()=>{const Pt=dt.duration,zt=Pt%60;let Et=parseInt((Pt/60).toString()).toString(),Tt=zt.toString();zt<10&&(Tt="0"+Tt),r.fileDuration=`${Et}:${Tt}`,r.status="selected",this.setAudioPlayer(J)},!1),null===(Mt=this.audioElement)||void 0===Mt||Mt.addEventListener("error",()=>{console.debug("err")})},tt.readAsDataURL(J)}playAudio(r){this.initAudioPlay(r),r.signedUrl=this.item.signedUrl,r.isAudioLoad=!0,r.isAudioPlay=!0,this.audioElement.play(),this.isAudioPlay=!0}getTTSFile(r){const i=r.signedUrl;r.isLoadedFile?this.parseAudioUrl(r):this.sitesService.getTTSFileV2(i).subscribe(u=>{console.log(u);const w=u.headers.get("x-amz-meta-tts-text");r.ttsMsg=w;let J=window.URL;r.audioFileBlob=this.sanitizer.bypassSecurityTrustUrl(J.createObjectURL(u.body)),r.audioFile=u.body,this.parseAudioUrl(r),r.isLoadedFile=!0})}stopAudio(r){this.audioControl&&this.audioControl.nativeElement.pause(),r.isAudioLoad=!1,r.isAudioLoading=!1,r.isAudioPlay=!1,r.isFailed=!1,this.isAudioPlay=!1}setAudioFail(r){r.isFailed=!0}initAudioPlay(r){r.isAudioLoad=!1,r.isAudioLoading=!1,r.isAudioPlay=!1,r.isFailed=!1,this.isAudioPlay=!1}updateAudioTime(){if(this.audioControl){const u=parseInt(this.audioControl.nativeElement.currentTime),J=u%60;let tt=parseInt((u/60).toString()).toString(),dt=J.toString();J<10&&(dt="0"+dt),this.curDuration=`${tt}:${dt}`}}endSpeak(){const r=this.curCtrlTTS;r&&this.stopAudio(r)}downloadAudioFile(){let r=this.TTS;const i=r.signedUrl;r.isLoadedFile?this.doDownloadAudioFile():this.sitesService.getTTSFile(i).subscribe(u=>{r.audioFile=u,this.doDownloadAudioFile(),r.isLoadedFile=!0})}doDownloadAudioFile(){let u=window.URL.createObjectURL(this.TTS.audioFile),w=document.createElement("a");w.href=u,w.target="_blank",w.download=`${this.item.id}_ttsfile.mp3`,document.body.appendChild(w),w.click(),document.body.removeChild(w)}selectLogTab(r,i){"VERIFICATION LOG"!==i?this.curLogTab=this.logTabs[r]:this.openVerificationLogModal()}openUrl(r){window.open(r)}openXmlLogModal(){this.item.is_send_xml_signal&&this.onOpenModal.emit({modal:"xml-log",data:{receiver_log_id:this.item.receiver_log_id}})}openVerificationLogModal(){return(0,t.mG)(this,void 0,void 0,function*(){const r=this.setFirstVerificationLog();this.onOpenModal.emit({modal:"verification-log",data:r})})}openEventViewer(){this.onOpenModal.emit({modal:"event-viewer",data:this.item})}setFirstVerificationLog(){if(!Array.isArray(this.item.detail.related_logs)||0===this.item.detail.related_logs.length)return;let r=this.item.detail.related_logs.find(i=>"verification"===i.category.toLowerCase());return r?(r.event_time||(r.event_time=r.created),r.localCreated=s()(r.created).utc().tz(this.sitesService.selSite.timezone).format("MM/DD/YY hh:mm:ss a"),r.eventCreated=s()(r.event_time).utc().tz(this.sitesService.selSite.timezone).format("MM/DD/YY hh:mm:ss a"),r):void 0}confirmDialog(r="",i="",u="done",w="#1abc9c"){this.m_warning.data={header:r,contents:`\n        <p>${i}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:u,isConfirm:!0,color:w},this.m_warning.data.submit_func=()=>{"green"===w&&this.close()},this.m_warning.open()}errorDialog(r,i){let u="failed.";r.error&&r.error.message&&(u=r.error.message),r._body&&(u=JSON.parse(r._body).message),setTimeout(()=>{this.confirmDialog(i,u,"warning","orange")},200),this.isLoading=!1}close(r){this.onClose.next(r||{res:!1}),this.modal.close(),setTimeout(i=>{this.enable_modal=!1},200)}}return j.\u0275fac=function(r){return new(r||j)(e.Y36(E.f),e.Y36(g.P),e.Y36(P.f),e.Y36(l.w),e.Y36(O.H7))},j.\u0275cmp=e.Xpm({type:j,selectors:[["app-activity-log-modal"]],viewQuery:function(r,i){if(1&r&&e.Gf(et,5),2&r){let u;e.iGM(u=e.CRH())&&(i.audioControl=u.first)}},inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[e.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"log-tab"],["class","btn",3,"btn-selected","click",4,"ngFor","ngForOf"],["class","item",4,"ngIf"],["class","loader absolute",4,"ngIf"],[1,"btn",3,"click"],[1,"tab-title"],[1,"v-center"],["style","margin-left: 4px",3,"icon","color","size",4,"ngIf"],["class","tab-selected-bar",4,"ngIf"],[2,"margin-left","4px",3,"icon","color","size"],[1,"tab-selected-bar"],[1,"item"],[2,"display","none",3,"ended","timeupdate"],["audioControl",""],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],["class","log-data",4,"ngIf"],["class","log-data flex","style","flex-direction: column; gap: 4px",4,"ngIf"],[3,"click"],[4,"ngIf"],[2,"display","flex","justify-content","space-between"],[2,"white-space","pre-wrap","word-break","break-word"],[1,"log-data","flex",2,"flex-direction","column","gap","4px"],[4,"ngFor","ngForOf"],[3,"icon","color","size"],[1,"log-data",2,"padding","0"],[3,"border-botttom",4,"ngFor","ngForOf"],[2,"border-bottom","none"],[1,"flex"],["class","tts-type",3,"audio-playing","disabled","click",4,"ngIf"],[1,"download-icon",3,"click"],[1,"tts-type",3,"click"],[2,"height","16px","width","16px"],["style","display:flex",4,"ngIf"],[2,"margin","0 5px","font-size","13px"],[1,"btn-loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[2,"display","flex"],["width","16","height","16","viewBox","0 0 24 24"],["id","volume-clip"],["x","15","y","0","height","24","width","9"],["clip-path","url(#volume-clip)",1,"audio-waves"],["cx","12.5","cy","12","r","3.25","fill","none","stroke","white","stroke-width","1.5"],["cx","12.5","cy","12","r","6.5","fill","none","stroke","white","stroke-width","1.5"],["cx","12.5","cy","12","r","9.75","fill","none","stroke","white","stroke-width","1.5"],["points","3,9 7,9, 12,4 12,20 7,15 3,15","fill","white"],[1,"material-icons"],[2,"color","hsla(0, 0%, 0%, 0.38)"],[1,"link-txt",2,"display","flex","flex-direction","row","align-items","center",3,"click"],[1,"material-icons","md-16"],[1,"flex","inner-row"],[1,"f-2","title"],[1,"f-8"],["class","disabled",4,"ngIf"],[1,"disabled"],[2,"padding-top","7px"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventtxt"],["class","log-line",4,"ngIf"],[1,"log-sub-margin"],[1,"log-sub-info"],[1,"log-line"],["class","log-eventtxt",4,"ngIf"],[2,"color","#55647B","padding","4px 12px"],[1,"codemirror-wrapper"],[1,"ngx-codemirror",3,"options","ngModel","ngModelChange"],["codemirror",""],[1,"loader","absolute"]],template:function(r,i){1&r&&(e.YNc(0,st,3,2,"div",0),e._UZ(1,"dealer-warning",1)),2&r&&(e.Q6J("ngIf",i.enable_modal),e.xp6(1),e.Q6J("modal",i.m_warning))},directives:[v.O5,y.a,v.sg,I.U,N.C,F.JJ,F.On],styles:['.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}','*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%]{min-height:490px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{background-color:#f7fafc;padding:0 20px 20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{min-height:430px;box-sizing:border-box}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .xml-link[_ngcontent-%COMP%]{display:flex;color:#1e88e5;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .enable-xml[_ngcontent-%COMP%]{padding:2px 5px;color:#1e88e5;background-color:#1f89e51a;border-radius:3px}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{font-size:14px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px;border:0}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:660px!important}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.md-16[_ngcontent-%COMP%]{font-size:16px}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventtxt[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-row[_ngcontent-%COMP%]   .log-sub-margin[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-sub-info[_ngcontent-%COMP%]{font-size:14px;color:#0009}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;min-height:14px}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.modal-ui[_ngcontent-%COMP%]{max-height:590px}.tts-type[_ngcontent-%COMP%]{width:40px;background-color:#e3e8ee;border-radius:11px;align-items:center;justify-content:center;display:flex;padding:3px 10px;margin-right:4px;cursor:pointer}.tts-type[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.tts-type.failed[_ngcontent-%COMP%]{background-color:#cd3d6426;color:#cd3d64}@keyframes pulse{0%{opacity:.25}20%{opacity:.8}40%{opacity:.25}60%{opacity:.8}80%{opacity:.25}to{opacity:.25}}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{animation-duration:1.7s;animation-iteration-count:infinite;animation-name:pulse;opacity:.25}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(2){animation-delay:.125s}.audio-waves[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(3){animation-delay:.25s}.audio-playing[_ngcontent-%COMP%]{background-color:#1e88e5;color:#fff}.btn-loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:16px}.btn-loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 10px);left:calc(50% - 10px)}.btn-loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.btn-loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.btn-loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#fff;stroke-linecap:round}.download-icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:5px;cursor:pointer}.inner-row[_ngcontent-%COMP%]{margin-bottom:4px}.inner-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.title[_ngcontent-%COMP%]{font-weight:500}.log-tab[_ngcontent-%COMP%]{height:48px;color:#0009;display:flex;align-items:center;z-index:1}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative;padding:20px 10px 10px;box-sizing:border-box}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.log-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{padding:20px 10px 10px 16px}.log-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.log-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.log-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.log-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{position:relative;text-transform:uppercase;font-size:14px}.log-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:-10px;width:100%;height:3px;background:#2383e2}.codemirror-wrapper[_ngcontent-%COMP%]{width:100%;padding:0 8px}'],data:{animation:[h.ge,h.ku,h.$r,h.OP]}}),j})()},80733:(It,Z,A)=>{"use strict";A.d(Z,{X:()=>S});var t=A(16274),e=A(93324),h=A(56447),d=A(688),f=A(50319),s=A(42741);let S=(()=>{class M{}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=s.oAB({type:M}),M.\u0275inj=s.cJS({imports:[[t.ez,e.u5,h.q,d.m,f.k]]}),M})()},7228:(It,Z,A)=>{"use strict";A.d(Z,{b:()=>H});var t=A(42741),e=A(29026),h=A(72898),d=A(76052),f=A.n(d),s=A(46243),M=A(7611),E=A(84784),g=A(16274),P=A(21929);function l(q,U){if(1&q){const D=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(D),t.oxw(2).close()}),t.qZA()}2&q&&t.Q6J("@background",void 0)}function O(q,U){if(1&q&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&q){const D=t.oxw(3);t.xp6(1),t.Oqu(D.item.warningMsg)}}function v(q,U){if(1&q&&(t.TgZ(0,"tr"),t.TgZ(1,"td",23),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA(),t.qZA()),2&q){const D=U.$implicit,C=U.index,_=t.oxw(3);t.ekj("border-botttom",_.contacts.length!==C+1),t.xp6(3),t.hij("(Site Time: ",D.site_time,")"),t.xp6(2),t.Oqu(D.receiverContact)}}function y(q,U){if(1&q&&(t.TgZ(0,"div",31),t._uU(1),t.qZA()),2&q){const D=t.oxw().$implicit;t.xp6(1),t.Oqu(D.dataLabel?D.dataLabel:"Unknown")}}function I(q,U){1&q&&(t.TgZ(0,"div",25),t._UZ(1,"div",32),t.qZA())}function N(q,U){if(1&q&&(t.TgZ(0,"div"),t.TgZ(1,"div",24),t.TgZ(2,"div",25),t._UZ(3,"div",26),t.qZA(),t.TgZ(4,"div",27),t._uU(5),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA(),t.YNc(8,y,2,1,"div",29),t.qZA(),t.YNc(9,I,2,0,"div",30),t.qZA()),2&q){const D=U.$implicit,C=U.index,_=t.oxw(3);t.xp6(3),t.ekj("target-log",_.item.id===D.id),t.xp6(2),t.Oqu(D.site_time),t.xp6(1),t.Udp("color",D.label_color),t.xp6(1),t.Oqu(D.share_status),t.xp6(1),t.Q6J("ngIf","Event"!==D.share_status),t.xp6(1),t.Q6J("ngIf",_.logs.length!==C+1)}}function F(q,U){1&q&&(t.TgZ(0,"div",33),t.O4$(),t.TgZ(1,"svg",34),t._UZ(2,"circle",35),t.qZA(),t.qZA())}function et(q,U){if(1&q){const D=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(D),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"table",14),t.TgZ(11,"tbody"),t.TgZ(12,"tr"),t.TgZ(13,"td",15),t._uU(14,"Description"),t.qZA(),t.TgZ(15,"td",16),t.TgZ(16,"div"),t._uU(17),t.qZA(),t.YNc(18,O,2,1,"div",17),t.qZA(),t.qZA(),t.TgZ(19,"tr"),t.TgZ(20,"td",15),t._uU(21,"Event Time"),t.qZA(),t.TgZ(22,"td",16),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"tr"),t.TgZ(25,"td",15),t._uU(26,"Storage Time"),t.qZA(),t.TgZ(27,"td",16),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"tr"),t.TgZ(30,"td",15),t._uU(31,"Receivers"),t.qZA(),t.TgZ(32,"td",18),t.TgZ(33,"table"),t.TgZ(34,"tbody"),t.YNc(35,v,6,4,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"tr"),t.TgZ(37,"td",15),t._uU(38,"Event Time"),t.qZA(),t.TgZ(39,"td",16),t._uU(40),t.qZA(),t.qZA(),t.TgZ(41,"tr"),t.TgZ(42,"td",15),t._uU(43,"Device Name"),t.qZA(),t.TgZ(44,"td",16),t._uU(45),t.qZA(),t.qZA(),t.TgZ(46,"tr"),t.TgZ(47,"td",15),t._uU(48,"Device ID"),t.qZA(),t.TgZ(49,"td",16),t._uU(50),t.qZA(),t.qZA(),t.TgZ(51,"tr"),t.TgZ(52,"td",15),t._uU(53,"User"),t.qZA(),t.TgZ(54,"td",16),t.TgZ(55,"span"),t._uU(56),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",13),t.TgZ(58,"div"),t._uU(59,"History of Event"),t.qZA(),t.TgZ(60,"div",20),t.YNc(61,N,10,8,"div",21),t.qZA(),t.qZA(),t.qZA(),t.YNc(62,F,3,0,"div",22),t.qZA()}if(2&q){const D=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(3),t.hij("Share Event ",D.item.localCreated,""),t.xp6(14),t.Oqu(D.item.description),t.xp6(1),t.Q6J("ngIf",D.item.warningMsg),t.xp6(5),t.AsE("",D.item.localCreated," (",(null==D.modal.data?null:D.modal.data.selectedTimezone)||"UTC",")"),t.xp6(5),t.AsE("",D.item.localCreated," (",(null==D.modal.data?null:D.modal.data.selectedTimezone)||"UTC",")"),t.xp6(7),t.Q6J("ngForOf",D.contacts),t.xp6(5),t.Oqu(D.item.site_event_time),t.xp6(5),t.Oqu(D.item.camera_name),t.xp6(5),t.Oqu(D.item.device_id),t.xp6(5),t.ekj("disable-txt",!D.item.email),t.xp6(1),t.Oqu(D.item.email?D.item.email:"No Name"),t.xp6(5),t.Q6J("ngForOf",D.logs),t.xp6(1),t.Q6J("ngIf",D.isLoading)}}function Y(q,U){if(1&q&&(t.TgZ(0,"div",2),t.YNc(1,l,1,1,"div",3),t.YNc(2,et,63,17,"div",4),t.qZA()),2&q){const D=t.oxw();t.xp6(1),t.Q6J("ngIf",D.modal.is_active),t.xp6(1),t.Q6J("ngIf",D.modal.is_active)}}let H=(()=>{class q{constructor(D,C){this.usersService=D,this.logsService=C,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.site={},this.m_warning=new h.u,this.item={},this.contacts=[],this.logs=[],this.shareTypeStr=""}ngOnInit(){this.usersService.getMe().subscribe(D=>{this.me=D})}ngOnChanges(D){D.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.site=this.modal.data.site,this.getActivityLogDetail())}initLogData(){this.item.detail&&(this.item.event_time=this.item.created,this.item.site_event_time=f()(this.item.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),this.item.camera_name=this.item.name,this.item.detail.related_logs&&(this.logs=this.item.detail.related_logs,this.contacts=this.setLogs(this.logs)))}getActivityLogDetail(){const D=this.me.dealer_id;this.item=s.cloneDeep(this.modal.data.log),this.logsService.getActivityLogDetail(D,this.item.id).subscribe(_=>{this.item.detail=_;const o=JSON.parse(this.item.detail.log.meta),Q=o.req.body,B=o.res;let it="-",ot=null;Q&&(ot=Q.share_type),0===ot?it="Response Link":1===ot&&(it="Video Download Link"),this.item.shareTypeStr=it,_.receiver.logs&&(this.item.event_code=_.receiver.logs[0].event_code),this.initLogData(),this.item.status>300&&B&&B.message&&(this.item.warningMsg=B.message)})}setLogs(D){let C=[],_=[];return D.reverse(),D.forEach(o=>{o.site_time=f()(o.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss");let b=null,Q=null;const B=JSON.parse(o.meta),ot=B.res,pt=B.req.body;let c="";ot&&(c=ot.url),pt&&(b=pt.to,Q=pt.share_type,b&&(_.includes(b)||(_.push(b),C.push(o)),o.receiverContact=b,o.dataLabel=b),0===Q?this.shareTypeStr="Response Link":1===Q&&(this.shareTypeStr="Video Download Link")),o.share_status=o.description,"created"===o.action||"create"===o.action?(o.label_color="#1abc9c",b||c?c&&(o.dataLabel=c):o.dataLabel="Created"):"viewed"===o.action?(o.share_status=o.description+" "+o.action,o.dataLabel=o.email,o.label_color="#2f96fb"):"upload"===o.action?(o.dataLabel="Upload",o.label_color="#f1556c"):"alarm"===o.action?o.dataLabel=o.trigger:"sent"===o.action?o.dataLabel=o.email:"call police"===o.action?(pt&&pt.contact&&this.getVerificationHistorys(o,pt,ot),o.dataLabel=o.email):"granted"===o.action?(o.share_status=o.description,o.dataLabel="granted"):"send"===o.action?o.share_status=o.description:"No Response"===o.action&&(o.dataLabel="No Response")}),D.reverse(),C}getVerificationHistorys(D,C,_){this.logsService.getVerificationHistorys(this.me.dealer_id,this.site.site_id,C.contact.verification_id,`?filter=history_id,${_.history_id},eq`).subscribe(ot=>{const pt=ot[0];D.dataLabel=`${pt.contact_name} (${pt.email?pt.email:pt.contact_phone})`})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(D="",C="",_="done",o="#1abc9c"){this.m_warning.data={header:D,contents:`\n        <p>${C}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:_,isConfirm:!0,color:o},this.m_warning.data.submit_func=()=>{"green"===o&&this.close()},this.m_warning.open()}errorDialog(D,C){let _="failed.";D.error&&D.error.message&&(_=D.error.message),D._body&&(_=JSON.parse(D._body).message),setTimeout(()=>{this.confirmDialog(C,_,"warning","orange")},200),this.isLoading=!1}close(D){this.onClose.next(D||{res:!1}),this.modal.close(),setTimeout(C=>{this.enable_modal=!1},200)}}return q.\u0275fac=function(D){return new(D||q)(t.Y36(M.f),t.Y36(E.P))},q.\u0275cmp=t.Xpm({type:q,selectors:[["app-activity-share-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[4,"ngIf"],[1,"log-data",2,"padding","0px"],[3,"border-botttom",4,"ngFor","ngForOf"],[2,"padding-top","7px","max-height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[2,"border-bottom","none"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],["class","log-contact",4,"ngIf"],["class","log-timeline",4,"ngIf"],[1,"log-contact"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(D,C){1&D&&(t.YNc(0,Y,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&D&&(t.Q6J("ngIf",C.enable_modal),t.xp6(1),t.Q6J("modal",C.m_warning))},directives:[g.O5,P.a,g.sg],styles:['.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:800px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{width:230px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-contact[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),q})()},77343:(It,Z,A)=>{"use strict";A.d(Z,{b:()=>f});var t=A(16274),e=A(93324),h=A(56447),d=A(42741);let f=(()=>{class s{}return s.\u0275fac=function(M){return new(M||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,h.q]]}),s})()},68013:(It,Z,A)=>{"use strict";A.d(Z,{P:()=>U});var t=A(61855),e=A(42741),h=A(29026),d=A(72898),f=A(76052),s=A.n(f),S=A(46243),E=A(7611),g=A(84784),P=A(16274),l=A(21929);function O(D,C){if(1&D){const _=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).close()}),e.qZA()}2&D&&e.Q6J("@background",void 0)}function v(D,C){if(1&D&&(e.TgZ(0,"tr"),e.TgZ(1,"td",24),e._uU(2),e.qZA(),e.TgZ(3,"td",25),e.TgZ(4,"div"),e._uU(5),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.qZA(),e.qZA(),e.qZA()),2&D){const _=C.$implicit,o=C.index,b=e.oxw(3);e.ekj("border-botttom",b.contacts.length!==o+1),e.xp6(2),e.Oqu(_.contact_name),e.xp6(3),e.hij("",_.contact_phone," "),e.xp6(1),e.Udp("color",_.label_color),e.xp6(1),e.Oqu(_.verification_status),e.xp6(1),e.hij(" (",_.site_time,")"),e.xp6(2),e.Oqu(_.email)}}function y(D,C){if(1&D&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&D){const _=e.oxw(3);let o;e.ekj("disable-txt",!_.verificationSentUser),e.xp6(1),e.Oqu(null!==(o=_.verificationSentUser)&&void 0!==o?o:"No Data")}}function I(D,C){if(1&D&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&D){const _=e.oxw(3);let o;e.ekj("disable-txt",!_.verificationSentUser),e.xp6(1),e.AsE("",null!==(o=_.verificationSentUser)&&void 0!==o?o:"No Data"," (",null!==(o=_.verificationSentIP)&&void 0!==o?o:"No Data",")")}}function N(D,C){if(1&D&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&D){const _=e.oxw(3);e.xp6(1),e.Oqu(_.item.warningMsg)}}function F(D,C){1&D&&(e.TgZ(0,"div",27),e._UZ(1,"div",33),e.qZA())}function et(D,C){if(1&D&&(e.TgZ(0,"div"),e.TgZ(1,"div",26),e.TgZ(2,"div",27),e._UZ(3,"div",28),e.qZA(),e.TgZ(4,"div",29),e._uU(5),e.qZA(),e.TgZ(6,"div",30),e._uU(7),e.qZA(),e.TgZ(8,"div",31),e._uU(9),e.qZA(),e.qZA(),e.YNc(10,F,2,0,"div",32),e.qZA()),2&D){const _=C.$implicit,o=C.index,b=e.oxw(3);e.xp6(3),e.ekj("target-log",_.id===b.item.id),e.xp6(2),e.Oqu(_.site_time),e.xp6(1),e.Udp("color",_.label_color),e.xp6(1),e.Oqu(_.verification_status),e.xp6(2),e.Oqu(_.dataLabel),e.xp6(1),e.Q6J("ngIf",b.logs.length!==o+1)}}function Y(D,C){1&D&&(e.TgZ(0,"div",34),e.O4$(),e.TgZ(1,"svg",35),e._UZ(2,"circle",36),e.qZA(),e.qZA())}function H(D,C){if(1&D){const _=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.TgZ(4,"div",9),e.TgZ(5,"div",10),e.TgZ(6,"i",11),e.NdJ("click",function(){return e.CHM(_),e.oxw(2).close()}),e._uU(7,"close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",12),e.TgZ(9,"div",13),e.TgZ(10,"table",14),e.TgZ(11,"tbody"),e.TgZ(12,"tr"),e.TgZ(13,"td",15),e._uU(14,"Event Time"),e.qZA(),e.TgZ(15,"td",16),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td",15),e._uU(19,"Storage Time"),e.qZA(),e.TgZ(20,"td",16),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td",15),e._uU(24,"Contacts"),e.qZA(),e.TgZ(25,"td",17),e.TgZ(26,"table"),e.TgZ(27,"tbody"),e.YNc(28,v,11,9,"tr",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"td",15),e._uU(31,"Event Time"),e.qZA(),e.TgZ(32,"td",16),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"tr"),e.TgZ(35,"td",15),e._uU(36,"Device Name"),e.qZA(),e.TgZ(37,"td",16),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"tr"),e.TgZ(40,"td",15),e._uU(41,"Device ID"),e.qZA(),e.TgZ(42,"td",16),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"tr"),e.TgZ(45,"td",15),e._uU(46,"Verification sent by"),e.qZA(),e.TgZ(47,"td",16),e.YNc(48,y,2,3,"span",19),e.YNc(49,I,2,4,"span",19),e.qZA(),e.qZA(),e.TgZ(50,"tr"),e.TgZ(51,"td",15),e._uU(52,"User"),e.qZA(),e.TgZ(53,"td",16),e.TgZ(54,"span"),e._uU(55),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"tr"),e.TgZ(57,"td",15),e._uU(58,"Description"),e.qZA(),e.TgZ(59,"td",16),e.TgZ(60,"div"),e._uU(61),e.qZA(),e.YNc(62,N,2,1,"div",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",13),e.TgZ(64,"div"),e._uU(65,"History of Verifications"),e.qZA(),e.TgZ(66,"div",21),e.YNc(67,et,11,8,"div",22),e.qZA(),e.qZA(),e.qZA(),e.YNc(68,Y,3,0,"div",23),e.qZA()}if(2&D){const _=e.oxw(2);e.Q6J("@dialog",void 0),e.xp6(3),e.hij("Verifications ",_.item.localCreated,""),e.xp6(13),e.AsE("",_.item.localCreated," (",(null==_.modal.data?null:_.modal.data.selectedTimezone)||"UTC",")"),e.xp6(5),e.AsE("",_.item.localCreated," (",(null==_.modal.data?null:_.modal.data.selectedTimezone)||"UTC",")"),e.xp6(7),e.Q6J("ngForOf",_.contacts),e.xp6(5),e.Oqu(_.item.site_event_time),e.xp6(5),e.Oqu(_.item.camera_name),e.xp6(5),e.Oqu(_.item.device_id),e.xp6(5),e.Q6J("ngIf",!_.ipUserName),e.xp6(1),e.Q6J("ngIf",_.ipUserName),e.xp6(5),e.ekj("disable-txt",!_.item.email),e.xp6(1),e.Oqu(_.item.email?_.item.email:"No Name"),e.xp6(6),e.Oqu(_.item.description),e.xp6(1),e.Q6J("ngIf",_.item.warningMsg),e.xp6(5),e.Q6J("ngForOf",_.logs),e.xp6(1),e.Q6J("ngIf",_.isLoading)}}function q(D,C){if(1&D&&(e.TgZ(0,"div",2),e.YNc(1,O,1,1,"div",3),e.YNc(2,H,69,19,"div",4),e.qZA()),2&D){const _=e.oxw();e.xp6(1),e.Q6J("ngIf",_.modal.is_active),e.xp6(1),e.Q6J("ngIf",_.modal.is_active)}}let U=(()=>{class D{constructor(_,o){this.usersService=_,this.logsService=o,this.onClose=new e.vpe,this.onOpenModal=new e.vpe,this.enable_modal=!1,this.isLoading=!1,this.site={},this.m_warning=new d.u,this.item={},this.contacts=[],this.logs=[],this.ipUserName="",this.verificationSentUser="",this.verificationSentIP=""}ngOnInit(){this.usersService.getMe().subscribe(_=>{this.me=_})}ngOnChanges(_){_.active&&this.active&&(this.isLoading=!0,this.enable_modal=!0,this.site=this.modal.data.site,this.item={},this.getActivityLogDetail())}initLogData(){return(0,t.mG)(this,void 0,void 0,function*(){this.item.verification=this.item.detail.verification;const Q=JSON.parse(this.item.detail.log.meta).res;if(yield this.setVerificationSentUser(),this.item.verification){if(this.item.verification.info&&this.item.verification.info.created){const it=this.item.verification.info.created;this.item.event_time=it,this.item.site_event_time=s()(it).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),this.item.camera_name=this.item.name}this.item.verification.logs&&(this.logs=this.item.verification.logs,this.contacts=this.setContacts(this.logs))}this.item.status>300&&Q&&Q.message&&(this.item.warningMsg=Q.message),this.isLoading=!1})}getActivityLogDetail(){const _=this.me.dealer_id;this.item=S.cloneDeep(this.modal.data.log),this.logsService.getActivityLogDetail(_,this.item.id).subscribe(b=>{this.item.detail=b,b.receiver.logs&&(this.item.event_code=b.receiver.logs[0].event_code),this.initLogData()})}setContacts(_){let o=[],b=[];_.reverse(),_.forEach(it=>{it.site_time=s()(it.created).utc().tz(this.site.timezone).format("MM/DD/YY HH:mm:ss"),it.dataLabel=`${it.contact_name} (${it.contact_phone?it.contact_phone:it.email})`,b.includes(it.contact_id)||it.contact_id&&(b.push(it.contact_id),o.push(it)),0===it.action?(0===it.type?it.verification_status="Verification Sent":4===it.type&&(it.verification_status="Verification Timeout",it.dataLabel="No Response"),it.label_color="#1abc9c"):1===it.action&&(0===it.type?(it.verification_status="Video Viewed",it.label_color="#2f96fb"):1===it.type?(it.verification_status="Dispatch",it.label_color="#f1556c"):2===it.type&&(it.verification_status="Disregard",it.label_color="hsla(0,0%,0%,0.6)")),"event"===it.verification_status&&(it.dataLabel="")});let Q="";Q=this.ipUserName?`${this.verificationSentUser} (${this.verificationSentIP})`:`${this.verificationSentUser}`;const B={created:this.item.event_time,site_time:this.item.site_event_time,verification_status:"Event",label_color:"#1abc9c",dataLabel:Q};return console.log("contacts:",B),_.reverse(),_.unshift(B),o}setVerificationSentUser(){return(0,t.mG)(this,void 0,void 0,function*(){const _=this.item.detail.related_logs.find(o=>"verification"===o.category.toLowerCase());if(_)try{yield this.getIPUserName(_.user_id),this.verificationSentUser=this.ipUserName?this.ipUserName:_.email?_.email:_.firstname,this.verificationSentUser||(this.verificationSentUser="No data available")}catch(o){console.error("setVerificationSentUser:>",o),this.isLoading=!1}})}getIPUserName(_){var o,b;return(0,t.mG)(this,void 0,void 0,function*(){try{const Q=this.me.dealer_id,B=yield this.usersService.getIpMember(Q,_).toPromise();B[0]&&(this.ipUserName=null===(o=B[0])||void 0===o?void 0:o.name,this.verificationSentIP=null===(b=B[0])||void 0===b?void 0:b.ip)}catch(Q){console.debug("getIPUserName:>",Q),this.isLoading=!1}})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(_="",o="",b="done",Q="#1abc9c"){this.m_warning.data={header:_,contents:`\n        <p>${o}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:b,isConfirm:!0,color:Q},this.m_warning.data.submit_func=()=>{"green"===Q&&this.close()},this.m_warning.open()}errorDialog(_,o){let b="failed.";_.error&&_.error.message&&(b=_.error.message),_._body&&(b=JSON.parse(_._body).message),setTimeout(()=>{this.confirmDialog(o,b,"warning","orange")},200),this.isLoading=!1}close(_){this.onClose.next(_||{res:!1}),this.modal.close(),setTimeout(o=>{this.enable_modal=!1},200)}}return D.\u0275fac=function(_){return new(_||D)(e.Y36(E.f),e.Y36(g.P))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-activity-verification-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[e.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[1,"log-data",2,"padding","0px"],[3,"border-botttom",4,"ngFor","ngForOf"],[3,"disable-txt",4,"ngIf"],[4,"ngIf"],[2,"padding-top","7px"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[2,"width","110px","text-align","right","border-bottom","none"],[2,"border-bottom","none","border-left","1px hsla(0, 0%, 0%, 0.1) solid"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],[1,"log-contact"],["class","log-timeline",4,"ngIf"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(_,o){1&_&&(e.YNc(0,q,3,2,"div",0),e._UZ(1,"dealer-warning",1)),2&_&&(e.Q6J("ngIf",o.enable_modal),e.xp6(1),e.Q6J("modal",o.m_warning))},directives:[P.O5,l.a,P.sg],styles:['*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:800px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{width:200px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-contact[_ngcontent-%COMP%]{color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{color:#f76b82}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.target-log[_ngcontent-%COMP%]{background:radial-gradient(circle,#2383e2 50%,white 50%);border:solid 1px #2383e2}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.border-botttom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.modal-ui[_ngcontent-%COMP%]{max-height:590px}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[h.ge,h.ku,h.$r,h.OP]}}),D})()},95166:(It,Z,A)=>{"use strict";A.d(Z,{s:()=>f});var t=A(16274),e=A(93324),h=A(56447),d=A(42741);let f=(()=>{class s{}return s.\u0275fac=function(M){return new(M||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,h.q]]}),s})()},92601:(It,Z,A)=>{"use strict";A.d(Z,{e:()=>Y});var t=A(42741),e=A(29026),h=A(72898),d=A(46243),s=A(7611),S=A(84784),M=A(91486),E=A(16274),g=A(21929);function P(H,q){if(1&H){const U=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(U),t.oxw(2).close()}),t.qZA()}2&H&&t.Q6J("@background",void 0)}function l(H,q){if(1&H&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&H){const U=t.oxw(3);t.xp6(1),t.hij("(",U.item.code_description,")")}}function O(H,q){if(1&H&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&H){const U=t.oxw(3);t.xp6(1),t.hij(" (",U.item.code_description,")")}}function v(H,q){if(1&H&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&H){const U=t.oxw(3);t.xp6(1),t.Oqu(U.item.warningMsg)}}function y(H,q){1&H&&(t.TgZ(0,"div",22),t._UZ(1,"div",28),t.qZA())}function I(H,q){if(1&H&&(t.TgZ(0,"div"),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t._UZ(3,"div",23),t.qZA(),t.TgZ(4,"div",24),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"div",25),t.TgZ(8,"span",26),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA(),t.qZA(),t.YNc(12,y,2,0,"div",27),t.qZA()),2&H){const U=q.$implicit,D=q.index,C=t.oxw(3);t.xp6(3),t.ekj("cur-log",U.curLog),t.xp6(2),t.Oqu(t.xi3(6,11,U.created,"MM/dd/yy HH:mm:ss")),t.xp6(4),t.AsE("",U.event_code," (",U.code_description,")"),t.xp6(1),t.ekj("log-status-success",!U.error_code)("log-status-failed",U.error_code),t.xp6(1),t.Oqu(U.error_code?"Failed":"Success"),t.xp6(1),t.Q6J("ngIf",C.logs.length!==D+1)}}function N(H,q){1&H&&(t.TgZ(0,"div",29),t.O4$(),t.TgZ(1,"svg",30),t._UZ(2,"circle",31),t.qZA(),t.qZA())}function F(H,q){if(1&H){const U=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(U),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"table",14),t.TgZ(11,"tbody"),t.TgZ(12,"tr"),t.TgZ(13,"td",15),t._uU(14,"Event Time"),t.qZA(),t.TgZ(15,"td",16),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"tr"),t.TgZ(18,"td",15),t._uU(19,"Storage Time"),t.qZA(),t.TgZ(20,"td",16),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"td",15),t._uU(24,"Receiver Type"),t.qZA(),t.TgZ(25,"td",16),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"tr"),t.TgZ(28,"td",15),t._uU(29,"Account Number"),t.qZA(),t.TgZ(30,"td",16),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"tr"),t.TgZ(33,"td",15),t._uU(34,"Alarm Code"),t.qZA(),t.TgZ(35,"td",16),t._uU(36),t.YNc(37,l,2,1,"span",17),t.qZA(),t.qZA(),t.TgZ(38,"tr"),t.TgZ(39,"td",15),t._uU(40,"Restoral Code"),t.qZA(),t.TgZ(41,"td",16),t._uU(42),t.YNc(43,O,2,1,"span",17),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",15),t._uU(46,"Bridge Name"),t.qZA(),t.TgZ(47,"td",16),t._uU(48),t.qZA(),t.qZA(),t.TgZ(49,"tr"),t.TgZ(50,"td",15),t._uU(51,"Camera ID"),t.qZA(),t.TgZ(52,"td",16),t._uU(53),t.qZA(),t.qZA(),t.TgZ(54,"tr"),t.TgZ(55,"td",15),t._uU(56,"Camera Name"),t.qZA(),t.TgZ(57,"td",16),t._uU(58),t.qZA(),t.qZA(),t.TgZ(59,"tr"),t.TgZ(60,"td",15),t._uU(61,"Zone Number"),t.qZA(),t.TgZ(62,"td",16),t._uU(63),t.qZA(),t.qZA(),t.TgZ(64,"tr"),t.TgZ(65,"td",15),t._uU(66,"Type"),t.qZA(),t.TgZ(67,"td",16),t._uU(68),t.qZA(),t.qZA(),t.TgZ(69,"tr"),t.TgZ(70,"td",15),t._uU(71,"Description"),t.qZA(),t.TgZ(72,"td",16),t.TgZ(73,"div"),t._uU(74),t.qZA(),t.YNc(75,v,2,1,"div",17),t.qZA(),t.qZA(),t.TgZ(76,"tr"),t.TgZ(77,"td",15),t._uU(78,"Send Packet"),t.qZA(),t.TgZ(79,"td",16),t.TgZ(80,"div"),t._uU(81),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"tr"),t.TgZ(83,"td",15),t._uU(84,"Receive Packet"),t.qZA(),t.TgZ(85,"td",16),t.TgZ(86,"div"),t._uU(87),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"div",13),t.TgZ(89,"div"),t._uU(90,"History of XML"),t.qZA(),t.TgZ(91,"div",18),t.YNc(92,I,13,14,"div",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(93,N,3,0,"div",20),t.qZA()}if(2&H){const U=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(3),t.hij("XML ",U.item.localCreated,""),t.xp6(13),t.AsE("",U.item.eventCreated," (",(null==U.item?null:U.item.selectedTimezone)||"UTC",")"),t.xp6(5),t.AsE("",U.item.localCreated," (",(null==U.item?null:U.item.selectedTimezone)||"UTC",")"),t.xp6(5),t.Oqu(U.item.receiver_name),t.xp6(5),t.Oqu(U.item.account_number),t.xp6(5),t.hij("",U.item.alarm_code," "),t.xp6(1),t.Q6J("ngIf",U.item.event_code),t.xp6(5),t.Oqu(U.item.restoral_code),t.xp6(1),t.Q6J("ngIf",U.item.event_code),t.xp6(5),t.Oqu(U.item.device_name?U.item.device_name:"-"),t.xp6(5),t.Oqu(U.item.device_id),t.xp6(5),t.Oqu(U.item.camera_name),t.xp6(5),t.Oqu(U.item.zone),t.xp6(5),t.Oqu(U.item.device_id),t.xp6(6),t.Oqu(U.item.receiver_description),t.xp6(1),t.Q6J("ngIf",U.item.warningMsg),t.xp6(6),t.Oqu(U.item.sendPacket),t.xp6(6),t.Oqu(U.item.recvPacket),t.xp6(5),t.Q6J("ngForOf",U.logs),t.xp6(1),t.Q6J("ngIf",U.isLoading)}}function et(H,q){if(1&H&&(t.TgZ(0,"div",2),t.YNc(1,P,1,1,"div",3),t.YNc(2,F,94,23,"div",4),t.qZA()),2&H){const U=t.oxw();t.xp6(1),t.Q6J("ngIf",U.modal.is_active),t.xp6(1),t.Q6J("ngIf",U.modal.is_active)}}let Y=(()=>{class H{constructor(U,D,C){this.usersService=U,this.logsService=D,this.integrationService=C,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new h.u,this.item={},this.logs=[]}ngOnInit(){this.usersService.getMe().subscribe(U=>{this.me=U})}ngOnChanges(U){this.item={},this.logs=[],U.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.item=d.cloneDeep(this.modal.data),this.getActivityLogDetail())}initLogData(){var U;if(this.item.receiver=this.item.detail.receiver,this.item.receiver&&(null===(U=Object.keys(this.item.receiver))||void 0===U?void 0:U.length)&&(this.item.info&&(this.item.receiver_name=this.item.receiver.info.name,this.item.receiver_description=this.item.receiver.info.description),this.item.receiver.logs&&(this.logs=this.item.receiver.logs,this.item.receiver.logs.forEach(D=>{"active"===D.event_state?this.item.alarm_code=D.event_code:"inactive"===D.event_state&&(this.item.restoral_code=D.event_code),this.item.account_number=D.account_number}))),this.item.detail.log){this.item.camera_name=this.item.detail.log.name;const C=JSON.parse(this.item.detail.log.meta).res;this.item.status>300&&C&&C.message&&(this.item.warningMsg=C.message)}}getActivityLogDetail(){const U=this.me.dealer_id,D=this.item.id;this.isLoading=!0,this.logsService.getActivityLogDetail(U,D).subscribe(C=>{this.item.detail=C,this.initLogData(),this.item.event_code&&C.receiver.code_description.forEach(_=>{const o=this.item.event_code.replace(/^\D+/g,"");let Q=_.restore_code?_.restore_code:"";((_.event_code?_.event_code:"").includes(o)||Q.includes(o))&&(this.item.code_description=_.name,this.item.alarm_code=_.event_code,this.item.restoral_code=_.restore_code)}),this.logs.forEach(_=>{this.item.receiver_log_id===_.id&&(_.curLog=!0,_.send_packet?(this.item.sendPacket=_.send_packet,this.item.recvPacket=_.recv_packet):this.getReceiverLog(this.item.receiver_log_id));const o=_.event_code.replace(/^\D+/g,"");C.receiver.code_description.forEach(b=>{let B=b.restore_code?b.restore_code:"";((b.event_code?b.event_code:"").includes(o)||B.includes(o))&&(_.code_description=b.name,_.alarm_code=b.event_code,_.restoral_code=b.restore_code)})}),this.isLoading=!1},C=>{this.isLoading=!1})}getReceiverLog(U){this.integrationService.getReceiverLog(this.me.dealer_id,U).subscribe(C=>{1===C.length&&(this.item.sendPacket=C[0].send_packet,this.item.recvPacket=C[0].recv_packet)})}openXmlLogModal(){this.onOpenModal.emit("xml-log")}openVerificationLogModal(){this.onOpenModal.emit("verification-log")}confirmDialog(U="",D="",C="done",_="#1abc9c"){this.m_warning.data={header:U,contents:`\n        <p>${D}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:C,isConfirm:!0,color:_},this.m_warning.data.submit_func=()=>{"green"===_&&this.close()},this.m_warning.open()}errorDialog(U,D){let C="failed.";U.error&&U.error.message&&(C=U.error.message),U._body&&(C=JSON.parse(U._body).message),setTimeout(()=>{this.confirmDialog(D,C,"warning","orange")},200),this.isLoading=!1}close(U){this.onClose.next(U||{res:!1}),this.modal.close(),setTimeout(D=>{this.enable_modal=!1},200)}}return H.\u0275fac=function(U){return new(U||H)(t.Y36(s.f),t.Y36(S.P),t.Y36(M.V))},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-activity-xml-log-modal"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area","modal-ui"],[1,"item"],[1,"log-table"],[1,"log-label-cell"],[1,"log-data"],[4,"ngIf"],[2,"padding-top","7px"],[4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],[1,"log-row"],[1,"log-timeline"],[1,"log-symbol"],[1,"log-created"],[1,"log-eventcode"],[1,"ellipsis"],["class","log-timeline",4,"ngIf"],[1,"log-line"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(U,D){1&U&&(t.YNc(0,et,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&U&&(t.Q6J("ngIf",D.enable_modal),t.xp6(1),t.Q6J("modal",D.m_warning))},directives:[E.O5,g.a,E.sg],pipes:[E.uU],styles:['*[_ngcontent-%COMP%]{line-height:initial}.align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.header[_ngcontent-%COMP%]{padding:32px;background:#2196F3;background:linear-gradient(300deg,#00BCD4,#2196F3)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%]{padding:16px}.list[_ngcontent-%COMP%]{position:relative}.list-item[_ngcontent-%COMP%]{width:100%;display:table}.list-header[_ngcontent-%COMP%]{margin-bottom:8px;color:#888;font-weight:700;text-transform:uppercase}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.list-item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:table-cell;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.list-item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.list-item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.list-item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.list-item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.list-item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.list-item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s;resize:none}.contents[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.contents[_ngcontent-%COMP%]   .textarea-error[_ngcontent-%COMP%]{border-bottom:2px solid red}.contents[_ngcontent-%COMP%]   .textarea-ok[_ngcontent-%COMP%]{border-bottom:2px solid #4CAF50}.contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.selectbox[_ngcontent-%COMP%]{padding:8px;border-radius:4px;cursor:pointer;width:80%}.selectbox[_ngcontent-%COMP%]:hover{background:#eee}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:48px auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.loading[_ngcontent-%COMP%]{background-color:#eee}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:16px}.tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:88px;height:36px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:14px;text-transform:uppercase;cursor:pointer;color:#2383e2}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]{background-color:#2383e2;color:#fff}.tail[_ngcontent-%COMP%]   .button.button-primary[_ngcontent-%COMP%]:hover{background-color:#4da6ff}.log-table[_ngcontent-%COMP%]{background:#fff;font-size:14px;border:rgba(0,0,0,.1) solid 1px;border-collapse:collapse}.log-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px 14px}.log-table[_ngcontent-%COMP%]   .log-label-cell[_ngcontent-%COMP%]{background-color:#eee;color:#55647b;width:110px}.log-table[_ngcontent-%COMP%]   .log-data[_ngcontent-%COMP%]{color:#000000de}.log-table[_ngcontent-%COMP%]   .link-txt[_ngcontent-%COMP%]{font-size:12px;color:#2383e2;cursor:pointer}.items-area[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.modal[_ngcontent-%COMP%]{max-width:660px!important}.log-row[_ngcontent-%COMP%]{display:flex;font-size:14px}.log-row[_ngcontent-%COMP%]   .log-created[_ngcontent-%COMP%]{width:150px;color:#0009}.log-row[_ngcontent-%COMP%]   .log-eventcode[_ngcontent-%COMP%]{flex:2;min-width:0;display:flex;color:#0009}.log-row[_ngcontent-%COMP%]   .log-status-success[_ngcontent-%COMP%]{flex:1;color:#2f96fb}.log-row[_ngcontent-%COMP%]   .log-status-failed[_ngcontent-%COMP%]{flex:1;color:#f76b82}.log-row[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.log-timeline[_ngcontent-%COMP%]{width:16px;text-align:center;display:flex;justify-content:center;padding-right:7px}.log-timeline[_ngcontent-%COMP%]   .log-symbol[_ngcontent-%COMP%]{padding-right:14px;width:14px;border-radius:20px;border:solid 1px #979797;background:radial-gradient(circle,#979797 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-symbol.cur-log[_ngcontent-%COMP%]{border:solid 1px #2383e2;background:radial-gradient(circle,#2383e2 50%,white 50%)}.log-timeline[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{background-color:#979797;height:100%;width:2px;height:14px}.disable-txt[_ngcontent-%COMP%]{color:#0000004d}.modal-ui[_ngcontent-%COMP%]{max-height:590px}','.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),H})()},63650:(It,Z,A)=>{"use strict";A.d(Z,{U:()=>f});var t=A(16274),e=A(93324),h=A(56447),d=A(42741);let f=(()=>{class s{}return s.\u0275fac=function(M){return new(M||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[t.ez,e.u5,h.q]]}),s})()},98886:(It,Z,A)=>{"use strict";A.d(Z,{o:()=>j});var t=A(42741),e=A(29026),h=A(72898),d=A(76052),f=A.n(d),s=A(70897),S=A.n(s),M=A(71687),E=A(7611),g=A(16253),P=A(56880),l=A(93220),O=A(84784),v=A(78806),y=A(16274),I=A(21929),N=A(61164),F=A(95974);const et=["sensorsvg"],Y=["snapshotbox"];function H(L,r){1&L&&t._UZ(0,"div",4)}function q(L,r){1&L&&t._UZ(0,"div",4)}const U=function(L){return{moveArea:L}};function D(L,r){if(1&L&&(t.O4$(),t._UZ(0,"line",10)),2&L){const i=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(5,U,i.selected)),t.uIk("x1",i.position[0][0])("y1",i.position[0][1])("x2",i.position[1][0])("y2",i.position[1][1])}}const C=function(L,r){return{selected:L,moveArea:r}};function _(L,r){if(1&L&&(t.O4$(),t._UZ(0,"polygon",11)),2&L){const i=t.oxw().$implicit,u=t.oxw();t.Q6J("ngClass",t.WLB(2,C,i.selected,i.selected)),t.uIk("points",u.getPoints(i))}}function o(L,r){if(1&L&&(t.O4$(),t._UZ(0,"path",11)),2&L){const i=t.oxw().$implicit,u=t.oxw();t.Q6J("ngClass",t.WLB(2,C,i.selected,i.selected)),t.uIk("d",u.getArc(i))}}function b(L,r){if(1&L&&(t.O4$(),t._UZ(0,"circle",12)),2&L){const i=r.$implicit;t.uIk("cx",i[0])("cy",i[1])}}const Q=function(L){return{selected:L}};function B(L,r){if(1&L&&(t.O4$(),t.TgZ(0,"svg",5,6),t.YNc(2,D,1,7,"line",7),t.YNc(3,_,1,5,"polygon",8),t.YNc(4,o,1,5,"path",8),t.YNc(5,b,1,2,"circle",9),t.qZA()),2&L){const i=r.$implicit,u=t.oxw();t.Q6J("ngClass",t.VKq(5,Q,i.selected)),t.xp6(2),t.Q6J("ngIf",i.type==u.shapes[0].name),t.xp6(1),t.Q6J("ngIf",i.type==u.shapes[1].name),t.xp6(1),t.Q6J("ngIf",i.type==u.shapes[2].name),t.xp6(1),t.Q6J("ngForOf",u.adj_points)}}let it=(()=>{class L{constructor(){this.isPrivacy=!1,this.metaChange=new t.vpe,this.enableExclusionZone=!1,this.point=null,this.scaleWidth=1,this.scaleHeight=1,this.str="",this.areas=[],this.sel_area=null,this.shapes=[{name:"line",default:[[300,300],[700,700]]},{name:"polygon",default:[[300,300],[300,500],[300,700],[500,700],[700,700],[700,500],[700,300],[500,300]]},{name:"fan shape",default:[[400,800],[1400,600],[100,300]]}],this.is_adjust=!1,this.prev_point=[]}ngOnInit(){this.parseMeta()}ngAfterViewInit(){this.setSvgScale()}ngOnChanges(i){i.meta&&(this.setSvgScale(),this.parseMeta())}setSvgScale(){setTimeout(()=>{this.scaleWidth=1600/this.snapshotbox.nativeElement.clientWidth,this.scaleHeight=900/this.snapshotbox.nativeElement.clientHeight},10)}parseMeta(){if(this.meta)try{this.areas=JSON.parse(this.meta)}catch(i){this.areas=[]}else this.areas=[]}getPoints(i){let u="";return i.position.forEach(w=>{u+=(Math.floor(10*w[0])/10).toFixed(1)+","+(Math.floor(10*w[1])/10).toFixed(1)+","}),u=u.slice(0,u.length-1),u}startAdjustPoint(i,u){this.adj_point=i,this.is_adjust=!0,this.prev_point=[u.clientX,u.clientY]}movePoint(i,u){this.is_adjust&&(this.adj_point[0]+=(u.clientX-this.prev_point[0])*this.scaleWidth,this.adj_point[1]+=(u.clientY-this.prev_point[1])*this.scaleHeight,this.prev_point=[u.clientX,u.clientY])}endAdjustPoint(i,u){this.is_adjust=!1}hoverArea(i){i.selected=!0}unhoverArea(i){i.selected=null}getArc(i){let u=i.position[0],w=i.position[1],J=i.position[2],tt=Math.sqrt(Math.pow(u[0]-w[0],2)+Math.pow(u[1]-w[1],2)),dt=Math.sqrt(Math.pow(u[0]-J[0],2)+Math.pow(u[1]-J[1],2)),bt=tt>dt?tt:dt;return`M ${w[0]} ${w[1]} A ${bt} ${bt}, 0, 0, 0, ${J[0]} ${J[1]} L ${u[0]} ${u[1]} Z`}}return L.\u0275fac=function(i){return new(i||L)},L.\u0275cmp=t.Xpm({type:L,selectors:[["event-sensor-area"]],viewQuery:function(i,u){if(1&i&&(t.Gf(et,5),t.Gf(Y,5)),2&i){let w;t.iGM(w=t.CRH())&&(u.svg=w.first),t.iGM(w=t.CRH())&&(u.snapshotbox=w.first)}},inputs:{snapshot:"snapshot",meta:"meta",isPrivacy:"isPrivacy",enableExclusionZone:"enableExclusionZone"},outputs:{metaChange:"metaChange"},features:[t.TTD],decls:6,vars:3,consts:[[2,"position","relative","width","100%","height","100%","user-select","none"],["snapshotbox",""],["class","thumbnail","style","padding-bottom:56.25%",4,"ngIf"],["width","100%","height","100%","viewBox","0 0 1600 900","preserveAspectRatio","none","class","area",3,"ngClass",4,"ngFor","ngForOf"],[1,"thumbnail",2,"padding-bottom","56.25%"],["width","100%","height","100%","viewBox","0 0 1600 900","preserveAspectRatio","none",1,"area",3,"ngClass"],["sensorsvg",""],["style","stroke:hsla(40, 90%, 44%, 1); stroke-width: 5;",3,"ngClass",4,"ngIf"],["class","area-polygon",3,"ngClass",4,"ngIf"],["r","21","stroke","red","stroke-width","5","fill","white","class","point",4,"ngFor","ngForOf"],[2,"stroke","hsla(40, 90%, 44%, 1)","stroke-width","5",3,"ngClass"],[1,"area-polygon",3,"ngClass"],["r","21","stroke","red","stroke-width","5","fill","white",1,"point"]],template:function(i,u){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",null,1),t.YNc(3,H,1,0,"div",2),t.YNc(4,q,1,0,"div",2),t.qZA(),t.YNc(5,B,6,7,"svg",3),t.qZA()),2&i&&(t.xp6(3),t.Q6J("ngIf",!u.isPrivacy),t.xp6(1),t.Q6J("ngIf",u.isPrivacy),t.xp6(1),t.Q6J("ngForOf",u.areas))},directives:[y.O5,y.sg,y.mk],styles:[".thumbnail[_ngcontent-%COMP%]{width:100%}svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0}path[_ngcontent-%COMP%]{stroke:#d6940b;stroke-width:10px;stroke-linejoin:round;stroke-linecap:round;stroke-dasharray:1px,15px;fill:#f4af20}.chips[_ngcontent-%COMP%]{min-width:32px;height:32px;border-radius:16px;background:rgba(0,0,0,.13);color:#000;font-size:16px;display:flex;align-items:center;justify-content:center;transition:.2s;cursor:pointer;position:relative;margin:8px 8px 0 0}.chips[_ngcontent-%COMP%]:hover{color:#fff;background:rgba(0,0,0,.46)}.chips[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;background:rgba(0,0,0,0);text-align:center;padding-left:8px}.chips[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding:0 8px 0 16px;display:inline-block;font-size:14px}.chips[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.chips-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:0 8px 0 0}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;margin-right:8px;color:#777;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777;font-size:14px;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #777;background:transparent;font-size:14px;padding:12px 0 4px}.chips-container[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}.delete[_ngcontent-%COMP%]{min-width:24px;height:24px;border-radius:12px;background:rgba(0,0,0,.46);color:#fff;font-size:16px;display:flex;align-items:center;justify-content:center;transition:.2s;cursor:pointer;position:relative;margin:0 4px}.point[_ngcontent-%COMP%]{cursor:pointer;opacity:1}.point[_ngcontent-%COMP%]:hover{opacity:1}.area-polygon[_ngcontent-%COMP%]{fill:#d5920b33;stroke:#d5920b;stroke-width:5;stroke-dasharray:none}.selected[_ngcontent-%COMP%]{fill:#ff00001a;opacity:1;z-index:1}.moveArea[_ngcontent-%COMP%]{cursor:move}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}"]}),L})();const ot=["eventvideo"],pt=["viewer"];function c(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).close()}),t.qZA()}2&L&&t.Q6J("@background",void 0)}function a(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"div",56),t.TgZ(1,"div",57),t.NdJ("click",function(){return t.CHM(i),t.oxw(3).selectEvent("alarm")}),t._uU(2,"Alarm"),t.qZA(),t.TgZ(3,"div",57),t.NdJ("click",function(){return t.CHM(i),t.oxw(3).selectEvent("restoral")}),t._uU(4,"Restoral"),t.qZA(),t.qZA()}if(2&L){const i=t.oxw(3);t.xp6(1),t.ekj("alarm","alarm"===i.curEventType)("no-event",!i.alarmEvent.id),t.xp6(2),t.ekj("restoral","restoral"===i.curEventType)("no-event",!i.restoralEvent.id)}}function k(L,r){1&L&&(t.TgZ(0,"span",58),t.TgZ(1,"i",59),t._uU(2,"check"),t.qZA(),t._uU(3," EVENT"),t.qZA())}function T(L,r){1&L&&(t.TgZ(0,"span",58),t.TgZ(1,"i",59),t._uU(2,"rotate_right"),t.qZA(),t._uU(3,"PLAYBACK EVENT"),t.qZA())}function m(L,r){1&L&&(t.TgZ(0,"span",58),t.TgZ(1,"i",59),t._uU(2,"theaters"),t.qZA(),t._uU(3,"Timelapse"),t.qZA())}function G(L,r){1&L&&(t.TgZ(0,"span",58),t._uU(1,"Relay"),t.qZA())}function rt(L,r){if(1&L&&t._UZ(0,"img",25),2&L){const i=t.oxw(3);t.Q6J("src",i.camera.privacy_background_image_url,t.LSH)}}function $(L,r){1&L&&(t.O4$(),t._UZ(0,"path",70),t._UZ(1,"path",71))}function at(L,r){1&L&&(t.O4$(),t._UZ(0,"path",72),t._UZ(1,"path",70))}function lt(L,r){1&L&&(t.O4$(),t._UZ(0,"circle",73),t._UZ(1,"circle",74),t._UZ(2,"circle",75),t._UZ(3,"circle",76),t._UZ(4,"path",77),t._UZ(5,"path",70))}function ft(L,r){if(1&L&&(t.O4$(),t.TgZ(0,"g",65),t._UZ(1,"rect",66),t.TgZ(2,"svg",67),t.YNc(3,$,2,0,"ng-template",68),t.YNc(4,at,2,0,"ng-template",68),t.YNc(5,lt,6,0,"ng-template",68),t.qZA(),t.TgZ(6,"text",69),t._uU(7),t.qZA(),t.qZA()),2&L){const i=r.$implicit;t.xp6(1),t.uIk("x",i.left)("y",i.top)("width",i.width)("height",i.height),t.xp6(1),t.uIk("x",i.left)("y",i.top)("width",i.width)("height",i.height),t.xp6(1),t.Q6J("ngIf","person"===i.class),t.xp6(1),t.Q6J("ngIf","car"===i.class||"bus"===i.class||"truck"===i.class),t.xp6(1),t.Q6J("ngIf","cat"===i.class||"dog"===i.class),t.xp6(1),t.uIk("x",i.left)("y",i.top),t.xp6(1),t.hij(" ",i.class," ")}}function xt(L,r){if(1&L&&(t.TgZ(0,"div",60),t.TgZ(1,"div",61),t.TgZ(2,"div",62),t.O4$(),t.TgZ(3,"svg",63),t.YNc(4,ft,8,14,"g",64),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&L){const i=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",i.objectIdxs[i.curSnapshotIdx])}}function _t(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"div",78),t.TgZ(1,"event-sensor-area",79),t.NdJ("metaChange",function(w){return t.CHM(i),t.oxw(3).camera.sensors_meta=w}),t.qZA(),t.qZA()}if(2&L){const i=t.oxw(3);t.xp6(1),t.Q6J("snapshot",i.camera.tmpSnapshot)("meta",i.camera.sensors_meta)}}function n(L,r){1&L&&(t.TgZ(0,"div",80),t._uU(1,"This camera is in privacy mode."),t.qZA())}function W(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"span",81),t.NdJ("click",function(){const J=t.CHM(i).$implicit;return t.oxw(3).changeRotateSpeed(J)}),t._uU(1),t.qZA()}if(2&L){const i=r.$implicit,u=t.oxw(3);t.ekj("selected-speed",u.rotateSpeed===i),t.xp6(1),t.hij("",i+"","x")}}function V(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"div",78),t.TgZ(1,"event-sensor-area",79),t.NdJ("metaChange",function(w){return t.CHM(i),t.oxw(3).camera.sensors_meta=w}),t.qZA(),t.qZA()}if(2&L){const i=t.oxw(3);t.xp6(1),t.Q6J("snapshot",i.camera.tmpSnapshot)("meta",i.camera.sensors_meta)}}function x(L,r){1&L&&(t.TgZ(0,"div",80),t._uU(1,"This camera is in privacy mode."),t.qZA())}function p(L,r){1&L&&(t.TgZ(0,"div",80),t._uU(1,"Event Video Play"),t._UZ(2,"br"),t._uU(3,"Permission Denied"),t.qZA())}function z(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"span",81),t.NdJ("click",function(){const J=t.CHM(i).$implicit;return t.oxw(3).changeVideoPlayRate(J)}),t._uU(1),t.qZA()}if(2&L){const i=r.$implicit,u=t.oxw(3);t.ekj("selected-speed",u.speedRate===i),t.xp6(1),t.hij("",i+"","x")}}function K(L,r){if(1&L&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&L){const i=t.oxw(3);t.xp6(1),t.hij("ZONE ",i.event.zone,"")}}function X(L,r){1&L&&(t.TgZ(0,"span",82),t._uU(1,"NO ZONE"),t.qZA())}function R(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"div",83),t.NdJ("click",function(){return t.CHM(i),t.oxw(3).openDownloadLinkModal()}),t.TgZ(1,"i",84),t._uU(2,"reply"),t.qZA(),t._uU(3,"Share Download Link "),t.qZA()}if(2&L){const i=t.oxw(3);t.ekj("disabled",!i.hasShareLinkPerm)}}function nt(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"div",83),t.NdJ("click",function(){return t.CHM(i),t.oxw(3).download()}),t.TgZ(1,"i",59),t._uU(2,"get_app"),t.qZA(),t._uU(3,"DOWNLOAD "),t.qZA()}if(2&L){const i=t.oxw(3);t.ekj("disabled",!i.hasDownloadPermission)}}function ct(L,r){1&L&&(t.TgZ(0,"div",85),t.O4$(),t.TgZ(1,"svg",86),t._UZ(2,"circle",87),t.qZA(),t.qZA())}function st(L,r){if(1&L){const i=t.EpF();t.TgZ(0,"div",7),t.YNc(1,a,5,8,"div",8),t.TgZ(2,"div",9),t.TgZ(3,"div",10),t.TgZ(4,"div",11),t.TgZ(5,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).close()}),t._uU(6,"close"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",13),t._uU(8),t.qZA(),t.TgZ(9,"div",14),t.YNc(10,k,4,0,"span",15),t.YNc(11,T,4,0,"span",15),t.YNc(12,m,4,0,"span",15),t.YNc(13,G,2,0,"span",15),t.qZA(),t.qZA(),t.TgZ(14,"div",16),t.TgZ(15,"div",17),t.TgZ(16,"div",18),t.TgZ(17,"div",19),t.TgZ(18,"div",20),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleVideoType("snapshot")}),t._uU(19,"Snapshot"),t.qZA(),t.TgZ(20,"div",20),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleVideoType("video")}),t._uU(21,"Video"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",21,22),t._UZ(24,"div",23),t.TgZ(25,"div",24),t._UZ(26,"img",25),t.YNc(27,rt,1,1,"img",26),t.YNc(28,xt,5,1,"div",27),t.YNc(29,_t,2,2,"div",28),t.YNc(30,n,2,0,"div",29),t.TgZ(31,"div",30),t.TgZ(32,"div",31),t.TgZ(33,"div",32),t.TgZ(34,"div",33),t.TgZ(35,"div",34),t.TgZ(36,"i",35),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleSnapshotPlay()}),t._uU(37),t.qZA(),t.qZA(),t.TgZ(38,"div",34),t.TgZ(39,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).prevSnapshot()}),t._uU(40,"fast_rewind"),t.qZA(),t.qZA(),t.TgZ(41,"div",34),t.TgZ(42,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).nextSnapshot()}),t._uU(43,"fast_forward"),t.qZA(),t.qZA(),t.TgZ(44,"div",34),t.TgZ(45,"i",36),t._uU(46,"volume_down"),t.qZA(),t.qZA(),t.TgZ(47,"div",34),t.TgZ(48,"span"),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"div",34),t.YNc(51,W,2,3,"span",37),t.qZA(),t.qZA(),t.TgZ(52,"div",38),t.TgZ(53,"div",34),t.TgZ(54,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleFullScreen()}),t._uU(55,"crop_free"),t.qZA(),t.qZA(),t.TgZ(56,"div",39),t.TgZ(57,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleSensorLayer()}),t._uU(58,"info"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(59,"div",40),t._UZ(60,"div",41),t._UZ(61,"div",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(62,"div",43),t.TgZ(63,"video",44,45),t.NdJ("loadeddata",function(w){return t.CHM(i),t.oxw(2).loadedVideo(w)})("timeupdate",function(w){return t.CHM(i),t.oxw(2).changeVideoTime(w)}),t.qZA(),t.YNc(65,V,2,2,"div",28),t.YNc(66,x,2,0,"div",29),t.YNc(67,p,4,0,"div",29),t.TgZ(68,"div",30),t.TgZ(69,"div",31),t.TgZ(70,"div",32),t.TgZ(71,"div",33),t.TgZ(72,"div",34),t.TgZ(73,"i",35),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleVideo()}),t._uU(74),t.qZA(),t.qZA(),t.TgZ(75,"div",34),t.TgZ(76,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).prevVideo()}),t._uU(77,"fast_rewind"),t.qZA(),t.qZA(),t.TgZ(78,"div",34),t.TgZ(79,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).nextVideo()}),t._uU(80,"fast_forward"),t.qZA(),t.qZA(),t.TgZ(81,"div",46),t.NdJ("click",function(w){return t.CHM(i),t.oxw(2).toggleMute(w)}),t._UZ(82,"comp-icon",47),t.qZA(),t.TgZ(83,"div",34),t.TgZ(84,"span"),t._uU(85),t.qZA(),t.qZA(),t.TgZ(86,"div",34),t.YNc(87,z,2,3,"span",37),t.qZA(),t.qZA(),t.TgZ(88,"div",38),t.TgZ(89,"div",34),t.TgZ(90,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleFullScreen()}),t._uU(91,"crop_free"),t.qZA(),t.qZA(),t.TgZ(92,"div",39),t.TgZ(93,"i",12),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).toggleSensorLayer()}),t._uU(94,"info"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",40),t._UZ(96,"div",41),t._UZ(97,"div",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(98,"div",48),t.TgZ(99,"div"),t.TgZ(100,"div",49),t._uU(101),t.qZA(),t.TgZ(102,"div",50),t.YNc(103,K,2,1,"span",51),t.YNc(104,X,2,0,"span",52),t.TgZ(105,"span"),t._uU(106,"\u2022"),t.qZA(),t.TgZ(107,"span"),t._uU(108),t.qZA(),t.qZA(),t.qZA(),t.TgZ(109,"div",53),t.YNc(110,R,4,2,"div",54),t.YNc(111,nt,4,2,"div",54),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(112,ct,3,0,"div",55),t.qZA()}if(2&L){const i=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(1),t.Q6J("ngIf",!("playback"===i.event.event_type||"timelapse"===i.event.event_type||"do"===i.event.event_type)),t.xp6(1),t.ekj("alarm","active"===i.curEvent.event_status&&("di"===i.event.event_type||"onvif"===i.event.event_type))("restoral","inactive"===i.curEvent.event_status&&("di"===i.event.event_type||"onvif"===i.event.event_type))("playback","playback"===i.event.event_type)("timelapse","timelapse"===i.event.event_type),t.xp6(6),t.AsE("",i.curEvent.site_event_time," (",i.getIntuitiveTimeStamp(),")"),t.xp6(2),t.Q6J("ngIf","di"===i.event.event_type||"onvif"===i.event.event_type),t.xp6(1),t.Q6J("ngIf","playback"===i.event.event_type),t.xp6(1),t.Q6J("ngIf","timelapse"===i.event.event_type),t.xp6(1),t.Q6J("ngIf","do"===i.event.event_type&&"Relay"===i.event.category),t.xp6(5),t.ekj("disabled",!i.curEvent.is_snapshot_upload)("selected-snapshot","snapshot"===i.curVideoType),t.xp6(2),t.ekj("selected-video","video"===i.curVideoType)("disabled",!i.curEvent.is_video_upload||i.isPrivacy),t.xp6(5),t.ekj("ready-video","snapshot"===i.curVideoType),t.xp6(1),t.Q6J("src",i.safeSnapshots[i.curSnapshotIdx]?i.safeSnapshots[i.curSnapshotIdx]:i.blank,t.LSH),t.xp6(1),t.Q6J("ngIf",i.isPrivacy),t.xp6(1),t.Q6J("ngIf",i.isPrivacy&&i.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",i.camera.device_id&&i.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",i.isPrivacy),t.xp6(7),t.Oqu(i.isPlaySnapshot?"pause":"play_arrow"),t.xp6(12),t.AsE("",i.curIdx," / ",i.totalIdx,""),t.xp6(2),t.Q6J("ngForOf",i.speedList),t.xp6(5),t.Q6J("title",i.isVisibleSensorLayer?"Hide Sensor Overlay":"Show Sensor Overlay"),t.xp6(1),t.ekj("enable-sensor",i.isVisibleSensorLayer),t.xp6(4),t.Udp("width",12.5*(i.curSnapshotIdx+1)+"%"),t.xp6(1),t.ekj("ready-video",i.isReadyVideo&&"video"===i.curVideoType),t.xp6(1),t.Q6J("src",i.safeMp4Video?i.safeMp4Video:i.blank,t.LSH)("muted",i.isMuted),t.xp6(2),t.Q6J("ngIf",i.camera.device_id&&i.isVisibleSensorLayer),t.xp6(1),t.Q6J("ngIf",i.isPrivacy),t.xp6(1),t.Q6J("ngIf",!i.hasViewVideoPerm),t.xp6(4),t.ekj("disabled",i.isPrivacy),t.xp6(3),t.Oqu(i.isPlayVideo?"pause":"play_arrow"),t.xp6(7),t.ekj("disable-ctrl",!i.isAudioCodec),t.xp6(1),t.Q6J("icon",i.isMuted?"volume_off":"volume_up")("color","#fff")("size",24),t.xp6(3),t.AsE("",i.curVideoTimeStr," / ",i.totalVideoTimeStr,""),t.xp6(2),t.Q6J("ngForOf",i.speedList),t.xp6(5),t.Q6J("title",i.isVisibleSensorLayer?"Hide Sensor Overlay":"Show Sensor Overlay"),t.xp6(1),t.ekj("enable-sensor",i.isVisibleSensorLayer),t.xp6(4),t.Udp("width",i.curVideoTime/i.videoDuration*100+"%"),t.xp6(4),t.Oqu(i.event.name),t.xp6(2),t.Q6J("ngIf",i.event.zone),t.xp6(1),t.Q6J("ngIf",!i.event.zone),t.xp6(4),t.hij("EVENT ID ",i.curEvent.event_id,""),t.xp6(2),t.Q6J("ngIf",!i.isPrivacy),t.xp6(1),t.Q6J("ngIf",!i.isPrivacy),t.xp6(1),t.Q6J("ngIf",i.isLoading)}}function gt(L,r){if(1&L&&(t.TgZ(0,"div",3),t.YNc(1,c,1,1,"div",4),t.YNc(2,st,113,70,"div",5),t.qZA()),2&L){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.modal.is_active),t.xp6(1),t.Q6J("ngIf",i.modal.is_active)}}let j=(()=>{class L{constructor(i,u,w,J,tt,dt){this.usersService=i,this.eventsService=u,this.commonService=w,this.sanitizer=J,this.logsService=tt,this.devicesService=dt,this.onClose=new t.vpe,this.onOpenModal=new t.vpe,this.enable_modal=!1,this.isLoading=!1,this.m_warning=new h.u,this.m_downloadLink=new h.u,this.event={},this.alarmEvent={},this.restoralEvent={},this.curEvent={},this.curEventType="",this.site={},this.logs=[],this.deviceLogs=[],this.records=[],this.snapshotUrls=[],this.snapshots=[],this.blobUrlSnapshots=[],this.safeSnapshots=[],this.mp4Url="",this.mp4Video=null,this.safeMp4Video=null,this.isAudioCodec=!1,this.isMuted=!0,this.camera={},this.isVisibleSensorLayer=!0,this.isFullScreen=!1,this.curIdx="00:00",this.totalIdx="00:00",this.curVideoType="video",this.isReadyVideo=!1,this.isReadySnapshot=!1,this.curSnapshotIdx=0,this.readySnapshotCount=0,this.totalSnapshot=8,this.curSnapshot=null,this.intervalSnapshot=null,this.intervelTime=500,this.distanceSnapshotTime=.5,this.isPlaySnapshot=!1,this.rotateSpeed=1,this.speedList=[.5,1,4],this.speedRate=1,this.isLoadedVideo=!1,this.videoDuration=0,this.curVideoTime=0,this.curVideoTimeStr="00:00",this.totalVideoTimeStr="00:00",this.isPlayVideo=!1,this.videoOptions={fps:2,loop:5,transition:!0,transitionDuration:1,videoBitrate:1024,videoCodec:"libx264",size:"640x?",audioBitrate:"128k",audioChannels:2,format:"mp4",pixelFormat:"yuv420p"},this.blank="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",this.classList=[],this.objectIdxs=[[],[],[],[],[],[],[],[]],this.isPrivacy=!1,this.hasDownloadPermission=!1,this.hasShareLinkPerm=null,this.hasViewVideoPerm=null}ngOnInit(){this.usersService.getMe().subscribe(i=>{this.me=i})}ngOnChanges(i){i.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.initData(),this.parseEventData())}ngOnDestroy(){this.stopSnapshotRotate(),this.pauseSnapshotPlay(),this.initSnapshots()}initData(){this.camera={},this.event=this.modal.data.log,this.logs=this.modal.data.logs,this.site=this.modal.data.site,this.selectedTimezone=this.modal.data.selectedTimezone,this.event.event_status=this.event.detail.event.status,this.isPrivacy=this.event.detail.event.is_privacy,this.rotateSpeed=1,this.intervelTime=500,this.speedRate=1,"active"===this.event.event_status?(this.alarmEvent=this.event,this.curEventType="alarm",this.curEvent=this.alarmEvent):(this.restoralEvent=this.event,this.curEventType="restoral",this.curEvent=this.restoralEvent),this.curEvent.site_event_time=this.curEvent.detail.event?f()(this.curEvent.detail.event.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"):f()(this.curEvent.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss")}parseEventData(){this.initSnapshots(),this.getEventRecords(),this.getCoupleEvent()}initSnapshots(){this.isReadyVideo=!1,this.isReadySnapshot=!1,this.isPlaySnapshot=!1,this.hasDownloadPermission=!1,this.readySnapshotCount=0,this.curSnapshotIdx=0,this.totalSnapshot=8,this.snapshots=[],this.snapshotUrls=[],this.safeSnapshots=[],this.blobUrlSnapshots=[],this.rotateSpeed=1,this.speedList=[.5,1,4],this.speedRate=1,this.mp4Url="",this.mp4Video=null,this.safeMp4Video=null,this.isLoadedVideo=!1,this.curEvent.is_video_upload&&(this.curVideoType="video",this.isReadyVideo=!0),this.curEvent.is_snapshot_upload&&!this.curEvent.is_video_upload&&(this.curVideoType="snapshot",this.isReadyVideo=!0)}loadFfmpeg(){let i=document.createElement("script");i.type="text/javascript",i.src="/assets/scripts/ffmpeg-worker-mp4.js",document.body.appendChild(i)}getEventRecords(){this.eventsService.getSiteDeviceEventRecords(this.me.dealer_id,this.site.site_id,this.curEvent.device_id,this.curEvent.event_id).subscribe(tt=>{this.hasViewVideoPerm=!0,this.records=tt,this.hasDownloadPermission=!!tt[0].has_download_permission,this.hasShareLinkPerm=!!tt[0].has_share_download_link_permission,this.getSnapshots(tt),this.getEventVideo(tt),this.getEventClassifications(tt)},tt=>{this.hasViewVideoPerm=403!==tt.status,this.commonService.showErrorToast(tt,"Request View Event Video")})}getSnapshots(i){!this.curEvent.is_snapshot_upload||(this.isLoading=!0,this.snapshotUrls=i.filter(u=>"jpg"===u.format),this.safeSnapshots=[],this.totalSnapshot=this.snapshotUrls.length,this.totalIdx=this.toHHMMSS(this.snapshotUrls.length*this.distanceSnapshotTime),this.snapshotUrls.forEach((u,w)=>{this.getSnapshot(u.url,w)}))}getSnapshot(i,u){let w=window.URL;this.eventsService.getSnapshotFromUrl(i).subscribe(J=>{this.blobUrlSnapshots[u]=w.createObjectURL(J),this.safeSnapshots[u]=this.sanitizer.bypassSecurityTrustUrl(w.createObjectURL(J)),this.snapshots[u]=J,this.readySnapshotCount+=1,this.readySnapshotCount===this.totalSnapshot&&(this.curSnapshot=this.snapshots[0],this.isReadySnapshot=!0,this.isLoading=!1)})}getEventClassifications(i){if(!this.isPrivacy)return;const u=this.me.dealer_id,w=this.site.site_id,J=this.event.event_id;i.forEach((tt,dt)=>{this.eventsService.getEventSnapshotClassification(u,w,J,tt.record_id).subscribe(Mt=>{const wt=Mt[0].objects;this.objectIdxs[dt]=[],wt&&wt.forEach(Pt=>{let At=Pt.probability;!At&&Pt.prob&&(At=Pt.prob),("car"===(Pt.class+"").toLocaleLowerCase()&&+At>.5||"truck"===(Pt.class+"").toLocaleLowerCase()&&+At>.5||"bus"===(Pt.class+"").toLocaleLowerCase()&&+At>.5||"cat"===(Pt.class+"").toLocaleLowerCase()&&+At>.38||"dog"===(Pt.class+"").toLocaleLowerCase()&&+At>.38||"person"===(Pt.class+"").toLocaleLowerCase()&&+At>.38)&&this.objectIdxs[dt].push({class:Pt.class,probability:At,top:900*Pt.top,left:1600*Pt.left,height:900*(+Pt.bottom-+Pt.top),width:1600*(+Pt.right-+Pt.left)})})})}),this.startSnapshotRotate()}toggleVideoType(i){this.curVideoType!==i&&(this.pauseSnapshotPlay(),this.pauseVideo(),this.curVideoType=i,"video"===this.curVideoType?this.isLoadedVideo?this.startVideo():this.loadVideo():"snapshot"===this.curVideoType&&this.startSnapshotPlay())}getEventVideo(i){this.isPrivacy&&(this.isLoading=!1);let u=i.filter(w=>"mp4"===w.format);u.length>0&&(this.mp4Url=u[0].url,this.getMP4Video(this.mp4Url))}getMP4Video(i){let u=window.URL;this.eventsService.getSnapshotFromUrl(i).subscribe(w=>{this.safeMp4Video=this.sanitizer.bypassSecurityTrustUrl(u.createObjectURL(w)),this.mp4Video=w,this.checkVideoAudio(u.createObjectURL(w))})}getActivityLogDetail(i){this.logsService.getActivityLogDetail(this.me.dealer_id,i.id).subscribe(J=>{i.detail=J,J.receiver.logs&&(i.event_code=J.receiver.logs[0].event_code),i.event_status=i.detail.event.status,i.site_event_time=i.detail.event?f()(i.detail.event.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"):f()(i.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"),this.setEventDescription(i)})}getCoupleEvent(){let i=[];this.logs.forEach(w=>{const J=JSON.parse(w.meta);J.req&&J.req.body&&(w.eventStatus=J.req.body.status,w.device_id===this.curEvent.device_id&&w.eventStatus&&i.push(w))}),this.deviceLogs=i;let u=[];"active"===this.curEvent.event_status?(console.log("active"),this.alarmEvent=this.curEvent,u=this.deviceLogs.filter(w=>parseInt(this.curEvent.id)<parseInt(w.id)&&"inactive"===w.eventStatus),console.log(u),u.slice(-1)[0]&&(console.log("active log",u.slice(-1)[0]),this.restoralEvent=u.slice(-1)[0],this.getActivityLogDetail(this.restoralEvent))):"inactive"===this.curEvent.event_status&&(console.log("inactive"),this.restoralEvent=this.curEvent,u=this.deviceLogs.filter(w=>parseInt(this.curEvent.id)>parseInt(w.id)&&"active"===w.eventStatus),console.log(u),u[0]&&(console.log("inactive log",u[0]),this.alarmEvent=u[0],this.getActivityLogDetail(this.alarmEvent)))}selectEvent(i){let u=!1;"alarm"===i&&this.alarmEvent.id?(this.curEventType="alarm",this.curEvent=this.alarmEvent,u=!0):"restoral"===i&&this.restoralEvent.id&&(this.curEvent=this.restoralEvent,this.curEventType="restoral",u=!0),u&&(this.initSnapshots(),this.getEventRecords())}setEventDescription(i){JSON.parse(i.meta);let w=JSON.parse(i.meta).res;"upload"===i.action&&"Bridge"===i.trigger&&w&&(i.is_snapshot_upload=w.is_snapshot_upload,i.is_video_upload=w.is_video_upload),i.detail.related_logs.forEach(tt=>{const dt=JSON.parse(tt.meta);tt.siteEventTime=f()(tt.created).utc().tz(this.selectedTimezone).format("MM/DD/YY HH:mm:ss"),dt.res&&(dt.res.is_snapshot_upload&&(i.is_snapshot_upload=!0),dt.res.is_video_upload&&(i.is_video_upload=!0))})}getDeviceData(){this.parseEventData()}toHHMMSS(i){var u=parseInt(Math.floor(i).toString(),10);let w="",J=Math.floor(u/3600),tt=Math.floor((u-3600*J)/60),dt=u-3600*J-60*tt;return J<10&&(J="0"+J),tt<10&&(tt="0"+tt),dt<10&&(dt="0"+dt),w="00"===J?tt+":"+dt:J+":"+tt+":"+dt,w}getIntuitiveTimeStamp(){const i=f()(this.curEvent.detail.event.created).unix();return this.commonService.getIntuitiveTimeStamp(i)}downloadSnapshotToMp4(){}downloadSnapshotToGif(){M.createGIF({images:this.blobUrlSnapshots,numFrames:1,gifWidth:640,gifHeight:360},i=>{let u=window.URL;if(i.error)console.log(i.error);else{let J=this.b64toBlob(i.image,"image/gif",512),tt=u.createObjectURL(J),dt=document.createElement("a");dt.href=tt,dt.target="_blank",dt.download=`${this.curEvent.event_id}.gif`,document.body.appendChild(dt),dt.click()}})}download(){"snapshot"===this.curVideoType?this.downloadSnapshotToGif():this.downloadMP4()}downloadSnapshots(){let i=Object.keys(this.snapshots);var u=new(S());i.forEach(w=>{u.file(`${this.curEvent.event_id}_${w}.jpg`,this.snapshots[w])}),u.generateAsync({type:"blob"}).then(w=>{var J=URL.createObjectURL(w),tt=document.createElement("a");tt.href=J,tt.target="_blank",tt.download=`${this.curEvent.event_id}.zip`,document.body.appendChild(tt),tt.click()},w=>{console.log(w)})}downloadMP4(){var u=URL.createObjectURL(this.mp4Video),w=document.createElement("a");w.href=u,w.target="_blank",w.download=`${this.curEvent.event_id}.mp4`,document.body.appendChild(w),w.click()}b64toBlob(i,u,w){i=i.replace("data:image/gif;base64,",""),u=u||"",w=w||512;for(var J=window.atob(i),tt=[],dt=0;dt<J.length;dt+=w){for(var bt=J.slice(dt,dt+w),Mt=new Array(bt.length),wt=0;wt<bt.length;wt++)Mt[wt]=bt.charCodeAt(wt);var Pt=new Uint8Array(Mt);tt.push(Pt)}return new Blob(tt,{type:u})}startSnapshotRotate(){this.stopSnapshotRotate(),this.isPlaySnapshot=!0,this.totalIdx=this.toHHMMSS(this.snapshotUrls.length*this.distanceSnapshotTime),this.intervalSnapshot=setInterval(()=>{this.curSnapshotIdx+1>7?this.curSnapshotIdx=0:this.curSnapshotIdx+=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)},this.intervelTime)}stopSnapshotRotate(){this.isPlaySnapshot=!1,clearInterval(this.intervalSnapshot),this.intervalSnapshot=null}toggleSnapshotPlay(){this.isPlaySnapshot?this.pauseSnapshotPlay():this.startSnapshotPlay()}startSnapshotPlay(){this.isPlaySnapshot||(this.isPlaySnapshot=!0,this.startSnapshotRotate())}pauseSnapshotPlay(){this.stopSnapshotRotate()}prevSnapshot(){this.pauseSnapshotPlay(),this.curSnapshotIdx-1<0?this.curSnapshotIdx=0:this.curSnapshotIdx-=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)}nextSnapshot(){this.pauseSnapshotPlay(),this.curSnapshotIdx+1>7?this.curSnapshotIdx=0:this.curSnapshotIdx+=1,this.curIdx=this.toHHMMSS(this.curSnapshotIdx*this.distanceSnapshotTime)}changeRotateSpeed(i){this.pauseSnapshotPlay(),this.rotateSpeed=i,this.intervelTime=1/i*500,this.startSnapshotPlay()}toggleVideo(i){this.isPlayVideo?this.pauseVideo():this.startVideo()}loadVideo(){this.isLoading=!0,this.isPrivacy?this.isLoading=!1:(this.videoplayer.nativeElement.load(),this.videoplayer.nativeElement.loop=!0)}loadedVideo(i){if(this.isLoading=!1,this.isPlaySnapshot)return void this.pauseVideo();this.isLoadedVideo=!0,this.startVideo();let u=this.videoplayer.nativeElement.duration;this.videoDuration=u,u=Math.ceil(u),this.totalVideoTimeStr=this.toHHMMSS(u)}changeVideoTime(i){if(this.isPlaySnapshot)return;let u=this.videoplayer.nativeElement.currentTime;this.curVideoTime=u,u=Math.ceil(u),this.curVideoTimeStr=this.toHHMMSS(u)}startVideo(){this.isPlayVideo=!0,this.videoplayer.nativeElement.play()}pauseVideo(){this.isPlayVideo=!1,this.videoplayer.nativeElement.pause()}prevVideo(){this.pauseVideo(),this.videoplayer.nativeElement&&(this.videoplayer.nativeElement.currentTime=this.videoplayer.nativeElement.currentTime-1)}nextVideo(){this.pauseVideo(),this.videoplayer.nativeElement&&(this.videoplayer.nativeElement.currentTime=this.videoplayer.nativeElement.currentTime+1)}changeVideoPlayRate(i){this.speedRate=i,this.videoplayer.nativeElement.playbackRate=i,this.startVideo()}toggleMute(i){let u=this.videoplayer.nativeElement;!u||!this.isAudioCodec||(u.muted?(u.muted=!1,this.isMuted=!1):(u.muted=!0,this.isMuted=!0))}checkVideoAudio(i){let u=this.videoplayer.nativeElement;!u||fetch(i).then(w=>w.blob()).then(w=>this.commonService.getAudioCodecFromMP4(w)).then(w=>{null!==w&&(u.volume=.5,this.isAudioCodec=!0)})}toggleSensorLayer(){var i;if(!(null===(i=this.curEvent)||void 0===i?void 0:i.device_id))return this.isVisibleSensorLayer=!1;this.isVisibleSensorLayer=!this.isVisibleSensorLayer}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;let i=this.viewer.nativeElement;if(i)if(this.isFullScreen){let u=this.viewer.nativeElement,w=u.requestFullscreen||u.webkitRequestFullScreen||u.mozRequestFullscreen||u.msRequestFullscreen;w&&w.call(u)}else i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen(),document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}openDownloadLinkModal(){this.m_downloadLink.data.site=this.site,this.m_downloadLink.data.event=this.event,this.m_downloadLink.open()}closeDownloadLinkModal(){}confirmDialog(i="",u="",w="done",J="#1abc9c"){this.m_warning.data={header:i,contents:`\n        <p>${u}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:w,isConfirm:!0,color:J},this.m_warning.data.submit_func=()=>{"green"===J&&this.close()},this.m_warning.open()}errorDialog(i,u){let w="failed.";i.error&&i.error.message&&(w=i.error.message),i._body&&(w=JSON.parse(i._body).message),setTimeout(()=>{this.confirmDialog(u,w,"warning","orange")},200),this.isLoading=!1}close(i){this.pauseSnapshotPlay(),this.pauseVideo(),this.initSnapshots(),this.onClose.next(i||{res:!1}),this.modal.close(),setTimeout(u=>{this.enable_modal=!1},200)}}return L.\u0275fac=function(i){return new(i||L)(t.Y36(E.f),t.Y36(g.n),t.Y36(P.v),t.Y36(l.H7),t.Y36(O.P),t.Y36(v.I))},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-event-viewer"]],viewQuery:function(i,u){if(1&i&&(t.Gf(ot,5),t.Gf(pt,5)),2&i){let w;t.iGM(w=t.CRH())&&(u.videoplayer=w.first),t.iGM(w=t.CRH())&&(u.viewer=w.first)}},inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose",onOpenModal:"onOpenModal"},features:[t.TTD],decls:3,vars:4,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[3,"modal","active","onClose"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","viewer-modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"viewer-modal"],["class","event-header",4,"ngIf"],[1,"modal-header"],[2,"position","relative","width","160px"],[1,"close-btn"],[1,"material-icons",3,"click"],[1,"modal-header-label","center"],[1,"modal-header-label",2,"position","relative","width","160px","justify-content","flex-end"],["style","display: flex;align-items: center;",4,"ngIf"],[1,"viewer-container"],[1,"snapshot-viewer-container"],[1,"video-select-container"],[1,"video-select-box"],[1,"video-select-tab",3,"click"],[1,"snapshot-viewer"],["viewer",""],[1,"snapshot-background"],[1,"snapshot-content"],[1,"snapshot-img-layer",3,"src"],["class","snapshot-img-layer",3,"src",4,"ngIf"],["class","object-locations",4,"ngIf"],["class","sensor-layer",4,"ngIf"],["class","privacy-background",4,"ngIf"],[1,"snapshot-control-layer"],[2,"width","100%"],[1,"video-ctrl-bar"],[1,"video-ctrls"],[1,"video-ctrl"],[1,"material-icons",2,"font-size","30px",3,"click"],[1,"material-icons","disable-ctrl"],["class","video-speed",3,"selected-speed","click",4,"ngFor","ngForOf"],[1,"video-ctrls",2,"justify-content","flex-end"],[1,"video-ctrl",3,"title"],[2,"position","relative"],[1,"timebar"],[1,"cur-timebar"],[1,"video-content"],["loop","",1,"video-box",3,"src","muted","loadeddata","timeupdate"],["eventvideo",""],[1,"video-ctrl",3,"click"],[3,"icon","color","size"],[1,"snapshot-viewer-tail"],[1,"device-name"],[1,"device-zone"],[4,"ngIf"],["class","no-zone",4,"ngIf"],[1,"viewer-button-area"],["class","viewer-button",3,"disabled","click",4,"ngIf"],["class","loader absolute",4,"ngIf"],[1,"event-header"],[1,"event-type",3,"click"],[2,"display","flex","align-items","center"],[1,"material-icons"],[1,"object-locations"],[1,"comp-objects-location"],[1,"objects-container"],["viewBox","0 0 1600 900","preserveAspectRatio","none",1,"objects-container-svg"],["class","object-container-svg",4,"ngFor","ngForOf"],[1,"object-container-svg"],[2,"fill","hsla(0, 0%, 0%, 0.6)"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",2,"fill","rgba(255,255,255,0.9)"],[3,"ngIf"],["fill","white","font-size","40","stroke","none"],["d","M0 0h24v24H0z","fill","none"],["d","M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"],["d","M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"],["cx","4.5","cy","9.5","r","2.5"],["cx","9","cy","5.5","r","2.5"],["cx","15","cy","5.5","r","2.5"],["cx","19.5","cy","9.5","r","2.5"],["d","M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"],[1,"sensor-layer"],[3,"snapshot","meta","metaChange"],[1,"privacy-background"],[1,"video-speed",3,"click"],[1,"no-zone"],[1,"viewer-button",3,"click"],[1,"material-icons","v-reverse"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(i,u){1&i&&(t.YNc(0,gt,3,2,"div",0),t._UZ(1,"dealer-warning",1),t.TgZ(2,"app-share-download-link",2),t.NdJ("onClose",function(){return u.closeDownloadLinkModal()}),t.qZA()),2&i&&(t.Q6J("ngIf",u.enable_modal),t.xp6(1),t.Q6J("modal",u.m_warning),t.xp6(1),t.Q6J("modal",u.m_downloadLink)("active",u.m_downloadLink.is_active))},directives:[y.O5,I.a,N.c,y.sg,F.U,it],styles:[".align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.close-btn[_ngcontent-%COMP%]{width:24px;height:45px;display:flex;align-items:center;justify-content:center;color:#ffffffde;cursor:pointer}.event-header[_ngcontent-%COMP%]{display:flex;width:210px;height:40px;background:#2d2d2d;position:absolute;top:-50px;left:calc(50% - 105px);border-radius:20px;color:#fff9;font-family:Roboto}.event-header[_ngcontent-%COMP%]   .alarm[_ngcontent-%COMP%]{background-color:#742d2d;color:#ffffffde}.event-header[_ngcontent-%COMP%]   .restoral[_ngcontent-%COMP%]{background-color:#2a68a5;color:#ffffffde}.event-header[_ngcontent-%COMP%]   .event-type[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none;cursor:pointer}.event-header[_ngcontent-%COMP%]   .event-type.alarm[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#742d2d}.event-header[_ngcontent-%COMP%]   .event-type.restoral[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#2a68a5}.event-header[_ngcontent-%COMP%]   .event-type.no-event[_ngcontent-%COMP%]{cursor:initial;pointer-events:none}.event-header[_ngcontent-%COMP%]   .event-type.playback[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#31465d}.event-header[_ngcontent-%COMP%]   .event-type.timelapse[_ngcontent-%COMP%]{margin:5px;border-radius:15px;box-shadow:0 0 5px #00000080;background-color:#31465d}.viewer-modal[_ngcontent-%COMP%]{width:100%;max-width:800px;z-index:2;box-shadow:0 2px 8px #00000080;border-radius:5px;color:#fff;background-color:#2d2d2d;font-family:Roboto}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;padding:0 20px;border-top-left-radius:5px;border-top-right-radius:5px}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-label[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-label.center[_ngcontent-%COMP%]{flex:1;justify-content:center}.viewer-modal[_ngcontent-%COMP%]   .modal-header.alarm[_ngcontent-%COMP%]{background-color:#742d2d}.viewer-modal[_ngcontent-%COMP%]   .modal-header.restoral[_ngcontent-%COMP%]{background-color:#2a68a5}.viewer-modal[_ngcontent-%COMP%]   .modal-header.playback[_ngcontent-%COMP%]{background-color:#31465d}.viewer-modal[_ngcontent-%COMP%]   .modal-header.timelapse[_ngcontent-%COMP%]{background-color:#31465d}.body[_ngcontent-%COMP%]{padding:16px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:45px;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]{width:430px;height:22px;border-radius:5px;background-color:#3e3e3e;display:flex;color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .video-select-tab[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;flex:1;cursor:pointer;background-color:#353535}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .selected-snapshot[_ngcontent-%COMP%]{border:solid 1px #2f96fb;border-top-left-radius:5px;border-bottom-left-radius:5px;background-color:#505050;color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .video-select-container[_ngcontent-%COMP%]   .video-select-box[_ngcontent-%COMP%]   .selected-video[_ngcontent-%COMP%]{border:solid 1px #2f96fb;border-top-right-radius:5px;border-bottom-right-radius:5px;background-color:#505050;color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]{position:relative;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-background[_ngcontent-%COMP%]{width:100%;padding-bottom:56.25%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;display:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content.ready-video[_ngcontent-%COMP%]{display:initial}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-img-layer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]{position:absolute;display:flex;align-content:flex-end;flex-flow:wrap;width:100%;height:100%;top:0;opacity:0;transition:.3s}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]:hover{opacity:1}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]{width:calc(100% - 40px);height:50px;padding:50px 20px 0;display:flex;justify-content:space-between;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed[_ngcontent-%COMP%]{padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed.selected-speed[_ngcontent-%COMP%]{color:#2383e2}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .enable-sensor[_ngcontent-%COMP%]{color:#d5920b}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .disable-ctrl[_ngcontent-%COMP%]{color:#ffffff4d;pointer-events:none;cursor:initial;opacity:.6}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .timebar[_ngcontent-%COMP%]{width:100%;height:3px;background:rgba(255,255,255,.5)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .snapshot-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .cur-timebar[_ngcontent-%COMP%]{transition:.2s;position:absolute;top:0;height:3px;background:#2383e2;transition-timing-function:linear}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;display:none}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content.ready-video[_ngcontent-%COMP%]{display:initial}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;object-fit:fill}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]{position:absolute;display:flex;align-content:flex-end;flex-flow:wrap;width:100%;height:100%;top:0;opacity:0;transition:.3s}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]:hover{opacity:1}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]{width:calc(100% - 40px);height:50px;padding:50px 20px 0;display:flex;justify-content:space-between;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed[_ngcontent-%COMP%]{padding:0 10px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .video-speed.selected-speed[_ngcontent-%COMP%]{color:#2383e2}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .video-ctrl[_ngcontent-%COMP%]   .enable-sensor[_ngcontent-%COMP%]{color:#d5920b}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .video-ctrl-bar[_ngcontent-%COMP%]   .video-ctrls[_ngcontent-%COMP%]   .disable-ctrl[_ngcontent-%COMP%]{color:#ffffff4d;pointer-events:none;cursor:initial;opacity:.6}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .timebar[_ngcontent-%COMP%]{width:100%;height:3px;background:rgba(255,255,255,.5)}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .video-content[_ngcontent-%COMP%]   .snapshot-control-layer[_ngcontent-%COMP%]   .cur-timebar[_ngcontent-%COMP%]{transition:.2s;position:absolute;top:0;height:3px;background:#2383e2;transition-timing-function:linear}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .sensor-layer[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer[_ngcontent-%COMP%]   .privacy-background[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;background:rgba(0,0,0,.4);color:#ffffff80;font-size:1.8em}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 20px;width:calc(100% - 40px);height:75px;color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]   .viewer-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:20px;cursor:pointer;-webkit-user-select:none;user-select:none;font-size:14px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .viewer-button-area[_ngcontent-%COMP%]   .viewer-button[_ngcontent-%COMP%]:hover{color:#ffffffde}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-name[_ngcontent-%COMP%]{color:#ffffffde;padding-bottom:5px;font-size:18px}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-zone[_ngcontent-%COMP%]{color:#fff9}.viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-container[_ngcontent-%COMP%]   .snapshot-viewer-tail[_ngcontent-%COMP%]   .device-zone[_ngcontent-%COMP%]   .no-zone[_ngcontent-%COMP%]{color:#ffffff4d}.md-16[_ngcontent-%COMP%]{font-size:16px}.v-reverse[_ngcontent-%COMP%]{transform:rotate(0);transform:scaleX(-1)}.comp-objects-location[_ngcontent-%COMP%]{background-color:transparent;width:100%}.comp-objects-location[_ngcontent-%COMP%]   .objects-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:calc(100% / 16 * 9)}.comp-objects-location[_ngcontent-%COMP%]   .objects-container-svg[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}",'.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),L})()},9301:(It,Z,A)=>{"use strict";A.d(Z,{Q:()=>S});var t=A(16274),e=A(93324),h=A(56447),d=A(86996),f=A(688),s=A(42741);let S=(()=>{class M{}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=s.oAB({type:M}),M.\u0275inj=s.cJS({imports:[[t.ez,e.u5,h.q,d.h,f.m]]}),M})()},61164:(It,Z,A)=>{"use strict";A.d(Z,{c:()=>C});var t=A(42741),e=A(29026),h=A(72898),d=A(76052),f=A.n(d),s=A(7611),S=A(27787),M=A(54414),E=A(16253),g=A(16274),P=A(21929),l=A(93324),O=A(84699),v=A(95974);function y(_,o){if(1&_){const b=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){return t.CHM(b),t.oxw(2).close()}),t.qZA()}2&_&&t.Q6J("@background",void 0)}function I(_,o){if(1&_){const b=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const it=t.CHM(b).$implicit;return t.oxw(4).toggleContactSelect(it)}),t.TgZ(1,"td"),t.TgZ(2,"div",34),t._UZ(3,"mat-checkbox",35),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"td",36),t._uU(7),t.qZA(),t.qZA()}if(2&_){const b=o.$implicit,Q=t.oxw(4);t.ekj("disabled",Q.isLoading||Q.isSending),t.xp6(3),t.Q6J("ngModel",b.isSelected),t.xp6(2),t.Oqu(b.name),t.xp6(2),t.Oqu(b.email)}}function N(_,o){if(1&_&&(t.TgZ(0,"div",31),t.TgZ(1,"table"),t.TgZ(2,"colgroup"),t._UZ(3,"col",17),t._UZ(4,"col",17),t.qZA(),t.TgZ(5,"tbody"),t.YNc(6,I,8,5,"tr",32),t.qZA(),t.qZA(),t.qZA()),2&_){const b=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",b.contacts)}}function F(_,o){if(1&_){const b=t.EpF();t.TgZ(0,"div",37),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"div",38),t.NdJ("click",function(){t.CHM(b);const B=t.oxw(3);return B.removeDownloadEmail(B.emailIdx)}),t._UZ(4,"comp-icon",39),t.qZA(),t.qZA()}if(2&_){const b=o.$implicit;t.xp6(2),t.Oqu(b.email),t.xp6(2),t.Q6J("icon","close")("color","#fff")("size",18)}}function et(_,o){if(1&_){const b=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(b);const B=t.oxw(3);return B.addDownloadEmail(B.inputDownloadEmail)}),t.TgZ(1,"i",41),t._uU(2,"add"),t.qZA(),t.qZA()}}function Y(_,o){1&_&&(t.TgZ(0,"div",42),t._UZ(1,"comp-icon",39),t.TgZ(2,"span",43),t._uU(3,"Invalid email format"),t.qZA(),t.qZA()),2&_&&(t.xp6(1),t.Q6J("icon","warning")("color","#f1556c")("size",14))}function H(_,o){1&_&&(t.TgZ(0,"div",44),t.O4$(),t.TgZ(1,"svg",45),t._UZ(2,"circle",46),t.qZA(),t.qZA())}const q=function(_,o){return{validation:_,invalidation:o}};function U(_,o){if(1&_){const b=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._uU(3,"Video Download Link"),t.qZA(),t.TgZ(4,"div",9),t.TgZ(5,"div",10),t.TgZ(6,"i",11),t.NdJ("click",function(){return t.CHM(b),t.oxw(2).close()}),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",12),t.TgZ(9,"div",13),t.TgZ(10,"div",14),t._uU(11," Download share link request will be sent to all emergency contacts of the site. You cannot delete the link once created. This link will be expired in 7 days. "),t.qZA(),t.TgZ(12,"div",15),t.TgZ(13,"table",16),t.TgZ(14,"colgroup"),t._UZ(15,"col",17),t._UZ(16,"col",17),t.qZA(),t.TgZ(17,"thead"),t.TgZ(18,"th"),t._uU(19,"Contacts List"),t.qZA(),t._UZ(20,"th"),t.qZA(),t.qZA(),t.YNc(21,N,7,1,"div",18),t.qZA(),t.qZA(),t.TgZ(22,"div",19),t.TgZ(23,"div",20),t._uU(24,"Email"),t.qZA(),t.TgZ(25,"div",21),t.YNc(26,F,5,4,"div",22),t.TgZ(27,"input",23),t.NdJ("ngModelChange",function(B){return t.CHM(b),t.oxw(2).inputDownloadEmail=B})("keydown",function(B){t.CHM(b);const it=t.oxw(2);return it.checkDownloadInputKey(B,it.inputDownloadEmail)})("input",function(){t.CHM(b);const B=t.oxw(2);return B.validateEmail(B.inputDownloadEmail)}),t.qZA(),t.YNc(28,et,3,0,"div",24),t.qZA(),t.YNc(29,Y,4,3,"div",25),t.qZA(),t.qZA(),t.TgZ(30,"div",26),t.TgZ(31,"div",27),t.NdJ("click",function(){return t.CHM(b),t.oxw(2).sendVideoDownloadLinks()}),t.TgZ(32,"div",28),t.TgZ(33,"span"),t._uU(34,"Send Video Download Link"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",29),t.NdJ("click",function(){return t.CHM(b),t.oxw(2).close()}),t.TgZ(36,"div",28),t.TgZ(37,"span"),t._uU(38,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(39,H,3,0,"div",30),t.qZA()}if(2&_){const b=t.oxw(2);t.Q6J("@dialog",void 0),t.xp6(21),t.Q6J("ngIf",0!==b.contacts.length),t.xp6(4),t.ekj("disabled",b.isLoading||b.isSending),t.Q6J("ngClass",t.WLB(16,q,!1===b.inputEmailErr,b.inputEmailErr)),t.xp6(1),t.Q6J("ngForOf",b.downloadEmails),t.xp6(1),t.Q6J("placeholder",3!==b.downloadEmails.length?"e.g) contact@contact.com":"This download email is limited to 3 entries.")("ngModel",b.inputDownloadEmail)("disabled",3===b.downloadEmails.length),t.xp6(1),t.Q6J("ngIf",!1===b.inputEmailErr&&b.inputDownloadEmail),t.xp6(1),t.Q6J("ngIf",b.inputEmailErr),t.xp6(2),t.ekj("disabled",b.isLoading||b.isSending||!b.validSendDownloadLinks()),t.xp6(4),t.ekj("disabled",b.isLoading||b.isSending),t.xp6(4),t.Q6J("ngIf",b.isLoading)}}function D(_,o){if(1&_&&(t.TgZ(0,"div",2),t.YNc(1,y,1,1,"div",3),t.YNc(2,U,40,19,"div",4),t.qZA()),2&_){const b=t.oxw();t.xp6(1),t.Q6J("ngIf",b.modal.is_active),t.xp6(1),t.Q6J("ngIf",b.modal.is_active)}}let C=(()=>{class _{constructor(b,Q,B,it){this.usersService=b,this.dealerService=Q,this.sitesService=B,this.eventsService=it,this.onClose=new t.vpe,this.enable_modal=!1,this.isEditMode=!1,this.isLoading=!1,this.tail_status="none",this.m_warning=new h.u,this.site={},this.event={},this.contacts=[],this.downloadEmails=[],this.inputDownloadEmail="",this.inputEmailErr=!1,this.downloadExpirationDay=7,this.sentList=[],this.isValidate=!1,this.totalSendReq=0,this.sendResponses=[],this.isSending=!1,this.isSendSuccess=!1,this.isFinished=!1}ngOnInit(){this.usersService.getMe().subscribe(b=>{this.me=b})}ngOnChanges(b){this.isEditMode=!1,this.initData(),b.active&&this.active&&(this.isLoading=!1,this.enable_modal=!0,this.modal.data.site&&(this.setData(),this.fetchSiteContact()))}initData(){this.contacts=[],this.site={},this.event={},this.inputDownloadEmail="",this.inputEmailErr=!1,this.sentList=[],this.downloadEmails=[],this.isValidate=!1,this.totalSendReq=0,this.sendResponses=[],this.isSending=!1,this.isSendSuccess=!1}setData(){this.site=this.modal.data.site,this.event=this.modal.data.event}fetchSiteContact(){this.sitesService.getSiteContacts(this.me.dealer_id,this.site.site_id).subscribe(B=>{this.contacts=B})}toggleContactSelect(b){b.isSelected=!b.isSelected}checkDownloadInputKey(b,Q){const B=b.code,it=Q.length,ot=this.downloadEmails.length;("Enter"===B||"Semicolon"===B||"Comma"===B)&&(Q=Q.replace(/[;|,|\r?\n|\r]/gi,""),this.addDownloadEmail(Q)),0===it&&ot>0&&("Delete"===B||"Backspace"===B)&&this.removeDownloadEmail(this.downloadEmails.length-1)}addDownloadEmail(b){const Q=this.downloadEmails.length,B=this.validateEmail(b);B?(this.inputEmailErr=!1,!b||Q>2||!B||(this.downloadEmails.push({email:b,err:null}),this.inputDownloadEmail="",this.inputEmailErr=!1,setTimeout(()=>{this.inputDownloadEmail="",this.inputEmailErr=!1},0))):this.inputEmailErr="Invalid email format"}removeDownloadEmail(b){this.downloadEmails.splice(b,1)}validateEmail(b){let Q=!0;if(b){if(Q=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(b),b.length<3&&0!==b.length&&(Q=!1),!Q)return void(this.inputEmailErr="Invalid email format");this.inputEmailErr=!1}else this.inputEmailErr=!1;return Q}validSendDownloadLinks(){let b=!0;return 0===this.contacts.filter(B=>B.isSelected).length&&0===this.downloadEmails.length&&(this.inputDownloadEmail&&this.validateEmail(this.inputDownloadEmail)||(b=!1)),this.isValidate=b,b}sendVideoDownloadLinks(){this.sentList=[];let b=!0;if(!this.validSendDownloadLinks())return;const Q=this.contacts.filter(T=>T.isSelected);if(this.downloadEmails.forEach(T=>{const m=this.validateEmail(T.email);T.email?m?(Q.push(T),this.sentList.push(T),T.err=!1):(T.err="Invalid email format",b=!1):T.err=null}),this.inputDownloadEmail&&this.validateEmail(this.inputDownloadEmail)&&Q.push({email:this.inputDownloadEmail}),this.totalSendReq=Q.length,!b)return;this.sendResponses=[];let B=!1;const it=this.me.dealer_id,ot=this.site.site_id,pt=this.event.device_id,c=this.event.event_id;if(it&&ot&&pt&&c&&(B=!0),B){this.isSending=!0,this.sentList=Q;const T=parseInt(f()().add(this.downloadExpirationDay,"days").utc().format("X"));Q.forEach(m=>{!m.email||!this.validateEmail(m.email)||this.eventsService.createSiteDeviceEventShareLink(it,ot,pt,c,T,1,1).subscribe(G=>{this.sendEmailDownloadLink(m,G.url)})})}}sendEmailDownloadLink(b,Q){const G="Video Download Link Shared";this.eventsService.sendPsapEmail(this.me.dealer_id,this.site.site_id,this.event.device_id,this.event.event_id,void 0,b.email,Q,1,void 0).subscribe(rt=>{this.sendResponses.push({receiver:b.email,res:!0}),this.checkSendResult(G)},rt=>{this.sendResponses.push({receiver:b.email,res:!1}),this.checkSendResult(G)})}checkSendResult(b){let Q=null,B=[];this.totalSendReq===this.sendResponses.length&&(this.isSending=!1,B=this.sendResponses.filter(it=>!1===it.res),B.length>0?(Q=!1,this.confirmDialog("Share Failed",b,"warning","#ff8f00")):(Q=!0,this.isFinished=!0,this.confirmDialog("Share Complete",b))),this.isSendSuccess=Q}create(){this.isLoading=!0,this.dealerService.createTTS(this.me.dealer_id,{}).subscribe(B=>{setTimeout(()=>{this.confirmDialog("Success","Create a talkdown message","done","#1abc9c"),this.close()},200)},B=>{setTimeout(()=>{this.confirmDialog("Faild","Create a talkdown message","warning","#f1556c")},200)})}createDialog(b="",Q="",B="note_add",it="#2383e2"){this.m_warning.data={header:b,contents:`\n        <p>${Q}</b></p>\n      `,submit_btn:this.isEditMode?"Edit":"Create",submit_class:["button-primary"],icon:B,isConfirm:!1,color:it},this.m_warning.data.submit_func=()=>{this.isEditMode||this.create()},this.m_warning.open()}confirmDialog(b="",Q="",B="done",it="green"){this.m_warning.data={header:b,contents:`\n        <p>${Q}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:B,isConfirm:!0,color:it},this.m_warning.data.submit_func=()=>{this.close()},this.m_warning.open()}errorDialog(b,Q){let B="failed.";b.error&&b.error.message&&(B=b.error.message),b._body&&(B=JSON.parse(b._body).message),setTimeout(()=>{this.confirmDialog(Q,B,"warning","orange")},200),this.isLoading=!1}close(b){this.onClose.next(b||{res:!1}),this.modal.close(),setTimeout(Q=>{this.enable_modal=!1},200)}}return _.\u0275fac=function(b){return new(b||_)(t.Y36(s.f),t.Y36(S.X),t.Y36(M.f),t.Y36(E.n))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-share-download-link"]],inputs:{active:"active",modal:"modal"},outputs:{onClose:"onClose"},features:[t.TTD],decls:2,vars:2,consts:[["class","align-center",4,"ngIf"],[3,"modal"],[1,"align-center"],["class","overlay",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"overlay",3,"click"],[1,"modal"],[1,"modal-header"],[1,"modal-header-txt"],[2,"position","relative"],[1,"title-close"],[1,"material-icons",3,"click"],[1,"items-area"],[1,"item"],[1,"description"],[1,"mt-14"],[1,"table-header"],["width","50%"],["class","table-body","style","height: 100%;",4,"ngIf"],[1,"item",2,"position","relative"],[1,"title"],[1,"share-input","email-input-area","mt-7",3,"ngClass"],["class","share-email-list-item email-label",4,"ngFor","ngForOf"],["autocomplete","off","type","text",1,"email-input","mt-7",3,"placeholder","ngModel","disabled","ngModelChange","keydown","input"],["class","share-add absolute-right","data-title","Add Email",3,"click",4,"ngIf"],["class","share-validation-error",4,"ngIf"],[1,"tail-btn-area"],[1,"button","button-primary",3,"click"],[1,"btn-inner"],[1,"button","button-white",3,"click"],["class","loader absolute",4,"ngIf"],[1,"table-body",2,"height","100%"],["class","selectable",3,"disabled","click",4,"ngFor","ngForOf"],[1,"selectable",3,"click"],[1,"row"],[2,"margin-right","10px","pointer-events","none",3,"ngModel"],[1,"right"],[1,"share-email-list-item","email-label"],[1,"btn",3,"click"],[3,"icon","color","size"],["data-title","Add Email",1,"share-add","absolute-right",3,"click"],[1,"material-icons"],[1,"share-validation-error"],[2,"margin-left","3px"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"]],template:function(b,Q){1&b&&(t.YNc(0,D,3,2,"div",0),t._UZ(1,"dealer-warning",1)),2&b&&(t.Q6J("ngIf",Q.enable_modal),t.xp6(1),t.Q6J("modal",Q.m_warning))},directives:[g.O5,P.a,g.mk,g.sg,l.Fj,l.JJ,l.On,O.oG,v.U],styles:[".align-center[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;justify-content:center;z-index:101}.dialog[_ngcontent-%COMP%]{width:90%;max-width:1010px;background-color:#fff;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;z-index:2;border-radius:2px;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.close-btn[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;background:#fff;position:absolute;right:-28px;top:-28px;display:flex;align-items:center;justify-content:center;color:#0006;box-shadow:0 2px 8px #0000004d;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:#000c}.share-input[_ngcontent-%COMP%]{position:relative;width:100%}.share-input[_ngcontent-%COMP%]   .share-email-list[_ngcontent-%COMP%]{display:flex;margin:4px 0}.share-input[_ngcontent-%COMP%]   .share-email-list-item[_ngcontent-%COMP%]{display:flex;background-color:#1f8fff;border:1px solid #1f8fff;border-radius:18px;height:24px;margin-right:7px;font-size:14px;color:#ffffffde;padding:0 7px 0 14px;align-items:center;justify-content:center}.share-input[_ngcontent-%COMP%]   .share-email-list-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer}.email-input-area[_ngcontent-%COMP%]{display:flex;min-height:48px;align-items:center;flex-wrap:wrap;border:1px solid #2383e2;background-color:#fff}input.email-input[_ngcontent-%COMP%]{flex:1;background-color:#fff;width:100%;padding:9px 50px 9px 20px;margin:4px 0;display:inline-block;border:none!important;box-sizing:border-box;outline-style:solid 1px;color:#000000de;font-size:14px}.email-label[_ngcontent-%COMP%]{margin:9px 4px;color:#0000004d}.share-add[_ngcontent-%COMP%]{margin:0 4px;color:#2f96fb;cursor:pointer}.share-add.absolute-right[_ngcontent-%COMP%]{position:absolute;top:8px;right:0}.disabled[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.share-validation-error[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;flex-direction:row;justify-content:left;align-items:center;color:#ed5e76;font-family:Roboto;font-size:12px}.validation[_ngcontent-%COMP%]{border:1px solid rgba(47,150,251,.6)}.invalidation[_ngcontent-%COMP%]{border:1px solid #ed5e76}input[type=text].validation[_ngcontent-%COMP%], [type=email].validation[_ngcontent-%COMP%], [type=tel].validation[_ngcontent-%COMP%]{border:1px solid rgba(47,150,251,.6)}input[type=text].invalidation[_ngcontent-%COMP%], [type=email].invalidation[_ngcontent-%COMP%], [type=tel].invalidation[_ngcontent-%COMP%]{border:1px solid #ed5e76}  .mat-checkbox-label{color:#0009;font-size:14px}",'.disable-full-screen[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;position:fixed;visibility:hidden;opacity:0;transition:.2s;z-index:101}.disable-full-screen[_ngcontent-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;background-color:#00000080;top:0;left:0;width:100%;height:100%;z-index:1}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000004d;z-index:1}.container-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:48px;padding:0 16px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.body[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#777;margin-top:28px}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .err[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #D25074}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font:400 14px Arial;resize:none;flex:1 1 auto;box-sizing:border-box;padding:6px 0 4px;border:0;border-bottom:2px solid #ddd;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{border-bottom:2px solid #fff;background:rgba(0,0,0,0) #b87272}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:2px solid #777}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-height:24px;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{width:100%;min-height:24px;font-size:14px;color:#333;margin-top:12px;padding:4px 0;display:flex;align-items:center}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:8px}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.body[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]{cursor:pointer}.body[_ngcontent-%COMP%]   .contents-selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%] > .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%] > .warning[_ngcontent-%COMP%]{color:#f55}.modal[_ngcontent-%COMP%]{width:100%;max-width:600px;background:white;box-shadow:0 4px 8px #777;z-index:2;border-radius:5px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;border-bottom:.5px solid rgba(0,0,0,.1)}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-header-txt[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:16px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;background-color:#f7fafc;border-radius:5px 5px 0 0}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#fff;text-transform:uppercase}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:12px;color:#fffc;padding:8px 0 32px;line-height:.8}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;margin-left:8px;color:#fffc;transition:.1s}.modal[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]{flex:1;display:block;overflow-y:overlay;padding:30px 20px 20px;border-bottom:.5px solid rgba(0,0,0,.1);background-color:#f8fafc;display:flex;flex-direction:column;font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#0009;font-size:12px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:8px;background-color:#fff;border:1px solid #eeeeee;font-size:14px;transition:.2s;text-indent:0px;font-weight:400;resize:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{font-size:14px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #2383e2}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:20px}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:7px 10px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #1f8fff61;outline:none}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #d25074}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]{background-color:#f5f5f5}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.dark[_ngcontent-%COMP%]:focus{background-color:#fff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.disabled[_ngcontent-%COMP%]{background-color:#eee;opacity:1}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.err[_ngcontent-%COMP%]{outline:none;border:1px solid #D25074!important;background-color:#fff!important}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.correct[_ngcontent-%COMP%]{border:solid 1px #e0e0e0;background-color:#e5f2ff}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   input.input-err[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f1556c}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .site-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:0;border:none;outline:none;background-color:transparent}.modal[_ngcontent-%COMP%]   .items-area[_ngcontent-%COMP%]   .item.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.modal[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{padding:16px 32px;display:flex;flex-direction:column;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .body-center[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:800px;overflow-y:overlay}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center;padding:0 32px 30px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{flex:1}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:7px 14px;color:#888;font-size:14px;font-weight:500;transition:.2s;text-transform:capitalize;border-radius:5px}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{background:#2383e2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{background:#2ea0ff;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]{background:orange;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-warning[_ngcontent-%COMP%]:hover{background:#ffb938;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{background:#ddd;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]{background:#f1556d;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-danger[_ngcontent-%COMP%]:hover{background:#f47185;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]{background:#d1d2d2;color:#fff}.modal[_ngcontent-%COMP%] > .tail[_ngcontent-%COMP%]   .button-normal[_ngcontent-%COMP%]:hover{background:#b2b3b3;color:#fff}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.dropdown-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default;pointer-events:none}.inactive[_ngcontent-%COMP%]{pointer-events:none;filter:grayscale(.3);opacity:.8}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.title-close[_ngcontent-%COMP%]{position:absolute;display:flex;top:3px;right:6px;width:45px;height:45px;align-items:center;justify-content:center;font-size:14px;color:#0009;cursor:pointer;transition:.2s}.title-close[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;border-radius:22px}.tail-btn-area[_ngcontent-%COMP%]{border-radius:5px;padding:12px 20px}.row[_ngcontent-%COMP%]{display:flex}.row.between[_ngcontent-%COMP%]{justify-content:space-between}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;flex:1;overflow-y:overlay;overflow-x:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;padding:10px 7px;color:#000000de;text-transform:capitalize;text-align:left;font-size:12px;font-weight:normal;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#0009;border-bottom:1px rgba(0,0,0,.1) solid;padding:14px}.selectable[_ngcontent-%COMP%]{cursor:pointer}.selectable[_ngcontent-%COMP%]:hover{background:#f0f0f0}'],data:{animation:[e.ge,e.ku,e.$r,e.OP]}}),_})()},86996:(It,Z,A)=>{"use strict";A.d(Z,{h:()=>S});var t=A(16274),e=A(93324),h=A(56447),d=A(84699),f=A(688),s=A(42741);let S=(()=>{class M{}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=s.oAB({type:M}),M.\u0275inj=s.cJS({imports:[[t.ez,e.u5,d.p9,h.q,f.m]]}),M})()}}]);