"use strict";(self.webpackChunkchekt_web_wcs=self.webpackChunkchekt_web_wcs||[]).push([[3991],{39014:(T,O,_)=>{_.d(O,{a:()=>U});var a=_(42741),M=_(98753),w=_(16274);const r=["sortable-column",""];function Z(u,b){1&u&&(a.O4$(),a.TgZ(0,"svg",3),a.TgZ(1,"g",4),a.TgZ(2,"g",5),a._UZ(3,"polygon",6),a.qZA(),a.qZA(),a.qZA())}function m(u,b){1&u&&(a.O4$(),a.TgZ(0,"svg",3),a.TgZ(1,"g"),a.TgZ(2,"g",7),a._UZ(3,"polygon",8),a.qZA(),a.TgZ(4,"g",7),a._UZ(5,"polygon",6),a.qZA(),a.qZA(),a.qZA())}function t(u,b){1&u&&(a.O4$(),a.TgZ(0,"svg",3),a.TgZ(1,"g",4),a.TgZ(2,"g",5),a._UZ(3,"polygon",8),a.qZA(),a.qZA(),a.qZA())}function A(u,b){if(1&u&&(a.YNc(0,Z,4,0,"svg",2),a.YNc(1,m,6,0,"svg",2),a.YNc(2,t,4,0,"svg",2)),2&u){const f=a.oxw();a.Q6J("ngIf","asc"===f.sortDirection),a.xp6(1),a.Q6J("ngIf",""===f.sortDirection),a.xp6(1),a.Q6J("ngIf","desc"===f.sortDirection)}}function k(u,b){1&u&&(a.O4$(),a.TgZ(0,"svg",3),a.TgZ(1,"g",4),a.TgZ(2,"g",5),a._UZ(3,"polygon",6),a.qZA(),a.qZA(),a.qZA())}function x(u,b){1&u&&(a.O4$(),a.TgZ(0,"svg",3),a.TgZ(1,"g"),a.TgZ(2,"g",7),a._UZ(3,"polygon",8),a.qZA(),a.TgZ(4,"g",7),a._UZ(5,"polygon",6),a.qZA(),a.qZA(),a.qZA())}function q(u,b){1&u&&(a.O4$(),a.TgZ(0,"svg",3),a.TgZ(1,"g",4),a.TgZ(2,"g",5),a._UZ(3,"polygon",8),a.qZA(),a.qZA(),a.qZA())}function I(u,b){if(1&u&&(a.YNc(0,k,4,0,"svg",2),a.YNc(1,x,6,0,"svg",2),a.YNc(2,q,4,0,"svg",2)),2&u){const f=a.oxw();a.Q6J("ngIf","asc"===f.sortDirection),a.xp6(1),a.Q6J("ngIf",""===f.sortDirection),a.xp6(1),a.Q6J("ngIf","desc"===f.sortDirection)}}const D=["*"];let U=(()=>{class u{constructor(f){this.sortService=f,this.sortDirection="",this.iconPosition="right"}sort(){this.sortDirection="asc"===this.sortDirection?"desc":"asc",this.sortService.columnSorted({sortColumn:this.columnName,sortDirection:this.sortDirection})}ngOnInit(){this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(f=>{this.columnName!=f.sortColumn&&(this.sortDirection="")})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return u.\u0275fac=function(f){return new(f||u)(a.Y36(M.K))},u.\u0275cmp=a.Xpm({type:u,selectors:[["","sortable-column",""]],hostBindings:function(f,S){1&f&&a.NdJ("click",function(){return S.sort()})},inputs:{columnName:["sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"],iconPosition:["sort-icon","iconPosition"]},attrs:r,ngContentSelectors:D,decls:4,vars:2,consts:[[2,"display","flex","align-items","center"],[3,"ngIf"],["width","12","height","8px","viewBox","0 0 200 200",4,"ngIf"],["width","12","height","8px","viewBox","0 0 200 200"],["fill","#5A6574"],["id","arrow-drop-down"],["points","0,120 100,200 200,120"],["id","arrow-drop-down","fill","#5A6574"],["points","0,80 100,0 200,80"]],template:function(f,S){1&f&&(a.F$t(),a.TgZ(0,"div",0),a.YNc(1,A,3,3,"ng-template",1),a.Hsn(2),a.YNc(3,I,3,3,"ng-template",1),a.qZA()),2&f&&(a.xp6(1),a.Q6J("ngIf","left"===S.iconPosition&&S.columnName),a.xp6(2),a.Q6J("ngIf","right"===S.iconPosition&&S.columnName))},directives:[w.O5],encapsulation:2}),u})()},28522:(T,O,_)=>{_.d(O,{Q:()=>w});var a=_(42741),M=_(98753);let w=(()=>{class r{constructor(m){this.sortService=m,this.sorted=new a.vpe}ngOnInit(){this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(m=>{this.sorted.emit(m)})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return r.\u0275fac=function(m){return new(m||r)(a.Y36(M.K))},r.\u0275dir=a.lG2({type:r,selectors:[["","sortable-table",""]],outputs:{sorted:"sorted"}}),r})()},13991:(T,O,_)=>{_.r(O),_.d(O,{CloudVMSManagerModule:()=>ae});var a=_(16274),M=_(93324),w=_(29535),r=_(61855),Z=_(11822),m=_(25229),t=_(42741),A=_(35460),k=_(17611),x=_(73121),q=_(1906),I=_(56880),D=_(54414),U=_(47588),u=_(95974),b=_(28522),f=_(39014);const S=["dealerSelect"],Y=["statusSelect"],R=["planSelect"],j=["selectDropdown"],G=["siteActionMenus"];function $(i,l){1&i&&(t.TgZ(0,"div",3),t.O4$(),t.TgZ(1,"svg",4),t._UZ(2,"circle",5),t.qZA(),t.qZA())}function W(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isShowDealerSelect=!0}),t._UZ(1,"comp-icon",24),t.TgZ(2,"span"),t._uU(3,"Dealer Filter"),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.Q6J("icon","filter_list")("size",16)("color","hsla(0,0%,0%,0.6)"))}function K(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span",28),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).isShowDealerSelect=!0}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.selectedDealer.name)}}function X(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"i",25),t._uU(2,"person"),t.qZA(),t.YNc(3,K,2,1,"span",26),t.TgZ(4,"i",27),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).clearDealerFilter()}),t._uU(5,"cancel"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.selectedDealer)}}function tt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",36),t.NdJ("click",function(o){const c=t.CHM(e).$implicit,d=t.oxw(3);return o.stopPropagation(),d.selectDealer(c)}),t.TgZ(1,"div",37),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(3);t.xp6(1),t.ekj("selected",(null==e?null:e.value)==(null==n.selectedDealer?null:n.selectedDealer.value)),t.xp6(1),t.Oqu(e.name)}}function et(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",29),t.TgZ(1,"div",30,31),t.TgZ(3,"div",32),t.TgZ(4,"input",33),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).searchDealerTxt=o})("input",function(){t.CHM(e);const o=t.oxw(2);return o.searchFilterDealer(o.searchDealerTxt)}),t.qZA(),t.qZA(),t.TgZ(5,"div",34),t.YNc(6,tt,3,3,"div",35),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.searchDealerTxt),t.xp6(2),t.Q6J("ngForOf",e.searchDealerList)}}function nt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).isShowStatusSelect=!0}),t._UZ(1,"comp-icon",24),t.TgZ(2,"span"),t._uU(3,"Status"),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.Q6J("icon","filter_list")("size",16)("color","hsla(0,0%,0%,0.6)"))}function it(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span",28),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).isShowStatusSelect=!0}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(4);t.xp6(1),t.Oqu(e.selectedStatusListLabels)}}function ot(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"i",25),t._uU(2,"expand_circle_down"),t.qZA(),t.YNc(3,it,2,1,"span",26),t.TgZ(4,"i",27),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).clearStatusFilter()}),t._uU(5,"cancel"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",null==e.selectedStatusList?null:e.selectedStatusList.length)}}function at(i,l){1&i&&(t.TgZ(0,"i",46),t._uU(1,"check_box_outline_blank"),t.qZA())}function st(i,l){1&i&&(t.TgZ(0,"i",47),t._uU(1,"check_box"),t.qZA())}function lt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",36),t.NdJ("click",function(o){const c=t.CHM(e).$implicit;return t.oxw(4).selectStatus(o,c)}),t.TgZ(1,"div",43),t.YNc(2,at,2,0,"i",44),t.YNc(3,st,2,0,"i",45),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(2),t.Q6J("ngIf",!e.isSelected),t.xp6(1),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Oqu(e.label)}}function ct(i,l){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"div",30,39),t.TgZ(3,"div",40),t.TgZ(4,"div",41),t.TgZ(5,"div",42),t._uU(6,"Status"),t.qZA(),t.qZA(),t.YNc(7,lt,6,3,"div",35),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(3);t.xp6(7),t.Q6J("ngForOf",e.statusList)}}function rt(i,l){if(1&i&&(t.TgZ(0,"div",12),t.TgZ(1,"div",13),t.TgZ(2,"div",14),t.YNc(3,nt,4,3,"div",15),t.YNc(4,ot,6,1,"ng-container",16),t.qZA(),t.qZA(),t.YNc(5,ct,8,1,"div",19),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf","All"==e.selectedStatusListLabels),t.xp6(1),t.Q6J("ngIf","All"!=e.selectedStatusListLabels),t.xp6(1),t.Q6J("ngIf",e.isShowStatusSelect)}}function dt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isShowPlanSelect=!0}),t._UZ(1,"comp-icon",24),t.TgZ(2,"span"),t._uU(3,"Current Plan"),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.Q6J("icon","filter_list")("size",16)("color","hsla(0,0%,0%,0.6)"))}function _t(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"span",28),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).isShowPlanSelect=!0}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.selectedPlanListLabels)}}function gt(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"i",25),t._uU(2,"expand_circle_down"),t.qZA(),t.YNc(3,_t,2,1,"span",26),t.TgZ(4,"i",27),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).clearPlanFilter()}),t._uU(5,"cancel"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedPlanList?null:e.selectedPlanList.length)}}function pt(i,l){1&i&&(t.TgZ(0,"i",46),t._uU(1,"check_box_outline_blank"),t.qZA())}function ut(i,l){1&i&&(t.TgZ(0,"i",47),t._uU(1,"check_box"),t.qZA())}function ft(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",36),t.NdJ("click",function(o){const c=t.CHM(e).$implicit;return t.oxw(3).selectPlan(o,c)}),t.TgZ(1,"div",43),t.YNc(2,pt,2,0,"i",44),t.YNc(3,ut,2,0,"i",45),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit;t.xp6(2),t.Q6J("ngIf",!e.isSelected),t.xp6(1),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Oqu(e.label)}}function ht(i,l){if(1&i&&(t.TgZ(0,"div",38),t.TgZ(1,"div",30,48),t.TgZ(3,"div",40),t.TgZ(4,"div",41),t.TgZ(5,"div",42),t._uU(6,"Current Site Plan"),t.qZA(),t.qZA(),t.YNc(7,ft,6,3,"div",35),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(7),t.Q6J("ngForOf",e.planList)}}function mt(i,l){1&i&&(t.TgZ(0,"div",67),t._UZ(1,"comp-icon",68),t.qZA()),2&i&&(t.xp6(1),t.Q6J("icon","done")("color","#2383e2")("size",18))}function xt(i,l){1&i&&(t.TgZ(0,"div",67),t._UZ(1,"comp-icon",69),t.qZA()),2&i&&(t.xp6(1),t.Q6J("color","#2383e2")("size",18))}function bt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",63),t.NdJ("click",function(o){const c=t.CHM(e).$implicit;return t.oxw(4).selectSitePlan(o,c)}),t.TgZ(1,"div",64),t.TgZ(2,"div",65),t.YNc(3,mt,2,3,"div",66),t.YNc(4,xt,2,2,"div",66),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(4);t.xp6(3),t.Q6J("ngIf",(null==n.selectedSitePlan?null:n.selectedSitePlan.value)===(null==e?null:e.value)),t.xp6(1),t.Q6J("ngIf",(null==n.selectedSitePlan?null:n.selectedSitePlan.value)!=(null==e?null:e.value)),t.xp6(2),t.Oqu(null==e?null:e.label)}}function vt(i,l){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",61),t.YNc(1,bt,7,3,"div",62),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.sitePlanList)}}function Pt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",49),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div",50,51),t.TgZ(5,"div",52),t.NdJ("click",function(o){return t.CHM(e),t.oxw(2).toggleSelectDropdown(o)}),t.TgZ(6,"div",53),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.qZA(),t.O4$(),t.TgZ(9,"svg",54),t._UZ(10,"path",55),t._UZ(11,"path",56),t._UZ(12,"path",57),t.qZA(),t.qZA(),t.YNc(13,vt,2,1,"div",58),t.qZA(),t.kcU(),t.TgZ(14,"div",12),t.TgZ(15,"div",59),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onClickBulkUpdatePlan()}),t.TgZ(16,"div",60),t._uU(17),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij("",null==e.selectedSiteList?null:e.selectedSiteList.length," Selected"),t.xp6(1),t.ekj("disabled",e.isLoading),t.xp6(5),t.Oqu(null==e.selectedSitePlan?null:e.selectedSitePlan.label),t.xp6(5),t.Q6J("ngIf",e.isUnfoldPlanDropdown),t.xp6(2),t.ekj("disabled",e.isLoading),t.xp6(2),t.Oqu(e.isSubDealer?"Request Plan Changes":"Bulk Update")}}function Ct(i,l){if(1&i&&(t.TgZ(0,"div",70),t.TgZ(1,"div",71),t._uU(2),t.qZA(),t.TgZ(3,"div",72),t._uU(4),t.qZA(),t.TgZ(5,"div",73),t._uU(6),t.qZA(),t.TgZ(7,"div",74),t._uU(8),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.hij("Basic: ",e.basicPlanCount,""),t.xp6(2),t.hij("Video Vault: ",e.videoVaultPlanCount,""),t.xp6(2),t.hij("Video Vault Plus: ",e.videoVaultPlusPlanCount,""),t.xp6(2),t.hij("Video Vault Plus AI: ",e.videoVaultPlusAICount,"")}}function Mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().setSearchFocus()}),t.TgZ(3,"i",9),t._uU(4,"search"),t.qZA(),t.TgZ(5,"input",10),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().searchText=o})("input",function(){return t.CHM(e),t.oxw().search()}),t.qZA(),t.qZA(),t.TgZ(6,"div",11),t.TgZ(7,"div",12),t.TgZ(8,"div",13),t.TgZ(9,"div",14),t.YNc(10,W,4,3,"div",15),t.YNc(11,X,6,1,"ng-container",16),t.qZA(),t.qZA(),t.YNc(12,et,7,2,"div",17),t.qZA(),t.YNc(13,rt,6,3,"div",18),t.TgZ(14,"div",12),t.TgZ(15,"div",13),t.TgZ(16,"div",14),t.YNc(17,dt,4,3,"div",15),t.YNc(18,gt,6,1,"ng-container",16),t.qZA(),t.qZA(),t.YNc(19,ht,8,1,"div",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",20),t.YNc(21,Pt,18,8,"div",21),t.YNc(22,Ct,9,4,"div",22),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.ekj("search-focus",e.isFocusSearch)("disabled",e.isLoading),t.xp6(3),t.Q6J("ngModel",e.searchText),t.xp6(5),t.Q6J("ngIf",!e.selectedDealer),t.xp6(1),t.Q6J("ngIf",e.selectedDealer),t.xp6(1),t.Q6J("ngIf",e.isShowDealerSelect),t.xp6(1),t.Q6J("ngIf",!e.isOtherDealer),t.xp6(4),t.Q6J("ngIf","All"==e.selectedPlanListLabels),t.xp6(1),t.Q6J("ngIf","All"!=e.selectedPlanListLabels),t.xp6(1),t.Q6J("ngIf",e.isShowPlanSelect),t.xp6(2),t.Q6J("ngIf",null==e.selectedSiteList?null:e.selectedSiteList.length),t.xp6(1),t.Q6J("ngIf",!(null!=e.selectedSiteList&&e.selectedSiteList.length))}}function Ot(i,l){1&i&&t._UZ(0,"col",83),2&i&&t.Q6J("width",l.$implicit.width)}function wt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"input",88),t.NdJ("click",function(o){return t.CHM(e),t.oxw(3).toggleAllCheckbox(o)}),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("checked",e.isAllSelected)}}function Zt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",89),t.NdJ("mouseenter",function(o){return t.CHM(e),t.oxw(3).commonService.setTooltipPosition(o,"top-center")}),t._UZ(1,"comp-icon",90),t.TgZ(2,"div",91),t.TgZ(3,"div",92),t.TgZ(4,"div",93),t.TgZ(5,"i",94),t._uU(6,"check_circle"),t.qZA(),t.TgZ(7,"div"),t._uU(8,"Active"),t.qZA(),t.qZA(),t.TgZ(9,"div"),t._uU(10,"Site is using Vault"),t.qZA(),t.qZA(),t.TgZ(11,"div",92),t.TgZ(12,"div",95),t.TgZ(13,"i",94),t._uU(14,"alarm"),t.qZA(),t.TgZ(15,"div"),t._uU(16,"Requested"),t.qZA(),t.qZA(),t.TgZ(17,"div"),t._uU(18," Dealer has requested an upgrade."),t.qZA(),t.qZA(),t.TgZ(19,"div",92),t.TgZ(20,"div",96),t.TgZ(21,"i",94),t._uU(22,"do_not_disturb_on"),t.qZA(),t.TgZ(23,"div"),t._uU(24,"Inactive"),t.qZA(),t.qZA(),t.TgZ(25,"div"),t._uU(26,"Site is not using a vault"),t.qZA(),t.qZA(),t.TgZ(27,"div",92),t.TgZ(28,"div",97),t.TgZ(29,"i",94),t._uU(30,"cancel "),t.qZA(),t.TgZ(31,"div"),t._uU(32,"Unavailable"),t.qZA(),t.qZA(),t.TgZ(33,"div"),t._uU(34,"Dealer is on Basic plan"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.Q6J("icon","info")("size",16)("color","#55647B"))}function St(i,l){if(1&i&&(t.TgZ(0,"th",84),t.TgZ(1,"div",85),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.YNc(4,wt,1,1,"input",86),t.YNc(5,Zt,35,3,"div",87),t.qZA(),t.qZA()),2&i){const e=l.$implicit;t.Q6J("sortable-column",e.value),t.xp6(3),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",e.isCheckbox),t.xp6(1),t.Q6J("ngIf",e.tooltip)}}function yt(i,l){1&i&&(t.TgZ(0,"div",98),t.TgZ(1,"i",94),t._uU(2,"inventory_2"),t.qZA(),t.TgZ(3,"div"),t._uU(4,"No Site List"),t.qZA(),t.qZA())}function Tt(i,l){1&i&&(t.TgZ(0,"div",98),t.TgZ(1,"i",94),t._uU(2,"do_not_disturb_on"),t.qZA(),t.TgZ(3,"div"),t._uU(4,"Permission Denied"),t.qZA(),t.qZA())}function At(i,l){1&i&&t._UZ(0,"col",83),2&i&&t.Q6J("width",l.$implicit.width)}function kt(i,l){1&i&&(t.TgZ(0,"i",94),t._uU(1,"check_circle"),t.qZA())}function Lt(i,l){1&i&&(t.TgZ(0,"i",94),t._uU(1,"alarm"),t.qZA())}function qt(i,l){1&i&&(t.TgZ(0,"i",94),t._uU(1,"do_not_disturb_on"),t.qZA())}function It(i,l){1&i&&(t.TgZ(0,"i",94),t._uU(1,"cancel"),t.qZA())}function Dt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",116),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw(2).$implicit,c=t.oxw(4);return o.stopPropagation(),c.onClickApprovePlan(s)}),t.TgZ(1,"i",117),t._uU(2,"task_alt"),t.qZA(),t.TgZ(3,"div",118),t._uU(4,"Approve Plan"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.Q6J("id","approval-"+e.site_id),t.xp6(3),t.Q6J("id","tooltip-"+e.site_id)}}function Ut(i,l){if(1&i&&(t.TgZ(0,"td"),t.TgZ(1,"div",113),t.TgZ(2,"div",103),t.YNc(3,kt,2,0,"i",114),t.YNc(4,Lt,2,0,"i",114),t.YNc(5,qt,2,0,"i",114),t.YNc(6,It,2,0,"i",114),t.TgZ(7,"div"),t._uU(8),t.qZA(),t.qZA(),t.YNc(9,Dt,5,2,"div",115),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("id","site-approval-"+e.site_id),t.xp6(1),t.Q6J("ngClass",e.status),t.xp6(1),t.Q6J("ngIf",1===e.statusValue),t.xp6(1),t.Q6J("ngIf",2===e.statusValue),t.xp6(1),t.Q6J("ngIf",3===e.statusValue),t.xp6(1),t.Q6J("ngIf",4===e.statusValue),t.xp6(2),t.Oqu(e.status),t.xp6(1),t.Q6J("ngIf",2===e.statusValue)}}function zt(i,l){if(1&i&&(t.TgZ(0,"div",103),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw(4);t.Q6J("ngClass",n.computedPlanBadgeStyle(null==e?null:e.requested_to_change_site_plan_id)),t.xp6(1),t.hij(" ",e.update_request_site_plan,"")}}function Et(i,l){1&i&&(t.TgZ(0,"div",121),t._uU(1,"No Data"),t.qZA())}function Nt(i,l){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,zt,2,2,"div",119),t.YNc(2,Et,2,0,"div",120),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",2===e.statusValue),t.xp6(1),t.Q6J("ngIf",2!=e.statusValue)}}function Ft(i,l){if(1&i&&(t.TgZ(0,"div",122),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" Trial Period (Until: ",t.xi3(2,1,e.trial_period_end_date,"MM/dd/yyyy"),")")}}function Jt(i,l){if(1&i&&(t.TgZ(0,"div",122),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.AsE(" Downgraded to ",e.next_site_plan," starting on ",n.computedNextMonth(),"")}}function Vt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",123),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(4).onClickApprovePlan(o)}),t.TgZ(1,"div"),t._uU(2,"Approve Plan"),t.qZA(),t.qZA()}}function Qt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",112),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(4).cancelRequestPlanChange(o)}),t.TgZ(1,"div"),t._uU(2,"Cancel Request"),t.qZA(),t.qZA()}}function Yt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr",101),t.NdJ("mouseover",function(){const s=t.CHM(e).$implicit;return t.oxw(4).showApproveSelector(s)})("mouseleave",function(){const s=t.CHM(e).$implicit;return t.oxw(4).hideApproveSelector(s)}),t.TgZ(1,"td",102),t.TgZ(2,"input",88),t.NdJ("click",function(o){const c=t.CHM(e).$implicit;return t.oxw(4).toggleCheckbox(c,o)}),t.qZA(),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,Ut,10,8,"td",16),t.YNc(8,Nt,3,2,"td",16),t.TgZ(9,"td"),t.TgZ(10,"div",103),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"td"),t.YNc(13,Ft,3,4,"div",104),t.YNc(14,Jt,2,2,"div",104),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"div",105,106),t.NdJ("mouseover",function(){const s=t.CHM(e).$implicit;return t.oxw(4).setMorePosition(s.site_id)}),t.TgZ(18,"div",107),t.NdJ("click",function(o){const c=t.CHM(e).$implicit,d=t.oxw(4);return o.stopPropagation(),d.toggleMenu(c)}),t._UZ(19,"comp-icon",108),t.qZA(),t.TgZ(20,"div",109),t.YNc(21,Vt,3,0,"div",110),t.YNc(22,Qt,3,0,"div",111),t.TgZ(23,"div",112),t.NdJ("click",function(o){const c=t.CHM(e).$implicit;return t.oxw(4).goToDetail(o,c)}),t.TgZ(24,"div"),t._uU(25,"Go to Detail"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw(4);t.xp6(2),t.Q6J("checked",e.isSelected),t.xp6(1),t.ekj("no-contents","No Name"===e.name),t.xp6(1),t.Oqu(e.name),t.xp6(1),t.ekj("no-contents","No Name"===e.name),t.xp6(1),t.Oqu(e.dealer_name),t.xp6(1),t.Q6J("ngIf",!n.isOtherDealer),t.xp6(1),t.Q6J("ngIf",!n.isOtherDealer),t.xp6(2),t.Q6J("ngClass",n.computedPlanBadgeStyle(null==e?null:e.site_plan_id)),t.xp6(1),t.Oqu(e.site_plan),t.xp6(2),t.Q6J("ngIf",e.is_trial_period),t.xp6(1),t.Q6J("ngIf",e.next_site_plan_id!=e.site_plan_id),t.xp6(2),t.Q6J("id","site-"+e.site_id),t.xp6(3),t.Q6J("icon","more_horiz")("size",20)("color","hsla(0, 0%, 0%, 0.87)"),t.xp6(1),t.ekj("show",e.isShowMenu),t.Q6J("id","more-site-"+e.site_id),t.xp6(1),t.Q6J("ngIf",2===e.statusValue&&!n.isSubDealer),t.xp6(1),t.Q6J("ngIf",2===e.statusValue&&n.isSubDealer)}}function Bt(i,l){if(1&i&&(t.ynx(0),t.YNc(1,Yt,26,22,"tr",100),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.pagedItems)}}function Ht(i,l){if(1&i&&(t.TgZ(0,"div",99),t.TgZ(1,"table"),t.TgZ(2,"colgroup"),t.YNc(3,At,1,1,"col",78),t.qZA(),t.TgZ(4,"tbody"),t.YNc(5,Bt,2,1,"ng-container",16),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.tableHeader),t.xp6(2),t.Q6J("ngIf",!e.isLoading)}}function Rt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",124),t._UZ(1,"div",125),t._UZ(2,"div",126),t.TgZ(3,"div",127),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div"),t._uU(7,"of "),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",128),t.TgZ(11,"div",129),t.TgZ(12,"div",12),t.TgZ(13,"div",130),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.setPage(o.pager.currentPage-1)}),t.TgZ(14,"div",60),t.TgZ(15,"i",131),t._uU(16,"arrow_back"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"Prev"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",12),t.TgZ(20,"div",130),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return o.setPage(o.pager.currentPage+1)}),t.TgZ(21,"div",60),t.TgZ(22,"span"),t._uU(23,"Next"),t.qZA(),t._UZ(24,"comp-icon",68),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(5),t.AsE("",e.pageOffsetStart," - ",e.pageOffsetEnd,""),t.xp6(4),t.Oqu(e.totalItem),t.xp6(4),t.ekj("disabled",1===e.pager.currentPage||0===e.pager.currentPage),t.xp6(2),t.ekj("disabled",1===e.pager.currentPage||0===e.pager.currentPage),t.xp6(5),t.ekj("disabled",e.pager.currentPage===e.pager.totalPages),t.xp6(4),t.ekj("disabled",e.pager.currentPage===e.pager.totalPages),t.Q6J("icon","arrow_forward_n")("color","#000")("size",16)}}function jt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",75),t.TgZ(1,"div",76),t.TgZ(2,"table",77),t.NdJ("sorted",function(o){return t.CHM(e),t.oxw().sortTableByColumn(o)}),t.TgZ(3,"colgroup"),t.YNc(4,Ot,1,1,"col",78),t.qZA(),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.YNc(7,St,6,4,"th",79),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,yt,5,0,"div",80),t.YNc(9,Tt,5,0,"div",80),t.YNc(10,Ht,6,2,"div",81),t.YNc(11,Rt,25,14,"div",82),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.tableHeader),t.xp6(3),t.Q6J("ngForOf",e.tableHeader),t.xp6(1),t.Q6J("ngIf","no-data"===e.determineElementToShow()),t.xp6(1),t.Q6J("ngIf","no-permission"===e.determineElementToShow()),t.xp6(1),t.Q6J("ngIf","normal"===e.determineElementToShow()),t.xp6(1),t.Q6J("ngIf",e.isHasViewPermission)}}let Gt=(()=>{class i{constructor(e,n,o,s,c,d){this.pagerService=e,this.commonService=n,this.sitesService=o,this.videoAIService=s,this.c_components=c,this.helper=d,this.refresh=new t.vpe,this.isSubDealer=!1,this.isOtherDealer=!1,this.tableHeader=[{name:"",value:null,width:"5%",isCheckbox:!0,tooltip:!1},{name:"SITE NAME",value:"site_name",width:"20%",isCheckbox:!1,tooltip:!1},{name:"DEALER NAME",value:"dealer_name",width:"15%",isCheckbox:!1,tooltip:!1},{name:"STATUS",value:"status",width:"15%",isCheckbox:!1,tooltip:!0},{name:"REQUESTED PLAN",value:null,width:"10%",isCheckbox:!1,tooltip:!1},{name:"CURRENT SITE PLAN",value:"site_plan",width:"10%",isCheckbox:!1,tooltip:!1},{name:"NOTE",value:null,width:"20%",isCheckbox:!1,tooltip:!1},{name:"",value:null,width:"5%",isCheckbox:!1,tooltip:!1}],this.filteredSiteList=[],this.originalSiteList=[],this.pagedItems=[],this.isAllSelected=!1,this.selectedSiteList=[],this.isFocusSearch=!1,this.searchText="",this.basicPlanCount=0,this.videoVaultPlanCount=0,this.videoVaultPlusPlanCount=0,this.videoVaultPlusAICount=0,this.isEnabledDealerCloudAI=!1,this.isEnabledSiteCloudAI=!1,this.isUnfoldPlanDropdown=!1,this.sitePlanList=[{label:"Basic",value:1},{label:"Video Vault",value:2},{label:"Video Vault Plus",value:3},{label:"Video Vault Plus AI",value:4}],this.selectedSitePlan=this.sitePlanList[0],this.isShowDealerSelect=!1,this.dealerListForFiltering=[],this.searchDealerList=[],this.searchDealerTxt="",this.selectedDealer=null,this.originalSelectedDealer=null,this.isShowStatusSelect=!1,this.statusList=[{label:"Active",isSelected:!0,value:1},{label:"Requested",isSelected:!0,value:2},{label:"Inactive",isSelected:!0,value:3}],this.selectedStatusList=this.statusList.filter(g=>g.isSelected),this.originalStatusList=this.selectedStatusList,this.selectedStatusListLabels="All",this.isShowPlanSelect=!1,this.planList=[{label:"Basic",isSelected:!0,value:1},{label:"Video Vault",isSelected:!0,value:2},{label:"Video Vault Plus",isSelected:!0,value:3},{label:"Video Vault Plus AI",isSelected:!0,value:4}],this.selectedPlanList=this.planList.filter(g=>g.isSelected),this.originalPlanList=this.selectedPlanList,this.selectedPlanListLabels="All",this.pager={},this.curPage=1,this.totalItem=0,this.pageOffset=50,this.pageOffsetStart=1,this.pageOffsetEnd=1,this.lastPage=1}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){this.originalSiteList=x.Z._.cloneDeep(this.siteList),this.filteredSiteList=x.Z._.cloneDeep(this.siteList),this.selectedSitePlan=this.sitePlanList[0],this.dealerListForFiltering=this.dealers.map(e=>{var n;return{name:null!==(n=null==e?void 0:e.internal_sub_dealer_id_with_company_name)&&void 0!==n?n:null==e?void 0:e.company_name,checked:!1,value:e.dealer_id}}).sort((e,n)=>this.compare(e.name,n.name,!0)),this.searchDealerList=this.dealerListForFiltering,this.checkTableHeader(),this.setPage(1)})}ngOnChanges(e){e.siteList&&(this.originalSiteList=x.Z._.cloneDeep(this.siteList),this.filteredSiteList=x.Z._.cloneDeep(this.siteList),this.setPage(1))}checkTableHeader(){var e,n,o;this.isSubDealer=3===(null===(e=this.me)||void 0===e?void 0:e.type),this.isOtherDealer=1===(null===(n=this.me)||void 0===n?void 0:n.type)||0===(null===(o=this.me)||void 0===o?void 0:o.type),this.tableHeader=this.isOtherDealer?[{name:"",value:null,width:"5%",isCheckbox:!0,tooltip:!1},{name:"SITE NAME",value:"site_name",width:"20%",isCheckbox:!1,tooltip:!1},{name:"DEALER NAME",value:"dealer_name",width:"15%",isCheckbox:!1,tooltip:!1},{name:"CURRENT SITE PLAN",value:"site_plan",width:"10%",isCheckbox:!1,tooltip:!1},{name:"NOTE",value:null,width:"20%",isCheckbox:!1,tooltip:!1},{name:"",value:null,width:"5%",isCheckbox:!1,tooltip:!1}]:[{name:"",value:null,width:"5%",isCheckbox:!0,tooltip:!1},{name:"SITE NAME",value:"site_name",width:"20%",isCheckbox:!1,tooltip:!1},{name:"DEALER NAME",value:"dealer_name",width:"15%",isCheckbox:!1,tooltip:!1},{name:"STATUS",value:"status",width:"15%",isCheckbox:!1,tooltip:!0},{name:"REQUESTED PLAN",value:null,width:"10%",isCheckbox:!1,tooltip:!1},{name:"CURRENT SITE PLAN",value:"site_plan",width:"10%",isCheckbox:!1,tooltip:!1},{name:"NOTE",value:null,width:"20%",isCheckbox:!1,tooltip:!1},{name:"",value:null,width:"5%",isCheckbox:!1,tooltip:!1}]}onGlobalClick(e){this.siteActionMenus&&this.siteActionMenus.toArray().forEach(o=>{this.pagedItems.forEach(s=>{`site-${s.site_id}`===o.nativeElement.id&&(o.nativeElement.contains(e.target)||(s.isShowMenu=!1))})}),this.selectDropdown&&(this.selectDropdown.nativeElement.contains(e.target)||(e.stopPropagation(),this.isUnfoldPlanDropdown=!1)),this.dealerSelect&&(this.dealerSelect.nativeElement.contains(e.target)||this.cancelDealerFilter()),this.statusSelect&&(this.statusSelect.nativeElement.contains(e.target)||this.cancelStatusFilter()),this.planSelect&&(this.planSelect.nativeElement.contains(e.target)||this.cancelPlanFilter())}setMorePosition(e){const n=document.documentElement;let o=document.getElementById("site-"+e),s=document.getElementById("more-site-"+e),c=null==o?void 0:o.getBoundingClientRect();const g=(null==c?void 0:c.bottom)-45;s.style.right=n.clientWidth-(null==c?void 0:c.right)-10+"px",s.style.top=g+"px"}showApproveSelector(e){const n=e.site_id;if(this.isSubDealer||2!==e.statusValue)return;const s=document.documentElement;let c=document.getElementById("site-approval-"+n),d=document.getElementById("approval-"+n),g=document.getElementById("tooltip-"+n),p=null==c?void 0:c.getBoundingClientRect();const h=s.clientWidth-(null==p?void 0:p.right)-10,v=(null==p?void 0:p.bottom)-45;!d||!g||(d.style.display="flex",d.style.alignItems="center",d.style.right=h+"px",d.style.top=v+"px",g.style.right=h+"px",g.style.top=v+"px")}hideApproveSelector(e){let o=document.getElementById("approval-"+e.site_id);!o||(o.style.display="none")}toggleMenu(e){e.isShowMenu=!e.isShowMenu}toggleAllCheckbox(e){const s=e.target;this.isAllSelected||this.siteList.length<(this.isSubDealer?20:100)?(this.isAllSelected=!this.isAllSelected,this.siteList.forEach(c=>c.isSelected=this.isAllSelected),this.filteredSiteList.forEach(c=>c.isSelected=this.isAllSelected),this.selectedSiteList=this.isAllSelected?x.Z._.cloneDeep(this.siteList):[]):(e.preventDefault(),s.checked=this.isAllSelected,this.openWarningDialog("Warning","You can select up to 100 sites.","warning","orange"))}toggleCheckbox(e,n){const o=this.isSubDealer?20:100,s=this.selectedSiteList.length,c=n.target,d=this.siteList.find(g=>(null==g?void 0:g.site_id)===(null==e?void 0:e.site_id));e.isSelected||s<o?(e.isSelected=!e.isSelected,d.isSelected=!d.isSelected):(n.preventDefault(),c.checked=e.isSelected,this.openWarningDialog("Warning","You can select up to 100 sites.","warning","orange")),this.selectedSiteList=this.siteList.filter(g=>g.isSelected),this.isAllSelected=this.siteList.every(g=>g.isSelected)}toggleSelectDropdown(e){null==e||e.stopPropagation(),this.isUnfoldPlanDropdown=!this.isUnfoldPlanDropdown}selectSitePlan(e,n){null==e||e.stopPropagation(),this.selectedSitePlan=n}checkTotalCount(e){this.basicPlanCount=0,this.videoVaultPlanCount=0,this.videoVaultPlusPlanCount=0,this.videoVaultPlusAICount=0,e.forEach(n=>{1===(null==n?void 0:n.site_plan_id)&&this.basicPlanCount++,2===(null==n?void 0:n.site_plan_id)&&this.videoVaultPlanCount++,3===(null==n?void 0:n.site_plan_id)&&this.videoVaultPlusPlanCount++,4===(null==n?void 0:n.site_plan_id)&&this.videoVaultPlusAICount++,(null==n?void 0:n.site_plan_id)||this.basicPlanCount++})}computedPlanBadgeStyle(e){switch(e){case 1:default:return"basic-badge";case 2:return"video-vault-plan-badge";case 3:return"video-vault-plus-plan-badge";case 4:return"video-vault-plus-ai-plan-badge"}}parseSitePlan(e){switch(e){case 1:default:return"Basic";case 2:return"Video Vault";case 3:return"Video Vault Plus";case 3:return"Video Vault Plus AI"}}determineElementToShow(){var e,n;return!this.isLoading&&(this.isHasViewPermission?(null===(e=this.siteList)||void 0===e?void 0:e.length)&&(null===(n=this.filteredSiteList)||void 0===n?void 0:n.length)?"normal":"no-data":"no-permission")}goToDetail(e,n){e.stopPropagation(),this.helper.router.navigate_to("/customers/vms-service",{id:n.site_id})}selectDealer(e){this.selectedDealer=e,this.isShowDealerSelect=!1,this.searchDealerTxt="",this.doFilter()}searchFilterDealer(e){this.searchDealerList=this.dealerListForFiltering.filter(n=>n.name.toLowerCase().indexOf(e.toLowerCase())>-1)}cancelDealerFilter(){this.isShowDealerSelect=!1,this.searchDealerTxt="",this.searchDealerList=this.dealerListForFiltering}clearDealerFilter(){this.searchDealerTxt="",this.selectedDealer=null,this.originalSelectedDealer=null,this.searchDealerList=this.dealerListForFiltering,this.doFilter()}selectStatus(e,n){e.stopPropagation(),n.isSelected=!n.isSelected,this.changeStatusFilter()}changeStatusFilter(){this.selectedStatusList=this.statusList.filter(e=>e.isSelected),this.originalStatusList=this.selectedStatusList,this.computedSelectedStatusLabels(),this.doFilter()}computedSelectedStatusLabels(){this.selectedStatusListLabels=this.statusList.every(e=>e.isSelected)||this.statusList.every(e=>!e.isSelected)?"All":this.selectedStatusList.map(e=>e.label).join(", ")}cancelStatusFilter(){this.isShowStatusSelect=!1,this.selectedStatusList=this.originalStatusList,this.statusList.forEach(e=>e.isSelected=!1),this.originalStatusList.forEach(e=>{this.statusList.find(o=>o.label===e.label).isSelected=!0}),this.computedSelectedStatusLabels()}clearStatusFilter(){this.statusList.forEach(e=>e.isSelected=!1),this.selectedStatusList=[],this.originalStatusList=[],this.selectedStatusListLabels="All",this.doFilter()}selectPlan(e,n){e.stopPropagation(),n.isSelected=!n.isSelected,this.changePlanFilter()}changePlanFilter(){this.selectedPlanList=this.planList.filter(e=>e.isSelected),this.originalPlanList=this.selectedPlanList,this.computedSelectedPlanLabels(),this.doFilter()}computedSelectedPlanLabels(){this.selectedPlanListLabels=this.planList.every(e=>e.isSelected)||this.planList.every(e=>!e.isSelected)?"All":this.selectedPlanList.map(e=>e.label).join(", ")}cancelPlanFilter(){this.isShowPlanSelect=!1,this.selectedPlanList=this.originalPlanList,this.planList.forEach(e=>e.isSelected=!1),this.originalPlanList.forEach(e=>{this.planList.find(o=>o.label===e.label).isSelected=!0}),this.computedSelectedPlanLabels()}clearPlanFilter(){this.planList.forEach(e=>e.isSelected=!1),this.selectedPlanList=[],this.originalPlanList=[],this.selectedPlanListLabels="All",this.filteredSiteList=this.originalSiteList,this.doFilter()}doFilter(){var e;if(!this.originalSiteList.length)return;let n=this.originalSiteList;const o=this.selectedStatusList.filter(p=>p.isSelected).map(p=>p.value),s=this.selectedPlanList.filter(p=>p.isSelected).map(p=>p.value),c=this.selectedDealer&&(null===(e=this.selectedDealer)||void 0===e?void 0:e.value),d=o.length&&"All"!=this.selectedStatusListLabels,g=s.length&&"All"!=this.selectedPlanListLabels;c&&(n=n.filter(h=>{var v;return h.dealer_id===(null===(v=this.selectedDealer)||void 0===v?void 0:v.value)})),d&&(n=n.filter(h=>o.includes(h.statusValue))),g&&(n=n.filter(h=>s.includes(h.site_plan_id))),this.filteredSiteList=c||d||g?x.Z._.uniqBy(n,"site_id"):this.originalSiteList,this.setPage(1)}setSearchFocus(){this.isFocusSearch=!0}search(){if(0==this.searchText.length||this.searchText.length<3)return this.filteredSiteList=this.originalSiteList,void this.setPage(1);this.filteredSiteList=this.searchSite(),this.setPage(1)}searchSite(){let e=this.searchText.toLowerCase();return this.originalSiteList.filter(n=>{let o=n.name.toLowerCase()+n.dealer_name.toLowerCase();return!!e&&o.search(e)>-1})}onClickBulkUpdatePlan(){return(0,r.mG)(this,void 0,void 0,function*(){if(!(this.isSubDealer?yield this.bulkRequestUpdate():yield this.bulkUpdate()))return this.selectedSiteList=[],this.siteList.forEach(o=>o.isSelected=!1),this.refresh.emit(),this.setPage(1),void(this.isLoading=!1);this.refresh.emit(),this.selectedSiteList=[],this.siteList.forEach(o=>o.isSelected=!1),this.setPage(1),this.openWarningDialog("Success",this.isSubDealer?"Site Plan has been requested successfully.":"Plan has been updated successfully.","done","green"),this.isLoading=!1})}bulkUpdate(){return(0,r.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0;const e=yield this.bulkOwnDealerSiteUpdate(),n=yield this.bulkSubDealerSiteUpdate();return e&&n}catch(e){return this.isLoading=!1,this.openWarningDialog("Error","Failed to update Site Plan.","warning","red"),!1}})}bulkOwnDealerSiteUpdate(){return(0,r.mG)(this,void 0,void 0,function*(){try{const e=this.selectedSiteList.filter(o=>3!=o.dealer_type).map(o=>o.site_id);if(!(null==e?void 0:e.length))return!0;const n={site_plan_id:this.selectedSitePlan.value,site_ids:e};return yield this.helper.dealer.bulk_update_dealer_site_plan(n),!0}catch(e){return!1}})}bulkSubDealerSiteUpdate(){return(0,r.mG)(this,void 0,void 0,function*(){try{const e=[],n=this.selectedSiteList.filter(d=>3===d.dealer_type);if(!(null==n?void 0:n.length)||!(yield this.bulkUpdateDealerPlan(n)))return null;const s=n.map(d=>(0,r.mG)(this,void 0,void 0,function*(){if(this.selectedSitePlan.value===d.requested_to_change_site_plan_id){const g={site_plan_id:this.selectedSitePlan.value};yield this.updateRequestedSitePlan(d.site_id,g),yield this.deleteRequsestedSitePlan(d.site_id)}else e.push(d.site_id)}));yield Promise.all(s);const c={site_plan_id:this.selectedSitePlan.value,site_ids:e};return(null==e?void 0:e.length)&&(yield this.helper.dealer.bulk_update_dealer_site_plan(c)),!0}catch(e){return console.debug("bulkSubDealerSiteUpdate:>",e),!1}})}bulkUpdateDealerPlan(e){return(0,r.mG)(this,void 0,void 0,function*(){const n=e.filter(s=>1===s.dealer_plan);return!n.length||(yield this.c_components.dialog.open_and_wait_result("c_dialog_upgrade_bulk_dealer_plan_for_site_plan_component",{sites:n}))})}bulkRequestUpdate(){return(0,r.mG)(this,void 0,void 0,function*(){try{this.isLoading=!0;const e=this.selectedSiteList.map(n=>(0,r.mG)(this,void 0,void 0,function*(){const o=n.site_id,s=this.selectedSitePlan.value;yield this.requestUpdateSitePlan(o,s)}));return yield Promise.all(e),!0}catch(e){return this.isLoading=!1,this.openWarningDialog("Error","Failed to request updating Site Plan.","warning","red"),!1}})}requestUpdateSitePlan(e,n){return(0,r.mG)(this,void 0,void 0,function*(){try{yield this.helper.sites.request_site_plan_update(e,{site_plan_id:n})}catch(o){console.debug("requestUpdateSitePlan :>",o)}})}onClickApprovePlan(e){return(0,r.mG)(this,void 0,void 0,function*(){1===e.dealer_plan?yield this.approveSitePlanWithDealerPlan(e):yield this.approvePlan(e)})}approveSitePlanWithDealerPlan(e){return(0,r.mG)(this,void 0,void 0,function*(){const n=e.site_id,o=e.requested_to_change_site_plan_id,s={site_plan_id:o};yield this.updateRequestedSitePlan(n,s),yield this.deleteRequsestedSitePlan(e.site_id),yield this.updateAllCamerasTimeSync(e.dealer_id,e.site_id),yield this.setCloudAIForBasicDealerPlan(o,e),yield x.Z.tool.sleep(500),this.refresh.emit(),this.setPage(1),this.openWarningDialog("Success","Plan has been updated successfully.","done","green")})}setCloudAIForBasicDealerPlan(e,n){return(0,r.mG)(this,void 0,void 0,function*(){1==n.dealer_plan&&(yield this.getSubDealerCloudAIConfig(n),e<4?yield this.disabledCloudAIForVideoVaultPlusSite(e,n):yield this.enableCloudAIForVideoVaultPlusSite(e,n))})}getSubDealerCloudAIConfig(e){return(0,r.mG)(this,void 0,void 0,function*(){try{const n=this.me.dealer_id,o=e.site_id,{dealer_videoai_config:s,enabled:c}=yield this.videoAIService.getSiteCloudAIConfig(n,o).toPromise();this.isEnabledDealerCloudAI=!!(null==s?void 0:s.enabled),this.isEnabledSiteCloudAI=!!c}catch(n){this.isLoading=!1}})}enableCloudAIForVideoVaultPlusSite(e,n){return(0,r.mG)(this,void 0,void 0,function*(){try{if(4!=e||this.isEnabledDealerCloudAI&&this.isEnabledSiteCloudAI)return;const o=n.site_id,s=this.me.dealer_id,c={partner_id:n.dealer_id,enabled:1,videoai_provider_id:1},d={enabled:1,actions:{is_devices_videoai_config_reset:0,is_devices_videoai_filter_reset:0}};this.isEnabledDealerCloudAI||(yield this.videoAIService.updateSubDealerCloudAIConfig(s,c).toPromise()),yield this.videoAIService.updateSiteCloudAIConfig(s,o,d).toPromise()}catch(o){this.isLoading=!1,console.debug("enableCloudAIForVideoVaultPlusSite:>",o)}})}disabledCloudAIForVideoVaultPlusSite(e,n){return(0,r.mG)(this,void 0,void 0,function*(){try{if(4===e||!this.isEnabledDealerCloudAI&&!this.isEnabledSiteCloudAI)return;const o=n.site_id,s=this.me.dealer_id,c={enabled:0};yield this.disableCloudAIForAllSitesIfVaultPlusDisabled(n),yield this.videoAIService.updateSiteCloudAIConfig(s,o,c).toPromise()}catch(o){this.isLoading=!1,console.debug("disabledCloudAIForVideoVaultPlusSite:>",o)}})}disableCloudAIForAllSitesIfVaultPlusDisabled(e){return(0,r.mG)(this,void 0,void 0,function*(){if(yield x.Z.tool.sleep(500),!(yield this.checkAllSitesVaultPlusDisabled(e)))return;const o=this.me.dealer_id,s={partner_id:e.dealer_id,enabled:0};yield this.videoAIService.updateSubDealerCloudAIConfig(o,s).toPromise()})}checkAllSitesVaultPlusDisabled(e){var n,o;return(0,r.mG)(this,void 0,void 0,function*(){try{const s=e.dealer_id,d=(null!==(n=yield this.sitesService.getSites(s).toPromise())&&void 0!==n?n:[]).filter(h=>h.dealer_id===s),g=yield this.helper.dealer.get_dealer_site_plans(),p=null!==(o=null==g?void 0:g.filter(h=>d.find(v=>h.dealer_id===v.dealer_id)))&&void 0!==o?o:[];return!!(null==p?void 0:p.every(h=>h.current_site_plan_id<4))}catch(s){return console.debug("checkAllSitesVaultPlusDisabled:>",s),!1}})}approvePlan(e){return(0,r.mG)(this,void 0,void 0,function*(){const n=e.site_id,s={site_plan_id:e.requested_to_change_site_plan_id};this.c_components.dialog.open("warning",{header:"Do you want to approve the update request?",contents:"\n        <p>\n        Once approved, the site plan will be applied immediately.\n        </p>\n      ",submit_btn:"Confirm",submit_class:["button-primary"],icon:"warning",color:"orange",submit_func:()=>(0,r.mG)(this,void 0,void 0,function*(){yield this.updateRequestedSitePlan(n,s),yield this.deleteRequsestedSitePlan(e.site_id),yield this.updateAllCamerasTimeSync(e.dealer_id,e.site_id),yield x.Z.tool.sleep(500),this.refresh.emit(),this.setPage(1),this.openWarningDialog("Success","Plan has been updated successfully.","done","green")})})})}cancelRequestPlanChange(e){const n=e.site_id;this.c_components.dialog.open("warning",{header:"Do you want to cancel the update request?",contents:"",submit_btn:"Confirm",submit_class:["button-primary"],icon:"warning",color:"orange",submit_func:()=>(0,r.mG)(this,void 0,void 0,function*(){yield this.deleteRequsestedSitePlan(n),yield x.Z.tool.sleep(500),this.refresh.emit(),this.setPage(1),this.openWarningDialog("Success","Plan has been updated successfully.","done","green")})})}updateRequestedSitePlan(e,n){return(0,r.mG)(this,void 0,void 0,function*(){yield this.helper.sites.approve_site_plan_update(e,n)})}deleteRequsestedSitePlan(e){return(0,r.mG)(this,void 0,void 0,function*(){yield this.helper.sites.reject_site_plan_update(e)})}updateAllCamerasTimeSync(e,n){return(0,r.mG)(this,void 0,void 0,function*(){yield this.sitesService.updateDevices(e,n,{is_time_sync_enabled:1}).toPromise()})}compare(e,n,o){return null===e&&null===n?0:null===e?o?-1:1:null===n?o?1:-1:("string"==typeof e&&(e=e.toLocaleLowerCase()),"string"==typeof n&&(n=n.toLocaleLowerCase()),(e<n?-1:1)*(o?1:-1))}computedNextMonth(){return x.Z.moment().add(1,"months").startOf("month").format("DD MMM")}formatNumberWithCommaToNumber(e){return parseInt(null==e?void 0:e.replace(/,/g,""))}sortTableByColumn(e){if(!e.sortColumn||""===e.sortDirection)return;const o=this.filteredSiteList.sort((s,c)=>{const d="asc"===e.sortDirection;switch(e.sortColumn){case"site_name":return this.compare(s.name,c.name,d);case"dealer_name":return this.compare(s.dealer_name,c.dealer_name,d);case"status":return this.compare(s.statusValue,c.statusValue,d);case"site_plan":return this.compare(s.site_plan_id,c.site_plan_id,d);default:return 0}});this.filteredSiteList=o,this.setPage(1)}setPage(e){this.pagedItems=[];const n=this.filteredSiteList;if(this.checkTotalCount(n),!n)return console.debug("\u26a0\ufe0f list is lost",n),this.isLoading=!1;this.pager=this.pagerService.getPager(null==n?void 0:n.length,e,this.pageOffset),this.totalItem=null==n?void 0:n.length,this.pagedItems=n.slice(this.pager.startIndex,this.pager.endIndex+1),this.curPage=this.pager.currentPage,this.pageOffsetStart=this.curPage-1<0?0:this.curPage-1==0?1:(this.curPage-1)*this.pageOffset+1,this.pageOffsetEnd=this.curPage*this.pageOffset>this.totalItem?this.totalItem:this.curPage*this.pageOffset}openWarningDialog(e,n,o,s){this.c_components.dialog.open("warning",{header:`${e}`,contents:`\n        <p>${n}</b></p>\n      `,submit_btn:"OK",submit_class:["button-primary"],icon:o,isConfirm:!0,color:s,submit_func:()=>{}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.e),t.Y36(I.v),t.Y36(D.f),t.Y36(U.e),t.Y36(k.I),t.Y36(A.W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["c_dtable_cloud_vms_manager_for_site"]],viewQuery:function(e,n){if(1&e&&(t.Gf(S,5),t.Gf(Y,5),t.Gf(R,5),t.Gf(j,5),t.Gf(G,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.dealerSelect=o.first),t.iGM(o=t.CRH())&&(n.statusSelect=o.first),t.iGM(o=t.CRH())&&(n.planSelect=o.first),t.iGM(o=t.CRH())&&(n.selectDropdown=o.first),t.iGM(o=t.CRH())&&(n.siteActionMenus=o)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(s){return n.onGlobalClick(s)},!1,t.evT)},inputs:{siteList:"siteList",dealers:"dealers",me:"me",isLoading:"isLoading",isHasViewPermission:"isHasViewPermission",isHasEditPermission:"isHasEditPermission"},outputs:{refresh:"refresh"},features:[t.TTD],decls:4,vars:3,consts:[["class","loader absolute",4,"ngIf"],["class","filters-area",4,"ngIf"],["class","table-area",4,"ngIf"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"filters-area"],[1,"filter"],[1,"search-container",2,"height","30px",3,"click"],[1,"material-icons",2,"padding","6px 10px"],["autocomplete","off","type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[2,"display","flex","gap","8px"],[1,"btn-area"],[1,"button","button-white","dense-icon-btn"],[1,"btn-inner","dense-icon-btn","filter-btn"],[3,"click",4,"ngIf"],[4,"ngIf"],["class","filter-box",4,"ngIf"],["class","btn-area",4,"ngIf"],["class","filter-box","style","width: 180px",4,"ngIf"],[1,"filter",2,"display","flex","justify-content","flex-end","padding-top","10px"],["style","display: flex; align-items: center; gap: 8px;",4,"ngIf"],["class","badge-list",4,"ngIf"],[3,"click"],[1,"filter-icon",3,"icon","size","color"],[1,"material-icons","filter-icon"],["class","exist-filter ellipsis","style","max-width: 200px;",3,"click",4,"ngIf"],[1,"material-icons","filter-icon",2,"margin-left","8px",3,"click"],[1,"exist-filter","ellipsis",2,"max-width","200px",3,"click"],[1,"filter-box"],[1,"select-list"],["dealerSelect",""],[1,"search-result-input"],["autocomplete","off","type","text","placeholder","Search Dealer",1,"list-search-input",3,"ngModel","ngModelChange","input"],[2,"max-height","200px","overflow-y","auto","border-bottom","1px solid rgba(0, 0, 0, 0.1)"],["class","select-result has-child selectitem",3,"click",4,"ngFor","ngForOf"],[1,"select-result","has-child","selectitem",3,"click"],[1,"ellipsis"],[1,"filter-box",2,"width","180px"],["statusSelect",""],[2,"border-bottom","1px solid rgba(0, 0, 0, 0.1)"],[1,"select-result","selectitem"],[2,"color","hsla(0,0%,0%,0.87)"],[1,"check-area"],["class","material-icons check-icon",4,"ngIf"],["class","material-icons check-icon checked",4,"ngIf"],[1,"material-icons","check-icon"],[1,"material-icons","check-icon","checked"],["planSelect",""],[2,"display","flex","align-items","center","gap","8px"],[1,"select-comp",2,"width","180px"],["selectDropdown",""],[1,"selectbox","label",3,"click"],[1,"label",2,"color","black","width","160px"],["xmlns","http://www.w3.org/2000/svg","height","16px","width","14px","viewBox","0 0 18 20"],["d","M0 0h24v24H0V0z","fill","none"],["d","M12 4L16.58 8.59L15.17 10L12 6.83L8.83 10L7.41 8.59L12 4Z"],["d","M12 17.17L15.17 14 L16.59 15.41L12 20L7.42 15.41L8.83 14L12 17.17Z"],["class","select-list","style","width: 180px",4,"ngIf"],[1,"button","button-primary",3,"click"],[1,"btn-inner"],[1,"select-list",2,"width","180px"],["class","select-result has-child",3,"click",4,"ngFor","ngForOf"],[1,"select-result","has-child",3,"click"],[1,"f-1","flex","between"],[1,"flex"],["class","mr-7",4,"ngIf"],[1,"mr-7"],[3,"icon","color","size"],[3,"color","size"],[1,"badge-list"],[1,"basic-badge"],[1,"video-vault-plan-badge"],[1,"video-vault-plus-plan-badge"],[1,"video-vault-plus-ai-plan-badge"],[1,"table-area"],[1,"content-body","table-container"],["sortable-table","",1,"table-header",3,"sorted"],[3,"width",4,"ngFor","ngForOf"],[3,"sortable-column",4,"ngFor","ngForOf"],["class","alternative-contents",4,"ngIf"],["class","table-body",4,"ngIf"],["class","pagination-area",4,"ngIf"],[3,"width"],[3,"sortable-column"],[1,"v-center"],["type","checkbox",3,"checked","click",4,"ngIf"],["class","--g-tooltip-content",3,"mouseenter",4,"ngIf"],["type","checkbox",3,"checked","click"],[1,"--g-tooltip-content",3,"mouseenter"],[1,"--g-tooltip-icon",3,"icon","size","color"],[1,"--g-tooltip",2,"text-transform","none"],[1,"v-center",2,"margin-bottom","8px"],[1,"Active",2,"margin-right","4px"],[1,"material-icons"],[1,"Requested",2,"margin-right","4px"],[1,"Inactive",2,"margin-right","4px"],[1,"Unavailable",2,"margin-right","4px"],[1,"alternative-contents"],[1,"table-body"],[3,"mouseover","mouseleave",4,"ngFor","ngForOf"],[3,"mouseover","mouseleave"],[2,"overflow","hidden"],[3,"ngClass"],["style","margin-left: 8px;font-size: 12px;color: #55647B;",4,"ngIf"],[1,"more-content","v-center",3,"id","mouseover"],["siteActionMenus",""],[1,"more-selector",3,"click"],[3,"icon","size","color"],[1,"more",3,"id"],["class","more-item row text-primary",3,"click",4,"ngIf"],["class","more-item row",3,"click",4,"ngIf"],[1,"more-item","row",3,"click"],[1,"v-center",2,"gap","8px",3,"id"],["class","material-icons",4,"ngIf"],["class","approve-selector",3,"id","click",4,"ngIf"],[1,"approve-selector",3,"id","click"],[1,"material-icons",2,"font-size","16px","color","hsla(0, 0%, 0%, 0.87)"],[1,"tooltip-background",3,"id"],[3,"ngClass",4,"ngIf"],["class","no-contents",4,"ngIf"],[1,"no-contents"],[2,"margin-left","8px","font-size","12px","color","#55647B"],[1,"more-item","row","text-primary",3,"click"],[1,"pagination-area"],[2,"font-size","12px","padding-right","7px"],[1,"space"],[1,"flex",2,"font-size","12px","padding-right","7px","gap","2px"],[1,"pagination"],[1,"page-mover"],[1,"button","button-white",3,"click"],[1,"material-icons",2,"font-size","16px"]],template:function(e,n){1&e&&(t.ynx(0),t.YNc(1,$,3,0,"div",0),t.YNc(2,Mt,23,14,"div",1),t.YNc(3,jt,12,6,"div",2),t.BQk()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",n.isHasViewPermission),t.xp6(1),t.Q6J("ngIf",!n.isLoading))},directives:[a.O5,M.Fj,M.JJ,M.On,u.U,a.sg,b.Q,f.a,a.mk],pipes:[a.uU],styles:['table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box;padding:0 6px}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.has-child[_ngcontent-%COMP%]{cursor:pointer}.has-child[_ngcontent-%COMP%]:hover{background:#f0f0f0}.table-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;max-width:1vw}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader.absolute[_ngcontent-%COMP%]{margin:auto;position:absolute;top:calc(50% - 25px);left:calc(50% - 25px)}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}','@charset "UTF-8";.no-info[_ngcontent-%COMP%]{color:#00000061}.selected[_ngcontent-%COMP%]{color:#1e88e5;cursor:not-allowed}.text-primary[_ngcontent-%COMP%]{color:#1e88e5}.space[_ngcontent-%COMP%]{flex:1}.disabled[_ngcontent-%COMP%]{cursor:default;filter:contrast(60%) brightness(1.2);opacity:1;pointer-events:none;-webkit-user-select:none;user-select:none}.filters-area[_ngcontent-%COMP%]{padding:8px 20px;font-size:14px;border-top:1px solid rgba(0,0,0,.1)}.filters-area[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative;grid-gap:8px;gap:8px;flex-wrap:wrap}.filter-btn[_ngcontent-%COMP%]{color:#0009}.filter-btn[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{margin-right:5px;font-size:16px;color:#0009}.filter-btn[_ngcontent-%COMP%]   .exist-filter[_ngcontent-%COMP%]{font-size:14px;color:#1e88e5;border-left:solid 1px rgba(0,0,0,.1);padding-left:10px}.filter-box[_ngcontent-%COMP%]{position:absolute;top:28px;transition:all .3s;width:300px}.filter-box-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;padding:7px 10px;box-sizing:border-box;justify-content:space-between;background-color:#f7fafc;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-header-title[_ngcontent-%COMP%]{font-size:16px;color:#000000de}.filter-box-header[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{margin:6px 12px}.filter-box-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;box-sizing:border-box;transition:all .2s}.filter-box-category[_ngcontent-%COMP%]{min-height:44px;padding:12px;display:flex;align-items:center;box-sizing:border-box;border-bottom:1px solid rgba(0,0,0,.1)}.filter-box-items[_ngcontent-%COMP%]{visibility:hidden;display:block;line-height:0;height:0;opacity:0;overflow:hidden;padding:0 24px;background:#F7FAFC;transition:all .2s}.filter-box-items-item[_ngcontent-%COMP%]{margin-bottom:16px}.filter-box-items-item[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{font-size:13px;color:#55647b}.filter-box-items-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-box-items.expend[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;line-height:normal;padding:16px 24px;opacity:1;overflow:initial}.filter-box-items.expend.show[_ngcontent-%COMP%]{visibility:visible}.badge-list[_ngcontent-%COMP%]{display:flex;grid-gap:4px;gap:4px}.first-plan-badge[_ngcontent-%COMP%]{padding:2px 6px;color:#1e88e5;font-size:12px;text-align:center;border-radius:3px;background:rgba(30,136,229,.2);width:-moz-fit-content;width:fit-content}.second-plan-badge[_ngcontent-%COMP%]{padding:2px 6px;color:#5469d4;font-size:12px;text-align:center;border-radius:3px;background:rgba(84,105,212,.2);width:-moz-fit-content;width:fit-content}.third-plan-badge[_ngcontent-%COMP%]{padding:2px 6px;color:#5469d4;font-size:12px;text-align:center;border-radius:3px;background:rgba(84,105,212,.2);width:-moz-fit-content;width:fit-content}.basic-badge[_ngcontent-%COMP%]{padding:2px 6px;color:#55647b;font-size:12px;text-align:center;border-radius:3px;background:rgba(0,0,0,.15);width:-moz-fit-content;width:fit-content}.video-vault-plan-badge[_ngcontent-%COMP%]{padding:2px 6px;color:#1e88e5;font-size:12px;text-align:center;border-radius:3px;background:rgba(30,136,229,.2);width:-moz-fit-content;width:fit-content}.video-vault-plus-plan-badge[_ngcontent-%COMP%]{padding:2px 6px;color:#5469d4;font-size:12px;text-align:center;border-radius:3px;background:rgba(84,105,212,.1);width:-moz-fit-content;width:fit-content}.video-vault-plus-ai-plan-badge[_ngcontent-%COMP%]{padding:2px 6px;color:#283593;font-size:12px;text-align:center;border-radius:3px;background:rgba(3,28,207,.2);width:-moz-fit-content;width:fit-content}.no-contents[_ngcontent-%COMP%]{color:#adb4bf!important}.Active[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#1ea675;background-color:#1ea6751a;padding:2px 8px;border-radius:20px;width:-moz-fit-content;width:fit-content}.Active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ea675;font-size:14px;margin-right:4px}.Requested[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#ffa000;background-color:#e17f161a;padding:2px 8px;border-radius:20px;width:-moz-fit-content;width:fit-content}.Requested[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffa000;font-size:14px;margin-right:4px}.Inactive[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#00000080;background-color:#0000001a;padding:2px 8px;border-radius:20px;width:-moz-fit-content;width:fit-content}.Inactive[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00000080;font-size:14px;margin-right:4px}.Unavailable[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#55647b;background-color:#e3e8ee;padding:2px 8px;border-radius:20px;width:-moz-fit-content;width:fit-content}.Unavailable[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#55647b;font-size:14px;margin-right:4px}.filter-input[_ngcontent-%COMP%]{display:flex;align-items:center;width:150px;height:25px;border-radius:5px;color:#37352f;border:1px solid rgba(0,0,0,.2);box-sizing:border-box;text-indent:10px}.filter-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;width:100%}.tooltip-background[_ngcontent-%COMP%]{position:fixed;padding:4px 8px;background:rgba(0,0,0,.7);color:#fff;font-size:12px;border-radius:5px}.pagination-area[_ngcontent-%COMP%]{position:absolute;background:white;bottom:20px;display:flex;padding:12px;width:calc(100% - 24px);align-items:center;height:24px}.pagination-area[_ngcontent-%COMP%]   .pagination-result[_ngcontent-%COMP%]{display:flex}.pagination-area[_ngcontent-%COMP%]   .pagination-result-value[_ngcontent-%COMP%]{margin-right:5px;font-size:14px;color:#000000de}.pagination-area[_ngcontent-%COMP%]   .pagination-result-label[_ngcontent-%COMP%]{font-size:14px;color:#0009}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:inline-block}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#0009}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover{color:#000000de}.pagination-area[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn.mover-disabled[_ngcontent-%COMP%]{cursor:initial;color:#0000004d}.table-area[_ngcontent-%COMP%]{height:calc(100% - 40px)}.table-container[_ngcontent-%COMP%]{position:relative}.table-container[_ngcontent-%COMP%]   .unknown[_ngcontent-%COMP%]{color:#00000061}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);height:100%;max-height:calc(100% - 122px)}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#F6F8FA}.chekt-select-option-wrapper[_ngcontent-%COMP%]{position:relative}.chekt-select-option[_ngcontent-%COMP%]{height:30px;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;z-index:1;background-color:#fff;border-radius:4px;box-shadow:#0000 0 0,#0000 0 0,#0000 0 0,#40445229 0 0 0 1px,#0000 0 0,#0000 0 0,#0000 0 0}.chekt-select-option.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.chekt-select-option[_ngcontent-%COMP%] > .chekt-select-option-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;position:relative;z-index:1;flex:0 1 auto;margin:0;text-decoration:none;vertical-align:middle;word-break:normal;background:transparent;border:0;outline:0;transition:color .24s;padding:4px 30px 4px 8px;-webkit-appearance:none;width:100%;appearance:none;-webkit-user-select:auto;user-select:auto;height:20px;cursor:pointer;font-family:Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:14px;color:#3c4257}.chekt-select-option-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:8px;z-index:2;margin-top:-9px;transition:color .24s;pointer-events:none;color:#3c4257}.chekt-select-dropdown[_ngcontent-%COMP%]{background-color:#fff;width:100%;position:absolute;box-shadow:0 0 0 1px #8898aa1a,0 15px 35px #31315d1a,0 5px 15px #00000014;border-radius:4px;margin-top:7px;z-index:100;-webkit-user-select:none;user-select:none;transition:transform .3s cubic-bezier(.075,.82,.165,1),opacity .3s cubic-bezier(.075,.82,.165,1)}.select-option-modal-list[_ngcontent-%COMP%]{cursor:pointer;max-height:200px;color:#55647b;font-size:14px;overflow-y:auto}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:8px 0 8px 8px}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#1e88e5;cursor:not-allowed}.select-option-modal-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.loader[_ngcontent-%COMP%]{width:30px}.loader[_ngcontent-%COMP%]   .circular[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke:#8792a2}.online[_ngcontent-%COMP%]{font-size:12px;padding:3px 10px;background:#E9F3FC;border-radius:20px;color:#1e88e5;text-align:center;width:-moz-fit-content;width:fit-content}.offline[_ngcontent-%COMP%]{padding:3px 10px;font-size:12px;background:#FAECF0;border-radius:20px;color:#cd3d64;text-align:center;width:-moz-fit-content;width:fit-content}.more-content[_ngcontent-%COMP%]{position:relative;justify-content:flex-end;cursor:pointer}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]{padding:0 7px;display:flex;align-items:center}.more-content[_ngcontent-%COMP%]   .more-selector[_ngcontent-%COMP%]:hover{outline:1px solid rgba(0,0,0,.1);border-radius:5px}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]{cursor:pointer;padding:0 4px;border-radius:4px;margin-right:10px;font-size:18px;color:#0009;-webkit-user-select:none;user-select:none}.more-content[_ngcontent-%COMP%]   .more-icon[_ngcontent-%COMP%]:hover, .more-content[_ngcontent-%COMP%]   .more-icon.show[_ngcontent-%COMP%]{box-shadow:0 0 4px gray}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{visibility:hidden;opacity:0;background-color:#fff;color:#000000de;box-sizing:border-box;border-radius:6px;font-size:14px;box-shadow:0 0 10px #0000001a;border:1px solid rgba(0,0,0,.1);position:fixed;z-index:100;top:25px;right:0px}.more-content[_ngcontent-%COMP%]   .more.show[_ngcontent-%COMP%]{visibility:visible;opacity:1}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-title[_ngcontent-%COMP%]{color:#000000de;margin-bottom:5px;font-weight:500}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]{color:#0009;margin-bottom:14px;line-height:20px}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-content[_ngcontent-%COMP%]:last-child{margin-bottom:0}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]{padding:7px 14px;box-sizing:border-box;font-size:14px;font-weight:400;cursor:pointer}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item[_ngcontent-%COMP%]:hover{background-color:#f7fafc}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .more-item.txt-primary[_ngcontent-%COMP%]{color:#2383e2}.more-content[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:#8792a2;margin-right:8px}.approve-selector[_ngcontent-%COMP%]{display:none;padding:2px 7px;outline:1px solid rgba(0,0,0,.1);border-radius:5px;cursor:pointer}.alternative-contents[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:100%;font-size:14px;color:#8792a2}.alternative-contents[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8792a2;font-size:24px;margin:8px}'],changeDetection:0}),i})();function $t(i,l){1&i&&t._UZ(0,"div",12)}function Wt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().moveToTab(s)}),t.TgZ(1,"div",10),t._uU(2),t.qZA(),t.YNc(3,$t,1,0,"div",11),t.qZA()}if(2&i){const e=l.$implicit,n=t.oxw();t.ekj("btn-selected",n.tab==e)("disabled",n.isLoading),t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",n.tab==e)}}function Kt(i,l){1&i&&(t.TgZ(0,"div",13),t.O4$(),t.TgZ(1,"svg",14),t._UZ(2,"circle",15),t.qZA(),t.qZA())}function Xt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"c_dtable_cloud_vms_manager_for_site",19),t.NdJ("refresh",function(){return t.CHM(e),t.oxw(2).refreshSiteList()}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("me",e.me)("siteList",e.siteList)("dealers",e.dealers)("isLoading",e.isLoading)("isHasViewPermission",e.isHasSitePlanViewPermission)("isHasEditPermission",e.isHasSitePlanEditPermission)}}function te(i,l){1&i&&(t.TgZ(0,"div",20),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t.TgZ(3,"i",23),t._uU(4,"cloud_sync"),t.qZA(),t.qZA(),t.TgZ(5,"div",24),t.TgZ(6,"div",4),t._uU(7,"Where are you storing your video footage?"),t.qZA(),t.TgZ(8,"div",25),t._uU(9,"Let CHeKT Cloud Stream handle continuous 24/7 cloud recording."),t._UZ(10,"br"),t._UZ(11,"br"),t._uU(12,"Cameras will stream to the CHeKT cloud 24/7 and store video recording. This service is a per camera cost and installers should understand upload bandwidth limitations of the location."),t._UZ(13,"br"),t._UZ(14,"br"),t.TgZ(15,"b"),t._uU(16,"\u{1f60e} Coming Soon!"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function ee(i,l){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,Xt,1,6,"c_dtable_cloud_vms_manager_for_site",17),t.YNc(2,te,17,0,"div",18),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","sites"==e.tab),t.xp6(1),t.Q6J("ngIf","devices"==e.tab)}}const ie=w.Bz.forChild([{path:"",component:(()=>{class i{constructor(e,n){this.helper=e,this.c_components=n,this.isLoading=!1,this.me=null,this.isHasSitePlanViewPermission=!1,this.isHasSitePlanEditPermission=!1,this.dealerId=null,this.amIMainDealer=!1,this.dealers=[],this.requestList=[],this.tab_list=["sites","devices"],this.tab=this.tab_list[0],this.siteList=[],this.sitePlans=[],this.deviceList=[],this.devicePlanList=[]}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.init()})}init(){return(0,r.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield Promise.all([this.getMe(),this.checkPermission()]),yield Promise.all([this.getSiteList(),this.getSitePlans(),this.getPartners(),this.getSitePlanUpdateRequestList()]),this.parseSiteList(),this.isLoading=!1})}getMe(){return(0,r.mG)(this,void 0,void 0,function*(){this.me=yield this.helper.me.get_me(),this.dealerId=this.me.dealer_id,this.amIMainDealer=2===this.me.type})}checkPermission(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.helper.permission.load_my_permissions_only_if_not_loaded(),this.isHasSitePlanViewPermission=this.helper.permission.has("site_plan_read"),this.isHasSitePlanEditPermission=this.helper.permission.has("site_plan_edit")})}getSiteList(){return(0,r.mG)(this,void 0,void 0,function*(){try{const e="site_id&fields=name&fields=dealer_id&fields=dealer_type";this.siteList=yield this.helper.sites.get_sites(null,e)}catch(e){console.debug("getSiteList:> ",e),this.isLoading=!1}})}getSitePlans(){return(0,r.mG)(this,void 0,void 0,function*(){try{if(!this.isHasSitePlanViewPermission)return;this.sitePlans=yield this.helper.dealer.get_dealer_site_plans()}catch(e){console.debug("getSitePlans :>",e),this.isLoading=!1}})}getDeviceList(){return(0,r.mG)(this,void 0,void 0,function*(){try{let e="sort=site.name&dir=asc&filter=device.type,12,eq";e+="&fields=device.device_id,device.zone_number,device.name,device.is_online,device.is_activated_device_plan,device.device_plan_id,site.site_id",this.deviceList=yield this.helper.devices.get_devices(e,!0)}catch(e){console.debug("getDeviceList :>",e),this.isLoading=!1}})}getDevicePlans(){return(0,r.mG)(this,void 0,void 0,function*(){try{let e="filter=device.type,12,eq";e+="&fields=device.device_id,device.is_activated_device_plan,device.device_plan_id",this.devicePlanList=yield this.helper.devices.get_devices(e,!0)}catch(e){console.debug("getDeviceList :>",e),this.isLoading=!1}})}getPartners(){var e,n;return(0,r.mG)(this,void 0,void 0,function*(){try{const o=null!==(e=yield this.helper.partner.get_partners())&&void 0!==e?e:[],s=null!==(n=yield this.helper.dealer.get_dealer_info())&&void 0!==n?n:[];this.dealers=null==o?void 0:o.concat(s)}catch(o){console.debug("getPartners :>",o),this.isLoading=!1}})}getSitePlanUpdateRequestList(){return(0,r.mG)(this,void 0,void 0,function*(){if(!(this.me.type<2))try{this.requestList=yield this.helper.dealer.get_dealer_site_plan_update_request()}catch(e){console.debug("getSitePlanUpdateRequestList :>",e),this.isLoading=!1}})}parseSiteList(){var e;try{const n=[],o=null===(e=this.siteList)||void 0===e?void 0:e.filter(s=>s.dealer_id===this.dealerId||3===s.dealer_type);null==o||o.forEach(s=>{var c,d,g,p,h,v,z,E,N;s.name||(s.name="No Name");let F="",J=1;const P=this.dealers.find(y=>y.dealer_id==s.dealer_id);s.dealer_id===this.dealerId?(F=null!==(c=null==P?void 0:P.company_name)&&void 0!==c?c:"No Name",J=null!==(d=null==P?void 0:P.curr_service_plan_type)&&void 0!==d?d:1):(F=null!==(g=null==P?void 0:P.internal_sub_dealer_id_with_company_name)&&void 0!==g?g:"No Name",J=null!==(p=null==P?void 0:P.current_month_service_plan_type)&&void 0!==p?p:1);const C=null!==(v=null===(h=this.sitePlans)||void 0===h?void 0:h.find(y=>y.site_id===s.site_id))&&void 0!==v?v:{},L=null!==(z=null==C?void 0:C.current_site_plan_id)&&void 0!==z?z:null,B=null!==(E=null==C?void 0:C.next_site_plan_id)&&void 0!==E?E:null,se=(null==C?void 0:C.is_trial_period)&&L>1,le=null===(N=null==C?void 0:C.trial_period)||void 0===N?void 0:N.end,V=this.requestList.find(y=>y.site_id===s.site_id),Q=null==V?void 0:V.requested_to_change_site_plan_id,H=this.computedStatusValue(L,Q);n.push({site_id:s.site_id,name:s.name,dealer_id:s.dealer_id,dealer_type:s.dealer_type,dealer_name:F||"No Name",dealer_plan:J,statusValue:H,status:this.parseStatus(H),site_plan_id:L,next_site_plan_id:B,requested_to_change_site_plan_id:Q,site_plan:this.parseSitePlan(L),next_site_plan:this.parseSitePlan(B),update_request_site_plan:this.parseSitePlan(Q),is_trial_period:se,trial_period_end_date:le,isSelected:!1,isShowMenu:!1})}),this.siteList=n}catch(n){this.isLoading=!1,this.siteList=[]}}computedStatusValue(e,n){return n?2:1===e?3:e>1&&!n?1:void 0}parseStatus(e){switch(e){case 1:return"Active";case 2:return"Requested";case 3:return"Inactive";default:return"UNKNOWN"}}parseSitePlan(e){switch(e){case 1:default:return"Basic";case 2:return"Video Vault";case 3:return"Video Vault Plus";case 4:return"Video Vault Plus AI"}}refreshSiteList(){return(0,r.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield this.getSitePlans(),yield this.getPartners(),yield this.getSitePlanUpdateRequestList(),this.parseSiteList(),this.isLoading=!1})}parseDeviceList(){return(0,r.mG)(this,void 0,void 0,function*(){const e=[];this.deviceList.forEach(n=>{var o;e.push({dealer_id:this.dealerId,site_id:n.site_id,device_id:n.device_id,name:n.name||"No Name",site_name:(null===(o=this.siteList.find(s=>s.site_id===n.site_id))||void 0===o?void 0:o.name)||"No Site Name",zone_number:n.zone_number,is_online:n.is_online,is_online_label:n.is_online?"Online":"Offline",is_activated_device_plan:n.is_activated_device_plan,device_plan_id:n.is_activated_device_plan?n.device_plan_id:null,device_plan:this.parseDevicePlan(n.is_activated_device_plan,n.device_plan_id),isSelected:!1,isShowMenu:!1})}),this.deviceList=e})}parseDeviceVideoEventsData(e){var n,o,s;if((null===(n=this.deviceList)||void 0===n?void 0:n.length)&&this.deviceList)for(let c=0;c<this.deviceList.length;c++){const d=this.deviceList[c],g=null!==(o=null==d?void 0:d.device_id)&&void 0!==o?o:"";if(!g)continue;const p=null===(s=e[g])||void 0===s?void 0:s.video_event_count;if(!p)continue;const h=parseInt(p);d.video_events=this.formatNumbersWithComma(h)}}parseDevicePlan(e,n){if(!e)return"Basic";switch(n){case 1:return"30 Day Storage Plan";case 2:return"90 Day Storage Plan";default:return"Basic"}}refreshDeviceList(){return(0,r.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield this.getDevicePlans(),this.deviceList.forEach(e=>{const n=this.devicePlanList.find(o=>o.device_id===e.device_id);e.is_activated_device_plan=n.is_activated_device_plan,e.device_plan_id=n.is_activated_device_plan?n.device_plan_id:null,e.device_plan=this.parseDevicePlan(n.is_activated_device_plan,n.device_plan_id)}),this.isLoading=!1})}moveToTab(e){this.tab=e}formatNumbersWithComma(e){return"string"==typeof e&&e.includes(",")?void 0:(null==e&&(e=0),parseFloat(e).toLocaleString("en-US"))}goToDealerPlanSettings(){return this.helper.router.navigate_to(2===this.me.type?"/settings/reseller-plan":"/settings/dealer-plan")}getCurrentYearMonth(){return m.Z.moment().format("YYYY-MM")}utcDate(e){const n=e?new Date(e):new Date;return m.Z.moment(n).utc()}calcCurrentMonth(e){return this.utcDate(e).startOf("month").format()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.W),t.Y36(k.I))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cloud-vms-manager"]],decls:10,vars:4,consts:[[1,"sub-component"],[1,"widget-area",2,"overflow-y","hidden"],[1,"widget"],[1,"header"],[1,"title"],[1,"report-tab"],["class","btn",3,"btn-selected","disabled","click",4,"ngFor","ngForOf"],["class","loader absolute",4,"ngIf"],["class","tab-table",4,"ngIf"],[1,"btn",3,"click"],[1,"tab-title"],["class","tab-selected-bar",4,"ngIf"],[1,"tab-selected-bar"],[1,"loader","absolute"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","4","stroke-miterlimit","10",1,"path"],[1,"tab-table"],[3,"me","siteList","dealers","isLoading","isHasViewPermission","isHasEditPermission","refresh",4,"ngIf"],["class","pre-caution",4,"ngIf"],[3,"me","siteList","dealers","isLoading","isHasViewPermission","isHasEditPermission","refresh"],[1,"pre-caution"],[1,"pre-caution-container"],[1,"pre-caution-icon"],[1,"material-icons",2,"font-size","40px","color","#fff"],[1,"pre-caution-item"],[1,"description"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._uU(5,"Video Vault Management"),t.qZA(),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,Wt,4,6,"div",6),t.qZA(),t.YNc(8,Kt,3,0,"div",7),t.YNc(9,ee,3,2,"div",8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("@page",void 0),t.xp6(6),t.Q6J("ngForOf",n.tab_list),t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",!n.isLoading))},directives:[a.sg,a.O5,Gt],styles:['.scroll-screen[_ngcontent-%COMP%]{flex:1;flex-direction:column;overflow-y:overlay;height:100%;position:relative;padding:7px;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.row[_ngcontent-%COMP%]{flex-direction:row;display:flex;height:100%;overflow-y:overlay;transition:.5s}.col[_ngcontent-%COMP%]{flex-direction:column;display:flex;flex:1;height:100%}.customer-widget-area[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{min-width:300px}.customer-widget-area[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:only-child{min-width:600px}.customer-widget-area.deactivated[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{height:calc(100% - 43px)}.col[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]{min-width:300px}.sub-nav[_ngcontent-%COMP%]{position:relative;left:0px;transition:all ease-in-out .3s;min-width:250px;max-width:250px;flex:1;background:#fff;border-right:.5px solid #d7d7d7;display:flex;flex-direction:column;overflow-y:overlay;z-index:3}.sub-nav[_ngcontent-%COMP%]:focus{outline:none}.sub-nav[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;flex:initial;align-items:center}.sub-nav[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{overflow-y:overlay}.sub-nav[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:6px 12px 6px 0;box-sizing:border-box;border:0;background-color:transparent;background-size:24px;background-position:4px 8px;background-repeat:no-repeat;flex:1}.sub-nav[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-right:8px;color:#777;transition:.2s}.sub-nav[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#000}.sub-nav[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:red;color:#fff;width:8px;height:14px;margin-left:8px;padding:2px 4px 2px 5px;border-radius:4px;font-size:12px}.sub-nav[_ngcontent-%COMP%]   .plan-badge[_ngcontent-%COMP%]{background-color:red;width:6px;height:6px;margin-left:4px;border-radius:10px}.sub-nav[_ngcontent-%COMP%]   .list-category[_ngcontent-%COMP%]{padding:24px 0 7px 20px;color:#2f96fb;font-size:14px;text-transform:uppercase}.sub-nav[_ngcontent-%COMP%]   .list-category[_ngcontent-%COMP%]:first-child{padding:30px 0 7px 20px;color:#2f96fb;font-size:14px}.sub-nav[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0009;cursor:pointer}.sub-nav[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}.sub-nav[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover.settings{background:transparent}.sub-nav[_ngcontent-%COMP%]   .list-item-selected[_ngcontent-%COMP%]{background:#dcf0fd!important;color:#000000de}.sub-nav[_ngcontent-%COMP%]   .list-item-selected[_ngcontent-%COMP%]:after{background-color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .list-item-selected.settings[_ngcontent-%COMP%]{background:transparent!important;color:#000000de;font-weight:500;color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{display:flex;font-size:14px;padding:7px 0 7px 15px}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings[_ngcontent-%COMP%]{padding-left:16px;width:100%;margin:0 4px;border-radius:4px}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings[_ngcontent-%COMP%]:hover{padding:8px 16px;background:#e8eaed}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings.selected-label[_ngcontent-%COMP%]{width:100%;margin:0 4px;padding:8px 12px;border-radius:4px;font-weight:500;color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .menu-label.settings.selected-label[_ngcontent-%COMP%]:hover{padding:8px 12px;background:#dcf0fd}.sub-nav[_ngcontent-%COMP%]   .select-mark[_ngcontent-%COMP%]{background-color:#2f96fb}.sub-nav[_ngcontent-%COMP%]   .select-mark.settings[_ngcontent-%COMP%]{background-color:#2383e2;width:4px;min-height:30px;height:30px;border-radius:4px}.component-body[_ngcontent-%COMP%]{position:relative;flex:5;height:100%;flex-direction:column;display:flex;transition:all ease-in-out .3s}.component-body-no-data[_ngcontent-%COMP%]{flex:5;height:100%;flex-direction:column;align-items:center;justify-content:center;display:flex}.tab[_ngcontent-%COMP%]{height:60px;color:#888;background:#f7f7fc;box-shadow:0 4px 2px -2px #888;display:flex;align-items:center;z-index:1}.tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative}.tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.tab[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#2383e2}.tab[_ngcontent-%COMP%]   .icn-button[_ngcontent-%COMP%]{padding:0 16px}.tab[_ngcontent-%COMP%]   .icn-button-active[_ngcontent-%COMP%]{color:#000}.tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:0 32px;text-transform:capitalize;font-size:14px}.tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:-2px;width:100%;height:4px;background:#2383e2}.plan-upgrade-badge[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2A517E 17.88%,#1E88E5 69.03%);border-radius:10px;padding:2px 6px;margin-left:-8px;color:#fff;font-size:12px;font-weight:400;cursor:pointer}.customer-tab[_ngcontent-%COMP%]{color:#7a7a7a;background:#fff;border-bottom:1px solid rgba(0,0,0,.1);display:flex;align-items:center;z-index:1;font-weight:500;font-size:14px;flex-flow:wrap}.customer-tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;position:relative;cursor:pointer}.customer-tab[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#1e88e5;font-weight:500}.customer-tab[_ngcontent-%COMP%]   .icn-button[_ngcontent-%COMP%]{padding:0 16px}.customer-tab[_ngcontent-%COMP%]   .icn-button-active[_ngcontent-%COMP%]{color:#000}.customer-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:8px 20px;text-transform:capitalize;font-size:14px;font-weight:400}.customer-tab[_ngcontent-%COMP%]   .tab-title.selected[_ngcontent-%COMP%]{font-weight:500}.customer-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]:hover{background:#e8eaed;border-radius:7px}.customer-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:-2px;width:100%;height:3px;background:#2383e2}.setting-tab[_ngcontent-%COMP%]{height:41px;box-sizing:border-box;color:#7a7a7a;background:#fff;display:flex;flex-direction:row;align-items:center;z-index:1;font-size:14px;font-weight:500;justify-content:space-between;border-bottom:1px solid rgba(0,0,0,.1);background-color:#fbfbfa}.setting-tab[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative;cursor:pointer}.setting-tab[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.setting-tab[_ngcontent-%COMP%]   .button-selected-red[_ngcontent-%COMP%]{color:#f67474}.setting-tab[_ngcontent-%COMP%]   .icn-button[_ngcontent-%COMP%]{padding:0 16px}.setting-tab[_ngcontent-%COMP%]   .icn-button-active[_ngcontent-%COMP%]{color:#000}.setting-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:5px 20px;text-transform:capitalize;font-size:13px;font-weight:400;margin:0 1px}.setting-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]:hover{background:#e8eaed;border-radius:5px}.setting-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;height:4px;background:#2383e2;border-radius:4px}.setting-tab[_ngcontent-%COMP%]   .tab-selected-bar-red[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;height:5px;background:#f67474}.btn-icon[_ngcontent-%COMP%]{color:#7c7c7c;background-color:#f1f1f1;cursor:pointer}.btn-icon[_ngcontent-%COMP%]:hover{color:#7c7c7c;background-color:#efeff6}.space[_ngcontent-%COMP%]{flex:1}.sub-component[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:100%;height:100%}.widget-area[_ngcontent-%COMP%]{flex-direction:row;display:flex;height:100%;flex:1;overflow-y:overlay;padding:20px 30px;flex-wrap:wrap;justify-content:center;box-sizing:border-box}.customer-widget-area[_ngcontent-%COMP%]{position:absolute;height:auto;bottom:0;top:0;left:0;right:0;flex-direction:row;display:flex;flex:1;overflow:initial;padding:14px;box-sizing:border-box;flex-wrap:wrap;justify-content:center}.customer-widget-area.deactivated[_ngcontent-%COMP%]{padding:0 7px 7px}.wcs-widget-area[_ngcontent-%COMP%]{position:absolute;height:auto;bottom:0;top:0;left:0;right:0;flex-direction:row;display:flex;flex:1;overflow-y:overlay;padding:12px;flex-wrap:wrap;align-items:center;grid-gap:12px;gap:12px}.wcs-widget-area[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{align-items:center}.setting-widget[_ngcontent-%COMP%]{height:calc(100% - 44px)}.setting-router[_ngcontent-%COMP%]{width:100%;flex:1;position:relative;overflow:auto;overflow-y:overlay}.container[_ngcontent-%COMP%]{width:calc(100% - 14px);height:100%;display:flex;flex-direction:column;align-items:center;padding:7px}.widget[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;max-width:1400px;min-width:300px;max-height:calc(100% - 15px);background:white;transition:.5s;border-radius:3px;border:1px solid rgba(0,0,0,.1);margin:0 5px 10px}.widget[_ngcontent-%COMP%]:last-child{margin:0 5px}.widget[_ngcontent-%COMP%]:only-child{min-width:600px}.widget[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:solid 1px rgba(0,0,0,.1)}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 108px);padding:20px}.widget[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-bottom:14px}.widget-item[_ngcontent-%COMP%]{flex:none;font-size:14px;color:#000000de}.widget-item[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{padding:14px 30px}.widget[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:7px}.widget[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:200px;font-size:14px;color:#0009}.widget[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{display:flex;padding:7px 0}.widget[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(0,0,0,.1)}.scroll-widget[_ngcontent-%COMP%]{max-height:initial}.item[_ngcontent-%COMP%]   .w-1[_ngcontent-%COMP%]{width:10%}.item[_ngcontent-%COMP%]   .w-2[_ngcontent-%COMP%]{width:20%}.item[_ngcontent-%COMP%]   .w-3[_ngcontent-%COMP%]{width:30%}.item[_ngcontent-%COMP%]   .w-4[_ngcontent-%COMP%]{width:40%}.item[_ngcontent-%COMP%]   .w-5[_ngcontent-%COMP%]{width:50%}.item[_ngcontent-%COMP%]   .fs-12[_ngcontent-%COMP%]{font-size:12px}.item[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:flex;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;font-size:14px}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:80%;box-sizing:border-box;padding:8px;font-size:14px;background-color:#f0f0f0;border:none;border-bottom:2px solid #f0f0f0;-webkit-appearance:none;-moz-appearance:none;transition:.2s}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #2383e2}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:12px;color:#00000080}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%;padding-left:32px}.item[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{cursor:pointer}.cell[_ngcontent-%COMP%]{padding-bottom:14px}.widget[_ngcontent-%COMP%]   .widget-bottom[_ngcontent-%COMP%]{display:flex;padding-top:6px}.table-area[_ngcontent-%COMP%]{height:100%;overflow:overlay}.table-container[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;overflow-y:hidden}table.table-header[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{min-height:31px;background-color:#f7fafc;border-bottom:solid 1px rgba(0,0,0,.1);border-top:solid 1px rgba(0,0,0,.1);box-sizing:border-box}.table-container[_ngcontent-%COMP%]   .table-header.no-top-border[_ngcontent-%COMP%]{border-top:0}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding:10px 7px 10px 20px}.table-container[_ngcontent-%COMP%]   .table-header-v2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding:10px 20px 10px 7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 7px 7px 20px}.table-container[_ngcontent-%COMP%]   .table-body-v2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding:7px 20px 7px 7px}table.table-header-v2[_ngcontent-%COMP%]:after{border-collapse:separate}.table-container[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]{width:100%;max-height:calc(100% - 30px);flex:1;overflow-y:overlay}.table-container[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:7px 0}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;font-size:16px;padding:12px 20px;color:#000000de}.header[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{padding:7px 16px}.header[_ngcontent-%COMP%]   .button-selected[_ngcontent-%COMP%]{color:#000}.header[_ngcontent-%COMP%]   .button-disable[_ngcontent-%COMP%]:hover{color:#aaa;cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]{color:#1e90ff}.header[_ngcontent-%COMP%]   .button-primary[_ngcontent-%COMP%]:hover{color:#30b0ff}.widget[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{flex:1;padding:14px 16px;overflow-y:overlay}.body-center[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.body-center[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{text-align:center}.body-center[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#2383e2}.body-center[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:14px;font-size:14px;color:#0009;text-align:center;line-height:1.5}.body-center[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:8px;font-size:18px;color:#000000de}.body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;color:#777}.body[_ngcontent-%COMP%] > .contents[_ngcontent-%COMP%]{font-size:15px;color:#333;margin-top:4px;padding:4px 0;display:flex;min-height:24px;align-items:center}.body[_ngcontent-%COMP%]   .editable[_ngcontent-%COMP%]{border-bottom:1px solid #fff;transition:.5s}.body[_ngcontent-%COMP%]   .editable[_ngcontent-%COMP%]:hover{cursor:text;border-bottom:1px solid #ccc}.body[_ngcontent-%COMP%]   .selectbox[_ngcontent-%COMP%]{color:#777;padding:16px;box-shadow:0 0 2px #888;transition:.2s;cursor:pointer;display:flex;flex-direction:row}.body[_ngcontent-%COMP%]   .selectbox[_ngcontent-%COMP%]:hover{color:#333;box-shadow:0 0 6px #888}.widget[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin:12px;padding:12px 12px 12px 36px;box-sizing:border-box;border:0;border-bottom:2px solid #ddd;background-color:transparent;background-image:url(/assets/icons/ic_search_72pt.png);background-size:24px;background-position:4px 8px;background-repeat:no-repeat;flex:1;transition:.3s}.widget[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:focus{outline:none;border-bottom:2px solid #777}.widget[_ngcontent-%COMP%]   .filter-area[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;flex-direction:row-reverse}.tab[_ngcontent-%COMP%]   .combo-box[_ngcontent-%COMP%]{display:flex}.filter-area[_ngcontent-%COMP%]   .combo-box[_ngcontent-%COMP%]{color:#777;font-size:14px;padding:0 8px 0 0;text-align:right;position:relative;cursor:pointer}.header[_ngcontent-%COMP%]   .combo-box[_ngcontent-%COMP%]{color:#777;font-size:14px;text-align:right;position:relative;cursor:pointer}.combo-box[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{transition:.2s}.combo-box[_ngcontent-%COMP%] > .button-active[_ngcontent-%COMP%]{color:#000}.combo-box[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{vertical-align:middle}.combo-box-contents[_ngcontent-%COMP%]{position:absolute;right:16px;z-index:101;text-align:left;box-sizing:border-box;background-color:#fff;transition:.2s;box-shadow:0 2px 4px #00000080;border:solid 1px #d9d9d9;border-radius:5px}.combo-box-contents[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:12px}.combo-box-contents[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:hover{background:#eee}.list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid rgba(0,0,0,.1);min-height:28px;transition:.1s;padding:10px 20px}.list.locked-list[_ngcontent-%COMP%]{background-color:#f7fafc}.list-group[_ngcontent-%COMP%]:hover{background-color:#fafcff}.list-bottom-clear[_ngcontent-%COMP%]{border-bottom:none}.list-bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.widget[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]:hover{background:#f5f5f5;cursor:pointer}.widget[_ngcontent-%COMP%]   .list.locked-list[_ngcontent-%COMP%]:hover{background:#F7FAFC;cursor:initial}.list[_ngcontent-%COMP%] > .contents[_ngcontent-%COMP%]{padding:12px 0;font-size:14px;color:#333;flex:1}.list[_ngcontent-%COMP%] > .stat-contents[_ngcontent-%COMP%]{padding:12px 0;float:right;font-size:13px;color:#aaa}.list[_ngcontent-%COMP%] > .button-contents[_ngcontent-%COMP%]{padding:12px 0;float:right;font-size:13px}.list[_ngcontent-%COMP%] > .button-contents[_ngcontent-%COMP%]:hover{opacity:.8}.list[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 10px 0 6px;height:40px}.list[_ngcontent-%COMP%]   .status-bar[_ngcontent-%COMP%]{width:8px;background:#aaa}.contents[_ngcontent-%COMP%] > .contents-small[_ngcontent-%COMP%]{margin-left:4px;font-size:11px;color:#555}.contents[_ngcontent-%COMP%]   .sub-contents[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-top:6px}.widget[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:initial;align-items:center}.widget[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.widget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 7px;color:#56657bde;text-transform:uppercase;text-align:left;font-size:13px;font-weight:normal}.widget[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px rgba(0,0,0,.1) solid}.widget[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.widget[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#000000de;padding:7px}td[_ngcontent-%COMP%]   .sub-contents[_ngcontent-%COMP%]{font-size:11px;color:#888;margin-top:4px}td[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{cursor:pointer;color:#1e90ff}td[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{cursor:pointer;color:#f1556c}table[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{float:right;color:#bbb;transition:.2s;cursor:pointer}table[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#333}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}.div-table-header[_ngcontent-%COMP%]{display:flex;height:30px;border-style:solid;border-width:1px;border-image-source:linear-gradient(to bottom,#dfdfdf,#bcbcbc);border-image-slice:1;border-collapse:separate;background-image:linear-gradient(to bottom,#f7f7f7,#ececed);font-size:14px;align-items:center}.div-table-header[_ngcontent-%COMP%]   .div-table-head[_ngcontent-%COMP%]{padding:7px 16px}.face[_ngcontent-%COMP%]{border-radius:50%;width:28px;height:28px;display:inline-block;margin-right:8px;vertical-align:middle}.folding-list[_ngcontent-%COMP%]{cursor:pointer}.folding-list[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}.folding-list[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{color:#555;font-size:16px;padding:12px 0;border-bottom:1px solid #aaa;transition:.1s;height:54px}.folding-list[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]:hover{background:#f5f5f5}.folding-list[_ngcontent-%COMP%]   .sub-list-title[_ngcontent-%COMP%]{margin-left:16px;padding:12px 0 4px;color:#777;font-size:12px;font-weight:bold;border-bottom:1px solid #ccc;display:flex}.folding-list[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]{margin-left:16px;padding:8px 0;color:#333;font-size:14px;border-bottom:1px solid #ccc;transition:.1s;display:flex}.folding-list[_ngcontent-%COMP%]   .sub-list[_ngcontent-%COMP%]:hover{background:#f5f5f5}.folding-list[_ngcontent-%COMP%]   .sub-list-selected[_ngcontent-%COMP%]{background:#f5f5f5}.empty-contents[_ngcontent-%COMP%]{font-size:16px;color:#bbb;font-weight:bold;text-transform:uppercase}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;box-sizing:border-box;padding:4px;border:0;border-bottom:1px solid #ccc;background:rgba(0,0,0,0);transition:.2s}.body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{padding:4px 0;border-bottom:1px solid #fff;background:rgba(0,0,0,0)}.body[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]:hover{border-bottom:1px solid #777}.dropdown[_ngcontent-%COMP%]{font-size:14px;position:relative;flex:1}.dropdown-contents[_ngcontent-%COMP%]{position:absolute;width:100%;margin-top:8px;left:0px;z-index:100;text-align:left;box-sizing:border-box;background-color:#fff;box-shadow:0 1px 13px 1px #0003;transition:.2s}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#333;font-size:14px;display:flex;align-items:center}.dropdown-contents[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]:hover{background:#eee}.dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,0)}.face[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;margin-right:8px}.no-face[_ngcontent-%COMP%]{border-radius:50%;width:38x;height:38px;min-width:38px;min-height:38px;background-color:#ccc;display:inline-block;margin-right:8px;vertical-align:middle;color:#fff;text-align:center;text-transform:uppercase}.calendar[_ngcontent-%COMP%]{width:100%}.contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{color:#777;transition:.2s;cursor:pointer}.contents[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333}.list[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{display:flex;width:32px;height:32px;justify-content:center;align-items:center;padding:5px;color:#777;transition:.2s;cursor:pointer;border-radius:21px}.list[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:hover{color:#333;background:rgba(0,0,0,.05)}.btn-danger[_ngcontent-%COMP%]{color:#f1556d}.btn-danger[_ngcontent-%COMP%]:hover{color:#f47185}.svg-icon[_ngcontent-%COMP%]{font-size:24px;color:#000;width:1em;height:1em;position:relative}.svg-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentColor;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.png-icon[_ngcontent-%COMP%]{width:36px;height:36px;position:relative}.png-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.child-item[_ngcontent-%COMP%]{padding-left:24px}.title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:4px}.widget[_ngcontent-%COMP%]   .has-child[_ngcontent-%COMP%]:hover{background:#f5f5f5;cursor:pointer}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;background:white;box-sizing:border-box;margin-top:8px;padding:4px 0;border:0;border-bottom:1px solid #ccc;transition:.2s}.body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid #777}.loader[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:50px}.loader[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.absolute[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 25px);left:calc(50% - 25px);z-index:10}.circular[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke:#0057e7;stroke-linecap:round}.path.white[_ngcontent-%COMP%]{stroke:#fff}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}.list-item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.list-item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{color:#fff}.content-list[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;background-color:#2383e2;border:none;font-size:14px;color:#fff;padding:8px 16px;margin-left:8px;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;outline:none}.title-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:28px}.title-row[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{flex:1;color:#777;padding-top:12px;justify-content:center}.title-row[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{flex:1;text-align:right}.disabled[_ngcontent-%COMP%]{cursor:default;filter:contrast(60%) brightness(1.2);opacity:1;pointer-events:none;-webkit-user-select:none;user-select:none}.input-err[_ngcontent-%COMP%]{outline:none;background-color:#fbd0d6;box-shadow:0 0 0 2px #f1556c}.page-item[_ngcontent-%COMP%]{padding-bottom:14px!important}.unselectable[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.pager[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#0009}.pager[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:80px;padding-left:16px}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 0 0 28px}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;color:#0009}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover{color:#000000de}.pager[_ngcontent-%COMP%]   .page-mover[_ngcontent-%COMP%]   .page-btn.mover-disabled[_ngcontent-%COMP%]{cursor:initial;color:#0000004d}.pager[_ngcontent-%COMP%]   .page-all[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:15px}.inner-input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:6px 8px;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:5px;font-size:14px;transition:.2s;text-indent:0px;font-weight:400}.top-noti[_ngcontent-%COMP%]{width:100%;min-height:36px;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:7px;background-color:#fcf9e9;font-size:14px;color:#000000de;border-bottom:rgba(0,0,0,.1)}',".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.tab-table[_ngcontent-%COMP%]{height:calc(100% - 92px)}.report-tab[_ngcontent-%COMP%]{height:48px;min-height:45px;color:#888;display:flex;align-items:center}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;position:relative}.report-tab[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#2383e2;cursor:pointer}.report-tab[_ngcontent-%COMP%]   .btn-selected[_ngcontent-%COMP%]{color:#2383e2;background:transparent}.report-tab[_ngcontent-%COMP%]   .icn-btn[_ngcontent-%COMP%]{padding:0 16px}.report-tab[_ngcontent-%COMP%]   .icn-btn-active[_ngcontent-%COMP%]{color:#000}.report-tab[_ngcontent-%COMP%]   .tab-title[_ngcontent-%COMP%]{padding:0 20px;text-transform:uppercase;font-size:14px}.report-tab[_ngcontent-%COMP%]   .tab-selected-bar[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:4px;background:#2383e2}.pre-caution[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.pre-caution[_ngcontent-%COMP%]   .pre-caution-container[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;width:100%;justify-content:center}.pre-caution[_ngcontent-%COMP%]   .pre-caution-container[_ngcontent-%COMP%]   .pre-caution-icon[_ngcontent-%COMP%]{border-radius:10px;background:#1E88E5;width:50px;height:50px;display:flex;justify-content:center;align-items:center}.pre-caution[_ngcontent-%COMP%]   .pre-caution-container[_ngcontent-%COMP%]   .pre-caution-item[_ngcontent-%COMP%]{width:480px}.pre-caution[_ngcontent-%COMP%]   .pre-caution-container[_ngcontent-%COMP%]   .pre-caution-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;letter-spacing:.4px}.pre-caution[_ngcontent-%COMP%]   .pre-caution-container[_ngcontent-%COMP%]   .pre-caution-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#55647b;font-size:14px;letter-spacing:.4px;margin-top:4px}.alternative-contents[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:100%;font-size:14px;color:#8792a2}.alternative-contents[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8792a2;font-size:24px;margin:8px}"],data:{animation:[Z.cN]}}),i})()}]);var oe=_(25642);let ae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.ez,M.u5,ie,oe.U]]}),i})()},11822:(T,O,_)=>{_.d(O,{cN:()=>M,ku:()=>r,OP:()=>m});var a=_(88638);const M=(0,a.X$)("page",[(0,a.SB)("*",(0,a.oB)({opacity:1,transform:"translateX(0)"})),(0,a.eR)(":leave",[(0,a.jt)("0.1s 0.1s",(0,a.oB)({opacity:0}))]),(0,a.eR)(":enter",[(0,a.oB)({opacity:0,display:"none",position:"absolute",top:0,left:0,width:"100%"}),(0,a.jt)("0.1s 100ms",(0,a.oB)({position:"absolute",opacity:1,transform:"translateX(0)"}))])]),r=((0,a.X$)("dialog",[(0,a.SB)("*",(0,a.oB)({transform:"translateX(0)"})),(0,a.eR)(":enter",[(0,a.oB)({transform:"translateY(+50%)",opacity:.5}),(0,a.jt)("0.2s ease-in")]),(0,a.eR)(":leave",[(0,a.jt)("0.2s ease-out",(0,a.oB)({transform:"translateY(+50%)",opacity:.5}))])]),(0,a.X$)("background",[(0,a.SB)("*",(0,a.oB)({opacity:1})),(0,a.eR)(":enter",[(0,a.oB)({opacity:0}),(0,a.jt)("0.1s ease-in")]),(0,a.eR)(":leave",[(0,a.jt)("0.1s ease-out",(0,a.oB)({opacity:0}))])])),m=((0,a.X$)("subModal",[(0,a.eR)(":enter",[(0,a.oB)({transform:"translateX(+100%)"}),(0,a.jt)("0.2s ease-in")]),(0,a.eR)(":leave",[(0,a.jt)("0.2s ease-in",(0,a.oB)({transform:"translateX(-100%)"}))])]),(0,a.X$)("imgShow",[(0,a.SB)("*",(0,a.oB)({opacity:1})),(0,a.eR)(":enter",[(0,a.oB)({opacity:0}),(0,a.jt)("0.2s ease-in")]),(0,a.eR)(":leave",[(0,a.jt)("0.2s ease-out",(0,a.oB)({opacity:0}))])]))},25229:(T,O,_)=>{_.d(O,{Z:()=>m});var a=_(46243),w=_(76052),r=_.n(w),Z=_(49951);const m={_:a,moment:r(),tool:Z.Z}}}]);